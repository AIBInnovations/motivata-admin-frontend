function r_(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const l in n)if(l!=="default"&&!(l in e)){const o=Object.getOwnPropertyDescriptor(n,l);o&&Object.defineProperty(e,l,o.get?o:{enumerable:!0,get:()=>n[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ml(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ix={exports:{}},kt={};var $3;function j9(){if($3)return kt;$3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),C=Symbol.iterator;function _(W){return W===null||typeof W!="object"?null:(W=C&&W[C]||W["@@iterator"],typeof W=="function"?W:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,M={};function I(W,te,me){this.props=W,this.context=te,this.refs=M,this.updater=me||D}I.prototype.isReactComponent={},I.prototype.setState=function(W,te){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,te,"setState")},I.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function U(){}U.prototype=I.prototype;function R(W,te,me){this.props=W,this.context=te,this.refs=M,this.updater=me||D}var G=R.prototype=new U;G.constructor=R,k(G,I.prototype),G.isPureReactComponent=!0;var F=Array.isArray;function j(){}var L={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function V(W,te,me){var ue=me.ref;return{$$typeof:e,type:W,key:te,ref:ue!==void 0?ue:null,props:me}}function Q(W,te){return V(W.type,te,W.props)}function Y(W){return typeof W=="object"&&W!==null&&W.$$typeof===e}function X(W){var te={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(me){return te[me]})}var he=/\/+/g;function pe(W,te){return typeof W=="object"&&W!==null&&W.key!=null?X(""+W.key):te.toString(36)}function se(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(j,j):(W.status="pending",W.then(function(te){W.status==="pending"&&(W.status="fulfilled",W.value=te)},function(te){W.status==="pending"&&(W.status="rejected",W.reason=te)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function J(W,te,me,ue,Ne){var le=typeof W;(le==="undefined"||le==="boolean")&&(W=null);var oe=!1;if(W===null)oe=!0;else switch(le){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(W.$$typeof){case e:case t:oe=!0;break;case y:return oe=W._init,J(oe(W._payload),te,me,ue,Ne)}}if(oe)return Ne=Ne(W),oe=ue===""?"."+pe(W,0):ue,F(Ne)?(me="",oe!=null&&(me=oe.replace(he,"$&/")+"/"),J(Ne,te,me,"",function(Ye){return Ye})):Ne!=null&&(Y(Ne)&&(Ne=Q(Ne,me+(Ne.key==null||W&&W.key===Ne.key?"":(""+Ne.key).replace(he,"$&/")+"/")+oe)),te.push(Ne)),1;oe=0;var ze=ue===""?".":ue+":";if(F(W))for(var ve=0;ve<W.length;ve++)ue=W[ve],le=ze+pe(ue,ve),oe+=J(ue,te,me,le,Ne);else if(ve=_(W),typeof ve=="function")for(W=ve.call(W),ve=0;!(ue=W.next()).done;)ue=ue.value,le=ze+pe(ue,ve++),oe+=J(ue,te,me,le,Ne);else if(le==="object"){if(typeof W.then=="function")return J(se(W),te,me,ue,Ne);throw te=String(W),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return oe}function ae(W,te,me){if(W==null)return W;var ue=[],Ne=0;return J(W,ue,"","",function(le){return te.call(me,le,Ne++)}),ue}function Ee(W){if(W._status===-1){var te=W._result;te=te(),te.then(function(me){(W._status===0||W._status===-1)&&(W._status=1,W._result=me)},function(me){(W._status===0||W._status===-1)&&(W._status=2,W._result=me)}),W._status===-1&&(W._status=0,W._result=te)}if(W._status===1)return W._result.default;throw W._result}var be=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},re={map:ae,forEach:function(W,te,me){ae(W,function(){te.apply(this,arguments)},me)},count:function(W){var te=0;return ae(W,function(){te++}),te},toArray:function(W){return ae(W,function(te){return te})||[]},only:function(W){if(!Y(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return kt.Activity=w,kt.Children=re,kt.Component=I,kt.Fragment=r,kt.Profiler=l,kt.PureComponent=R,kt.StrictMode=n,kt.Suspense=h,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,kt.__COMPILER_RUNTIME={__proto__:null,c:function(W){return L.H.useMemoCache(W)}},kt.cache=function(W){return function(){return W.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(W,te,me){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var ue=k({},W.props),Ne=W.key;if(te!=null)for(le in te.key!==void 0&&(Ne=""+te.key),te)!H.call(te,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&te.ref===void 0||(ue[le]=te[le]);var le=arguments.length-2;if(le===1)ue.children=me;else if(1<le){for(var oe=Array(le),ze=0;ze<le;ze++)oe[ze]=arguments[ze+2];ue.children=oe}return V(W.type,Ne,ue)},kt.createContext=function(W){return W={$$typeof:d,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},kt.createElement=function(W,te,me){var ue,Ne={},le=null;if(te!=null)for(ue in te.key!==void 0&&(le=""+te.key),te)H.call(te,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Ne[ue]=te[ue]);var oe=arguments.length-2;if(oe===1)Ne.children=me;else if(1<oe){for(var ze=Array(oe),ve=0;ve<oe;ve++)ze[ve]=arguments[ve+2];Ne.children=ze}if(W&&W.defaultProps)for(ue in oe=W.defaultProps,oe)Ne[ue]===void 0&&(Ne[ue]=oe[ue]);return V(W,le,Ne)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(W){return{$$typeof:g,render:W}},kt.isValidElement=Y,kt.lazy=function(W){return{$$typeof:y,_payload:{_status:-1,_result:W},_init:Ee}},kt.memo=function(W,te){return{$$typeof:x,type:W,compare:te===void 0?null:te}},kt.startTransition=function(W){var te=L.T,me={};L.T=me;try{var ue=W(),Ne=L.S;Ne!==null&&Ne(me,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(j,be)}catch(le){be(le)}finally{te!==null&&me.types!==null&&(te.types=me.types),L.T=te}},kt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},kt.use=function(W){return L.H.use(W)},kt.useActionState=function(W,te,me){return L.H.useActionState(W,te,me)},kt.useCallback=function(W,te){return L.H.useCallback(W,te)},kt.useContext=function(W){return L.H.useContext(W)},kt.useDebugValue=function(){},kt.useDeferredValue=function(W,te){return L.H.useDeferredValue(W,te)},kt.useEffect=function(W,te){return L.H.useEffect(W,te)},kt.useEffectEvent=function(W){return L.H.useEffectEvent(W)},kt.useId=function(){return L.H.useId()},kt.useImperativeHandle=function(W,te,me){return L.H.useImperativeHandle(W,te,me)},kt.useInsertionEffect=function(W,te){return L.H.useInsertionEffect(W,te)},kt.useLayoutEffect=function(W,te){return L.H.useLayoutEffect(W,te)},kt.useMemo=function(W,te){return L.H.useMemo(W,te)},kt.useOptimistic=function(W,te){return L.H.useOptimistic(W,te)},kt.useReducer=function(W,te,me){return L.H.useReducer(W,te,me)},kt.useRef=function(W){return L.H.useRef(W)},kt.useState=function(W){return L.H.useState(W)},kt.useSyncExternalStore=function(W,te,me){return L.H.useSyncExternalStore(W,te,me)},kt.useTransition=function(){return L.H.useTransition()},kt.version="19.2.0",kt}var G3;function td(){return G3||(G3=1,ix.exports=j9()),ix.exports}var N=td();const a=Ml(N),z9=r_({__proto__:null,default:a},[N]);var ox={exports:{}},lm={},cx={exports:{}},ux={};var Y3;function V9(){return Y3||(Y3=1,(function(e){function t(J,ae){var Ee=J.length;J.push(ae);e:for(;0<Ee;){var be=Ee-1>>>1,re=J[be];if(0<l(re,ae))J[be]=ae,J[Ee]=re,Ee=be;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var ae=J[0],Ee=J.pop();if(Ee!==ae){J[0]=Ee;e:for(var be=0,re=J.length,W=re>>>1;be<W;){var te=2*(be+1)-1,me=J[te],ue=te+1,Ne=J[ue];if(0>l(me,Ee))ue<re&&0>l(Ne,me)?(J[be]=Ne,J[ue]=Ee,be=ue):(J[be]=me,J[te]=Ee,be=te);else if(ue<re&&0>l(Ne,Ee))J[be]=Ne,J[ue]=Ee,be=ue;else break e}}return ae}function l(J,ae){var Ee=J.sortIndex-ae.sortIndex;return Ee!==0?Ee:J.id-ae.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var d=Date,g=d.now();e.unstable_now=function(){return d.now()-g}}var h=[],x=[],y=1,w=null,C=3,_=!1,D=!1,k=!1,M=!1,I=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function G(J){for(var ae=r(x);ae!==null;){if(ae.callback===null)n(x);else if(ae.startTime<=J)n(x),ae.sortIndex=ae.expirationTime,t(h,ae);else break;ae=r(x)}}function F(J){if(k=!1,G(J),!D)if(r(h)!==null)D=!0,j||(j=!0,X());else{var ae=r(x);ae!==null&&se(F,ae.startTime-J)}}var j=!1,L=-1,H=5,V=-1;function Q(){return M?!0:!(e.unstable_now()-V<H)}function Y(){if(M=!1,j){var J=e.unstable_now();V=J;var ae=!0;try{e:{D=!1,k&&(k=!1,U(L),L=-1),_=!0;var Ee=C;try{t:{for(G(J),w=r(h);w!==null&&!(w.expirationTime>J&&Q());){var be=w.callback;if(typeof be=="function"){w.callback=null,C=w.priorityLevel;var re=be(w.expirationTime<=J);if(J=e.unstable_now(),typeof re=="function"){w.callback=re,G(J),ae=!0;break t}w===r(h)&&n(h),G(J)}else n(h);w=r(h)}if(w!==null)ae=!0;else{var W=r(x);W!==null&&se(F,W.startTime-J),ae=!1}}break e}finally{w=null,C=Ee,_=!1}ae=void 0}}finally{ae?X():j=!1}}}var X;if(typeof R=="function")X=function(){R(Y)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,pe=he.port2;he.port1.onmessage=Y,X=function(){pe.postMessage(null)}}else X=function(){I(Y,0)};function se(J,ae){L=I(function(){J(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return C},e.unstable_next=function(J){switch(C){case 1:case 2:case 3:var ae=3;break;default:ae=C}var Ee=C;C=ae;try{return J()}finally{C=Ee}},e.unstable_requestPaint=function(){M=!0},e.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Ee=C;C=J;try{return ae()}finally{C=Ee}},e.unstable_scheduleCallback=function(J,ae,Ee){var be=e.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?be+Ee:be):Ee=be,J){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Ee+re,J={id:y++,callback:ae,priorityLevel:J,startTime:Ee,expirationTime:re,sortIndex:-1},Ee>be?(J.sortIndex=Ee,t(x,J),r(h)===null&&J===r(x)&&(k?(U(L),L=-1):k=!0,se(F,Ee-be))):(J.sortIndex=re,t(h,J),D||_||(D=!0,j||(j=!0,X()))),J},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(J){var ae=C;return function(){var Ee=C;C=ae;try{return J.apply(this,arguments)}finally{C=Ee}}}})(ux)),ux}var X3;function H9(){return X3||(X3=1,cx.exports=V9()),cx.exports}var dx={exports:{}},la={};var W3;function q9(){if(W3)return la;W3=1;var e=td();function t(h){var x="https://react.dev/errors/"+h;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)x+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(h,x,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:h,containerInfo:x,implementation:y}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(h,x){if(h==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return la.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,la.createPortal=function(h,x){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(t(299));return o(h,x,null,y)},la.flushSync=function(h){var x=d.T,y=n.p;try{if(d.T=null,n.p=2,h)return h()}finally{d.T=x,n.p=y,n.d.f()}},la.preconnect=function(h,x){typeof h=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,n.d.C(h,x))},la.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},la.preinit=function(h,x){if(typeof h=="string"&&x&&typeof x.as=="string"){var y=x.as,w=g(y,x.crossOrigin),C=typeof x.integrity=="string"?x.integrity:void 0,_=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;y==="style"?n.d.S(h,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:_}):y==="script"&&n.d.X(h,{crossOrigin:w,integrity:C,fetchPriority:_,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},la.preinitModule=function(h,x){if(typeof h=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var y=g(x.as,x.crossOrigin);n.d.M(h,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&n.d.M(h)},la.preload=function(h,x){if(typeof h=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var y=x.as,w=g(y,x.crossOrigin);n.d.L(h,y,{crossOrigin:w,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},la.preloadModule=function(h,x){if(typeof h=="string")if(x){var y=g(x.as,x.crossOrigin);n.d.m(h,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else n.d.m(h)},la.requestFormReset=function(h){n.d.r(h)},la.unstable_batchedUpdates=function(h,x){return h(x)},la.useFormState=function(h,x,y){return d.H.useFormState(h,x,y)},la.useFormStatus=function(){return d.H.useHostTransitionStatus()},la.version="19.2.0",la}var K3;function n_(){if(K3)return dx.exports;K3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dx.exports=q9(),dx.exports}var Z3;function $9(){if(Z3)return lm;Z3=1;var e=H9(),t=td(),r=n_();function n(s){var c="https://react.dev/errors/"+s;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var c=s,f=s;if(s.alternate)for(;c.return;)c=c.return;else{s=c;do c=s,(c.flags&4098)!==0&&(f=c.return),s=c.return;while(s)}return c.tag===3?f:null}function d(s){if(s.tag===13){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function g(s){if(s.tag===31){var c=s.memoizedState;if(c===null&&(s=s.alternate,s!==null&&(c=s.memoizedState)),c!==null)return c.dehydrated}return null}function h(s){if(o(s)!==s)throw Error(n(188))}function x(s){var c=s.alternate;if(!c){if(c=o(s),c===null)throw Error(n(188));return c!==s?null:s}for(var f=s,v=c;;){var A=f.return;if(A===null)break;var O=A.alternate;if(O===null){if(v=A.return,v!==null){f=v;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===f)return h(A),s;if(O===v)return h(A),c;O=O.sibling}throw Error(n(188))}if(f.return!==v.return)f=A,v=O;else{for(var z=!1,Z=A.child;Z;){if(Z===f){z=!0,f=A,v=O;break}if(Z===v){z=!0,v=A,f=O;break}Z=Z.sibling}if(!z){for(Z=O.child;Z;){if(Z===f){z=!0,f=O,v=A;break}if(Z===v){z=!0,v=O,f=A;break}Z=Z.sibling}if(!z)throw Error(n(189))}}if(f.alternate!==v)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?s:c}function y(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s;for(s=s.child;s!==null;){if(c=y(s),c!==null)return c;s=s.sibling}return null}var w=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),R=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function X(s){return s===null||typeof s!="object"?null:(s=Y&&s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var he=Symbol.for("react.client.reference");function pe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===he?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case I:return"Profiler";case M:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case D:return"Portal";case R:return s.displayName||"Context";case U:return(s._context.displayName||"Context")+".Consumer";case G:var c=s.render;return s=s.displayName,s||(s=c.displayName||c.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return c=s.displayName||null,c!==null?c:pe(s.type)||"Memo";case H:c=s._payload,s=s._init;try{return pe(s(c))}catch{}}return null}var se=Array.isArray,J=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},be=[],re=-1;function W(s){return{current:s}}function te(s){0>re||(s.current=be[re],be[re]=null,re--)}function me(s,c){re++,be[re]=s.current,s.current=c}var ue=W(null),Ne=W(null),le=W(null),oe=W(null);function ze(s,c){switch(me(le,c),me(Ne,s),me(ue,null),c.nodeType){case 9:case 11:s=(s=c.documentElement)&&(s=s.namespaceURI)?h3(s):0;break;default:if(s=c.tagName,c=c.namespaceURI)c=h3(c),s=g3(c,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}te(ue),me(ue,s)}function ve(){te(ue),te(Ne),te(le)}function Ye(s){s.memoizedState!==null&&me(oe,s);var c=ue.current,f=g3(c,s.type);c!==f&&(me(Ne,s),me(ue,f))}function rt(s){Ne.current===s&&(te(ue),te(Ne)),oe.current===s&&(te(oe),rm._currentValue=Ee)}var Le,ye;function Ue(s){if(Le===void 0)try{throw Error()}catch(f){var c=f.stack.trim().match(/\n( *(at )?)/);Le=c&&c[1]||"",ye=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+s+ye}var Se=!1;function We(s,c){if(!s||Se)return"";Se=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(c){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Ie){var Oe=Ie}Reflect.construct(s,[],He)}else{try{He.call()}catch(Ie){Oe=Ie}s.call(He.prototype)}}else{try{throw Error()}catch(Ie){Oe=Ie}(He=s())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Ie){if(Ie&&Oe&&typeof Ie.stack=="string")return[Ie.stack,Oe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=v.DetermineComponentFrameRoot(),z=O[0],Z=O[1];if(z&&Z){var ie=z.split(`
`),Te=Z.split(`
`);for(A=v=0;v<ie.length&&!ie[v].includes("DetermineComponentFrameRoot");)v++;for(;A<Te.length&&!Te[A].includes("DetermineComponentFrameRoot");)A++;if(v===ie.length||A===Te.length)for(v=ie.length-1,A=Te.length-1;1<=v&&0<=A&&ie[v]!==Te[A];)A--;for(;1<=v&&0<=A;v--,A--)if(ie[v]!==Te[A]){if(v!==1||A!==1)do if(v--,A--,0>A||ie[v]!==Te[A]){var je=`
`+ie[v].replace(" at new "," at ");return s.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",s.displayName)),je}while(1<=v&&0<=A);break}}}finally{Se=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?Ue(f):""}function _e(s,c){switch(s.tag){case 26:case 27:case 5:return Ue(s.type);case 16:return Ue("Lazy");case 13:return s.child!==c&&c!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return We(s.type,!1);case 11:return We(s.type.render,!1);case 1:return We(s.type,!0);case 31:return Ue("Activity");default:return""}}function et(s){try{var c="",f=null;do c+=_e(s,f),f=s,s=s.return;while(s);return c}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var lt=Object.prototype.hasOwnProperty,vt=e.unstable_scheduleCallback,Qe=e.unstable_cancelCallback,st=e.unstable_shouldYield,Re=e.unstable_requestPaint,ft=e.unstable_now,Zt=e.unstable_getCurrentPriorityLevel,xt=e.unstable_ImmediatePriority,Qt=e.unstable_UserBlockingPriority,Dr=e.unstable_NormalPriority,fr=e.unstable_LowPriority,Xn=e.unstable_IdlePriority,aa=e.log,wa=e.unstable_setDisableYieldValue,zt=null,ge=null;function tt(s){if(typeof aa=="function"&&wa(s),ge&&typeof ge.setStrictMode=="function")try{ge.setStrictMode(zt,s)}catch{}}var nt=Math.clz32?Math.clz32:sa,Ct=Math.log,hr=Math.LN2;function sa(s){return s>>>=0,s===0?32:31-(Ct(s)/hr|0)|0}var ln=256,gt=262144,Ze=4194304;function Bt(s){var c=s&42;if(c!==0)return c;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Yr(s,c,f){var v=s.pendingLanes;if(v===0)return 0;var A=0,O=s.suspendedLanes,z=s.pingedLanes;s=s.warmLanes;var Z=v&134217727;return Z!==0?(v=Z&~O,v!==0?A=Bt(v):(z&=Z,z!==0?A=Bt(z):f||(f=Z&~s,f!==0&&(A=Bt(f))))):(Z=v&~O,Z!==0?A=Bt(Z):z!==0?A=Bt(z):f||(f=v&~s,f!==0&&(A=Bt(f)))),A===0?0:c!==0&&c!==A&&(c&O)===0&&(O=A&-A,f=c&-c,O>=f||O===32&&(f&4194048)!==0)?c:A}function Zr(s,c){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&c)===0}function Be(s,c){switch(s){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Et(){var s=Ze;return Ze<<=1,(Ze&62914560)===0&&(Ze=4194304),s}function Wn(s){for(var c=[],f=0;31>f;f++)c.push(s);return c}function os(s,c){s.pendingLanes|=c,c!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Na(s,c,f,v,A,O){var z=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=f,s.entangledLanes&=f,s.errorRecoveryDisabledLanes&=f,s.shellSuspendCounter=0;var Z=s.entanglements,ie=s.expirationTimes,Te=s.hiddenUpdates;for(f=z&~f;0<f;){var je=31-nt(f),He=1<<je;Z[je]=0,ie[je]=-1;var Oe=Te[je];if(Oe!==null)for(Te[je]=null,je=0;je<Oe.length;je++){var Ie=Oe[je];Ie!==null&&(Ie.lane&=-536870913)}f&=~He}v!==0&&Lc(s,v,0),O!==0&&A===0&&s.tag!==0&&(s.suspendedLanes|=O&~(z&~c))}function Lc(s,c,f){s.pendingLanes|=c,s.suspendedLanes&=~c;var v=31-nt(c);s.entangledLanes|=c,s.entanglements[v]=s.entanglements[v]|1073741824|f&261930}function Sa(s,c){var f=s.entangledLanes|=c;for(s=s.entanglements;f;){var v=31-nt(f),A=1<<v;A&c|s[v]&c&&(s[v]|=c),f&=~A}}function Il(s,c){var f=c&-c;return f=(f&42)!==0?1:yn(f),(f&(s.suspendedLanes|c))!==0?0:f}function yn(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function za(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function zn(){var s=ae.p;return s!==0?s:(s=window.event,s===void 0?32:F3(s.type))}function it(s,c){var f=ae.p;try{return ae.p=s,c()}finally{ae.p=f}}var Vn=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Vn,Jt="__reactProps$"+Vn,ma="__reactContainer$"+Vn,il="__reactEvents$"+Vn,Di="__reactListeners$"+Vn,Ca="__reactHandles$"+Vn,Bc="__reactResources$"+Vn,ol="__reactMarker$"+Vn;function Kn(s){delete s[Fr],delete s[Jt],delete s[il],delete s[Di],delete s[Ca]}function kr(s){var c=s[Fr];if(c)return c;for(var f=s.parentNode;f;){if(c=f[ma]||f[Fr]){if(f=c.alternate,c.child!==null||f!==null&&f.child!==null)for(s=w3(s);s!==null;){if(f=s[Fr])return f;s=w3(s)}return c}s=f,f=s.parentNode}return null}function Wt(s){if(s=s[Fr]||s[ma]){var c=s.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return s}return null}function Fe(s){var c=s.tag;if(c===5||c===26||c===27||c===6)return s.stateNode;throw Error(n(33))}function dt(s){var c=s[Bc];return c||(c=s[Bc]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ar(s){s[ol]=!0}var qe=new Set,zf={};function ir(s,c){Va(s,c),Va(s+"Capture",c)}function Va(s,c){for(zf[s]=c,s=0;s<c.length;s++)qe.add(c[s])}var f1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),er={},Kt={};function Vt(s){return lt.call(Kt,s)?!0:lt.call(er,s)?!1:f1.test(s)?Kt[s]=!0:(er[s]=!0,!1)}function ki(s,c,f){if(Vt(c))if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(c);return;case"boolean":var v=c.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){s.removeAttribute(c);return}}s.setAttribute(c,""+f)}}function Mi(s,c,f){if(f===null)s.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttribute(c,""+f)}}function Ha(s,c,f,v){if(v===null)s.removeAttribute(f);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(c,f,""+v)}}function tr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bs(s){var c=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function h1(s,c,f){var v=Object.getOwnPropertyDescriptor(s.constructor.prototype,c);if(!s.hasOwnProperty(c)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var A=v.get,O=v.set;return Object.defineProperty(s,c,{configurable:!0,get:function(){return A.call(this)},set:function(z){f=""+z,O.call(this,z)}}),Object.defineProperty(s,c,{enumerable:v.enumerable}),{getValue:function(){return f},setValue:function(z){f=""+z},stopTracking:function(){s._valueTracker=null,delete s[c]}}}}function Mr(s){if(!s._valueTracker){var c=Bs(s)?"checked":"value";s._valueTracker=h1(s,c,""+s[c])}}function Fs(s){if(!s)return!1;var c=s._valueTracker;if(!c)return!0;var f=c.getValue(),v="";return s&&(v=Bs(s)?s.checked?"true":"false":s.value),s=v,s!==f?(c.setValue(s),!0):!1}function Fc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Pi=/[\n"\\]/g;function Ut(s){return s.replace(Pi,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function xn(s,c,f,v,A,O,z,Z){s.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.type=z:s.removeAttribute("type"),c!=null?z==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+tr(c)):s.value!==""+tr(c)&&(s.value=""+tr(c)):z!=="submit"&&z!=="reset"||s.removeAttribute("value"),c!=null?ee(s,z,tr(c)):f!=null?ee(s,z,tr(f)):v!=null&&s.removeAttribute("value"),A==null&&O!=null&&(s.defaultChecked=!!O),A!=null&&(s.checked=A&&typeof A!="function"&&typeof A!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?s.name=""+tr(Z):s.removeAttribute("name")}function Ce(s,c,f,v,A,O,z,Z){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(s.type=O),c!=null||f!=null){if(!(O!=="submit"&&O!=="reset"||c!=null)){Mr(s);return}f=f!=null?""+tr(f):"",c=c!=null?""+tr(c):f,Z||c===s.value||(s.value=c),s.defaultValue=c}v=v??A,v=typeof v!="function"&&typeof v!="symbol"&&!!v,s.checked=Z?s.checked:!!v,s.defaultChecked=!!v,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(s.name=z),Mr(s)}function ee(s,c,f){c==="number"&&Fc(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function mt(s,c,f,v){if(s=s.options,c){c={};for(var A=0;A<f.length;A++)c["$"+f[A]]=!0;for(f=0;f<s.length;f++)A=c.hasOwnProperty("$"+s[f].value),s[f].selected!==A&&(s[f].selected=A),A&&v&&(s[f].defaultSelected=!0)}else{for(f=""+tr(f),c=null,A=0;A<s.length;A++){if(s[A].value===f){s[A].selected=!0,v&&(s[A].defaultSelected=!0);return}c!==null||s[A].disabled||(c=s[A])}c!==null&&(c.selected=!0)}}function on(s,c,f){if(c!=null&&(c=""+tr(c),c!==s.value&&(s.value=c),f==null)){s.defaultValue!==c&&(s.defaultValue=c);return}s.defaultValue=f!=null?""+tr(f):""}function fa(s,c,f,v){if(c==null){if(v!=null){if(f!=null)throw Error(n(92));if(se(v)){if(1<v.length)throw Error(n(93));v=v[0]}f=v}f==null&&(f=""),c=f}f=tr(c),s.defaultValue=f,v=s.textContent,v===f&&v!==""&&v!==null&&(s.value=v),Mr(s)}function Ii(s,c){if(c){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=c;return}}s.textContent=c}var xd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ha(s,c,f){var v=c.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?v?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="":v?s.setProperty(c,f):typeof f!="number"||f===0||xd.has(c)?c==="float"?s.cssFloat=f:s[c]=(""+f).trim():s[c]=f+"px"}function yt(s,c,f){if(c!=null&&typeof c!="object")throw Error(n(62));if(s=s.style,f!=null){for(var v in f)!f.hasOwnProperty(v)||c!=null&&c.hasOwnProperty(v)||(v.indexOf("--")===0?s.setProperty(v,""):v==="float"?s.cssFloat="":s[v]="");for(var A in c)v=c[A],c.hasOwnProperty(A)&&f[A]!==v&&ha(s,A,v)}else for(var O in c)c.hasOwnProperty(O)&&ha(s,O,c[O])}function Er(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(s){return g1.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Aa(){}var Uo=null;function bd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Pr=null,cs=null;function Us(s){var c=Wt(s);if(c&&(s=c.stateNode)){var f=s[Jt]||null;e:switch(s=c.stateNode,c.type){case"input":if(xn(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),c=f.name,f.type==="radio"&&c!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Ut(""+c)+'"][type="radio"]'),c=0;c<f.length;c++){var v=f[c];if(v!==s&&v.form===s.form){var A=v[Jt]||null;if(!A)throw Error(n(90));xn(v,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<f.length;c++)v=f[c],v.form===s.form&&Fs(v)}break e;case"textarea":on(s,f.value,f.defaultValue);break e;case"select":c=f.value,c!=null&&mt(s,!!f.multiple,c,!1)}}}var wt=!1;function Hf(s,c,f){if(wt)return s(c,f);wt=!0;try{var v=s(c);return v}finally{if(wt=!1,(Pr!==null||cs!==null)&&(I0(),Pr&&(c=Pr,s=cs,cs=Pr=null,Us(c),s)))for(c=0;c<s.length;c++)Us(s[c])}}function Ot(s,c){var f=s.stateNode;if(f===null)return null;var v=f[Jt]||null;if(v===null)return null;f=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(s=s.type,v=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!v;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(n(231,c,typeof f));return f}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vd=!1;if(wr)try{var Rl={};Object.defineProperty(Rl,"passive",{get:function(){vd=!0}}),window.addEventListener("test",Rl,Rl),window.removeEventListener("test",Rl,Rl)}catch{vd=!1}var js=null,zs=null,Uc=null;function Li(){if(Uc)return Uc;var s,c=zs,f=c.length,v,A="value"in js?js.value:js.textContent,O=A.length;for(s=0;s<f&&c[s]===A[s];s++);var z=f-s;for(v=1;v<=z&&c[f-v]===A[O-v];v++);return Uc=A.slice(s,1<v?1-v:void 0)}function cl(s){var c=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&c===13&&(s=13)):s=c,s===10&&(s=13),32<=s||s===13?s:0}function ul(){return!0}function Ed(){return!1}function bn(s){function c(f,v,A,O,z){this._reactName=f,this._targetInst=A,this.type=v,this.nativeEvent=O,this.target=z,this.currentTarget=null;for(var Z in s)s.hasOwnProperty(Z)&&(f=s[Z],this[Z]=f?f(O):O[Z]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ul:Ed,this.isPropagationStopped=Ed,this}return w(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),c}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dn=bn(qa),Bi=w({},qa,{view:0,detail:0}),qf=bn(Bi),jc,wd,jo,zc=w({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==jo&&(jo&&s.type==="mousemove"?(jc=s.screenX-jo.screenX,wd=s.screenY-jo.screenY):wd=jc=0,jo=s),jc)},movementY:function(s){return"movementY"in s?s.movementY:wd}}),sr=bn(zc),$f=w({},zc,{dataTransfer:0}),Vc=bn($f),dl=w({},Bi,{relatedTarget:0}),Nd=bn(dl),Me=w({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),Rt=bn(Me),kn=w({},qa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hc=bn(kn),Gf=w({},qa,{data:0}),Yf=bn(Gf),p1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cn(s){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(s):(s=Sd[s])?!!c[s]:!1}function zo(){return cn}var Ur=w({},Bi,{key:function(s){if(s.key){var c=p1[s.key]||s.key;if(c!=="Unidentified")return c}return s.type==="keypress"?(s=cl(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?y1[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(s){return s.type==="keypress"?cl(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?cl(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),qc=bn(Ur),Ll=w({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=bn(Ll),Nt=w({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),x1=bn(Nt),Nr=w({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bl=bn(Nr),Fi=w({},zc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),b1=bn(Fi),us=w({},qa,{newState:0,oldState:0}),Cd=bn(us),Xf=[9,13,27,32],Vo=wr&&"CompositionEvent"in window,Ui=null;wr&&"documentMode"in document&&(Ui=document.documentMode);var Wf=wr&&"TextEvent"in window&&!Ui,Kf=wr&&(!Vo||Ui&&8<Ui&&11>=Ui),Fl=" ",$c=!1;function Zf(s,c){switch(s){case"keyup":return Xf.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ji(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var zi=!1;function ml(s,c){switch(s){case"compositionend":return ji(c);case"keypress":return c.which!==32?null:($c=!0,Fl);case"textInput":return s=c.data,s===Fl&&$c?null:s;default:return null}}function Gc(s,c){if(zi)return s==="compositionend"||!Vo&&Zf(s,c)?(s=Li(),Uc=zs=js=null,zi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Kf&&c.locale!=="ko"?null:c.data;default:return null}}var Ta={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c==="input"?!!Ta[s.type]:c==="textarea"}function $a(s,c,f,v){Pr?cs?cs.push(v):cs=[v]:Pr=v,c=z0(c,"onChange"),0<c.length&&(f=new Dn("onChange","change",null,f,v),s.push({event:f,listeners:c}))}var Ho=null,Ul=null;function v1(s){o3(s,0)}function qo(s){var c=Fe(s);if(Fs(c))return s}function Ga(s,c){if(s==="change")return c}var Qf=!1;if(wr){var $o;if(wr){var jl="oninput"in document;if(!jl){var $t=document.createElement("div");$t.setAttribute("oninput","return;"),jl=typeof $t.oninput=="function"}$o=jl}else $o=!1;Qf=$o&&(!document.documentMode||9<document.documentMode)}function Go(){Ho&&(Ho.detachEvent("onpropertychange",q),Ul=Ho=null)}function q(s){if(s.propertyName==="value"&&qo(Ul)){var c=[];$a(c,Ul,s,bd(s)),Hf(v1,c)}}function i(s,c,f){s==="focusin"?(Go(),Ho=c,Ul=f,Ho.attachEvent("onpropertychange",q)):s==="focusout"&&Go()}function u(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qo(Ul)}function m(s,c){if(s==="click")return qo(c)}function p(s,c){if(s==="input"||s==="change")return qo(c)}function b(s,c){return s===c&&(s!==0||1/s===1/c)||s!==s&&c!==c}var E=typeof Object.is=="function"?Object.is:b;function S(s,c){if(E(s,c))return!0;if(typeof s!="object"||s===null||typeof c!="object"||c===null)return!1;var f=Object.keys(s),v=Object.keys(c);if(f.length!==v.length)return!1;for(v=0;v<f.length;v++){var A=f[v];if(!lt.call(c,A)||!E(s[A],c[A]))return!1}return!0}function T(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function P(s,c){var f=T(s);s=0;for(var v;f;){if(f.nodeType===3){if(v=s+f.textContent.length,s<=c&&v>=c)return{node:f,offset:c-s};s=v}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=T(f)}}function B(s,c){return s&&c?s===c?!0:s&&s.nodeType===3?!1:c&&c.nodeType===3?B(s,c.parentNode):"contains"in s?s.contains(c):s.compareDocumentPosition?!!(s.compareDocumentPosition(c)&16):!1:!1}function $(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var c=Fc(s.document);c instanceof s.HTMLIFrameElement;){try{var f=typeof c.contentWindow.location.href=="string"}catch{f=!1}if(f)s=c.contentWindow;else break;c=Fc(s.document)}return c}function K(s){var c=s&&s.nodeName&&s.nodeName.toLowerCase();return c&&(c==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||c==="textarea"||s.contentEditable==="true")}var ne=wr&&"documentMode"in document&&11>=document.documentMode,ce=null,de=null,we=null,De=!1;function Je(s,c,f){var v=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;De||ce==null||ce!==Fc(v)||(v=ce,"selectionStart"in v&&K(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),we&&S(we,v)||(we=v,v=z0(de,"onSelect"),0<v.length&&(c=new Dn("onSelect","select",null,c,f),s.push({event:c,listeners:v}),c.target=ce)))}function Ke(s,c){var f={};return f[s.toLowerCase()]=c.toLowerCase(),f["Webkit"+s]="webkit"+c,f["Moz"+s]="moz"+c,f}var $e={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionrun:Ke("Transition","TransitionRun"),transitionstart:Ke("Transition","TransitionStart"),transitioncancel:Ke("Transition","TransitionCancel"),transitionend:Ke("Transition","TransitionEnd")},Ft={},_t={};wr&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete $e.animationend.animation,delete $e.animationiteration.animation,delete $e.animationstart.animation),"TransitionEvent"in window||delete $e.transitionend.transition);function Qr(s){if(Ft[s])return Ft[s];if(!$e[s])return s;var c=$e[s],f;for(f in c)if(c.hasOwnProperty(f)&&f in _t)return Ft[s]=c[f];return s}var Oa=Qr("animationend"),Zn=Qr("animationiteration"),cr=Qr("animationstart"),Mn=Qr("transitionrun"),ga=Qr("transitionstart"),Vi=Qr("transitioncancel"),zl=Qr("transitionend"),Jf=new Map,Td="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Td.push("scrollEnd");function Vs(s,c){Jf.set(s,c),ir(c,[s])}var e0=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ds=[],Yc=0,E1=0;function t0(){for(var s=Yc,c=E1=Yc=0;c<s;){var f=ds[c];ds[c++]=null;var v=ds[c];ds[c++]=null;var A=ds[c];ds[c++]=null;var O=ds[c];if(ds[c++]=null,v!==null&&A!==null){var z=v.pending;z===null?A.next=A:(A.next=z.next,z.next=A),v.pending=A}O!==0&&HN(f,A,O)}}function r0(s,c,f,v){ds[Yc++]=s,ds[Yc++]=c,ds[Yc++]=f,ds[Yc++]=v,E1|=v,s.lanes|=v,s=s.alternate,s!==null&&(s.lanes|=v)}function w1(s,c,f,v){return r0(s,c,f,v),n0(s)}function Yo(s,c){return r0(s,null,null,c),n0(s)}function HN(s,c,f){s.lanes|=f;var v=s.alternate;v!==null&&(v.lanes|=f);for(var A=!1,O=s.return;O!==null;)O.childLanes|=f,v=O.alternate,v!==null&&(v.childLanes|=f),O.tag===22&&(s=O.stateNode,s===null||s._visibility&1||(A=!0)),s=O,O=O.return;return s.tag===3?(O=s.stateNode,A&&c!==null&&(A=31-nt(f),s=O.hiddenUpdates,v=s[A],v===null?s[A]=[c]:v.push(c),c.lane=f|536870912),O):null}function n0(s){if(50<Wd)throw Wd=0,ky=null,Error(n(185));for(var c=s.return;c!==null;)s=c,c=s.return;return s.tag===3?s.stateNode:null}var Xc={};function NR(s,c,f,v){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(s,c,f,v){return new NR(s,c,f,v)}function N1(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Vl(s,c){var f=s.alternate;return f===null?(f=Ya(s.tag,c,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=c,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,c=s.dependencies,f.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function qN(s,c){s.flags&=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=c,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,c=f.dependencies,s.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),s}function a0(s,c,f,v,A,O){var z=0;if(v=s,typeof s=="function")N1(s)&&(z=1);else if(typeof s=="string")z=O9(s,f,ue.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case V:return s=Ya(31,f,c,A),s.elementType=V,s.lanes=O,s;case k:return Xo(f.children,A,O,c);case M:z=8,A|=24;break;case I:return s=Ya(12,f,c,A|2),s.elementType=I,s.lanes=O,s;case F:return s=Ya(13,f,c,A),s.elementType=F,s.lanes=O,s;case j:return s=Ya(19,f,c,A),s.elementType=j,s.lanes=O,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:z=10;break e;case U:z=9;break e;case G:z=11;break e;case L:z=14;break e;case H:z=16,v=null;break e}z=29,f=Error(n(130,s===null?"null":typeof s,"")),v=null}return c=Ya(z,f,c,A),c.elementType=s,c.type=v,c.lanes=O,c}function Xo(s,c,f,v){return s=Ya(7,s,v,c),s.lanes=f,s}function S1(s,c,f){return s=Ya(6,s,null,c),s.lanes=f,s}function $N(s){var c=Ya(18,null,null,0);return c.stateNode=s,c}function C1(s,c,f){return c=Ya(4,s.children!==null?s.children:[],s.key,c),c.lanes=f,c.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},c}var GN=new WeakMap;function ms(s,c){if(typeof s=="object"&&s!==null){var f=GN.get(s);return f!==void 0?f:(c={value:s,source:c,stack:et(c)},GN.set(s,c),c)}return{value:s,source:c,stack:et(c)}}var Wc=[],Kc=0,s0=null,Od=0,fs=[],hs=0,Hi=null,fl=1,hl="";function Hl(s,c){Wc[Kc++]=Od,Wc[Kc++]=s0,s0=s,Od=c}function YN(s,c,f){fs[hs++]=fl,fs[hs++]=hl,fs[hs++]=Hi,Hi=s;var v=fl;s=hl;var A=32-nt(v)-1;v&=~(1<<A),f+=1;var O=32-nt(c)+A;if(30<O){var z=A-A%5;O=(v&(1<<z)-1).toString(32),v>>=z,A-=z,fl=1<<32-nt(c)+A|f<<A|v,hl=O+s}else fl=1<<O|f<<A|v,hl=s}function A1(s){s.return!==null&&(Hl(s,1),YN(s,1,0))}function T1(s){for(;s===s0;)s0=Wc[--Kc],Wc[Kc]=null,Od=Wc[--Kc],Wc[Kc]=null;for(;s===Hi;)Hi=fs[--hs],fs[hs]=null,hl=fs[--hs],fs[hs]=null,fl=fs[--hs],fs[hs]=null}function XN(s,c){fs[hs++]=fl,fs[hs++]=hl,fs[hs++]=Hi,fl=c.id,hl=c.overflow,Hi=s}var Qn=null,Ir=null,Xt=!1,qi=null,gs=!1,O1=Error(n(519));function $i(s){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _d(ms(c,s)),O1}function WN(s){var c=s.stateNode,f=s.type,v=s.memoizedProps;switch(c[Fr]=s,c[Jt]=v,f){case"dialog":qt("cancel",c),qt("close",c);break;case"iframe":case"object":case"embed":qt("load",c);break;case"video":case"audio":for(f=0;f<Zd.length;f++)qt(Zd[f],c);break;case"source":qt("error",c);break;case"img":case"image":case"link":qt("error",c),qt("load",c);break;case"details":qt("toggle",c);break;case"input":qt("invalid",c),Ce(c,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":qt("invalid",c);break;case"textarea":qt("invalid",c),fa(c,v.value,v.defaultValue,v.children)}f=v.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||c.textContent===""+f||v.suppressHydrationWarning===!0||m3(c.textContent,f)?(v.popover!=null&&(qt("beforetoggle",c),qt("toggle",c)),v.onScroll!=null&&qt("scroll",c),v.onScrollEnd!=null&&qt("scrollend",c),v.onClick!=null&&(c.onclick=Aa),c=!0):c=!1,c||$i(s,!0)}function KN(s){for(Qn=s.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:gs=!1;return;case 27:case 3:gs=!0;return;default:Qn=Qn.return}}function Zc(s){if(s!==Qn)return!1;if(!Xt)return KN(s),Xt=!0,!1;var c=s.tag,f;if((f=c!==3&&c!==27)&&((f=c===5)&&(f=s.type,f=!(f!=="form"&&f!=="button")||Gy(s.type,s.memoizedProps)),f=!f),f&&Ir&&$i(s),KN(s),c===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Ir=E3(s)}else if(c===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Ir=E3(s)}else c===27?(c=Ir,so(s.type)?(s=Zy,Zy=null,Ir=s):Ir=c):Ir=Qn?ys(s.stateNode.nextSibling):null;return!0}function Wo(){Ir=Qn=null,Xt=!1}function _1(){var s=qi;return s!==null&&(Ma===null?Ma=s:Ma.push.apply(Ma,s),qi=null),s}function _d(s){qi===null?qi=[s]:qi.push(s)}var D1=W(null),Ko=null,ql=null;function Gi(s,c,f){me(D1,c._currentValue),c._currentValue=f}function $l(s){s._currentValue=D1.current,te(D1)}function k1(s,c,f){for(;s!==null;){var v=s.alternate;if((s.childLanes&c)!==c?(s.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),s===f)break;s=s.return}}function M1(s,c,f,v){var A=s.child;for(A!==null&&(A.return=s);A!==null;){var O=A.dependencies;if(O!==null){var z=A.child;O=O.firstContext;e:for(;O!==null;){var Z=O;O=A;for(var ie=0;ie<c.length;ie++)if(Z.context===c[ie]){O.lanes|=f,Z=O.alternate,Z!==null&&(Z.lanes|=f),k1(O.return,f,s),v||(z=null);break e}O=Z.next}}else if(A.tag===18){if(z=A.return,z===null)throw Error(n(341));z.lanes|=f,O=z.alternate,O!==null&&(O.lanes|=f),k1(z,f,s),z=null}else z=A.child;if(z!==null)z.return=A;else for(z=A;z!==null;){if(z===s){z=null;break}if(A=z.sibling,A!==null){A.return=z.return,z=A;break}z=z.return}A=z}}function Qc(s,c,f,v){s=null;for(var A=c,O=!1;A!==null;){if(!O){if((A.flags&524288)!==0)O=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var z=A.alternate;if(z===null)throw Error(n(387));if(z=z.memoizedProps,z!==null){var Z=A.type;E(A.pendingProps.value,z.value)||(s!==null?s.push(Z):s=[Z])}}else if(A===oe.current){if(z=A.alternate,z===null)throw Error(n(387));z.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(s!==null?s.push(rm):s=[rm])}A=A.return}s!==null&&M1(c,s,f,v),c.flags|=262144}function l0(s){for(s=s.firstContext;s!==null;){if(!E(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Zo(s){Ko=s,ql=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Jn(s){return ZN(Ko,s)}function i0(s,c){return Ko===null&&Zo(s),ZN(s,c)}function ZN(s,c){var f=c._currentValue;if(c={context:c,memoizedValue:f,next:null},ql===null){if(s===null)throw Error(n(308));ql=c,s.dependencies={lanes:0,firstContext:c},s.flags|=524288}else ql=ql.next=c;return f}var SR=typeof AbortController<"u"?AbortController:function(){var s=[],c=this.signal={aborted:!1,addEventListener:function(f,v){s.push(v)}};this.abort=function(){c.aborted=!0,s.forEach(function(f){return f()})}},CR=e.unstable_scheduleCallback,AR=e.unstable_NormalPriority,vn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function P1(){return{controller:new SR,data:new Map,refCount:0}}function Dd(s){s.refCount--,s.refCount===0&&CR(AR,function(){s.controller.abort()})}var kd=null,I1=0,Jc=0,eu=null;function TR(s,c){if(kd===null){var f=kd=[];I1=0,Jc=By(),eu={status:"pending",value:void 0,then:function(v){f.push(v)}}}return I1++,c.then(QN,QN),c}function QN(){if(--I1===0&&kd!==null){eu!==null&&(eu.status="fulfilled");var s=kd;kd=null,Jc=0,eu=null;for(var c=0;c<s.length;c++)(0,s[c])()}}function OR(s,c){var f=[],v={status:"pending",value:null,reason:null,then:function(A){f.push(A)}};return s.then(function(){v.status="fulfilled",v.value=c;for(var A=0;A<f.length;A++)(0,f[A])(c)},function(A){for(v.status="rejected",v.reason=A,A=0;A<f.length;A++)(0,f[A])(void 0)}),v}var JN=J.S;J.S=function(s,c){LC=ft(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&TR(s,c),JN!==null&&JN(s,c)};var Qo=W(null);function R1(){var s=Qo.current;return s!==null?s:Sr.pooledCache}function o0(s,c){c===null?me(Qo,Qo.current):me(Qo,c.pool)}function eS(){var s=R1();return s===null?null:{parent:vn._currentValue,pool:s}}var tu=Error(n(460)),L1=Error(n(474)),c0=Error(n(542)),u0={then:function(){}};function tS(s){return s=s.status,s==="fulfilled"||s==="rejected"}function rS(s,c,f){switch(f=s[f],f===void 0?s.push(c):f!==c&&(c.then(Aa,Aa),c=f),c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,aS(s),s;default:if(typeof c.status=="string")c.then(Aa,Aa);else{if(s=Sr,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=c,s.status="pending",s.then(function(v){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=v}},function(v){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=v}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw s=c.reason,aS(s),s}throw ec=c,tu}}function Jo(s){try{var c=s._init;return c(s._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(ec=f,tu):f}}var ec=null;function nS(){if(ec===null)throw Error(n(459));var s=ec;return ec=null,s}function aS(s){if(s===tu||s===c0)throw Error(n(483))}var ru=null,Md=0;function d0(s){var c=Md;return Md+=1,ru===null&&(ru=[]),rS(ru,s,c)}function Pd(s,c){c=c.props.ref,s.ref=c!==void 0?c:null}function m0(s,c){throw c.$$typeof===C?Error(n(525)):(s=Object.prototype.toString.call(c),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":s)))}function sS(s){function c(xe,fe){if(s){var Ae=xe.deletions;Ae===null?(xe.deletions=[fe],xe.flags|=16):Ae.push(fe)}}function f(xe,fe){if(!s)return null;for(;fe!==null;)c(xe,fe),fe=fe.sibling;return null}function v(xe){for(var fe=new Map;xe!==null;)xe.key!==null?fe.set(xe.key,xe):fe.set(xe.index,xe),xe=xe.sibling;return fe}function A(xe,fe){return xe=Vl(xe,fe),xe.index=0,xe.sibling=null,xe}function O(xe,fe,Ae){return xe.index=Ae,s?(Ae=xe.alternate,Ae!==null?(Ae=Ae.index,Ae<fe?(xe.flags|=67108866,fe):Ae):(xe.flags|=67108866,fe)):(xe.flags|=1048576,fe)}function z(xe){return s&&xe.alternate===null&&(xe.flags|=67108866),xe}function Z(xe,fe,Ae,Ve){return fe===null||fe.tag!==6?(fe=S1(Ae,xe.mode,Ve),fe.return=xe,fe):(fe=A(fe,Ae),fe.return=xe,fe)}function ie(xe,fe,Ae,Ve){var bt=Ae.type;return bt===k?je(xe,fe,Ae.props.children,Ve,Ae.key):fe!==null&&(fe.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===H&&Jo(bt)===fe.type)?(fe=A(fe,Ae.props),Pd(fe,Ae),fe.return=xe,fe):(fe=a0(Ae.type,Ae.key,Ae.props,null,xe.mode,Ve),Pd(fe,Ae),fe.return=xe,fe)}function Te(xe,fe,Ae,Ve){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==Ae.containerInfo||fe.stateNode.implementation!==Ae.implementation?(fe=C1(Ae,xe.mode,Ve),fe.return=xe,fe):(fe=A(fe,Ae.children||[]),fe.return=xe,fe)}function je(xe,fe,Ae,Ve,bt){return fe===null||fe.tag!==7?(fe=Xo(Ae,xe.mode,Ve,bt),fe.return=xe,fe):(fe=A(fe,Ae),fe.return=xe,fe)}function He(xe,fe,Ae){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=S1(""+fe,xe.mode,Ae),fe.return=xe,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case _:return Ae=a0(fe.type,fe.key,fe.props,null,xe.mode,Ae),Pd(Ae,fe),Ae.return=xe,Ae;case D:return fe=C1(fe,xe.mode,Ae),fe.return=xe,fe;case H:return fe=Jo(fe),He(xe,fe,Ae)}if(se(fe)||X(fe))return fe=Xo(fe,xe.mode,Ae,null),fe.return=xe,fe;if(typeof fe.then=="function")return He(xe,d0(fe),Ae);if(fe.$$typeof===R)return He(xe,i0(xe,fe),Ae);m0(xe,fe)}return null}function Oe(xe,fe,Ae,Ve){var bt=fe!==null?fe.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return bt!==null?null:Z(xe,fe,""+Ae,Ve);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case _:return Ae.key===bt?ie(xe,fe,Ae,Ve):null;case D:return Ae.key===bt?Te(xe,fe,Ae,Ve):null;case H:return Ae=Jo(Ae),Oe(xe,fe,Ae,Ve)}if(se(Ae)||X(Ae))return bt!==null?null:je(xe,fe,Ae,Ve,null);if(typeof Ae.then=="function")return Oe(xe,fe,d0(Ae),Ve);if(Ae.$$typeof===R)return Oe(xe,fe,i0(xe,Ae),Ve);m0(xe,Ae)}return null}function Ie(xe,fe,Ae,Ve,bt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return xe=xe.get(Ae)||null,Z(fe,xe,""+Ve,bt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case _:return xe=xe.get(Ve.key===null?Ae:Ve.key)||null,ie(fe,xe,Ve,bt);case D:return xe=xe.get(Ve.key===null?Ae:Ve.key)||null,Te(fe,xe,Ve,bt);case H:return Ve=Jo(Ve),Ie(xe,fe,Ae,Ve,bt)}if(se(Ve)||X(Ve))return xe=xe.get(Ae)||null,je(fe,xe,Ve,bt,null);if(typeof Ve.then=="function")return Ie(xe,fe,Ae,d0(Ve),bt);if(Ve.$$typeof===R)return Ie(xe,fe,Ae,i0(fe,Ve),bt);m0(fe,Ve)}return null}function ut(xe,fe,Ae,Ve){for(var bt=null,rr=null,ht=fe,Lt=fe=0,Yt=null;ht!==null&&Lt<Ae.length;Lt++){ht.index>Lt?(Yt=ht,ht=null):Yt=ht.sibling;var nr=Oe(xe,ht,Ae[Lt],Ve);if(nr===null){ht===null&&(ht=Yt);break}s&&ht&&nr.alternate===null&&c(xe,ht),fe=O(nr,fe,Lt),rr===null?bt=nr:rr.sibling=nr,rr=nr,ht=Yt}if(Lt===Ae.length)return f(xe,ht),Xt&&Hl(xe,Lt),bt;if(ht===null){for(;Lt<Ae.length;Lt++)ht=He(xe,Ae[Lt],Ve),ht!==null&&(fe=O(ht,fe,Lt),rr===null?bt=ht:rr.sibling=ht,rr=ht);return Xt&&Hl(xe,Lt),bt}for(ht=v(ht);Lt<Ae.length;Lt++)Yt=Ie(ht,xe,Lt,Ae[Lt],Ve),Yt!==null&&(s&&Yt.alternate!==null&&ht.delete(Yt.key===null?Lt:Yt.key),fe=O(Yt,fe,Lt),rr===null?bt=Yt:rr.sibling=Yt,rr=Yt);return s&&ht.forEach(function(uo){return c(xe,uo)}),Xt&&Hl(xe,Lt),bt}function St(xe,fe,Ae,Ve){if(Ae==null)throw Error(n(151));for(var bt=null,rr=null,ht=fe,Lt=fe=0,Yt=null,nr=Ae.next();ht!==null&&!nr.done;Lt++,nr=Ae.next()){ht.index>Lt?(Yt=ht,ht=null):Yt=ht.sibling;var uo=Oe(xe,ht,nr.value,Ve);if(uo===null){ht===null&&(ht=Yt);break}s&&ht&&uo.alternate===null&&c(xe,ht),fe=O(uo,fe,Lt),rr===null?bt=uo:rr.sibling=uo,rr=uo,ht=Yt}if(nr.done)return f(xe,ht),Xt&&Hl(xe,Lt),bt;if(ht===null){for(;!nr.done;Lt++,nr=Ae.next())nr=He(xe,nr.value,Ve),nr!==null&&(fe=O(nr,fe,Lt),rr===null?bt=nr:rr.sibling=nr,rr=nr);return Xt&&Hl(xe,Lt),bt}for(ht=v(ht);!nr.done;Lt++,nr=Ae.next())nr=Ie(ht,xe,Lt,nr.value,Ve),nr!==null&&(s&&nr.alternate!==null&&ht.delete(nr.key===null?Lt:nr.key),fe=O(nr,fe,Lt),rr===null?bt=nr:rr.sibling=nr,rr=nr);return s&&ht.forEach(function(U9){return c(xe,U9)}),Xt&&Hl(xe,Lt),bt}function yr(xe,fe,Ae,Ve){if(typeof Ae=="object"&&Ae!==null&&Ae.type===k&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case _:e:{for(var bt=Ae.key;fe!==null;){if(fe.key===bt){if(bt=Ae.type,bt===k){if(fe.tag===7){f(xe,fe.sibling),Ve=A(fe,Ae.props.children),Ve.return=xe,xe=Ve;break e}}else if(fe.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===H&&Jo(bt)===fe.type){f(xe,fe.sibling),Ve=A(fe,Ae.props),Pd(Ve,Ae),Ve.return=xe,xe=Ve;break e}f(xe,fe);break}else c(xe,fe);fe=fe.sibling}Ae.type===k?(Ve=Xo(Ae.props.children,xe.mode,Ve,Ae.key),Ve.return=xe,xe=Ve):(Ve=a0(Ae.type,Ae.key,Ae.props,null,xe.mode,Ve),Pd(Ve,Ae),Ve.return=xe,xe=Ve)}return z(xe);case D:e:{for(bt=Ae.key;fe!==null;){if(fe.key===bt)if(fe.tag===4&&fe.stateNode.containerInfo===Ae.containerInfo&&fe.stateNode.implementation===Ae.implementation){f(xe,fe.sibling),Ve=A(fe,Ae.children||[]),Ve.return=xe,xe=Ve;break e}else{f(xe,fe);break}else c(xe,fe);fe=fe.sibling}Ve=C1(Ae,xe.mode,Ve),Ve.return=xe,xe=Ve}return z(xe);case H:return Ae=Jo(Ae),yr(xe,fe,Ae,Ve)}if(se(Ae))return ut(xe,fe,Ae,Ve);if(X(Ae)){if(bt=X(Ae),typeof bt!="function")throw Error(n(150));return Ae=bt.call(Ae),St(xe,fe,Ae,Ve)}if(typeof Ae.then=="function")return yr(xe,fe,d0(Ae),Ve);if(Ae.$$typeof===R)return yr(xe,fe,i0(xe,Ae),Ve);m0(xe,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,fe!==null&&fe.tag===6?(f(xe,fe.sibling),Ve=A(fe,Ae),Ve.return=xe,xe=Ve):(f(xe,fe),Ve=S1(Ae,xe.mode,Ve),Ve.return=xe,xe=Ve),z(xe)):f(xe,fe)}return function(xe,fe,Ae,Ve){try{Md=0;var bt=yr(xe,fe,Ae,Ve);return ru=null,bt}catch(ht){if(ht===tu||ht===c0)throw ht;var rr=Ya(29,ht,null,xe.mode);return rr.lanes=Ve,rr.return=xe,rr}finally{}}}var tc=sS(!0),lS=sS(!1),Yi=!1;function B1(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function F1(s,c){s=s.updateQueue,c.updateQueue===s&&(c.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Xi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Wi(s,c,f){var v=s.updateQueue;if(v===null)return null;if(v=v.shared,(lr&2)!==0){var A=v.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),v.pending=c,c=n0(s),HN(s,null,f),c}return r0(s,v,c,f),n0(s)}function Id(s,c,f){if(c=c.updateQueue,c!==null&&(c=c.shared,(f&4194048)!==0)){var v=c.lanes;v&=s.pendingLanes,f|=v,c.lanes=f,Sa(s,f)}}function U1(s,c){var f=s.updateQueue,v=s.alternate;if(v!==null&&(v=v.updateQueue,f===v)){var A=null,O=null;if(f=f.firstBaseUpdate,f!==null){do{var z={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};O===null?A=O=z:O=O.next=z,f=f.next}while(f!==null);O===null?A=O=c:O=O.next=c}else A=O=c;f={baseState:v.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:v.shared,callbacks:v.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=c}var j1=!1;function Rd(){if(j1){var s=eu;if(s!==null)throw s}}function Ld(s,c,f,v){j1=!1;var A=s.updateQueue;Yi=!1;var O=A.firstBaseUpdate,z=A.lastBaseUpdate,Z=A.shared.pending;if(Z!==null){A.shared.pending=null;var ie=Z,Te=ie.next;ie.next=null,z===null?O=Te:z.next=Te,z=ie;var je=s.alternate;je!==null&&(je=je.updateQueue,Z=je.lastBaseUpdate,Z!==z&&(Z===null?je.firstBaseUpdate=Te:Z.next=Te,je.lastBaseUpdate=ie))}if(O!==null){var He=A.baseState;z=0,je=Te=ie=null,Z=O;do{var Oe=Z.lane&-536870913,Ie=Oe!==Z.lane;if(Ie?(Gt&Oe)===Oe:(v&Oe)===Oe){Oe!==0&&Oe===Jc&&(j1=!0),je!==null&&(je=je.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var ut=s,St=Z;Oe=c;var yr=f;switch(St.tag){case 1:if(ut=St.payload,typeof ut=="function"){He=ut.call(yr,He,Oe);break e}He=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=St.payload,Oe=typeof ut=="function"?ut.call(yr,He,Oe):ut,Oe==null)break e;He=w({},He,Oe);break e;case 2:Yi=!0}}Oe=Z.callback,Oe!==null&&(s.flags|=64,Ie&&(s.flags|=8192),Ie=A.callbacks,Ie===null?A.callbacks=[Oe]:Ie.push(Oe))}else Ie={lane:Oe,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},je===null?(Te=je=Ie,ie=He):je=je.next=Ie,z|=Oe;if(Z=Z.next,Z===null){if(Z=A.shared.pending,Z===null)break;Ie=Z,Z=Ie.next,Ie.next=null,A.lastBaseUpdate=Ie,A.shared.pending=null}}while(!0);je===null&&(ie=He),A.baseState=ie,A.firstBaseUpdate=Te,A.lastBaseUpdate=je,O===null&&(A.shared.lanes=0),eo|=z,s.lanes=z,s.memoizedState=He}}function iS(s,c){if(typeof s!="function")throw Error(n(191,s));s.call(c)}function oS(s,c){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s<f.length;s++)iS(f[s],c)}var nu=W(null),f0=W(0);function cS(s,c){s=ei,me(f0,s),me(nu,c),ei=s|c.baseLanes}function z1(){me(f0,ei),me(nu,nu.current)}function V1(){ei=f0.current,te(nu),te(f0)}var Xa=W(null),ps=null;function Ki(s){var c=s.alternate;me(un,un.current&1),me(Xa,s),ps===null&&(c===null||nu.current!==null||c.memoizedState!==null)&&(ps=s)}function H1(s){me(un,un.current),me(Xa,s),ps===null&&(ps=s)}function uS(s){s.tag===22?(me(un,un.current),me(Xa,s),ps===null&&(ps=s)):Zi()}function Zi(){me(un,un.current),me(Xa,Xa.current)}function Wa(s){te(Xa),ps===s&&(ps=null),te(un)}var un=W(0);function h0(s){for(var c=s;c!==null;){if(c.tag===13){var f=c.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||Wy(f)||Ky(f)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Gl=0,Pt=null,gr=null,En=null,g0=!1,au=!1,rc=!1,p0=0,Bd=0,su=null,_R=0;function Jr(){throw Error(n(321))}function q1(s,c){if(c===null)return!1;for(var f=0;f<c.length&&f<s.length;f++)if(!E(s[f],c[f]))return!1;return!0}function $1(s,c,f,v,A,O){return Gl=O,Pt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,J.H=s===null||s.memoizedState===null?YS:ly,rc=!1,O=f(v,A),rc=!1,au&&(O=mS(c,f,v,A)),dS(s),O}function dS(s){J.H=jd;var c=gr!==null&&gr.next!==null;if(Gl=0,En=gr=Pt=null,g0=!1,Bd=0,su=null,c)throw Error(n(300));s===null||wn||(s=s.dependencies,s!==null&&l0(s)&&(wn=!0))}function mS(s,c,f,v){Pt=s;var A=0;do{if(au&&(su=null),Bd=0,au=!1,25<=A)throw Error(n(301));if(A+=1,En=gr=null,s.updateQueue!=null){var O=s.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}J.H=XS,O=c(f,v)}while(au);return O}function DR(){var s=J.H,c=s.useState()[0];return c=typeof c.then=="function"?Fd(c):c,s=s.useState()[0],(gr!==null?gr.memoizedState:null)!==s&&(Pt.flags|=1024),c}function G1(){var s=p0!==0;return p0=0,s}function Y1(s,c,f){c.updateQueue=s.updateQueue,c.flags&=-2053,s.lanes&=~f}function X1(s){if(g0){for(s=s.memoizedState;s!==null;){var c=s.queue;c!==null&&(c.pending=null),s=s.next}g0=!1}Gl=0,En=gr=Pt=null,au=!1,Bd=p0=0,su=null}function pa(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Pt.memoizedState=En=s:En=En.next=s,En}function dn(){if(gr===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=gr.next;var c=En===null?Pt.memoizedState:En.next;if(c!==null)En=c,gr=s;else{if(s===null)throw Pt.alternate===null?Error(n(467)):Error(n(310));gr=s,s={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},En===null?Pt.memoizedState=En=s:En=En.next=s}return En}function y0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fd(s){var c=Bd;return Bd+=1,su===null&&(su=[]),s=rS(su,s,c),c=Pt,(En===null?c.memoizedState:En.next)===null&&(c=c.alternate,J.H=c===null||c.memoizedState===null?YS:ly),s}function x0(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Fd(s);if(s.$$typeof===R)return Jn(s)}throw Error(n(438,String(s)))}function W1(s){var c=null,f=Pt.updateQueue;if(f!==null&&(c=f.memoCache),c==null){var v=Pt.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(c={data:v.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),f===null&&(f=y0(),Pt.updateQueue=f),f.memoCache=c,f=c.data[c.index],f===void 0)for(f=c.data[c.index]=Array(s),v=0;v<s;v++)f[v]=Q;return c.index++,f}function Yl(s,c){return typeof c=="function"?c(s):c}function b0(s){var c=dn();return K1(c,gr,s)}function K1(s,c,f){var v=s.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=f;var A=s.baseQueue,O=v.pending;if(O!==null){if(A!==null){var z=A.next;A.next=O.next,O.next=z}c.baseQueue=A=O,v.pending=null}if(O=s.baseState,A===null)s.memoizedState=O;else{c=A.next;var Z=z=null,ie=null,Te=c,je=!1;do{var He=Te.lane&-536870913;if(He!==Te.lane?(Gt&He)===He:(Gl&He)===He){var Oe=Te.revertLane;if(Oe===0)ie!==null&&(ie=ie.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),He===Jc&&(je=!0);else if((Gl&Oe)===Oe){Te=Te.next,Oe===Jc&&(je=!0);continue}else He={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ie===null?(Z=ie=He,z=O):ie=ie.next=He,Pt.lanes|=Oe,eo|=Oe;He=Te.action,rc&&f(O,He),O=Te.hasEagerState?Te.eagerState:f(O,He)}else Oe={lane:He,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ie===null?(Z=ie=Oe,z=O):ie=ie.next=Oe,Pt.lanes|=He,eo|=He;Te=Te.next}while(Te!==null&&Te!==c);if(ie===null?z=O:ie.next=Z,!E(O,s.memoizedState)&&(wn=!0,je&&(f=eu,f!==null)))throw f;s.memoizedState=O,s.baseState=z,s.baseQueue=ie,v.lastRenderedState=O}return A===null&&(v.lanes=0),[s.memoizedState,v.dispatch]}function Z1(s){var c=dn(),f=c.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=s;var v=f.dispatch,A=f.pending,O=c.memoizedState;if(A!==null){f.pending=null;var z=A=A.next;do O=s(O,z.action),z=z.next;while(z!==A);E(O,c.memoizedState)||(wn=!0),c.memoizedState=O,c.baseQueue===null&&(c.baseState=O),f.lastRenderedState=O}return[O,v]}function fS(s,c,f){var v=Pt,A=dn(),O=Xt;if(O){if(f===void 0)throw Error(n(407));f=f()}else f=c();var z=!E((gr||A).memoizedState,f);if(z&&(A.memoizedState=f,wn=!0),A=A.queue,ey(pS.bind(null,v,A,s),[s]),A.getSnapshot!==c||z||En!==null&&En.memoizedState.tag&1){if(v.flags|=2048,lu(9,{destroy:void 0},gS.bind(null,v,A,f,c),null),Sr===null)throw Error(n(349));O||(Gl&127)!==0||hS(v,c,f)}return f}function hS(s,c,f){s.flags|=16384,s={getSnapshot:c,value:f},c=Pt.updateQueue,c===null?(c=y0(),Pt.updateQueue=c,c.stores=[s]):(f=c.stores,f===null?c.stores=[s]:f.push(s))}function gS(s,c,f,v){c.value=f,c.getSnapshot=v,yS(c)&&xS(s)}function pS(s,c,f){return f(function(){yS(c)&&xS(s)})}function yS(s){var c=s.getSnapshot;s=s.value;try{var f=c();return!E(s,f)}catch{return!0}}function xS(s){var c=Yo(s,2);c!==null&&Pa(c,s,2)}function Q1(s){var c=pa();if(typeof s=="function"){var f=s;if(s=f(),rc){tt(!0);try{f()}finally{tt(!1)}}}return c.memoizedState=c.baseState=s,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:s},c}function bS(s,c,f,v){return s.baseState=f,K1(s,gr,typeof v=="function"?v:Yl)}function kR(s,c,f,v,A){if(w0(s))throw Error(n(485));if(s=c.action,s!==null){var O={payload:A,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){O.listeners.push(z)}};J.T!==null?f(!0):O.isTransition=!1,v(O),f=c.pending,f===null?(O.next=c.pending=O,vS(c,O)):(O.next=f.next,c.pending=f.next=O)}}function vS(s,c){var f=c.action,v=c.payload,A=s.state;if(c.isTransition){var O=J.T,z={};J.T=z;try{var Z=f(A,v),ie=J.S;ie!==null&&ie(z,Z),ES(s,c,Z)}catch(Te){J1(s,c,Te)}finally{O!==null&&z.types!==null&&(O.types=z.types),J.T=O}}else try{O=f(A,v),ES(s,c,O)}catch(Te){J1(s,c,Te)}}function ES(s,c,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(v){wS(s,c,v)},function(v){return J1(s,c,v)}):wS(s,c,f)}function wS(s,c,f){c.status="fulfilled",c.value=f,NS(c),s.state=f,c=s.pending,c!==null&&(f=c.next,f===c?s.pending=null:(f=f.next,c.next=f,vS(s,f)))}function J1(s,c,f){var v=s.pending;if(s.pending=null,v!==null){v=v.next;do c.status="rejected",c.reason=f,NS(c),c=c.next;while(c!==v)}s.action=null}function NS(s){s=s.listeners;for(var c=0;c<s.length;c++)(0,s[c])()}function SS(s,c){return c}function CS(s,c){if(Xt){var f=Sr.formState;if(f!==null){e:{var v=Pt;if(Xt){if(Ir){t:{for(var A=Ir,O=gs;A.nodeType!==8;){if(!O){A=null;break t}if(A=ys(A.nextSibling),A===null){A=null;break t}}O=A.data,A=O==="F!"||O==="F"?A:null}if(A){Ir=ys(A.nextSibling),v=A.data==="F!";break e}}$i(v)}v=!1}v&&(c=f[0])}}return f=pa(),f.memoizedState=f.baseState=c,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SS,lastRenderedState:c},f.queue=v,f=qS.bind(null,Pt,v),v.dispatch=f,v=Q1(!1),O=sy.bind(null,Pt,!1,v.queue),v=pa(),A={state:c,dispatch:null,action:s,pending:null},v.queue=A,f=kR.bind(null,Pt,A,O,f),A.dispatch=f,v.memoizedState=s,[c,f,!1]}function AS(s){var c=dn();return TS(c,gr,s)}function TS(s,c,f){if(c=K1(s,c,SS)[0],s=b0(Yl)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var v=Fd(c)}catch(z){throw z===tu?c0:z}else v=c;c=dn();var A=c.queue,O=A.dispatch;return f!==c.memoizedState&&(Pt.flags|=2048,lu(9,{destroy:void 0},MR.bind(null,A,f),null)),[v,O,s]}function MR(s,c){s.action=c}function OS(s){var c=dn(),f=gr;if(f!==null)return TS(c,f,s);dn(),c=c.memoizedState,f=dn();var v=f.queue.dispatch;return f.memoizedState=s,[c,v,!1]}function lu(s,c,f,v){return s={tag:s,create:f,deps:v,inst:c,next:null},c=Pt.updateQueue,c===null&&(c=y0(),Pt.updateQueue=c),f=c.lastEffect,f===null?c.lastEffect=s.next=s:(v=f.next,f.next=s,s.next=v,c.lastEffect=s),s}function _S(){return dn().memoizedState}function v0(s,c,f,v){var A=pa();Pt.flags|=s,A.memoizedState=lu(1|c,{destroy:void 0},f,v===void 0?null:v)}function E0(s,c,f,v){var A=dn();v=v===void 0?null:v;var O=A.memoizedState.inst;gr!==null&&v!==null&&q1(v,gr.memoizedState.deps)?A.memoizedState=lu(c,O,f,v):(Pt.flags|=s,A.memoizedState=lu(1|c,O,f,v))}function DS(s,c){v0(8390656,8,s,c)}function ey(s,c){E0(2048,8,s,c)}function PR(s){Pt.flags|=4;var c=Pt.updateQueue;if(c===null)c=y0(),Pt.updateQueue=c,c.events=[s];else{var f=c.events;f===null?c.events=[s]:f.push(s)}}function kS(s){var c=dn().memoizedState;return PR({ref:c,nextImpl:s}),function(){if((lr&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function MS(s,c){return E0(4,2,s,c)}function PS(s,c){return E0(4,4,s,c)}function IS(s,c){if(typeof c=="function"){s=s();var f=c(s);return function(){typeof f=="function"?f():c(null)}}if(c!=null)return s=s(),c.current=s,function(){c.current=null}}function RS(s,c,f){f=f!=null?f.concat([s]):null,E0(4,4,IS.bind(null,c,s),f)}function ty(){}function LS(s,c){var f=dn();c=c===void 0?null:c;var v=f.memoizedState;return c!==null&&q1(c,v[1])?v[0]:(f.memoizedState=[s,c],s)}function BS(s,c){var f=dn();c=c===void 0?null:c;var v=f.memoizedState;if(c!==null&&q1(c,v[1]))return v[0];if(v=s(),rc){tt(!0);try{s()}finally{tt(!1)}}return f.memoizedState=[v,c],v}function ry(s,c,f){return f===void 0||(Gl&1073741824)!==0&&(Gt&261930)===0?s.memoizedState=c:(s.memoizedState=f,s=FC(),Pt.lanes|=s,eo|=s,f)}function FS(s,c,f,v){return E(f,c)?f:nu.current!==null?(s=ry(s,f,v),E(s,c)||(wn=!0),s):(Gl&42)===0||(Gl&1073741824)!==0&&(Gt&261930)===0?(wn=!0,s.memoizedState=f):(s=FC(),Pt.lanes|=s,eo|=s,c)}function US(s,c,f,v,A){var O=ae.p;ae.p=O!==0&&8>O?O:8;var z=J.T,Z={};J.T=Z,sy(s,!1,c,f);try{var ie=A(),Te=J.S;if(Te!==null&&Te(Z,ie),ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var je=OR(ie,v);Ud(s,c,je,Qa(s))}else Ud(s,c,v,Qa(s))}catch(He){Ud(s,c,{then:function(){},status:"rejected",reason:He},Qa())}finally{ae.p=O,z!==null&&Z.types!==null&&(z.types=Z.types),J.T=z}}function IR(){}function ny(s,c,f,v){if(s.tag!==5)throw Error(n(476));var A=jS(s).queue;US(s,A,c,Ee,f===null?IR:function(){return zS(s),f(v)})}function jS(s){var c=s.memoizedState;if(c!==null)return c;c={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:Ee},next:null};var f={};return c.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:f},next:null},s.memoizedState=c,s=s.alternate,s!==null&&(s.memoizedState=c),c}function zS(s){var c=jS(s);c.next===null&&(c=s.alternate.memoizedState),Ud(s,c.next.queue,{},Qa())}function ay(){return Jn(rm)}function VS(){return dn().memoizedState}function HS(){return dn().memoizedState}function RR(s){for(var c=s.return;c!==null;){switch(c.tag){case 24:case 3:var f=Qa();s=Xi(f);var v=Wi(c,s,f);v!==null&&(Pa(v,c,f),Id(v,c,f)),c={cache:P1()},s.payload=c;return}c=c.return}}function LR(s,c,f){var v=Qa();f={lane:v,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},w0(s)?$S(c,f):(f=w1(s,c,f,v),f!==null&&(Pa(f,s,v),GS(f,c,v)))}function qS(s,c,f){var v=Qa();Ud(s,c,f,v)}function Ud(s,c,f,v){var A={lane:v,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(w0(s))$S(c,A);else{var O=s.alternate;if(s.lanes===0&&(O===null||O.lanes===0)&&(O=c.lastRenderedReducer,O!==null))try{var z=c.lastRenderedState,Z=O(z,f);if(A.hasEagerState=!0,A.eagerState=Z,E(Z,z))return r0(s,c,A,0),Sr===null&&t0(),!1}catch{}finally{}if(f=w1(s,c,A,v),f!==null)return Pa(f,s,v),GS(f,c,v),!0}return!1}function sy(s,c,f,v){if(v={lane:2,revertLane:By(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},w0(s)){if(c)throw Error(n(479))}else c=w1(s,f,v,2),c!==null&&Pa(c,s,2)}function w0(s){var c=s.alternate;return s===Pt||c!==null&&c===Pt}function $S(s,c){au=g0=!0;var f=s.pending;f===null?c.next=c:(c.next=f.next,f.next=c),s.pending=c}function GS(s,c,f){if((f&4194048)!==0){var v=c.lanes;v&=s.pendingLanes,f|=v,c.lanes=f,Sa(s,f)}}var jd={readContext:Jn,use:x0,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useLayoutEffect:Jr,useInsertionEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useSyncExternalStore:Jr,useId:Jr,useHostTransitionStatus:Jr,useFormState:Jr,useActionState:Jr,useOptimistic:Jr,useMemoCache:Jr,useCacheRefresh:Jr};jd.useEffectEvent=Jr;var YS={readContext:Jn,use:x0,useCallback:function(s,c){return pa().memoizedState=[s,c===void 0?null:c],s},useContext:Jn,useEffect:DS,useImperativeHandle:function(s,c,f){f=f!=null?f.concat([s]):null,v0(4194308,4,IS.bind(null,c,s),f)},useLayoutEffect:function(s,c){return v0(4194308,4,s,c)},useInsertionEffect:function(s,c){v0(4,2,s,c)},useMemo:function(s,c){var f=pa();c=c===void 0?null:c;var v=s();if(rc){tt(!0);try{s()}finally{tt(!1)}}return f.memoizedState=[v,c],v},useReducer:function(s,c,f){var v=pa();if(f!==void 0){var A=f(c);if(rc){tt(!0);try{f(c)}finally{tt(!1)}}}else A=c;return v.memoizedState=v.baseState=A,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:A},v.queue=s,s=s.dispatch=LR.bind(null,Pt,s),[v.memoizedState,s]},useRef:function(s){var c=pa();return s={current:s},c.memoizedState=s},useState:function(s){s=Q1(s);var c=s.queue,f=qS.bind(null,Pt,c);return c.dispatch=f,[s.memoizedState,f]},useDebugValue:ty,useDeferredValue:function(s,c){var f=pa();return ry(f,s,c)},useTransition:function(){var s=Q1(!1);return s=US.bind(null,Pt,s.queue,!0,!1),pa().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,c,f){var v=Pt,A=pa();if(Xt){if(f===void 0)throw Error(n(407));f=f()}else{if(f=c(),Sr===null)throw Error(n(349));(Gt&127)!==0||hS(v,c,f)}A.memoizedState=f;var O={value:f,getSnapshot:c};return A.queue=O,DS(pS.bind(null,v,O,s),[s]),v.flags|=2048,lu(9,{destroy:void 0},gS.bind(null,v,O,f,c),null),f},useId:function(){var s=pa(),c=Sr.identifierPrefix;if(Xt){var f=hl,v=fl;f=(v&~(1<<32-nt(v)-1)).toString(32)+f,c="_"+c+"R_"+f,f=p0++,0<f&&(c+="H"+f.toString(32)),c+="_"}else f=_R++,c="_"+c+"r_"+f.toString(32)+"_";return s.memoizedState=c},useHostTransitionStatus:ay,useFormState:CS,useActionState:CS,useOptimistic:function(s){var c=pa();c.memoizedState=c.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=f,c=sy.bind(null,Pt,!0,f),f.dispatch=c,[s,c]},useMemoCache:W1,useCacheRefresh:function(){return pa().memoizedState=RR.bind(null,Pt)},useEffectEvent:function(s){var c=pa(),f={impl:s};return c.memoizedState=f,function(){if((lr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}},ly={readContext:Jn,use:x0,useCallback:LS,useContext:Jn,useEffect:ey,useImperativeHandle:RS,useInsertionEffect:MS,useLayoutEffect:PS,useMemo:BS,useReducer:b0,useRef:_S,useState:function(){return b0(Yl)},useDebugValue:ty,useDeferredValue:function(s,c){var f=dn();return FS(f,gr.memoizedState,s,c)},useTransition:function(){var s=b0(Yl)[0],c=dn().memoizedState;return[typeof s=="boolean"?s:Fd(s),c]},useSyncExternalStore:fS,useId:VS,useHostTransitionStatus:ay,useFormState:AS,useActionState:AS,useOptimistic:function(s,c){var f=dn();return bS(f,gr,s,c)},useMemoCache:W1,useCacheRefresh:HS};ly.useEffectEvent=kS;var XS={readContext:Jn,use:x0,useCallback:LS,useContext:Jn,useEffect:ey,useImperativeHandle:RS,useInsertionEffect:MS,useLayoutEffect:PS,useMemo:BS,useReducer:Z1,useRef:_S,useState:function(){return Z1(Yl)},useDebugValue:ty,useDeferredValue:function(s,c){var f=dn();return gr===null?ry(f,s,c):FS(f,gr.memoizedState,s,c)},useTransition:function(){var s=Z1(Yl)[0],c=dn().memoizedState;return[typeof s=="boolean"?s:Fd(s),c]},useSyncExternalStore:fS,useId:VS,useHostTransitionStatus:ay,useFormState:OS,useActionState:OS,useOptimistic:function(s,c){var f=dn();return gr!==null?bS(f,gr,s,c):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:W1,useCacheRefresh:HS};XS.useEffectEvent=kS;function iy(s,c,f,v){c=s.memoizedState,f=f(v,c),f=f==null?c:w({},c,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var oy={enqueueSetState:function(s,c,f){s=s._reactInternals;var v=Qa(),A=Xi(v);A.payload=c,f!=null&&(A.callback=f),c=Wi(s,A,v),c!==null&&(Pa(c,s,v),Id(c,s,v))},enqueueReplaceState:function(s,c,f){s=s._reactInternals;var v=Qa(),A=Xi(v);A.tag=1,A.payload=c,f!=null&&(A.callback=f),c=Wi(s,A,v),c!==null&&(Pa(c,s,v),Id(c,s,v))},enqueueForceUpdate:function(s,c){s=s._reactInternals;var f=Qa(),v=Xi(f);v.tag=2,c!=null&&(v.callback=c),c=Wi(s,v,f),c!==null&&(Pa(c,s,f),Id(c,s,f))}};function WS(s,c,f,v,A,O,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(v,O,z):c.prototype&&c.prototype.isPureReactComponent?!S(f,v)||!S(A,O):!0}function KS(s,c,f,v){s=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(f,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(f,v),c.state!==s&&oy.enqueueReplaceState(c,c.state,null)}function nc(s,c){var f=c;if("ref"in c){f={};for(var v in c)v!=="ref"&&(f[v]=c[v])}if(s=s.defaultProps){f===c&&(f=w({},f));for(var A in s)f[A]===void 0&&(f[A]=s[A])}return f}function ZS(s){e0(s)}function QS(s){console.error(s)}function JS(s){e0(s)}function N0(s,c){try{var f=s.onUncaughtError;f(c.value,{componentStack:c.stack})}catch(v){setTimeout(function(){throw v})}}function eC(s,c,f){try{var v=s.onCaughtError;v(f.value,{componentStack:f.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function cy(s,c,f){return f=Xi(f),f.tag=3,f.payload={element:null},f.callback=function(){N0(s,c)},f}function tC(s){return s=Xi(s),s.tag=3,s}function rC(s,c,f,v){var A=f.type.getDerivedStateFromError;if(typeof A=="function"){var O=v.value;s.payload=function(){return A(O)},s.callback=function(){eC(c,f,v)}}var z=f.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(s.callback=function(){eC(c,f,v),typeof A!="function"&&(to===null?to=new Set([this]):to.add(this));var Z=v.stack;this.componentDidCatch(v.value,{componentStack:Z!==null?Z:""})})}function BR(s,c,f,v,A){if(f.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(c=f.alternate,c!==null&&Qc(c,f,A,!0),f=Xa.current,f!==null){switch(f.tag){case 31:case 13:return ps===null?R0():f.alternate===null&&en===0&&(en=3),f.flags&=-257,f.flags|=65536,f.lanes=A,v===u0?f.flags|=16384:(c=f.updateQueue,c===null?f.updateQueue=new Set([v]):c.add(v),Iy(s,v,A)),!1;case 22:return f.flags|=65536,v===u0?f.flags|=16384:(c=f.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([v])},f.updateQueue=c):(f=c.retryQueue,f===null?c.retryQueue=new Set([v]):f.add(v)),Iy(s,v,A)),!1}throw Error(n(435,f.tag))}return Iy(s,v,A),R0(),!1}if(Xt)return c=Xa.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,v!==O1&&(s=Error(n(422),{cause:v}),_d(ms(s,f)))):(v!==O1&&(c=Error(n(423),{cause:v}),_d(ms(c,f))),s=s.current.alternate,s.flags|=65536,A&=-A,s.lanes|=A,v=ms(v,f),A=cy(s.stateNode,v,A),U1(s,A),en!==4&&(en=2)),!1;var O=Error(n(520),{cause:v});if(O=ms(O,f),Xd===null?Xd=[O]:Xd.push(O),en!==4&&(en=2),c===null)return!0;v=ms(v,f),f=c;do{switch(f.tag){case 3:return f.flags|=65536,s=A&-A,f.lanes|=s,s=cy(f.stateNode,v,s),U1(f,s),!1;case 1:if(c=f.type,O=f.stateNode,(f.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(to===null||!to.has(O))))return f.flags|=65536,A&=-A,f.lanes|=A,A=tC(A),rC(A,s,f,v),U1(f,A),!1}f=f.return}while(f!==null);return!1}var uy=Error(n(461)),wn=!1;function ea(s,c,f,v){c.child=s===null?lS(c,null,f,v):tc(c,s.child,f,v)}function nC(s,c,f,v,A){f=f.render;var O=c.ref;if("ref"in v){var z={};for(var Z in v)Z!=="ref"&&(z[Z]=v[Z])}else z=v;return Zo(c),v=$1(s,c,f,z,O,A),Z=G1(),s!==null&&!wn?(Y1(s,c,A),Xl(s,c,A)):(Xt&&Z&&A1(c),c.flags|=1,ea(s,c,v,A),c.child)}function aC(s,c,f,v,A){if(s===null){var O=f.type;return typeof O=="function"&&!N1(O)&&O.defaultProps===void 0&&f.compare===null?(c.tag=15,c.type=O,sC(s,c,O,v,A)):(s=a0(f.type,null,v,c,c.mode,A),s.ref=c.ref,s.return=c,c.child=s)}if(O=s.child,!xy(s,A)){var z=O.memoizedProps;if(f=f.compare,f=f!==null?f:S,f(z,v)&&s.ref===c.ref)return Xl(s,c,A)}return c.flags|=1,s=Vl(O,v),s.ref=c.ref,s.return=c,c.child=s}function sC(s,c,f,v,A){if(s!==null){var O=s.memoizedProps;if(S(O,v)&&s.ref===c.ref)if(wn=!1,c.pendingProps=v=O,xy(s,A))(s.flags&131072)!==0&&(wn=!0);else return c.lanes=s.lanes,Xl(s,c,A)}return dy(s,c,f,v,A)}function lC(s,c,f,v){var A=v.children,O=s!==null?s.memoizedState:null;if(s===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((c.flags&128)!==0){if(O=O!==null?O.baseLanes|f:f,s!==null){for(v=c.child=s.child,A=0;v!==null;)A=A|v.lanes|v.childLanes,v=v.sibling;v=A&~O}else v=0,c.child=null;return iC(s,c,O,f,v)}if((f&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},s!==null&&o0(c,O!==null?O.cachePool:null),O!==null?cS(c,O):z1(),uS(c);else return v=c.lanes=536870912,iC(s,c,O!==null?O.baseLanes|f:f,f,v)}else O!==null?(o0(c,O.cachePool),cS(c,O),Zi(),c.memoizedState=null):(s!==null&&o0(c,null),z1(),Zi());return ea(s,c,A,f),c.child}function zd(s,c){return s!==null&&s.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function iC(s,c,f,v,A){var O=R1();return O=O===null?null:{parent:vn._currentValue,pool:O},c.memoizedState={baseLanes:f,cachePool:O},s!==null&&o0(c,null),z1(),uS(c),s!==null&&Qc(s,c,v,!0),c.childLanes=A,null}function S0(s,c){return c=A0({mode:c.mode,children:c.children},s.mode),c.ref=s.ref,s.child=c,c.return=s,c}function oC(s,c,f){return tc(c,s.child,null,f),s=S0(c,c.pendingProps),s.flags|=2,Wa(c),c.memoizedState=null,s}function FR(s,c,f){var v=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,s===null){if(Xt){if(v.mode==="hidden")return s=S0(c,v),c.lanes=536870912,zd(null,s);if(H1(c),(s=Ir)?(s=v3(s,gs),s=s!==null&&s.data==="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Hi!==null?{id:fl,overflow:hl}:null,retryLane:536870912,hydrationErrors:null},f=$N(s),f.return=c,c.child=f,Qn=c,Ir=null)):s=null,s===null)throw $i(c);return c.lanes=536870912,null}return S0(c,v)}var O=s.memoizedState;if(O!==null){var z=O.dehydrated;if(H1(c),A)if(c.flags&256)c.flags&=-257,c=oC(s,c,f);else if(c.memoizedState!==null)c.child=s.child,c.flags|=128,c=null;else throw Error(n(558));else if(wn||Qc(s,c,f,!1),A=(f&s.childLanes)!==0,wn||A){if(v=Sr,v!==null&&(z=Il(v,f),z!==0&&z!==O.retryLane))throw O.retryLane=z,Yo(s,z),Pa(v,s,z),uy;R0(),c=oC(s,c,f)}else s=O.treeContext,Ir=ys(z.nextSibling),Qn=c,Xt=!0,qi=null,gs=!1,s!==null&&XN(c,s),c=S0(c,v),c.flags|=4096;return c}return s=Vl(s.child,{mode:v.mode,children:v.children}),s.ref=c.ref,c.child=s,s.return=c,s}function C0(s,c){var f=c.ref;if(f===null)s!==null&&s.ref!==null&&(c.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(n(284));(s===null||s.ref!==f)&&(c.flags|=4194816)}}function dy(s,c,f,v,A){return Zo(c),f=$1(s,c,f,v,void 0,A),v=G1(),s!==null&&!wn?(Y1(s,c,A),Xl(s,c,A)):(Xt&&v&&A1(c),c.flags|=1,ea(s,c,f,A),c.child)}function cC(s,c,f,v,A,O){return Zo(c),c.updateQueue=null,f=mS(c,v,f,A),dS(s),v=G1(),s!==null&&!wn?(Y1(s,c,O),Xl(s,c,O)):(Xt&&v&&A1(c),c.flags|=1,ea(s,c,f,O),c.child)}function uC(s,c,f,v,A){if(Zo(c),c.stateNode===null){var O=Xc,z=f.contextType;typeof z=="object"&&z!==null&&(O=Jn(z)),O=new f(v,O),c.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=oy,c.stateNode=O,O._reactInternals=c,O=c.stateNode,O.props=v,O.state=c.memoizedState,O.refs={},B1(c),z=f.contextType,O.context=typeof z=="object"&&z!==null?Jn(z):Xc,O.state=c.memoizedState,z=f.getDerivedStateFromProps,typeof z=="function"&&(iy(c,f,z,v),O.state=c.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(z=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),z!==O.state&&oy.enqueueReplaceState(O,O.state,null),Ld(c,v,O,A),Rd(),O.state=c.memoizedState),typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!0}else if(s===null){O=c.stateNode;var Z=c.memoizedProps,ie=nc(f,Z);O.props=ie;var Te=O.context,je=f.contextType;z=Xc,typeof je=="object"&&je!==null&&(z=Jn(je));var He=f.getDerivedStateFromProps;je=typeof He=="function"||typeof O.getSnapshotBeforeUpdate=="function",Z=c.pendingProps!==Z,je||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(Z||Te!==z)&&KS(c,O,v,z),Yi=!1;var Oe=c.memoizedState;O.state=Oe,Ld(c,v,O,A),Rd(),Te=c.memoizedState,Z||Oe!==Te||Yi?(typeof He=="function"&&(iy(c,f,He,v),Te=c.memoizedState),(ie=Yi||WS(c,f,ie,v,Oe,Te,z))?(je||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(c.flags|=4194308)):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=Te),O.props=v,O.state=Te,O.context=z,v=ie):(typeof O.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{O=c.stateNode,F1(s,c),z=c.memoizedProps,je=nc(f,z),O.props=je,He=c.pendingProps,Oe=O.context,Te=f.contextType,ie=Xc,typeof Te=="object"&&Te!==null&&(ie=Jn(Te)),Z=f.getDerivedStateFromProps,(Te=typeof Z=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(z!==He||Oe!==ie)&&KS(c,O,v,ie),Yi=!1,Oe=c.memoizedState,O.state=Oe,Ld(c,v,O,A),Rd();var Ie=c.memoizedState;z!==He||Oe!==Ie||Yi||s!==null&&s.dependencies!==null&&l0(s.dependencies)?(typeof Z=="function"&&(iy(c,f,Z,v),Ie=c.memoizedState),(je=Yi||WS(c,f,je,v,Oe,Ie,ie)||s!==null&&s.dependencies!==null&&l0(s.dependencies))?(Te||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(v,Ie,ie),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(v,Ie,ie)),typeof O.componentDidUpdate=="function"&&(c.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof O.componentDidUpdate!="function"||z===s.memoizedProps&&Oe===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Oe===s.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Ie),O.props=v,O.state=Ie,O.context=ie,v=je):(typeof O.componentDidUpdate!="function"||z===s.memoizedProps&&Oe===s.memoizedState||(c.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Oe===s.memoizedState||(c.flags|=1024),v=!1)}return O=v,C0(s,c),v=(c.flags&128)!==0,O||v?(O=c.stateNode,f=v&&typeof f.getDerivedStateFromError!="function"?null:O.render(),c.flags|=1,s!==null&&v?(c.child=tc(c,s.child,null,A),c.child=tc(c,null,f,A)):ea(s,c,f,A),c.memoizedState=O.state,s=c.child):s=Xl(s,c,A),s}function dC(s,c,f,v){return Wo(),c.flags|=256,ea(s,c,f,v),c.child}var my={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fy(s){return{baseLanes:s,cachePool:eS()}}function hy(s,c,f){return s=s!==null?s.childLanes&~f:0,c&&(s|=Za),s}function mC(s,c,f){var v=c.pendingProps,A=!1,O=(c.flags&128)!==0,z;if((z=O)||(z=s!==null&&s.memoizedState===null?!1:(un.current&2)!==0),z&&(A=!0,c.flags&=-129),z=(c.flags&32)!==0,c.flags&=-33,s===null){if(Xt){if(A?Ki(c):Zi(),(s=Ir)?(s=v3(s,gs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(c.memoizedState={dehydrated:s,treeContext:Hi!==null?{id:fl,overflow:hl}:null,retryLane:536870912,hydrationErrors:null},f=$N(s),f.return=c,c.child=f,Qn=c,Ir=null)):s=null,s===null)throw $i(c);return Ky(s)?c.lanes=32:c.lanes=536870912,null}var Z=v.children;return v=v.fallback,A?(Zi(),A=c.mode,Z=A0({mode:"hidden",children:Z},A),v=Xo(v,A,f,null),Z.return=c,v.return=c,Z.sibling=v,c.child=Z,v=c.child,v.memoizedState=fy(f),v.childLanes=hy(s,z,f),c.memoizedState=my,zd(null,v)):(Ki(c),gy(c,Z))}var ie=s.memoizedState;if(ie!==null&&(Z=ie.dehydrated,Z!==null)){if(O)c.flags&256?(Ki(c),c.flags&=-257,c=py(s,c,f)):c.memoizedState!==null?(Zi(),c.child=s.child,c.flags|=128,c=null):(Zi(),Z=v.fallback,A=c.mode,v=A0({mode:"visible",children:v.children},A),Z=Xo(Z,A,f,null),Z.flags|=2,v.return=c,Z.return=c,v.sibling=Z,c.child=v,tc(c,s.child,null,f),v=c.child,v.memoizedState=fy(f),v.childLanes=hy(s,z,f),c.memoizedState=my,c=zd(null,v));else if(Ki(c),Ky(Z)){if(z=Z.nextSibling&&Z.nextSibling.dataset,z)var Te=z.dgst;z=Te,v=Error(n(419)),v.stack="",v.digest=z,_d({value:v,source:null,stack:null}),c=py(s,c,f)}else if(wn||Qc(s,c,f,!1),z=(f&s.childLanes)!==0,wn||z){if(z=Sr,z!==null&&(v=Il(z,f),v!==0&&v!==ie.retryLane))throw ie.retryLane=v,Yo(s,v),Pa(z,s,v),uy;Wy(Z)||R0(),c=py(s,c,f)}else Wy(Z)?(c.flags|=192,c.child=s.child,c=null):(s=ie.treeContext,Ir=ys(Z.nextSibling),Qn=c,Xt=!0,qi=null,gs=!1,s!==null&&XN(c,s),c=gy(c,v.children),c.flags|=4096);return c}return A?(Zi(),Z=v.fallback,A=c.mode,ie=s.child,Te=ie.sibling,v=Vl(ie,{mode:"hidden",children:v.children}),v.subtreeFlags=ie.subtreeFlags&65011712,Te!==null?Z=Vl(Te,Z):(Z=Xo(Z,A,f,null),Z.flags|=2),Z.return=c,v.return=c,v.sibling=Z,c.child=v,zd(null,v),v=c.child,Z=s.child.memoizedState,Z===null?Z=fy(f):(A=Z.cachePool,A!==null?(ie=vn._currentValue,A=A.parent!==ie?{parent:ie,pool:ie}:A):A=eS(),Z={baseLanes:Z.baseLanes|f,cachePool:A}),v.memoizedState=Z,v.childLanes=hy(s,z,f),c.memoizedState=my,zd(s.child,v)):(Ki(c),f=s.child,s=f.sibling,f=Vl(f,{mode:"visible",children:v.children}),f.return=c,f.sibling=null,s!==null&&(z=c.deletions,z===null?(c.deletions=[s],c.flags|=16):z.push(s)),c.child=f,c.memoizedState=null,f)}function gy(s,c){return c=A0({mode:"visible",children:c},s.mode),c.return=s,s.child=c}function A0(s,c){return s=Ya(22,s,null,c),s.lanes=0,s}function py(s,c,f){return tc(c,s.child,null,f),s=gy(c,c.pendingProps.children),s.flags|=2,c.memoizedState=null,s}function fC(s,c,f){s.lanes|=c;var v=s.alternate;v!==null&&(v.lanes|=c),k1(s.return,c,f)}function yy(s,c,f,v,A,O){var z=s.memoizedState;z===null?s.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:f,tailMode:A,treeForkCount:O}:(z.isBackwards=c,z.rendering=null,z.renderingStartTime=0,z.last=v,z.tail=f,z.tailMode=A,z.treeForkCount=O)}function hC(s,c,f){var v=c.pendingProps,A=v.revealOrder,O=v.tail;v=v.children;var z=un.current,Z=(z&2)!==0;if(Z?(z=z&1|2,c.flags|=128):z&=1,me(un,z),ea(s,c,v,f),v=Xt?Od:0,!Z&&s!==null&&(s.flags&128)!==0)e:for(s=c.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fC(s,f,c);else if(s.tag===19)fC(s,f,c);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===c)break e;for(;s.sibling===null;){if(s.return===null||s.return===c)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(A){case"forwards":for(f=c.child,A=null;f!==null;)s=f.alternate,s!==null&&h0(s)===null&&(A=f),f=f.sibling;f=A,f===null?(A=c.child,c.child=null):(A=f.sibling,f.sibling=null),yy(c,!1,A,f,O,v);break;case"backwards":case"unstable_legacy-backwards":for(f=null,A=c.child,c.child=null;A!==null;){if(s=A.alternate,s!==null&&h0(s)===null){c.child=A;break}s=A.sibling,A.sibling=f,f=A,A=s}yy(c,!0,f,null,O,v);break;case"together":yy(c,!1,null,null,void 0,v);break;default:c.memoizedState=null}return c.child}function Xl(s,c,f){if(s!==null&&(c.dependencies=s.dependencies),eo|=c.lanes,(f&c.childLanes)===0)if(s!==null){if(Qc(s,c,f,!1),(f&c.childLanes)===0)return null}else return null;if(s!==null&&c.child!==s.child)throw Error(n(153));if(c.child!==null){for(s=c.child,f=Vl(s,s.pendingProps),c.child=f,f.return=c;s.sibling!==null;)s=s.sibling,f=f.sibling=Vl(s,s.pendingProps),f.return=c;f.sibling=null}return c.child}function xy(s,c){return(s.lanes&c)!==0?!0:(s=s.dependencies,!!(s!==null&&l0(s)))}function UR(s,c,f){switch(c.tag){case 3:ze(c,c.stateNode.containerInfo),Gi(c,vn,s.memoizedState.cache),Wo();break;case 27:case 5:Ye(c);break;case 4:ze(c,c.stateNode.containerInfo);break;case 10:Gi(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,H1(c),null;break;case 13:var v=c.memoizedState;if(v!==null)return v.dehydrated!==null?(Ki(c),c.flags|=128,null):(f&c.child.childLanes)!==0?mC(s,c,f):(Ki(c),s=Xl(s,c,f),s!==null?s.sibling:null);Ki(c);break;case 19:var A=(s.flags&128)!==0;if(v=(f&c.childLanes)!==0,v||(Qc(s,c,f,!1),v=(f&c.childLanes)!==0),A){if(v)return hC(s,c,f);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),me(un,un.current),v)break;return null;case 22:return c.lanes=0,lC(s,c,f,c.pendingProps);case 24:Gi(c,vn,s.memoizedState.cache)}return Xl(s,c,f)}function gC(s,c,f){if(s!==null)if(s.memoizedProps!==c.pendingProps)wn=!0;else{if(!xy(s,f)&&(c.flags&128)===0)return wn=!1,UR(s,c,f);wn=(s.flags&131072)!==0}else wn=!1,Xt&&(c.flags&1048576)!==0&&YN(c,Od,c.index);switch(c.lanes=0,c.tag){case 16:e:{var v=c.pendingProps;if(s=Jo(c.elementType),c.type=s,typeof s=="function")N1(s)?(v=nc(s,v),c.tag=1,c=uC(null,c,s,v,f)):(c.tag=0,c=dy(null,c,s,v,f));else{if(s!=null){var A=s.$$typeof;if(A===G){c.tag=11,c=nC(null,c,s,v,f);break e}else if(A===L){c.tag=14,c=aC(null,c,s,v,f);break e}}throw c=pe(s)||s,Error(n(306,c,""))}}return c;case 0:return dy(s,c,c.type,c.pendingProps,f);case 1:return v=c.type,A=nc(v,c.pendingProps),uC(s,c,v,A,f);case 3:e:{if(ze(c,c.stateNode.containerInfo),s===null)throw Error(n(387));v=c.pendingProps;var O=c.memoizedState;A=O.element,F1(s,c),Ld(c,v,null,f);var z=c.memoizedState;if(v=z.cache,Gi(c,vn,v),v!==O.cache&&M1(c,[vn],f,!0),Rd(),v=z.element,O.isDehydrated)if(O={element:v,isDehydrated:!1,cache:z.cache},c.updateQueue.baseState=O,c.memoizedState=O,c.flags&256){c=dC(s,c,v,f);break e}else if(v!==A){A=ms(Error(n(424)),c),_d(A),c=dC(s,c,v,f);break e}else{switch(s=c.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ir=ys(s.firstChild),Qn=c,Xt=!0,qi=null,gs=!0,f=lS(c,null,v,f),c.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Wo(),v===A){c=Xl(s,c,f);break e}ea(s,c,v,f)}c=c.child}return c;case 26:return C0(s,c),s===null?(f=A3(c.type,null,c.pendingProps,null))?c.memoizedState=f:Xt||(f=c.type,s=c.pendingProps,v=V0(le.current).createElement(f),v[Fr]=c,v[Jt]=s,ta(v,f,s),Ar(v),c.stateNode=v):c.memoizedState=A3(c.type,s.memoizedProps,c.pendingProps,s.memoizedState),null;case 27:return Ye(c),s===null&&Xt&&(v=c.stateNode=N3(c.type,c.pendingProps,le.current),Qn=c,gs=!0,A=Ir,so(c.type)?(Zy=A,Ir=ys(v.firstChild)):Ir=A),ea(s,c,c.pendingProps.children,f),C0(s,c),s===null&&(c.flags|=4194304),c.child;case 5:return s===null&&Xt&&((A=v=Ir)&&(v=g9(v,c.type,c.pendingProps,gs),v!==null?(c.stateNode=v,Qn=c,Ir=ys(v.firstChild),gs=!1,A=!0):A=!1),A||$i(c)),Ye(c),A=c.type,O=c.pendingProps,z=s!==null?s.memoizedProps:null,v=O.children,Gy(A,O)?v=null:z!==null&&Gy(A,z)&&(c.flags|=32),c.memoizedState!==null&&(A=$1(s,c,DR,null,null,f),rm._currentValue=A),C0(s,c),ea(s,c,v,f),c.child;case 6:return s===null&&Xt&&((s=f=Ir)&&(f=p9(f,c.pendingProps,gs),f!==null?(c.stateNode=f,Qn=c,Ir=null,s=!0):s=!1),s||$i(c)),null;case 13:return mC(s,c,f);case 4:return ze(c,c.stateNode.containerInfo),v=c.pendingProps,s===null?c.child=tc(c,null,v,f):ea(s,c,v,f),c.child;case 11:return nC(s,c,c.type,c.pendingProps,f);case 7:return ea(s,c,c.pendingProps,f),c.child;case 8:return ea(s,c,c.pendingProps.children,f),c.child;case 12:return ea(s,c,c.pendingProps.children,f),c.child;case 10:return v=c.pendingProps,Gi(c,c.type,v.value),ea(s,c,v.children,f),c.child;case 9:return A=c.type._context,v=c.pendingProps.children,Zo(c),A=Jn(A),v=v(A),c.flags|=1,ea(s,c,v,f),c.child;case 14:return aC(s,c,c.type,c.pendingProps,f);case 15:return sC(s,c,c.type,c.pendingProps,f);case 19:return hC(s,c,f);case 31:return FR(s,c,f);case 22:return lC(s,c,f,c.pendingProps);case 24:return Zo(c),v=Jn(vn),s===null?(A=R1(),A===null&&(A=Sr,O=P1(),A.pooledCache=O,O.refCount++,O!==null&&(A.pooledCacheLanes|=f),A=O),c.memoizedState={parent:v,cache:A},B1(c),Gi(c,vn,A)):((s.lanes&f)!==0&&(F1(s,c),Ld(c,null,null,f),Rd()),A=s.memoizedState,O=c.memoizedState,A.parent!==v?(A={parent:v,cache:v},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),Gi(c,vn,v)):(v=O.cache,Gi(c,vn,v),v!==A.cache&&M1(c,[vn],f,!0))),ea(s,c,c.pendingProps.children,f),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Wl(s){s.flags|=4}function by(s,c,f,v,A){if((c=(s.mode&32)!==0)&&(c=!1),c){if(s.flags|=16777216,(A&335544128)===A)if(s.stateNode.complete)s.flags|=8192;else if(VC())s.flags|=8192;else throw ec=u0,L1}else s.flags&=-16777217}function pC(s,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!k3(c))if(VC())s.flags|=8192;else throw ec=u0,L1}function T0(s,c){c!==null&&(s.flags|=4),s.flags&16384&&(c=s.tag!==22?Et():536870912,s.lanes|=c,uu|=c)}function Vd(s,c){if(!Xt)switch(s.tailMode){case"hidden":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?c||s.tail===null?s.tail=null:s.tail.sibling=null:v.sibling=null}}function Rr(s){var c=s.alternate!==null&&s.alternate.child===s.child,f=0,v=0;if(c)for(var A=s.child;A!==null;)f|=A.lanes|A.childLanes,v|=A.subtreeFlags&65011712,v|=A.flags&65011712,A.return=s,A=A.sibling;else for(A=s.child;A!==null;)f|=A.lanes|A.childLanes,v|=A.subtreeFlags,v|=A.flags,A.return=s,A=A.sibling;return s.subtreeFlags|=v,s.childLanes=f,c}function jR(s,c,f){var v=c.pendingProps;switch(T1(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(c),null;case 1:return Rr(c),null;case 3:return f=c.stateNode,v=null,s!==null&&(v=s.memoizedState.cache),c.memoizedState.cache!==v&&(c.flags|=2048),$l(vn),ve(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Zc(c)?Wl(c):s===null||s.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,_1())),Rr(c),null;case 26:var A=c.type,O=c.memoizedState;return s===null?(Wl(c),O!==null?(Rr(c),pC(c,O)):(Rr(c),by(c,A,null,v,f))):O?O!==s.memoizedState?(Wl(c),Rr(c),pC(c,O)):(Rr(c),c.flags&=-16777217):(s=s.memoizedProps,s!==v&&Wl(c),Rr(c),by(c,A,s,v,f)),null;case 27:if(rt(c),f=le.current,A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Wl(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return Rr(c),null}s=ue.current,Zc(c)?WN(c):(s=N3(A,v,f),c.stateNode=s,Wl(c))}return Rr(c),null;case 5:if(rt(c),A=c.type,s!==null&&c.stateNode!=null)s.memoizedProps!==v&&Wl(c);else{if(!v){if(c.stateNode===null)throw Error(n(166));return Rr(c),null}if(O=ue.current,Zc(c))WN(c);else{var z=V0(le.current);switch(O){case 1:O=z.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:O=z.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":O=z.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":O=z.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":O=z.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof v.is=="string"?z.createElement("select",{is:v.is}):z.createElement("select"),v.multiple?O.multiple=!0:v.size&&(O.size=v.size);break;default:O=typeof v.is=="string"?z.createElement(A,{is:v.is}):z.createElement(A)}}O[Fr]=c,O[Jt]=v;e:for(z=c.child;z!==null;){if(z.tag===5||z.tag===6)O.appendChild(z.stateNode);else if(z.tag!==4&&z.tag!==27&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===c)break e;for(;z.sibling===null;){if(z.return===null||z.return===c)break e;z=z.return}z.sibling.return=z.return,z=z.sibling}c.stateNode=O;e:switch(ta(O,A,v),A){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Wl(c)}}return Rr(c),by(c,c.type,s===null?null:s.memoizedProps,c.pendingProps,f),null;case 6:if(s&&c.stateNode!=null)s.memoizedProps!==v&&Wl(c);else{if(typeof v!="string"&&c.stateNode===null)throw Error(n(166));if(s=le.current,Zc(c)){if(s=c.stateNode,f=c.memoizedProps,v=null,A=Qn,A!==null)switch(A.tag){case 27:case 5:v=A.memoizedProps}s[Fr]=c,s=!!(s.nodeValue===f||v!==null&&v.suppressHydrationWarning===!0||m3(s.nodeValue,f)),s||$i(c,!0)}else s=V0(s).createTextNode(v),s[Fr]=c,c.stateNode=s}return Rr(c),null;case 31:if(f=c.memoizedState,s===null||s.memoizedState!==null){if(v=Zc(c),f!==null){if(s===null){if(!v)throw Error(n(318));if(s=c.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[Fr]=c}else Wo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Rr(c),s=!1}else f=_1(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return c.flags&256?(Wa(c),c):(Wa(c),null);if((c.flags&128)!==0)throw Error(n(558))}return Rr(c),null;case 13:if(v=c.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(A=Zc(c),v!==null&&v.dehydrated!==null){if(s===null){if(!A)throw Error(n(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Fr]=c}else Wo(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Rr(c),A=!1}else A=_1(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(Wa(c),c):(Wa(c),null)}return Wa(c),(c.flags&128)!==0?(c.lanes=f,c):(f=v!==null,s=s!==null&&s.memoizedState!==null,f&&(v=c.child,A=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(A=v.alternate.memoizedState.cachePool.pool),O=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(O=v.memoizedState.cachePool.pool),O!==A&&(v.flags|=2048)),f!==s&&f&&(c.child.flags|=8192),T0(c,c.updateQueue),Rr(c),null);case 4:return ve(),s===null&&zy(c.stateNode.containerInfo),Rr(c),null;case 10:return $l(c.type),Rr(c),null;case 19:if(te(un),v=c.memoizedState,v===null)return Rr(c),null;if(A=(c.flags&128)!==0,O=v.rendering,O===null)if(A)Vd(v,!1);else{if(en!==0||s!==null&&(s.flags&128)!==0)for(s=c.child;s!==null;){if(O=h0(s),O!==null){for(c.flags|=128,Vd(v,!1),s=O.updateQueue,c.updateQueue=s,T0(c,s),c.subtreeFlags=0,s=f,f=c.child;f!==null;)qN(f,s),f=f.sibling;return me(un,un.current&1|2),Xt&&Hl(c,v.treeForkCount),c.child}s=s.sibling}v.tail!==null&&ft()>M0&&(c.flags|=128,A=!0,Vd(v,!1),c.lanes=4194304)}else{if(!A)if(s=h0(O),s!==null){if(c.flags|=128,A=!0,s=s.updateQueue,c.updateQueue=s,T0(c,s),Vd(v,!0),v.tail===null&&v.tailMode==="hidden"&&!O.alternate&&!Xt)return Rr(c),null}else 2*ft()-v.renderingStartTime>M0&&f!==536870912&&(c.flags|=128,A=!0,Vd(v,!1),c.lanes=4194304);v.isBackwards?(O.sibling=c.child,c.child=O):(s=v.last,s!==null?s.sibling=O:c.child=O,v.last=O)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=ft(),s.sibling=null,f=un.current,me(un,A?f&1|2:f&1),Xt&&Hl(c,v.treeForkCount),s):(Rr(c),null);case 22:case 23:return Wa(c),V1(),v=c.memoizedState!==null,s!==null?s.memoizedState!==null!==v&&(c.flags|=8192):v&&(c.flags|=8192),v?(f&536870912)!==0&&(c.flags&128)===0&&(Rr(c),c.subtreeFlags&6&&(c.flags|=8192)):Rr(c),f=c.updateQueue,f!==null&&T0(c,f.retryQueue),f=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),v=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(v=c.memoizedState.cachePool.pool),v!==f&&(c.flags|=2048),s!==null&&te(Qo),null;case 24:return f=null,s!==null&&(f=s.memoizedState.cache),c.memoizedState.cache!==f&&(c.flags|=2048),$l(vn),Rr(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function zR(s,c){switch(T1(c),c.tag){case 1:return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 3:return $l(vn),ve(),s=c.flags,(s&65536)!==0&&(s&128)===0?(c.flags=s&-65537|128,c):null;case 26:case 27:case 5:return rt(c),null;case 31:if(c.memoizedState!==null){if(Wa(c),c.alternate===null)throw Error(n(340));Wo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 13:if(Wa(c),s=c.memoizedState,s!==null&&s.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Wo()}return s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 19:return te(un),null;case 4:return ve(),null;case 10:return $l(c.type),null;case 22:case 23:return Wa(c),V1(),s!==null&&te(Qo),s=c.flags,s&65536?(c.flags=s&-65537|128,c):null;case 24:return $l(vn),null;case 25:return null;default:return null}}function yC(s,c){switch(T1(c),c.tag){case 3:$l(vn),ve();break;case 26:case 27:case 5:rt(c);break;case 4:ve();break;case 31:c.memoizedState!==null&&Wa(c);break;case 13:Wa(c);break;case 19:te(un);break;case 10:$l(c.type);break;case 22:case 23:Wa(c),V1(),s!==null&&te(Qo);break;case 24:$l(vn)}}function Hd(s,c){try{var f=c.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var A=v.next;f=A;do{if((f.tag&s)===s){v=void 0;var O=f.create,z=f.inst;v=O(),z.destroy=v}f=f.next}while(f!==A)}}catch(Z){dr(c,c.return,Z)}}function Qi(s,c,f){try{var v=c.updateQueue,A=v!==null?v.lastEffect:null;if(A!==null){var O=A.next;v=O;do{if((v.tag&s)===s){var z=v.inst,Z=z.destroy;if(Z!==void 0){z.destroy=void 0,A=c;var ie=f,Te=Z;try{Te()}catch(je){dr(A,ie,je)}}}v=v.next}while(v!==O)}}catch(je){dr(c,c.return,je)}}function xC(s){var c=s.updateQueue;if(c!==null){var f=s.stateNode;try{oS(c,f)}catch(v){dr(s,s.return,v)}}}function bC(s,c,f){f.props=nc(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(v){dr(s,c,v)}}function qd(s,c){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var v=s.stateNode;break;case 30:v=s.stateNode;break;default:v=s.stateNode}typeof f=="function"?s.refCleanup=f(v):f.current=v}}catch(A){dr(s,c,A)}}function gl(s,c){var f=s.ref,v=s.refCleanup;if(f!==null)if(typeof v=="function")try{v()}catch(A){dr(s,c,A)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(A){dr(s,c,A)}else f.current=null}function vC(s){var c=s.type,f=s.memoizedProps,v=s.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":f.autoFocus&&v.focus();break e;case"img":f.src?v.src=f.src:f.srcSet&&(v.srcset=f.srcSet)}}catch(A){dr(s,s.return,A)}}function vy(s,c,f){try{var v=s.stateNode;c9(v,s.type,f,c),v[Jt]=c}catch(A){dr(s,s.return,A)}}function EC(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&so(s.type)||s.tag===4}function Ey(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||EC(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&so(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wy(s,c,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,c):(c=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,c.appendChild(s),f=f._reactRootContainer,f!=null||c.onclick!==null||(c.onclick=Aa));else if(v!==4&&(v===27&&so(s.type)&&(f=s.stateNode,c=null),s=s.child,s!==null))for(wy(s,c,f),s=s.sibling;s!==null;)wy(s,c,f),s=s.sibling}function O0(s,c,f){var v=s.tag;if(v===5||v===6)s=s.stateNode,c?f.insertBefore(s,c):f.appendChild(s);else if(v!==4&&(v===27&&so(s.type)&&(f=s.stateNode),s=s.child,s!==null))for(O0(s,c,f),s=s.sibling;s!==null;)O0(s,c,f),s=s.sibling}function wC(s){var c=s.stateNode,f=s.memoizedProps;try{for(var v=s.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);ta(c,v,f),c[Fr]=s,c[Jt]=f}catch(O){dr(s,s.return,O)}}var Kl=!1,Nn=!1,Ny=!1,NC=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function VR(s,c){if(s=s.containerInfo,qy=W0,s=$(s),K(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var v=f.getSelection&&f.getSelection();if(v&&v.rangeCount!==0){f=v.anchorNode;var A=v.anchorOffset,O=v.focusNode;v=v.focusOffset;try{f.nodeType,O.nodeType}catch{f=null;break e}var z=0,Z=-1,ie=-1,Te=0,je=0,He=s,Oe=null;t:for(;;){for(var Ie;He!==f||A!==0&&He.nodeType!==3||(Z=z+A),He!==O||v!==0&&He.nodeType!==3||(ie=z+v),He.nodeType===3&&(z+=He.nodeValue.length),(Ie=He.firstChild)!==null;)Oe=He,He=Ie;for(;;){if(He===s)break t;if(Oe===f&&++Te===A&&(Z=z),Oe===O&&++je===v&&(ie=z),(Ie=He.nextSibling)!==null)break;He=Oe,Oe=He.parentNode}He=Ie}f=Z===-1||ie===-1?null:{start:Z,end:ie}}else f=null}f=f||{start:0,end:0}}else f=null;for($y={focusedElem:s,selectionRange:f},W0=!1,Hn=c;Hn!==null;)if(c=Hn,s=c.child,(c.subtreeFlags&1028)!==0&&s!==null)s.return=c,Hn=s;else for(;Hn!==null;){switch(c=Hn,O=c.alternate,s=c.flags,c.tag){case 0:if((s&4)!==0&&(s=c.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f<s.length;f++)A=s[f],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&O!==null){s=void 0,f=c,A=O.memoizedProps,O=O.memoizedState,v=f.stateNode;try{var ut=nc(f.type,A);s=v.getSnapshotBeforeUpdate(ut,O),v.__reactInternalSnapshotBeforeUpdate=s}catch(St){dr(f,f.return,St)}}break;case 3:if((s&1024)!==0){if(s=c.stateNode.containerInfo,f=s.nodeType,f===9)Xy(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Xy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=c.sibling,s!==null){s.return=c.return,Hn=s;break}Hn=c.return}}function SC(s,c,f){var v=f.flags;switch(f.tag){case 0:case 11:case 15:Ql(s,f),v&4&&Hd(5,f);break;case 1:if(Ql(s,f),v&4)if(s=f.stateNode,c===null)try{s.componentDidMount()}catch(z){dr(f,f.return,z)}else{var A=nc(f.type,c.memoizedProps);c=c.memoizedState;try{s.componentDidUpdate(A,c,s.__reactInternalSnapshotBeforeUpdate)}catch(z){dr(f,f.return,z)}}v&64&&xC(f),v&512&&qd(f,f.return);break;case 3:if(Ql(s,f),v&64&&(s=f.updateQueue,s!==null)){if(c=null,f.child!==null)switch(f.child.tag){case 27:case 5:c=f.child.stateNode;break;case 1:c=f.child.stateNode}try{oS(s,c)}catch(z){dr(f,f.return,z)}}break;case 27:c===null&&v&4&&wC(f);case 26:case 5:Ql(s,f),c===null&&v&4&&vC(f),v&512&&qd(f,f.return);break;case 12:Ql(s,f);break;case 31:Ql(s,f),v&4&&TC(s,f);break;case 13:Ql(s,f),v&4&&OC(s,f),v&64&&(s=f.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(f=ZR.bind(null,f),y9(s,f))));break;case 22:if(v=f.memoizedState!==null||Kl,!v){c=c!==null&&c.memoizedState!==null||Nn,A=Kl;var O=Nn;Kl=v,(Nn=c)&&!O?Jl(s,f,(f.subtreeFlags&8772)!==0):Ql(s,f),Kl=A,Nn=O}break;case 30:break;default:Ql(s,f)}}function CC(s){var c=s.alternate;c!==null&&(s.alternate=null,CC(c)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(c=s.stateNode,c!==null&&Kn(c)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var jr=null,_a=!1;function Zl(s,c,f){for(f=f.child;f!==null;)AC(s,c,f),f=f.sibling}function AC(s,c,f){if(ge&&typeof ge.onCommitFiberUnmount=="function")try{ge.onCommitFiberUnmount(zt,f)}catch{}switch(f.tag){case 26:Nn||gl(f,c),Zl(s,c,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Nn||gl(f,c);var v=jr,A=_a;so(f.type)&&(jr=f.stateNode,_a=!1),Zl(s,c,f),Jd(f.stateNode),jr=v,_a=A;break;case 5:Nn||gl(f,c);case 6:if(v=jr,A=_a,jr=null,Zl(s,c,f),jr=v,_a=A,jr!==null)if(_a)try{(jr.nodeType===9?jr.body:jr.nodeName==="HTML"?jr.ownerDocument.body:jr).removeChild(f.stateNode)}catch(O){dr(f,c,O)}else try{jr.removeChild(f.stateNode)}catch(O){dr(f,c,O)}break;case 18:jr!==null&&(_a?(s=jr,x3(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),xu(s)):x3(jr,f.stateNode));break;case 4:v=jr,A=_a,jr=f.stateNode.containerInfo,_a=!0,Zl(s,c,f),jr=v,_a=A;break;case 0:case 11:case 14:case 15:Qi(2,f,c),Nn||Qi(4,f,c),Zl(s,c,f);break;case 1:Nn||(gl(f,c),v=f.stateNode,typeof v.componentWillUnmount=="function"&&bC(f,c,v)),Zl(s,c,f);break;case 21:Zl(s,c,f);break;case 22:Nn=(v=Nn)||f.memoizedState!==null,Zl(s,c,f),Nn=v;break;default:Zl(s,c,f)}}function TC(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{xu(s)}catch(f){dr(c,c.return,f)}}}function OC(s,c){if(c.memoizedState===null&&(s=c.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{xu(s)}catch(f){dr(c,c.return,f)}}function HR(s){switch(s.tag){case 31:case 13:case 19:var c=s.stateNode;return c===null&&(c=s.stateNode=new NC),c;case 22:return s=s.stateNode,c=s._retryCache,c===null&&(c=s._retryCache=new NC),c;default:throw Error(n(435,s.tag))}}function _0(s,c){var f=HR(s);c.forEach(function(v){if(!f.has(v)){f.add(v);var A=QR.bind(null,s,v);v.then(A,A)}})}function Da(s,c){var f=c.deletions;if(f!==null)for(var v=0;v<f.length;v++){var A=f[v],O=s,z=c,Z=z;e:for(;Z!==null;){switch(Z.tag){case 27:if(so(Z.type)){jr=Z.stateNode,_a=!1;break e}break;case 5:jr=Z.stateNode,_a=!1;break e;case 3:case 4:jr=Z.stateNode.containerInfo,_a=!0;break e}Z=Z.return}if(jr===null)throw Error(n(160));AC(O,z,A),jr=null,_a=!1,O=A.alternate,O!==null&&(O.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)_C(c,s),c=c.sibling}var Hs=null;function _C(s,c){var f=s.alternate,v=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Da(c,s),ka(s),v&4&&(Qi(3,s,s.return),Hd(3,s),Qi(5,s,s.return));break;case 1:Da(c,s),ka(s),v&512&&(Nn||f===null||gl(f,f.return)),v&64&&Kl&&(s=s.updateQueue,s!==null&&(v=s.callbacks,v!==null&&(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?v:f.concat(v))));break;case 26:var A=Hs;if(Da(c,s),ka(s),v&512&&(Nn||f===null||gl(f,f.return)),v&4){var O=f!==null?f.memoizedState:null;if(v=s.memoizedState,f===null)if(v===null)if(s.stateNode===null){e:{v=s.type,f=s.memoizedProps,A=A.ownerDocument||A;t:switch(v){case"title":O=A.getElementsByTagName("title")[0],(!O||O[ol]||O[Fr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=A.createElement(v),A.head.insertBefore(O,A.querySelector("head > title"))),ta(O,v,f),O[Fr]=s,Ar(O),v=O;break e;case"link":var z=_3("link","href",A).get(v+(f.href||""));if(z){for(var Z=0;Z<z.length;Z++)if(O=z[Z],O.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&O.getAttribute("rel")===(f.rel==null?null:f.rel)&&O.getAttribute("title")===(f.title==null?null:f.title)&&O.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){z.splice(Z,1);break t}}O=A.createElement(v),ta(O,v,f),A.head.appendChild(O);break;case"meta":if(z=_3("meta","content",A).get(v+(f.content||""))){for(Z=0;Z<z.length;Z++)if(O=z[Z],O.getAttribute("content")===(f.content==null?null:""+f.content)&&O.getAttribute("name")===(f.name==null?null:f.name)&&O.getAttribute("property")===(f.property==null?null:f.property)&&O.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&O.getAttribute("charset")===(f.charSet==null?null:f.charSet)){z.splice(Z,1);break t}}O=A.createElement(v),ta(O,v,f),A.head.appendChild(O);break;default:throw Error(n(468,v))}O[Fr]=s,Ar(O),v=O}s.stateNode=v}else D3(A,s.type,s.stateNode);else s.stateNode=O3(A,v,s.memoizedProps);else O!==v?(O===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):O.count--,v===null?D3(A,s.type,s.stateNode):O3(A,v,s.memoizedProps)):v===null&&s.stateNode!==null&&vy(s,s.memoizedProps,f.memoizedProps)}break;case 27:Da(c,s),ka(s),v&512&&(Nn||f===null||gl(f,f.return)),f!==null&&v&4&&vy(s,s.memoizedProps,f.memoizedProps);break;case 5:if(Da(c,s),ka(s),v&512&&(Nn||f===null||gl(f,f.return)),s.flags&32){A=s.stateNode;try{Ii(A,"")}catch(ut){dr(s,s.return,ut)}}v&4&&s.stateNode!=null&&(A=s.memoizedProps,vy(s,A,f!==null?f.memoizedProps:A)),v&1024&&(Ny=!0);break;case 6:if(Da(c,s),ka(s),v&4){if(s.stateNode===null)throw Error(n(162));v=s.memoizedProps,f=s.stateNode;try{f.nodeValue=v}catch(ut){dr(s,s.return,ut)}}break;case 3:if($0=null,A=Hs,Hs=H0(c.containerInfo),Da(c,s),Hs=A,ka(s),v&4&&f!==null&&f.memoizedState.isDehydrated)try{xu(c.containerInfo)}catch(ut){dr(s,s.return,ut)}Ny&&(Ny=!1,DC(s));break;case 4:v=Hs,Hs=H0(s.stateNode.containerInfo),Da(c,s),ka(s),Hs=v;break;case 12:Da(c,s),ka(s);break;case 31:Da(c,s),ka(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,_0(s,v)));break;case 13:Da(c,s),ka(s),s.child.flags&8192&&s.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(k0=ft()),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,_0(s,v)));break;case 22:A=s.memoizedState!==null;var ie=f!==null&&f.memoizedState!==null,Te=Kl,je=Nn;if(Kl=Te||A,Nn=je||ie,Da(c,s),Nn=je,Kl=Te,ka(s),v&8192)e:for(c=s.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(f===null||ie||Kl||Nn||ac(s)),f=null,c=s;;){if(c.tag===5||c.tag===26){if(f===null){ie=f=c;try{if(O=ie.stateNode,A)z=O.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{Z=ie.stateNode;var He=ie.memoizedProps.style,Oe=He!=null&&He.hasOwnProperty("display")?He.display:null;Z.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(ut){dr(ie,ie.return,ut)}}}else if(c.tag===6){if(f===null){ie=c;try{ie.stateNode.nodeValue=A?"":ie.memoizedProps}catch(ut){dr(ie,ie.return,ut)}}}else if(c.tag===18){if(f===null){ie=c;try{var Ie=ie.stateNode;A?b3(Ie,!0):b3(ie.stateNode,!1)}catch(ut){dr(ie,ie.return,ut)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===s)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break e;for(;c.sibling===null;){if(c.return===null||c.return===s)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}v&4&&(v=s.updateQueue,v!==null&&(f=v.retryQueue,f!==null&&(v.retryQueue=null,_0(s,f))));break;case 19:Da(c,s),ka(s),v&4&&(v=s.updateQueue,v!==null&&(s.updateQueue=null,_0(s,v)));break;case 30:break;case 21:break;default:Da(c,s),ka(s)}}function ka(s){var c=s.flags;if(c&2){try{for(var f,v=s.return;v!==null;){if(EC(v)){f=v;break}v=v.return}if(f==null)throw Error(n(160));switch(f.tag){case 27:var A=f.stateNode,O=Ey(s);O0(s,O,A);break;case 5:var z=f.stateNode;f.flags&32&&(Ii(z,""),f.flags&=-33);var Z=Ey(s);O0(s,Z,z);break;case 3:case 4:var ie=f.stateNode.containerInfo,Te=Ey(s);wy(s,Te,ie);break;default:throw Error(n(161))}}catch(je){dr(s,s.return,je)}s.flags&=-3}c&4096&&(s.flags&=-4097)}function DC(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var c=s;DC(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),s=s.sibling}}function Ql(s,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)SC(s,c.alternate,c),c=c.sibling}function ac(s){for(s=s.child;s!==null;){var c=s;switch(c.tag){case 0:case 11:case 14:case 15:Qi(4,c,c.return),ac(c);break;case 1:gl(c,c.return);var f=c.stateNode;typeof f.componentWillUnmount=="function"&&bC(c,c.return,f),ac(c);break;case 27:Jd(c.stateNode);case 26:case 5:gl(c,c.return),ac(c);break;case 22:c.memoizedState===null&&ac(c);break;case 30:ac(c);break;default:ac(c)}s=s.sibling}}function Jl(s,c,f){for(f=f&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var v=c.alternate,A=s,O=c,z=O.flags;switch(O.tag){case 0:case 11:case 15:Jl(A,O,f),Hd(4,O);break;case 1:if(Jl(A,O,f),v=O,A=v.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Te){dr(v,v.return,Te)}if(v=O,A=v.updateQueue,A!==null){var Z=v.stateNode;try{var ie=A.shared.hiddenCallbacks;if(ie!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ie.length;A++)iS(ie[A],Z)}catch(Te){dr(v,v.return,Te)}}f&&z&64&&xC(O),qd(O,O.return);break;case 27:wC(O);case 26:case 5:Jl(A,O,f),f&&v===null&&z&4&&vC(O),qd(O,O.return);break;case 12:Jl(A,O,f);break;case 31:Jl(A,O,f),f&&z&4&&TC(A,O);break;case 13:Jl(A,O,f),f&&z&4&&OC(A,O);break;case 22:O.memoizedState===null&&Jl(A,O,f),qd(O,O.return);break;case 30:break;default:Jl(A,O,f)}c=c.sibling}}function Sy(s,c){var f=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),s=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(s=c.memoizedState.cachePool.pool),s!==f&&(s!=null&&s.refCount++,f!=null&&Dd(f))}function Cy(s,c){s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Dd(s))}function qs(s,c,f,v){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)kC(s,c,f,v),c=c.sibling}function kC(s,c,f,v){var A=c.flags;switch(c.tag){case 0:case 11:case 15:qs(s,c,f,v),A&2048&&Hd(9,c);break;case 1:qs(s,c,f,v);break;case 3:qs(s,c,f,v),A&2048&&(s=null,c.alternate!==null&&(s=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==s&&(c.refCount++,s!=null&&Dd(s)));break;case 12:if(A&2048){qs(s,c,f,v),s=c.stateNode;try{var O=c.memoizedProps,z=O.id,Z=O.onPostCommit;typeof Z=="function"&&Z(z,c.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ie){dr(c,c.return,ie)}}else qs(s,c,f,v);break;case 31:qs(s,c,f,v);break;case 13:qs(s,c,f,v);break;case 23:break;case 22:O=c.stateNode,z=c.alternate,c.memoizedState!==null?O._visibility&2?qs(s,c,f,v):$d(s,c):O._visibility&2?qs(s,c,f,v):(O._visibility|=2,iu(s,c,f,v,(c.subtreeFlags&10256)!==0||!1)),A&2048&&Sy(z,c);break;case 24:qs(s,c,f,v),A&2048&&Cy(c.alternate,c);break;default:qs(s,c,f,v)}}function iu(s,c,f,v,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var O=s,z=c,Z=f,ie=v,Te=z.flags;switch(z.tag){case 0:case 11:case 15:iu(O,z,Z,ie,A),Hd(8,z);break;case 23:break;case 22:var je=z.stateNode;z.memoizedState!==null?je._visibility&2?iu(O,z,Z,ie,A):$d(O,z):(je._visibility|=2,iu(O,z,Z,ie,A)),A&&Te&2048&&Sy(z.alternate,z);break;case 24:iu(O,z,Z,ie,A),A&&Te&2048&&Cy(z.alternate,z);break;default:iu(O,z,Z,ie,A)}c=c.sibling}}function $d(s,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var f=s,v=c,A=v.flags;switch(v.tag){case 22:$d(f,v),A&2048&&Sy(v.alternate,v);break;case 24:$d(f,v),A&2048&&Cy(v.alternate,v);break;default:$d(f,v)}c=c.sibling}}var Gd=8192;function ou(s,c,f){if(s.subtreeFlags&Gd)for(s=s.child;s!==null;)MC(s,c,f),s=s.sibling}function MC(s,c,f){switch(s.tag){case 26:ou(s,c,f),s.flags&Gd&&s.memoizedState!==null&&_9(f,Hs,s.memoizedState,s.memoizedProps);break;case 5:ou(s,c,f);break;case 3:case 4:var v=Hs;Hs=H0(s.stateNode.containerInfo),ou(s,c,f),Hs=v;break;case 22:s.memoizedState===null&&(v=s.alternate,v!==null&&v.memoizedState!==null?(v=Gd,Gd=16777216,ou(s,c,f),Gd=v):ou(s,c,f));break;default:ou(s,c,f)}}function PC(s){var c=s.alternate;if(c!==null&&(s=c.child,s!==null)){c.child=null;do c=s.sibling,s.sibling=null,s=c;while(s!==null)}}function Yd(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];Hn=v,RC(v,s)}PC(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)IC(s),s=s.sibling}function IC(s){switch(s.tag){case 0:case 11:case 15:Yd(s),s.flags&2048&&Qi(9,s,s.return);break;case 3:Yd(s);break;case 12:Yd(s);break;case 22:var c=s.stateNode;s.memoizedState!==null&&c._visibility&2&&(s.return===null||s.return.tag!==13)?(c._visibility&=-3,D0(s)):Yd(s);break;default:Yd(s)}}function D0(s){var c=s.deletions;if((s.flags&16)!==0){if(c!==null)for(var f=0;f<c.length;f++){var v=c[f];Hn=v,RC(v,s)}PC(s)}for(s=s.child;s!==null;){switch(c=s,c.tag){case 0:case 11:case 15:Qi(8,c,c.return),D0(c);break;case 22:f=c.stateNode,f._visibility&2&&(f._visibility&=-3,D0(c));break;default:D0(c)}s=s.sibling}}function RC(s,c){for(;Hn!==null;){var f=Hn;switch(f.tag){case 0:case 11:case 15:Qi(8,f,c);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var v=f.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Dd(f.memoizedState.cache)}if(v=f.child,v!==null)v.return=f,Hn=v;else e:for(f=s;Hn!==null;){v=Hn;var A=v.sibling,O=v.return;if(CC(v),v===f){Hn=null;break e}if(A!==null){A.return=O,Hn=A;break e}Hn=O}}}var qR={getCacheForType:function(s){var c=Jn(vn),f=c.data.get(s);return f===void 0&&(f=s(),c.data.set(s,f)),f},cacheSignal:function(){return Jn(vn).controller.signal}},$R=typeof WeakMap=="function"?WeakMap:Map,lr=0,Sr=null,Ht=null,Gt=0,ur=0,Ka=null,Ji=!1,cu=!1,Ay=!1,ei=0,en=0,eo=0,sc=0,Ty=0,Za=0,uu=0,Xd=null,Ma=null,Oy=!1,k0=0,LC=0,M0=1/0,P0=null,to=null,Pn=0,ro=null,du=null,ti=0,_y=0,Dy=null,BC=null,Wd=0,ky=null;function Qa(){return(lr&2)!==0&&Gt!==0?Gt&-Gt:J.T!==null?By():zn()}function FC(){if(Za===0)if((Gt&536870912)===0||Xt){var s=gt;gt<<=1,(gt&3932160)===0&&(gt=262144),Za=s}else Za=536870912;return s=Xa.current,s!==null&&(s.flags|=32),Za}function Pa(s,c,f){(s===Sr&&(ur===2||ur===9)||s.cancelPendingCommit!==null)&&(mu(s,0),no(s,Gt,Za,!1)),os(s,f),((lr&2)===0||s!==Sr)&&(s===Sr&&((lr&2)===0&&(sc|=f),en===4&&no(s,Gt,Za,!1)),pl(s))}function UC(s,c,f){if((lr&6)!==0)throw Error(n(327));var v=!f&&(c&127)===0&&(c&s.expiredLanes)===0||Zr(s,c),A=v?XR(s,c):Py(s,c,!0),O=v;do{if(A===0){cu&&!v&&no(s,c,0,!1);break}else{if(f=s.current.alternate,O&&!GR(f)){A=Py(s,c,!1),O=!1;continue}if(A===2){if(O=c,s.errorRecoveryDisabledLanes&O)var z=0;else z=s.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){c=z;e:{var Z=s;A=Xd;var ie=Z.current.memoizedState.isDehydrated;if(ie&&(mu(Z,z).flags|=256),z=Py(Z,z,!1),z!==2){if(Ay&&!ie){Z.errorRecoveryDisabledLanes|=O,sc|=O,A=4;break e}O=Ma,Ma=A,O!==null&&(Ma===null?Ma=O:Ma.push.apply(Ma,O))}A=z}if(O=!1,A!==2)continue}}if(A===1){mu(s,0),no(s,c,0,!0);break}e:{switch(v=s,O=A,O){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:no(v,c,Za,!Ji);break e;case 2:Ma=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(A=k0+300-ft(),10<A)){if(no(v,c,Za,!Ji),Yr(v,0,!0)!==0)break e;ti=c,v.timeoutHandle=p3(jC.bind(null,v,f,Ma,P0,Oy,c,Za,sc,uu,Ji,O,"Throttled",-0,0),A);break e}jC(v,f,Ma,P0,Oy,c,Za,sc,uu,Ji,O,null,-0,0)}}break}while(!0);pl(s)}function jC(s,c,f,v,A,O,z,Z,ie,Te,je,He,Oe,Ie){if(s.timeoutHandle=-1,He=c.subtreeFlags,He&8192||(He&16785408)===16785408){He={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Aa},MC(c,O,He);var ut=(O&62914560)===O?k0-ft():(O&4194048)===O?LC-ft():0;if(ut=D9(He,ut),ut!==null){ti=O,s.cancelPendingCommit=ut(XC.bind(null,s,c,O,f,v,A,z,Z,ie,je,He,null,Oe,Ie)),no(s,O,z,!Te);return}}XC(s,c,O,f,v,A,z,Z,ie)}function GR(s){for(var c=s;;){var f=c.tag;if((f===0||f===11||f===15)&&c.flags&16384&&(f=c.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var v=0;v<f.length;v++){var A=f[v],O=A.getSnapshot;A=A.value;try{if(!E(O(),A))return!1}catch{return!1}}if(f=c.child,c.subtreeFlags&16384&&f!==null)f.return=c,c=f;else{if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function no(s,c,f,v){c&=~Ty,c&=~sc,s.suspendedLanes|=c,s.pingedLanes&=~c,v&&(s.warmLanes|=c),v=s.expirationTimes;for(var A=c;0<A;){var O=31-nt(A),z=1<<O;v[O]=-1,A&=~z}f!==0&&Lc(s,f,c)}function I0(){return(lr&6)===0?(Kd(0),!1):!0}function My(){if(Ht!==null){if(ur===0)var s=Ht.return;else s=Ht,ql=Ko=null,X1(s),ru=null,Md=0,s=Ht;for(;s!==null;)yC(s.alternate,s),s=s.return;Ht=null}}function mu(s,c){var f=s.timeoutHandle;f!==-1&&(s.timeoutHandle=-1,m9(f)),f=s.cancelPendingCommit,f!==null&&(s.cancelPendingCommit=null,f()),ti=0,My(),Sr=s,Ht=f=Vl(s.current,null),Gt=c,ur=0,Ka=null,Ji=!1,cu=Zr(s,c),Ay=!1,uu=Za=Ty=sc=eo=en=0,Ma=Xd=null,Oy=!1,(c&8)!==0&&(c|=c&32);var v=s.entangledLanes;if(v!==0)for(s=s.entanglements,v&=c;0<v;){var A=31-nt(v),O=1<<A;c|=s[A],v&=~O}return ei=c,t0(),f}function zC(s,c){Pt=null,J.H=jd,c===tu||c===c0?(c=nS(),ur=3):c===L1?(c=nS(),ur=4):ur=c===uy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ka=c,Ht===null&&(en=1,N0(s,ms(c,s.current)))}function VC(){var s=Xa.current;return s===null?!0:(Gt&4194048)===Gt?ps===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?s===ps:!1}function HC(){var s=J.H;return J.H=jd,s===null?jd:s}function qC(){var s=J.A;return J.A=qR,s}function R0(){en=4,Ji||(Gt&4194048)!==Gt&&Xa.current!==null||(cu=!0),(eo&134217727)===0&&(sc&134217727)===0||Sr===null||no(Sr,Gt,Za,!1)}function Py(s,c,f){var v=lr;lr|=2;var A=HC(),O=qC();(Sr!==s||Gt!==c)&&(P0=null,mu(s,c)),c=!1;var z=en;e:do try{if(ur!==0&&Ht!==null){var Z=Ht,ie=Ka;switch(ur){case 8:My(),z=6;break e;case 3:case 2:case 9:case 6:Xa.current===null&&(c=!0);var Te=ur;if(ur=0,Ka=null,fu(s,Z,ie,Te),f&&cu){z=0;break e}break;default:Te=ur,ur=0,Ka=null,fu(s,Z,ie,Te)}}YR(),z=en;break}catch(je){zC(s,je)}while(!0);return c&&s.shellSuspendCounter++,ql=Ko=null,lr=v,J.H=A,J.A=O,Ht===null&&(Sr=null,Gt=0,t0()),z}function YR(){for(;Ht!==null;)$C(Ht)}function XR(s,c){var f=lr;lr|=2;var v=HC(),A=qC();Sr!==s||Gt!==c?(P0=null,M0=ft()+500,mu(s,c)):cu=Zr(s,c);e:do try{if(ur!==0&&Ht!==null){c=Ht;var O=Ka;t:switch(ur){case 1:ur=0,Ka=null,fu(s,c,O,1);break;case 2:case 9:if(tS(O)){ur=0,Ka=null,GC(c);break}c=function(){ur!==2&&ur!==9||Sr!==s||(ur=7),pl(s)},O.then(c,c);break e;case 3:ur=7;break e;case 4:ur=5;break e;case 7:tS(O)?(ur=0,Ka=null,GC(c)):(ur=0,Ka=null,fu(s,c,O,7));break;case 5:var z=null;switch(Ht.tag){case 26:z=Ht.memoizedState;case 5:case 27:var Z=Ht;if(z?k3(z):Z.stateNode.complete){ur=0,Ka=null;var ie=Z.sibling;if(ie!==null)Ht=ie;else{var Te=Z.return;Te!==null?(Ht=Te,L0(Te)):Ht=null}break t}}ur=0,Ka=null,fu(s,c,O,5);break;case 6:ur=0,Ka=null,fu(s,c,O,6);break;case 8:My(),en=6;break e;default:throw Error(n(462))}}WR();break}catch(je){zC(s,je)}while(!0);return ql=Ko=null,J.H=v,J.A=A,lr=f,Ht!==null?0:(Sr=null,Gt=0,t0(),en)}function WR(){for(;Ht!==null&&!st();)$C(Ht)}function $C(s){var c=gC(s.alternate,s,ei);s.memoizedProps=s.pendingProps,c===null?L0(s):Ht=c}function GC(s){var c=s,f=c.alternate;switch(c.tag){case 15:case 0:c=cC(f,c,c.pendingProps,c.type,void 0,Gt);break;case 11:c=cC(f,c,c.pendingProps,c.type.render,c.ref,Gt);break;case 5:X1(c);default:yC(f,c),c=Ht=qN(c,ei),c=gC(f,c,ei)}s.memoizedProps=s.pendingProps,c===null?L0(s):Ht=c}function fu(s,c,f,v){ql=Ko=null,X1(c),ru=null,Md=0;var A=c.return;try{if(BR(s,A,c,f,Gt)){en=1,N0(s,ms(f,s.current)),Ht=null;return}}catch(O){if(A!==null)throw Ht=A,O;en=1,N0(s,ms(f,s.current)),Ht=null;return}c.flags&32768?(Xt||v===1?s=!0:cu||(Gt&536870912)!==0?s=!1:(Ji=s=!0,(v===2||v===9||v===3||v===6)&&(v=Xa.current,v!==null&&v.tag===13&&(v.flags|=16384))),YC(c,s)):L0(c)}function L0(s){var c=s;do{if((c.flags&32768)!==0){YC(c,Ji);return}s=c.return;var f=jR(c.alternate,c,ei);if(f!==null){Ht=f;return}if(c=c.sibling,c!==null){Ht=c;return}Ht=c=s}while(c!==null);en===0&&(en=5)}function YC(s,c){do{var f=zR(s.alternate,s);if(f!==null){f.flags&=32767,Ht=f;return}if(f=s.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!c&&(s=s.sibling,s!==null)){Ht=s;return}Ht=s=f}while(s!==null);en=6,Ht=null}function XC(s,c,f,v,A,O,z,Z,ie){s.cancelPendingCommit=null;do B0();while(Pn!==0);if((lr&6)!==0)throw Error(n(327));if(c!==null){if(c===s.current)throw Error(n(177));if(O=c.lanes|c.childLanes,O|=E1,Na(s,f,O,z,Z,ie),s===Sr&&(Ht=Sr=null,Gt=0),du=c,ro=s,ti=f,_y=O,Dy=A,BC=v,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,JR(Dr,function(){return JC(),null})):(s.callbackNode=null,s.callbackPriority=0),v=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||v){v=J.T,J.T=null,A=ae.p,ae.p=2,z=lr,lr|=4;try{VR(s,c,f)}finally{lr=z,ae.p=A,J.T=v}}Pn=1,WC(),KC(),ZC()}}function WC(){if(Pn===1){Pn=0;var s=ro,c=du,f=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||f){f=J.T,J.T=null;var v=ae.p;ae.p=2;var A=lr;lr|=4;try{_C(c,s);var O=$y,z=$(s.containerInfo),Z=O.focusedElem,ie=O.selectionRange;if(z!==Z&&Z&&Z.ownerDocument&&B(Z.ownerDocument.documentElement,Z)){if(ie!==null&&K(Z)){var Te=ie.start,je=ie.end;if(je===void 0&&(je=Te),"selectionStart"in Z)Z.selectionStart=Te,Z.selectionEnd=Math.min(je,Z.value.length);else{var He=Z.ownerDocument||document,Oe=He&&He.defaultView||window;if(Oe.getSelection){var Ie=Oe.getSelection(),ut=Z.textContent.length,St=Math.min(ie.start,ut),yr=ie.end===void 0?St:Math.min(ie.end,ut);!Ie.extend&&St>yr&&(z=yr,yr=St,St=z);var xe=P(Z,St),fe=P(Z,yr);if(xe&&fe&&(Ie.rangeCount!==1||Ie.anchorNode!==xe.node||Ie.anchorOffset!==xe.offset||Ie.focusNode!==fe.node||Ie.focusOffset!==fe.offset)){var Ae=He.createRange();Ae.setStart(xe.node,xe.offset),Ie.removeAllRanges(),St>yr?(Ie.addRange(Ae),Ie.extend(fe.node,fe.offset)):(Ae.setEnd(fe.node,fe.offset),Ie.addRange(Ae))}}}}for(He=[],Ie=Z;Ie=Ie.parentNode;)Ie.nodeType===1&&He.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<He.length;Z++){var Ve=He[Z];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}W0=!!qy,$y=qy=null}finally{lr=A,ae.p=v,J.T=f}}s.current=c,Pn=2}}function KC(){if(Pn===2){Pn=0;var s=ro,c=du,f=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||f){f=J.T,J.T=null;var v=ae.p;ae.p=2;var A=lr;lr|=4;try{SC(s,c.alternate,c)}finally{lr=A,ae.p=v,J.T=f}}Pn=3}}function ZC(){if(Pn===4||Pn===3){Pn=0,Re();var s=ro,c=du,f=ti,v=BC;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Pn=5:(Pn=0,du=ro=null,QC(s,s.pendingLanes));var A=s.pendingLanes;if(A===0&&(to=null),za(f),c=c.stateNode,ge&&typeof ge.onCommitFiberRoot=="function")try{ge.onCommitFiberRoot(zt,c,void 0,(c.current.flags&128)===128)}catch{}if(v!==null){c=J.T,A=ae.p,ae.p=2,J.T=null;try{for(var O=s.onRecoverableError,z=0;z<v.length;z++){var Z=v[z];O(Z.value,{componentStack:Z.stack})}}finally{J.T=c,ae.p=A}}(ti&3)!==0&&B0(),pl(s),A=s.pendingLanes,(f&261930)!==0&&(A&42)!==0?s===ky?Wd++:(Wd=0,ky=s):Wd=0,Kd(0)}}function QC(s,c){(s.pooledCacheLanes&=c)===0&&(c=s.pooledCache,c!=null&&(s.pooledCache=null,Dd(c)))}function B0(){return WC(),KC(),ZC(),JC()}function JC(){if(Pn!==5)return!1;var s=ro,c=_y;_y=0;var f=za(ti),v=J.T,A=ae.p;try{ae.p=32>f?32:f,J.T=null,f=Dy,Dy=null;var O=ro,z=ti;if(Pn=0,du=ro=null,ti=0,(lr&6)!==0)throw Error(n(331));var Z=lr;if(lr|=4,IC(O.current),kC(O,O.current,z,f),lr=Z,Kd(0,!1),ge&&typeof ge.onPostCommitFiberRoot=="function")try{ge.onPostCommitFiberRoot(zt,O)}catch{}return!0}finally{ae.p=A,J.T=v,QC(s,c)}}function e3(s,c,f){c=ms(f,c),c=cy(s.stateNode,c,2),s=Wi(s,c,2),s!==null&&(os(s,2),pl(s))}function dr(s,c,f){if(s.tag===3)e3(s,s,f);else for(;c!==null;){if(c.tag===3){e3(c,s,f);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(to===null||!to.has(v))){s=ms(f,s),f=tC(2),v=Wi(c,f,2),v!==null&&(rC(f,v,c,s),os(v,2),pl(v));break}}c=c.return}}function Iy(s,c,f){var v=s.pingCache;if(v===null){v=s.pingCache=new $R;var A=new Set;v.set(c,A)}else A=v.get(c),A===void 0&&(A=new Set,v.set(c,A));A.has(f)||(Ay=!0,A.add(f),s=KR.bind(null,s,c,f),c.then(s,s))}function KR(s,c,f){var v=s.pingCache;v!==null&&v.delete(c),s.pingedLanes|=s.suspendedLanes&f,s.warmLanes&=~f,Sr===s&&(Gt&f)===f&&(en===4||en===3&&(Gt&62914560)===Gt&&300>ft()-k0?(lr&2)===0&&mu(s,0):Ty|=f,uu===Gt&&(uu=0)),pl(s)}function t3(s,c){c===0&&(c=Et()),s=Yo(s,c),s!==null&&(os(s,c),pl(s))}function ZR(s){var c=s.memoizedState,f=0;c!==null&&(f=c.retryLane),t3(s,f)}function QR(s,c){var f=0;switch(s.tag){case 31:case 13:var v=s.stateNode,A=s.memoizedState;A!==null&&(f=A.retryLane);break;case 19:v=s.stateNode;break;case 22:v=s.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(c),t3(s,f)}function JR(s,c){return vt(s,c)}var F0=null,hu=null,Ry=!1,U0=!1,Ly=!1,ao=0;function pl(s){s!==hu&&s.next===null&&(hu===null?F0=hu=s:hu=hu.next=s),U0=!0,Ry||(Ry=!0,t9())}function Kd(s,c){if(!Ly&&U0){Ly=!0;do for(var f=!1,v=F0;v!==null;){if(s!==0){var A=v.pendingLanes;if(A===0)var O=0;else{var z=v.suspendedLanes,Z=v.pingedLanes;O=(1<<31-nt(42|s)+1)-1,O&=A&~(z&~Z),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(f=!0,s3(v,O))}else O=Gt,O=Yr(v,v===Sr?O:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(O&3)===0||Zr(v,O)||(f=!0,s3(v,O));v=v.next}while(f);Ly=!1}}function e9(){r3()}function r3(){U0=Ry=!1;var s=0;ao!==0&&d9()&&(s=ao);for(var c=ft(),f=null,v=F0;v!==null;){var A=v.next,O=n3(v,c);O===0?(v.next=null,f===null?F0=A:f.next=A,A===null&&(hu=f)):(f=v,(s!==0||(O&3)!==0)&&(U0=!0)),v=A}Pn!==0&&Pn!==5||Kd(s),ao!==0&&(ao=0)}function n3(s,c){for(var f=s.suspendedLanes,v=s.pingedLanes,A=s.expirationTimes,O=s.pendingLanes&-62914561;0<O;){var z=31-nt(O),Z=1<<z,ie=A[z];ie===-1?((Z&f)===0||(Z&v)!==0)&&(A[z]=Be(Z,c)):ie<=c&&(s.expiredLanes|=Z),O&=~Z}if(c=Sr,f=Gt,f=Yr(s,s===c?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v=s.callbackNode,f===0||s===c&&(ur===2||ur===9)||s.cancelPendingCommit!==null)return v!==null&&v!==null&&Qe(v),s.callbackNode=null,s.callbackPriority=0;if((f&3)===0||Zr(s,f)){if(c=f&-f,c===s.callbackPriority)return c;switch(v!==null&&Qe(v),za(f)){case 2:case 8:f=Qt;break;case 32:f=Dr;break;case 268435456:f=Xn;break;default:f=Dr}return v=a3.bind(null,s),f=vt(f,v),s.callbackPriority=c,s.callbackNode=f,c}return v!==null&&v!==null&&Qe(v),s.callbackPriority=2,s.callbackNode=null,2}function a3(s,c){if(Pn!==0&&Pn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(B0()&&s.callbackNode!==f)return null;var v=Gt;return v=Yr(s,s===Sr?v:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),v===0?null:(UC(s,v,c),n3(s,ft()),s.callbackNode!=null&&s.callbackNode===f?a3.bind(null,s):null)}function s3(s,c){if(B0())return null;UC(s,c,!0)}function t9(){f9(function(){(lr&6)!==0?vt(xt,e9):r3()})}function By(){if(ao===0){var s=Jc;s===0&&(s=ln,ln<<=1,(ln&261888)===0&&(ln=256)),ao=s}return ao}function l3(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Ri(""+s)}function i3(s,c){var f=c.ownerDocument.createElement("input");return f.name=c.name,f.value=c.value,s.id&&f.setAttribute("form",s.id),c.parentNode.insertBefore(f,c),s=new FormData(s),f.parentNode.removeChild(f),s}function r9(s,c,f,v,A){if(c==="submit"&&f&&f.stateNode===A){var O=l3((A[Jt]||null).action),z=v.submitter;z&&(c=(c=z[Jt]||null)?l3(c.formAction):z.getAttribute("formAction"),c!==null&&(O=c,z=null));var Z=new Dn("action","action",null,v,A);s.push({event:Z,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ao!==0){var ie=z?i3(A,z):new FormData(A);ny(f,{pending:!0,data:ie,method:A.method,action:O},null,ie)}}else typeof O=="function"&&(Z.preventDefault(),ie=z?i3(A,z):new FormData(A),ny(f,{pending:!0,data:ie,method:A.method,action:O},O,ie))},currentTarget:A}]})}}for(var Fy=0;Fy<Td.length;Fy++){var Uy=Td[Fy],n9=Uy.toLowerCase(),a9=Uy[0].toUpperCase()+Uy.slice(1);Vs(n9,"on"+a9)}Vs(Oa,"onAnimationEnd"),Vs(Zn,"onAnimationIteration"),Vs(cr,"onAnimationStart"),Vs("dblclick","onDoubleClick"),Vs("focusin","onFocus"),Vs("focusout","onBlur"),Vs(Mn,"onTransitionRun"),Vs(ga,"onTransitionStart"),Vs(Vi,"onTransitionCancel"),Vs(zl,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zd));function o3(s,c){c=(c&4)!==0;for(var f=0;f<s.length;f++){var v=s[f],A=v.event;v=v.listeners;e:{var O=void 0;if(c)for(var z=v.length-1;0<=z;z--){var Z=v[z],ie=Z.instance,Te=Z.currentTarget;if(Z=Z.listener,ie!==O&&A.isPropagationStopped())break e;O=Z,A.currentTarget=Te;try{O(A)}catch(je){e0(je)}A.currentTarget=null,O=ie}else for(z=0;z<v.length;z++){if(Z=v[z],ie=Z.instance,Te=Z.currentTarget,Z=Z.listener,ie!==O&&A.isPropagationStopped())break e;O=Z,A.currentTarget=Te;try{O(A)}catch(je){e0(je)}A.currentTarget=null,O=ie}}}}function qt(s,c){var f=c[il];f===void 0&&(f=c[il]=new Set);var v=s+"__bubble";f.has(v)||(c3(c,s,2,!1),f.add(v))}function jy(s,c,f){var v=0;c&&(v|=4),c3(f,s,v,c)}var j0="_reactListening"+Math.random().toString(36).slice(2);function zy(s){if(!s[j0]){s[j0]=!0,qe.forEach(function(f){f!=="selectionchange"&&(s9.has(f)||jy(f,!1,s),jy(f,!0,s))});var c=s.nodeType===9?s:s.ownerDocument;c===null||c[j0]||(c[j0]=!0,jy("selectionchange",!1,c))}}function c3(s,c,f,v){switch(F3(c)){case 2:var A=P9;break;case 8:A=I9;break;default:A=rx}f=A.bind(null,c,f,s),A=void 0,!vd||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),v?A!==void 0?s.addEventListener(c,f,{capture:!0,passive:A}):s.addEventListener(c,f,!0):A!==void 0?s.addEventListener(c,f,{passive:A}):s.addEventListener(c,f,!1)}function Vy(s,c,f,v,A){var O=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var z=v.tag;if(z===3||z===4){var Z=v.stateNode.containerInfo;if(Z===A)break;if(z===4)for(z=v.return;z!==null;){var ie=z.tag;if((ie===3||ie===4)&&z.stateNode.containerInfo===A)return;z=z.return}for(;Z!==null;){if(z=kr(Z),z===null)return;if(ie=z.tag,ie===5||ie===6||ie===26||ie===27){v=O=z;continue e}Z=Z.parentNode}}v=v.return}Hf(function(){var Te=O,je=bd(f),He=[];e:{var Oe=Jf.get(s);if(Oe!==void 0){var Ie=Dn,ut=s;switch(s){case"keypress":if(cl(f)===0)break e;case"keydown":case"keyup":Ie=qc;break;case"focusin":ut="focus",Ie=Nd;break;case"focusout":ut="blur",Ie=Nd;break;case"beforeblur":case"afterblur":Ie=Nd;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=Vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=x1;break;case Oa:case Zn:case cr:Ie=Rt;break;case zl:Ie=Bl;break;case"scroll":case"scrollend":Ie=qf;break;case"wheel":Ie=b1;break;case"copy":case"cut":case"paste":Ie=Hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=or;break;case"toggle":case"beforetoggle":Ie=Cd}var St=(c&4)!==0,yr=!St&&(s==="scroll"||s==="scrollend"),xe=St?Oe!==null?Oe+"Capture":null:Oe;St=[];for(var fe=Te,Ae;fe!==null;){var Ve=fe;if(Ae=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Ae===null||xe===null||(Ve=Ot(fe,xe),Ve!=null&&St.push(Qd(fe,Ve,Ae))),yr)break;fe=fe.return}0<St.length&&(Oe=new Ie(Oe,ut,null,f,je),He.push({event:Oe,listeners:St}))}}if((c&7)===0){e:{if(Oe=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",Oe&&f!==Uo&&(ut=f.relatedTarget||f.fromElement)&&(kr(ut)||ut[ma]))break e;if((Ie||Oe)&&(Oe=je.window===je?je:(Oe=je.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,Ie?(ut=f.relatedTarget||f.toElement,Ie=Te,ut=ut?kr(ut):null,ut!==null&&(yr=o(ut),St=ut.tag,ut!==yr||St!==5&&St!==27&&St!==6)&&(ut=null)):(Ie=null,ut=Te),Ie!==ut)){if(St=sr,Ve="onMouseLeave",xe="onMouseEnter",fe="mouse",(s==="pointerout"||s==="pointerover")&&(St=or,Ve="onPointerLeave",xe="onPointerEnter",fe="pointer"),yr=Ie==null?Oe:Fe(Ie),Ae=ut==null?Oe:Fe(ut),Oe=new St(Ve,fe+"leave",Ie,f,je),Oe.target=yr,Oe.relatedTarget=Ae,Ve=null,kr(je)===Te&&(St=new St(xe,fe+"enter",ut,f,je),St.target=Ae,St.relatedTarget=yr,Ve=St),yr=Ve,Ie&&ut)t:{for(St=l9,xe=Ie,fe=ut,Ae=0,Ve=xe;Ve;Ve=St(Ve))Ae++;Ve=0;for(var bt=fe;bt;bt=St(bt))Ve++;for(;0<Ae-Ve;)xe=St(xe),Ae--;for(;0<Ve-Ae;)fe=St(fe),Ve--;for(;Ae--;){if(xe===fe||fe!==null&&xe===fe.alternate){St=xe;break t}xe=St(xe),fe=St(fe)}St=null}else St=null;Ie!==null&&u3(He,Oe,Ie,St,!1),ut!==null&&yr!==null&&u3(He,yr,ut,St,!0)}}e:{if(Oe=Te?Fe(Te):window,Ie=Oe.nodeName&&Oe.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&Oe.type==="file")var rr=Ga;else if(Ad(Oe))if(Qf)rr=p;else{rr=u;var ht=i}else Ie=Oe.nodeName,!Ie||Ie.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Te&&Er(Te.elementType)&&(rr=Ga):rr=m;if(rr&&(rr=rr(s,Te))){$a(He,rr,f,je);break e}ht&&ht(s,Oe,Te),s==="focusout"&&Te&&Oe.type==="number"&&Te.memoizedProps.value!=null&&ee(Oe,"number",Oe.value)}switch(ht=Te?Fe(Te):window,s){case"focusin":(Ad(ht)||ht.contentEditable==="true")&&(ce=ht,de=Te,we=null);break;case"focusout":we=de=ce=null;break;case"mousedown":De=!0;break;case"contextmenu":case"mouseup":case"dragend":De=!1,Je(He,f,je);break;case"selectionchange":if(ne)break;case"keydown":case"keyup":Je(He,f,je)}var Lt;if(Vo)e:{switch(s){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else zi?Zf(s,f)&&(Yt="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Yt="onCompositionStart");Yt&&(Kf&&f.locale!=="ko"&&(zi||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&zi&&(Lt=Li()):(js=je,zs="value"in js?js.value:js.textContent,zi=!0)),ht=z0(Te,Yt),0<ht.length&&(Yt=new Yf(Yt,s,null,f,je),He.push({event:Yt,listeners:ht}),Lt?Yt.data=Lt:(Lt=ji(f),Lt!==null&&(Yt.data=Lt)))),(Lt=Wf?ml(s,f):Gc(s,f))&&(Yt=z0(Te,"onBeforeInput"),0<Yt.length&&(ht=new Yf("onBeforeInput","beforeinput",null,f,je),He.push({event:ht,listeners:Yt}),ht.data=Lt)),r9(He,s,Te,f,je)}o3(He,c)})}function Qd(s,c,f){return{instance:s,listener:c,currentTarget:f}}function z0(s,c){for(var f=c+"Capture",v=[];s!==null;){var A=s,O=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||O===null||(A=Ot(s,f),A!=null&&v.unshift(Qd(s,A,O)),A=Ot(s,c),A!=null&&v.push(Qd(s,A,O))),s.tag===3)return v;s=s.return}return[]}function l9(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function u3(s,c,f,v,A){for(var O=c._reactName,z=[];f!==null&&f!==v;){var Z=f,ie=Z.alternate,Te=Z.stateNode;if(Z=Z.tag,ie!==null&&ie===v)break;Z!==5&&Z!==26&&Z!==27||Te===null||(ie=Te,A?(Te=Ot(f,O),Te!=null&&z.unshift(Qd(f,Te,ie))):A||(Te=Ot(f,O),Te!=null&&z.push(Qd(f,Te,ie)))),f=f.return}z.length!==0&&s.push({event:c,listeners:z})}var i9=/\r\n?/g,o9=/\u0000|\uFFFD/g;function d3(s){return(typeof s=="string"?s:""+s).replace(i9,`
`).replace(o9,"")}function m3(s,c){return c=d3(c),d3(s)===c}function pr(s,c,f,v,A,O){switch(f){case"children":typeof v=="string"?c==="body"||c==="textarea"&&v===""||Ii(s,v):(typeof v=="number"||typeof v=="bigint")&&c!=="body"&&Ii(s,""+v);break;case"className":Mi(s,"class",v);break;case"tabIndex":Mi(s,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(s,f,v);break;case"style":yt(s,v,O);break;case"data":if(c!=="object"){Mi(s,"data",v);break}case"src":case"href":if(v===""&&(c!=="a"||f!=="href")){s.removeAttribute(f);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(f);break}v=Ri(""+v),s.setAttribute(f,v);break;case"action":case"formAction":if(typeof v=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(f==="formAction"?(c!=="input"&&pr(s,c,"name",A.name,A,null),pr(s,c,"formEncType",A.formEncType,A,null),pr(s,c,"formMethod",A.formMethod,A,null),pr(s,c,"formTarget",A.formTarget,A,null)):(pr(s,c,"encType",A.encType,A,null),pr(s,c,"method",A.method,A,null),pr(s,c,"target",A.target,A,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){s.removeAttribute(f);break}v=Ri(""+v),s.setAttribute(f,v);break;case"onClick":v!=null&&(s.onclick=Aa);break;case"onScroll":v!=null&&qt("scroll",s);break;case"onScrollEnd":v!=null&&qt("scrollend",s);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(f=v.__html,f!=null){if(A.children!=null)throw Error(n(60));s.innerHTML=f}}break;case"multiple":s.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":s.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){s.removeAttribute("xlink:href");break}f=Ri(""+v),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(f,""+v):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":v===!0?s.setAttribute(f,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?s.setAttribute(f,v):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?s.setAttribute(f,v):s.removeAttribute(f);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?s.removeAttribute(f):s.setAttribute(f,v);break;case"popover":qt("beforetoggle",s),qt("toggle",s),ki(s,"popover",v);break;case"xlinkActuate":Ha(s,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Ha(s,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Ha(s,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Ha(s,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Ha(s,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Ha(s,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Ha(s,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Ha(s,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Ha(s,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":ki(s,"is",v);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=Vf.get(f)||f,ki(s,f,v))}}function Hy(s,c,f,v,A,O){switch(f){case"style":yt(s,v,O);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(f=v.__html,f!=null){if(A.children!=null)throw Error(n(60));s.innerHTML=f}}break;case"children":typeof v=="string"?Ii(s,v):(typeof v=="number"||typeof v=="bigint")&&Ii(s,""+v);break;case"onScroll":v!=null&&qt("scroll",s);break;case"onScrollEnd":v!=null&&qt("scrollend",s);break;case"onClick":v!=null&&(s.onclick=Aa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zf.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(A=f.endsWith("Capture"),c=f.slice(2,A?f.length-7:void 0),O=s[Jt]||null,O=O!=null?O[f]:null,typeof O=="function"&&s.removeEventListener(c,O,A),typeof v=="function")){typeof O!="function"&&O!==null&&(f in s?s[f]=null:s.hasAttribute(f)&&s.removeAttribute(f)),s.addEventListener(c,v,A);break e}f in s?s[f]=v:v===!0?s.setAttribute(f,""):ki(s,f,v)}}}function ta(s,c,f){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qt("error",s),qt("load",s);var v=!1,A=!1,O;for(O in f)if(f.hasOwnProperty(O)){var z=f[O];if(z!=null)switch(O){case"src":v=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:pr(s,c,O,z,f,null)}}A&&pr(s,c,"srcSet",f.srcSet,f,null),v&&pr(s,c,"src",f.src,f,null);return;case"input":qt("invalid",s);var Z=O=z=A=null,ie=null,Te=null;for(v in f)if(f.hasOwnProperty(v)){var je=f[v];if(je!=null)switch(v){case"name":A=je;break;case"type":z=je;break;case"checked":ie=je;break;case"defaultChecked":Te=je;break;case"value":O=je;break;case"defaultValue":Z=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,c));break;default:pr(s,c,v,je,f,null)}}Ce(s,O,Z,ie,Te,z,A,!1);return;case"select":qt("invalid",s),v=z=O=null;for(A in f)if(f.hasOwnProperty(A)&&(Z=f[A],Z!=null))switch(A){case"value":O=Z;break;case"defaultValue":z=Z;break;case"multiple":v=Z;default:pr(s,c,A,Z,f,null)}c=O,f=z,s.multiple=!!v,c!=null?mt(s,!!v,c,!1):f!=null&&mt(s,!!v,f,!0);return;case"textarea":qt("invalid",s),O=A=v=null;for(z in f)if(f.hasOwnProperty(z)&&(Z=f[z],Z!=null))switch(z){case"value":v=Z;break;case"defaultValue":A=Z;break;case"children":O=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(91));break;default:pr(s,c,z,Z,f,null)}fa(s,v,A,O);return;case"option":for(ie in f)if(f.hasOwnProperty(ie)&&(v=f[ie],v!=null))switch(ie){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:pr(s,c,ie,v,f,null)}return;case"dialog":qt("beforetoggle",s),qt("toggle",s),qt("cancel",s),qt("close",s);break;case"iframe":case"object":qt("load",s);break;case"video":case"audio":for(v=0;v<Zd.length;v++)qt(Zd[v],s);break;case"image":qt("error",s),qt("load",s);break;case"details":qt("toggle",s);break;case"embed":case"source":case"link":qt("error",s),qt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in f)if(f.hasOwnProperty(Te)&&(v=f[Te],v!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:pr(s,c,Te,v,f,null)}return;default:if(Er(c)){for(je in f)f.hasOwnProperty(je)&&(v=f[je],v!==void 0&&Hy(s,c,je,v,f,void 0));return}}for(Z in f)f.hasOwnProperty(Z)&&(v=f[Z],v!=null&&pr(s,c,Z,v,f,null))}function c9(s,c,f,v){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,O=null,z=null,Z=null,ie=null,Te=null,je=null;for(Ie in f){var He=f[Ie];if(f.hasOwnProperty(Ie)&&He!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":ie=He;default:v.hasOwnProperty(Ie)||pr(s,c,Ie,null,v,He)}}for(var Oe in v){var Ie=v[Oe];if(He=f[Oe],v.hasOwnProperty(Oe)&&(Ie!=null||He!=null))switch(Oe){case"type":O=Ie;break;case"name":A=Ie;break;case"checked":Te=Ie;break;case"defaultChecked":je=Ie;break;case"value":z=Ie;break;case"defaultValue":Z=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,c));break;default:Ie!==He&&pr(s,c,Oe,Ie,v,He)}}xn(s,z,Z,ie,Te,je,O,A);return;case"select":Ie=z=Z=Oe=null;for(O in f)if(ie=f[O],f.hasOwnProperty(O)&&ie!=null)switch(O){case"value":break;case"multiple":Ie=ie;default:v.hasOwnProperty(O)||pr(s,c,O,null,v,ie)}for(A in v)if(O=v[A],ie=f[A],v.hasOwnProperty(A)&&(O!=null||ie!=null))switch(A){case"value":Oe=O;break;case"defaultValue":Z=O;break;case"multiple":z=O;default:O!==ie&&pr(s,c,A,O,v,ie)}c=Z,f=z,v=Ie,Oe!=null?mt(s,!!f,Oe,!1):!!v!=!!f&&(c!=null?mt(s,!!f,c,!0):mt(s,!!f,f?[]:"",!1));return;case"textarea":Ie=Oe=null;for(Z in f)if(A=f[Z],f.hasOwnProperty(Z)&&A!=null&&!v.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:pr(s,c,Z,null,v,A)}for(z in v)if(A=v[z],O=f[z],v.hasOwnProperty(z)&&(A!=null||O!=null))switch(z){case"value":Oe=A;break;case"defaultValue":Ie=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==O&&pr(s,c,z,A,v,O)}on(s,Oe,Ie);return;case"option":for(var ut in f)if(Oe=f[ut],f.hasOwnProperty(ut)&&Oe!=null&&!v.hasOwnProperty(ut))switch(ut){case"selected":s.selected=!1;break;default:pr(s,c,ut,null,v,Oe)}for(ie in v)if(Oe=v[ie],Ie=f[ie],v.hasOwnProperty(ie)&&Oe!==Ie&&(Oe!=null||Ie!=null))switch(ie){case"selected":s.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:pr(s,c,ie,Oe,v,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var St in f)Oe=f[St],f.hasOwnProperty(St)&&Oe!=null&&!v.hasOwnProperty(St)&&pr(s,c,St,null,v,Oe);for(Te in v)if(Oe=v[Te],Ie=f[Te],v.hasOwnProperty(Te)&&Oe!==Ie&&(Oe!=null||Ie!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,c));break;default:pr(s,c,Te,Oe,v,Ie)}return;default:if(Er(c)){for(var yr in f)Oe=f[yr],f.hasOwnProperty(yr)&&Oe!==void 0&&!v.hasOwnProperty(yr)&&Hy(s,c,yr,void 0,v,Oe);for(je in v)Oe=v[je],Ie=f[je],!v.hasOwnProperty(je)||Oe===Ie||Oe===void 0&&Ie===void 0||Hy(s,c,je,Oe,v,Ie);return}}for(var xe in f)Oe=f[xe],f.hasOwnProperty(xe)&&Oe!=null&&!v.hasOwnProperty(xe)&&pr(s,c,xe,null,v,Oe);for(He in v)Oe=v[He],Ie=f[He],!v.hasOwnProperty(He)||Oe===Ie||Oe==null&&Ie==null||pr(s,c,He,Oe,v,Ie)}function f3(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u9(){if(typeof performance.getEntriesByType=="function"){for(var s=0,c=0,f=performance.getEntriesByType("resource"),v=0;v<f.length;v++){var A=f[v],O=A.transferSize,z=A.initiatorType,Z=A.duration;if(O&&Z&&f3(z)){for(z=0,Z=A.responseEnd,v+=1;v<f.length;v++){var ie=f[v],Te=ie.startTime;if(Te>Z)break;var je=ie.transferSize,He=ie.initiatorType;je&&f3(He)&&(ie=ie.responseEnd,z+=je*(ie<Z?1:(Z-Te)/(ie-Te)))}if(--v,c+=8*(O+z)/(A.duration/1e3),s++,10<s)break}}if(0<s)return c/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var qy=null,$y=null;function V0(s){return s.nodeType===9?s:s.ownerDocument}function h3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g3(s,c){if(s===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&c==="foreignObject"?0:s}function Gy(s,c){return s==="textarea"||s==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Yy=null;function d9(){var s=window.event;return s&&s.type==="popstate"?s===Yy?!1:(Yy=s,!0):(Yy=null,!1)}var p3=typeof setTimeout=="function"?setTimeout:void 0,m9=typeof clearTimeout=="function"?clearTimeout:void 0,y3=typeof Promise=="function"?Promise:void 0,f9=typeof queueMicrotask=="function"?queueMicrotask:typeof y3<"u"?function(s){return y3.resolve(null).then(s).catch(h9)}:p3;function h9(s){setTimeout(function(){throw s})}function so(s){return s==="head"}function x3(s,c){var f=c,v=0;do{var A=f.nextSibling;if(s.removeChild(f),A&&A.nodeType===8)if(f=A.data,f==="/$"||f==="/&"){if(v===0){s.removeChild(A),xu(c);return}v--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")v++;else if(f==="html")Jd(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,Jd(f);for(var O=f.firstChild;O;){var z=O.nextSibling,Z=O.nodeName;O[ol]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&O.rel.toLowerCase()==="stylesheet"||f.removeChild(O),O=z}}else f==="body"&&Jd(s.ownerDocument.body);f=A}while(f);xu(c)}function b3(s,c){var f=s;s=0;do{var v=f.nextSibling;if(f.nodeType===1?c?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(c?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),v&&v.nodeType===8)if(f=v.data,f==="/$"){if(s===0)break;s--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||s++;f=v}while(f)}function Xy(s){var c=s.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var f=c;switch(c=c.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":Xy(f),Kn(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function g9(s,c,f,v){for(;s.nodeType===1;){var A=f;if(s.nodeName.toLowerCase()!==c.toLowerCase()){if(!v&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(v){if(!s[ol])switch(c){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(O=s.getAttribute("rel"),O==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(O!==A.rel||s.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||s.getAttribute("title")!==(A.title==null?null:A.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(O=s.getAttribute("src"),(O!==(A.src==null?null:A.src)||s.getAttribute("type")!==(A.type==null?null:A.type)||s.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&O&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(c==="input"&&s.type==="hidden"){var O=A.name==null?null:""+A.name;if(A.type==="hidden"&&s.getAttribute("name")===O)return s}else return s;if(s=ys(s.nextSibling),s===null)break}return null}function p9(s,c,f){if(c==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!f||(s=ys(s.nextSibling),s===null))return null;return s}function v3(s,c){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=ys(s.nextSibling),s===null))return null;return s}function Wy(s){return s.data==="$?"||s.data==="$~"}function Ky(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function y9(s,c){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=c;else if(s.data!=="$?"||f.readyState!=="loading")c();else{var v=function(){c(),f.removeEventListener("DOMContentLoaded",v)};f.addEventListener("DOMContentLoaded",v),s._reactRetry=v}}function ys(s){for(;s!=null;s=s.nextSibling){var c=s.nodeType;if(c===1||c===3)break;if(c===8){if(c=s.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return s}var Zy=null;function E3(s){s=s.nextSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&"){if(c===0)return ys(s.nextSibling);c--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||c++}s=s.nextSibling}return null}function w3(s){s=s.previousSibling;for(var c=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(c===0)return s;c--}else f!=="/$"&&f!=="/&"||c++}s=s.previousSibling}return null}function N3(s,c,f){switch(c=V0(f),s){case"html":if(s=c.documentElement,!s)throw Error(n(452));return s;case"head":if(s=c.head,!s)throw Error(n(453));return s;case"body":if(s=c.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Jd(s){for(var c=s.attributes;c.length;)s.removeAttributeNode(c[0]);Kn(s)}var xs=new Map,S3=new Set;function H0(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ri=ae.d;ae.d={f:x9,r:b9,D:v9,C:E9,L:w9,m:N9,X:C9,S:S9,M:A9};function x9(){var s=ri.f(),c=I0();return s||c}function b9(s){var c=Wt(s);c!==null&&c.tag===5&&c.type==="form"?zS(c):ri.r(s)}var gu=typeof document>"u"?null:document;function C3(s,c,f){var v=gu;if(v&&typeof c=="string"&&c){var A=Ut(c);A='link[rel="'+s+'"][href="'+A+'"]',typeof f=="string"&&(A+='[crossorigin="'+f+'"]'),S3.has(A)||(S3.add(A),s={rel:s,crossOrigin:f,href:c},v.querySelector(A)===null&&(c=v.createElement("link"),ta(c,"link",s),Ar(c),v.head.appendChild(c)))}}function v9(s){ri.D(s),C3("dns-prefetch",s,null)}function E9(s,c){ri.C(s,c),C3("preconnect",s,c)}function w9(s,c,f){ri.L(s,c,f);var v=gu;if(v&&s&&c){var A='link[rel="preload"][as="'+Ut(c)+'"]';c==="image"&&f&&f.imageSrcSet?(A+='[imagesrcset="'+Ut(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(A+='[imagesizes="'+Ut(f.imageSizes)+'"]')):A+='[href="'+Ut(s)+'"]';var O=A;switch(c){case"style":O=pu(s);break;case"script":O=yu(s)}xs.has(O)||(s=w({rel:"preload",href:c==="image"&&f&&f.imageSrcSet?void 0:s,as:c},f),xs.set(O,s),v.querySelector(A)!==null||c==="style"&&v.querySelector(em(O))||c==="script"&&v.querySelector(tm(O))||(c=v.createElement("link"),ta(c,"link",s),Ar(c),v.head.appendChild(c)))}}function N9(s,c){ri.m(s,c);var f=gu;if(f&&s){var v=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+Ut(v)+'"][href="'+Ut(s)+'"]',O=A;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=yu(s)}if(!xs.has(O)&&(s=w({rel:"modulepreload",href:s},c),xs.set(O,s),f.querySelector(A)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(tm(O)))return}v=f.createElement("link"),ta(v,"link",s),Ar(v),f.head.appendChild(v)}}}function S9(s,c,f){ri.S(s,c,f);var v=gu;if(v&&s){var A=dt(v).hoistableStyles,O=pu(s);c=c||"default";var z=A.get(O);if(!z){var Z={loading:0,preload:null};if(z=v.querySelector(em(O)))Z.loading=5;else{s=w({rel:"stylesheet",href:s,"data-precedence":c},f),(f=xs.get(O))&&Qy(s,f);var ie=z=v.createElement("link");Ar(ie),ta(ie,"link",s),ie._p=new Promise(function(Te,je){ie.onload=Te,ie.onerror=je}),ie.addEventListener("load",function(){Z.loading|=1}),ie.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,q0(z,c,v)}z={type:"stylesheet",instance:z,count:1,state:Z},A.set(O,z)}}}function C9(s,c){ri.X(s,c);var f=gu;if(f&&s){var v=dt(f).hoistableScripts,A=yu(s),O=v.get(A);O||(O=f.querySelector(tm(A)),O||(s=w({src:s,async:!0},c),(c=xs.get(A))&&Jy(s,c),O=f.createElement("script"),Ar(O),ta(O,"link",s),f.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(A,O))}}function A9(s,c){ri.M(s,c);var f=gu;if(f&&s){var v=dt(f).hoistableScripts,A=yu(s),O=v.get(A);O||(O=f.querySelector(tm(A)),O||(s=w({src:s,async:!0,type:"module"},c),(c=xs.get(A))&&Jy(s,c),O=f.createElement("script"),Ar(O),ta(O,"link",s),f.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},v.set(A,O))}}function A3(s,c,f,v){var A=(A=le.current)?H0(A):null;if(!A)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(c=pu(f.href),f=dt(A).hoistableStyles,v=f.get(c),v||(v={type:"style",instance:null,count:0,state:null},f.set(c,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){s=pu(f.href);var O=dt(A).hoistableStyles,z=O.get(s);if(z||(A=A.ownerDocument||A,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(s,z),(O=A.querySelector(em(s)))&&!O._p&&(z.instance=O,z.state.loading=5),xs.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},xs.set(s,f),O||T9(A,s,f,z.state))),c&&v===null)throw Error(n(528,""));return z}if(c&&v!==null)throw Error(n(529,""));return null;case"script":return c=f.async,f=f.src,typeof f=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=yu(f),f=dt(A).hoistableScripts,v=f.get(c),v||(v={type:"script",instance:null,count:0,state:null},f.set(c,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function pu(s){return'href="'+Ut(s)+'"'}function em(s){return'link[rel="stylesheet"]['+s+"]"}function T3(s){return w({},s,{"data-precedence":s.precedence,precedence:null})}function T9(s,c,f,v){s.querySelector('link[rel="preload"][as="style"]['+c+"]")?v.loading=1:(c=s.createElement("link"),v.preload=c,c.addEventListener("load",function(){return v.loading|=1}),c.addEventListener("error",function(){return v.loading|=2}),ta(c,"link",f),Ar(c),s.head.appendChild(c))}function yu(s){return'[src="'+Ut(s)+'"]'}function tm(s){return"script[async]"+s}function O3(s,c,f){if(c.count++,c.instance===null)switch(c.type){case"style":var v=s.querySelector('style[data-href~="'+Ut(f.href)+'"]');if(v)return c.instance=v,Ar(v),v;var A=w({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return v=(s.ownerDocument||s).createElement("style"),Ar(v),ta(v,"style",A),q0(v,f.precedence,s),c.instance=v;case"stylesheet":A=pu(f.href);var O=s.querySelector(em(A));if(O)return c.state.loading|=4,c.instance=O,Ar(O),O;v=T3(f),(A=xs.get(A))&&Qy(v,A),O=(s.ownerDocument||s).createElement("link"),Ar(O);var z=O;return z._p=new Promise(function(Z,ie){z.onload=Z,z.onerror=ie}),ta(O,"link",v),c.state.loading|=4,q0(O,f.precedence,s),c.instance=O;case"script":return O=yu(f.src),(A=s.querySelector(tm(O)))?(c.instance=A,Ar(A),A):(v=f,(A=xs.get(O))&&(v=w({},f),Jy(v,A)),s=s.ownerDocument||s,A=s.createElement("script"),Ar(A),ta(A,"link",v),s.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(v=c.instance,c.state.loading|=4,q0(v,f.precedence,s));return c.instance}function q0(s,c,f){for(var v=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=v.length?v[v.length-1]:null,O=A,z=0;z<v.length;z++){var Z=v[z];if(Z.dataset.precedence===c)O=Z;else if(O!==A)break}O?O.parentNode.insertBefore(s,O.nextSibling):(c=f.nodeType===9?f.head:f,c.insertBefore(s,c.firstChild))}function Qy(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.title==null&&(s.title=c.title)}function Jy(s,c){s.crossOrigin==null&&(s.crossOrigin=c.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=c.referrerPolicy),s.integrity==null&&(s.integrity=c.integrity)}var $0=null;function _3(s,c,f){if($0===null){var v=new Map,A=$0=new Map;A.set(f,v)}else A=$0,v=A.get(f),v||(v=new Map,A.set(f,v));if(v.has(s))return v;for(v.set(s,null),f=f.getElementsByTagName(s),A=0;A<f.length;A++){var O=f[A];if(!(O[ol]||O[Fr]||s==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var z=O.getAttribute(c)||"";z=s+z;var Z=v.get(z);Z?Z.push(O):v.set(z,[O])}}return v}function D3(s,c,f){s=s.ownerDocument||s,s.head.insertBefore(f,c==="title"?s.querySelector("head > title"):null)}function O9(s,c,f){if(f===1||c.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return s=c.disabled,typeof c.precedence=="string"&&s==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function k3(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function _9(s,c,f,v){if(f.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var A=pu(v.href),O=c.querySelector(em(A));if(O){c=O._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(s.count++,s=G0.bind(s),c.then(s,s)),f.state.loading|=4,f.instance=O,Ar(O);return}O=c.ownerDocument||c,v=T3(v),(A=xs.get(A))&&Qy(v,A),O=O.createElement("link"),Ar(O);var z=O;z._p=new Promise(function(Z,ie){z.onload=Z,z.onerror=ie}),ta(O,"link",v),f.instance=O}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(f,c),(c=f.state.preload)&&(f.state.loading&3)===0&&(s.count++,f=G0.bind(s),c.addEventListener("load",f),c.addEventListener("error",f))}}var ex=0;function D9(s,c){return s.stylesheets&&s.count===0&&X0(s,s.stylesheets),0<s.count||0<s.imgCount?function(f){var v=setTimeout(function(){if(s.stylesheets&&X0(s,s.stylesheets),s.unsuspend){var O=s.unsuspend;s.unsuspend=null,O()}},6e4+c);0<s.imgBytes&&ex===0&&(ex=62500*u9());var A=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&X0(s,s.stylesheets),s.unsuspend)){var O=s.unsuspend;s.unsuspend=null,O()}},(s.imgBytes>ex?50:800)+c);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(v),clearTimeout(A)}}:null}function G0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)X0(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Y0=null;function X0(s,c){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Y0=new Map,c.forEach(k9,s),Y0=null,G0.call(s))}function k9(s,c){if(!(c.state.loading&4)){var f=Y0.get(s);if(f)var v=f.get(null);else{f=new Map,Y0.set(s,f);for(var A=s.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<A.length;O++){var z=A[O];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(f.set(z.dataset.precedence,z),v=z)}v&&f.set(null,v)}A=c.instance,z=A.getAttribute("data-precedence"),O=f.get(z)||v,O===v&&f.set(null,A),f.set(z,A),this.count++,v=G0.bind(this),A.addEventListener("load",v),A.addEventListener("error",v),O?O.parentNode.insertBefore(A,O.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(A,s.firstChild)),c.state.loading|=4}}var rm={$$typeof:R,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function M9(s,c,f,v,A,O,z,Z,ie){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=v,this.onUncaughtError=A,this.onCaughtError=O,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ie,this.incompleteTransitions=new Map}function M3(s,c,f,v,A,O,z,Z,ie,Te,je,He){return s=new M9(s,c,f,z,ie,Te,je,He,Z),c=1,O===!0&&(c|=24),O=Ya(3,null,null,c),s.current=O,O.stateNode=s,c=P1(),c.refCount++,s.pooledCache=c,c.refCount++,O.memoizedState={element:v,isDehydrated:f,cache:c},B1(O),s}function P3(s){return s?(s=Xc,s):Xc}function I3(s,c,f,v,A,O){A=P3(A),v.context===null?v.context=A:v.pendingContext=A,v=Xi(c),v.payload={element:f},O=O===void 0?null:O,O!==null&&(v.callback=O),f=Wi(s,v,c),f!==null&&(Pa(f,s,c),Id(f,s,c))}function R3(s,c){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<c?f:c}}function tx(s,c){R3(s,c),(s=s.alternate)&&R3(s,c)}function L3(s){if(s.tag===13||s.tag===31){var c=Yo(s,67108864);c!==null&&Pa(c,s,67108864),tx(s,67108864)}}function B3(s){if(s.tag===13||s.tag===31){var c=Qa();c=yn(c);var f=Yo(s,c);f!==null&&Pa(f,s,c),tx(s,c)}}var W0=!0;function P9(s,c,f,v){var A=J.T;J.T=null;var O=ae.p;try{ae.p=2,rx(s,c,f,v)}finally{ae.p=O,J.T=A}}function I9(s,c,f,v){var A=J.T;J.T=null;var O=ae.p;try{ae.p=8,rx(s,c,f,v)}finally{ae.p=O,J.T=A}}function rx(s,c,f,v){if(W0){var A=nx(v);if(A===null)Vy(s,c,v,K0,f),U3(s,v);else if(L9(A,s,c,f,v))v.stopPropagation();else if(U3(s,v),c&4&&-1<R9.indexOf(s)){for(;A!==null;){var O=Wt(A);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var z=Bt(O.pendingLanes);if(z!==0){var Z=O;for(Z.pendingLanes|=2,Z.entangledLanes|=2;z;){var ie=1<<31-nt(z);Z.entanglements[1]|=ie,z&=~ie}pl(O),(lr&6)===0&&(M0=ft()+500,Kd(0))}}break;case 31:case 13:Z=Yo(O,2),Z!==null&&Pa(Z,O,2),I0(),tx(O,2)}if(O=nx(v),O===null&&Vy(s,c,v,K0,f),O===A)break;A=O}A!==null&&v.stopPropagation()}else Vy(s,c,v,null,f)}}function nx(s){return s=bd(s),ax(s)}var K0=null;function ax(s){if(K0=null,s=kr(s),s!==null){var c=o(s);if(c===null)s=null;else{var f=c.tag;if(f===13){if(s=d(c),s!==null)return s;s=null}else if(f===31){if(s=g(c),s!==null)return s;s=null}else if(f===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;s=null}else c!==s&&(s=null)}}return K0=s,null}function F3(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case xt:return 2;case Qt:return 8;case Dr:case fr:return 32;case Xn:return 268435456;default:return 32}default:return 32}}var sx=!1,lo=null,io=null,oo=null,nm=new Map,am=new Map,co=[],R9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U3(s,c){switch(s){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":io=null;break;case"mouseover":case"mouseout":oo=null;break;case"pointerover":case"pointerout":nm.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":am.delete(c.pointerId)}}function sm(s,c,f,v,A,O){return s===null||s.nativeEvent!==O?(s={blockedOn:c,domEventName:f,eventSystemFlags:v,nativeEvent:O,targetContainers:[A]},c!==null&&(c=Wt(c),c!==null&&L3(c)),s):(s.eventSystemFlags|=v,c=s.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),s)}function L9(s,c,f,v,A){switch(c){case"focusin":return lo=sm(lo,s,c,f,v,A),!0;case"dragenter":return io=sm(io,s,c,f,v,A),!0;case"mouseover":return oo=sm(oo,s,c,f,v,A),!0;case"pointerover":var O=A.pointerId;return nm.set(O,sm(nm.get(O)||null,s,c,f,v,A)),!0;case"gotpointercapture":return O=A.pointerId,am.set(O,sm(am.get(O)||null,s,c,f,v,A)),!0}return!1}function j3(s){var c=kr(s.target);if(c!==null){var f=o(c);if(f!==null){if(c=f.tag,c===13){if(c=d(f),c!==null){s.blockedOn=c,it(s.priority,function(){B3(f)});return}}else if(c===31){if(c=g(f),c!==null){s.blockedOn=c,it(s.priority,function(){B3(f)});return}}else if(c===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Z0(s){if(s.blockedOn!==null)return!1;for(var c=s.targetContainers;0<c.length;){var f=nx(s.nativeEvent);if(f===null){f=s.nativeEvent;var v=new f.constructor(f.type,f);Uo=v,f.target.dispatchEvent(v),Uo=null}else return c=Wt(f),c!==null&&L3(c),s.blockedOn=f,!1;c.shift()}return!0}function z3(s,c,f){Z0(s)&&f.delete(c)}function B9(){sx=!1,lo!==null&&Z0(lo)&&(lo=null),io!==null&&Z0(io)&&(io=null),oo!==null&&Z0(oo)&&(oo=null),nm.forEach(z3),am.forEach(z3)}function Q0(s,c){s.blockedOn===c&&(s.blockedOn=null,sx||(sx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,B9)))}var J0=null;function V3(s){J0!==s&&(J0=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){J0===s&&(J0=null);for(var c=0;c<s.length;c+=3){var f=s[c],v=s[c+1],A=s[c+2];if(typeof v!="function"){if(ax(v||f)===null)continue;break}var O=Wt(f);O!==null&&(s.splice(c,3),c-=3,ny(O,{pending:!0,data:A,method:f.method,action:v},v,A))}}))}function xu(s){function c(ie){return Q0(ie,s)}lo!==null&&Q0(lo,s),io!==null&&Q0(io,s),oo!==null&&Q0(oo,s),nm.forEach(c),am.forEach(c);for(var f=0;f<co.length;f++){var v=co[f];v.blockedOn===s&&(v.blockedOn=null)}for(;0<co.length&&(f=co[0],f.blockedOn===null);)j3(f),f.blockedOn===null&&co.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(v=0;v<f.length;v+=3){var A=f[v],O=f[v+1],z=A[Jt]||null;if(typeof O=="function")z||V3(f);else if(z){var Z=null;if(O&&O.hasAttribute("formAction")){if(A=O,z=O[Jt]||null)Z=z.formAction;else if(ax(A)!==null)continue}else Z=z.action;typeof Z=="function"?f[v+1]=Z:(f.splice(v,3),v-=3),V3(f)}}}function H3(){function s(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(z){return A=z})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),v||setTimeout(f,20)}function f(){if(!v&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,A=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(f,100),function(){v=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function lx(s){this._internalRoot=s}eh.prototype.render=lx.prototype.render=function(s){var c=this._internalRoot;if(c===null)throw Error(n(409));var f=c.current,v=Qa();I3(f,v,s,c,null,null)},eh.prototype.unmount=lx.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var c=s.containerInfo;I3(s.current,2,null,s,null,null),I0(),c[ma]=null}};function eh(s){this._internalRoot=s}eh.prototype.unstable_scheduleHydration=function(s){if(s){var c=zn();s={blockedOn:null,target:s,priority:c};for(var f=0;f<co.length&&c!==0&&c<co[f].priority;f++);co.splice(f,0,s),f===0&&j3(s)}};var q3=t.version;if(q3!=="19.2.0")throw Error(n(527,q3,"19.2.0"));ae.findDOMNode=function(s){var c=s._reactInternals;if(c===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=x(c),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var F9={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{zt=th.inject(F9),ge=th}catch{}}return lm.createRoot=function(s,c){if(!l(s))throw Error(n(299));var f=!1,v="",A=ZS,O=QS,z=JS;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(O=c.onCaughtError),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),c=M3(s,1,!1,null,null,f,v,null,A,O,z,H3),s[ma]=c.current,zy(s),new lx(c)},lm.hydrateRoot=function(s,c,f){if(!l(s))throw Error(n(299));var v=!1,A="",O=ZS,z=QS,Z=JS,ie=null;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(A=f.identifierPrefix),f.onUncaughtError!==void 0&&(O=f.onUncaughtError),f.onCaughtError!==void 0&&(z=f.onCaughtError),f.onRecoverableError!==void 0&&(Z=f.onRecoverableError),f.formState!==void 0&&(ie=f.formState)),c=M3(s,1,!0,c,f??null,v,A,ie,O,z,Z,H3),c.context=P3(null),f=c.current,v=Qa(),v=yn(v),A=Xi(v),A.callback=null,Wi(f,A,v),f=v,c.current.lanes=f,os(c,f),pl(c),s[ma]=c.current,zy(s),new eh(c)},lm.version="19.2.0",lm}var Q3;function G9(){if(Q3)return ox.exports;Q3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ox.exports=$9(),ox.exports}var Y9=G9();var J3="popstate";function X9(e={}){function t(n,l){let{pathname:o,search:d,hash:g}=n.location;return Ev("",{pathname:o,search:d,hash:g},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(n,l){return typeof l=="string"?l:Im(l)}return K9(t,r,null,e)}function qr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ds(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W9(){return Math.random().toString(36).substring(2,10)}function eA(e,t){return{usr:e.state,key:e.key,idx:t}}function Ev(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?rd(t):t,state:r,key:t&&t.key||n||W9()}}function Im({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function rd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function K9(e,t,r,n={}){let{window:l=document.defaultView,v5Compat:o=!1}=n,d=l.history,g="POP",h=null,x=y();x==null&&(x=0,d.replaceState({...d.state,idx:x},""));function y(){return(d.state||{idx:null}).idx}function w(){g="POP";let M=y(),I=M==null?null:M-x;x=M,h&&h({action:g,location:k.location,delta:I})}function C(M,I){g="PUSH";let U=Ev(k.location,M,I);x=y()+1;let R=eA(U,x),G=k.createHref(U);try{d.pushState(R,"",G)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;l.location.assign(G)}o&&h&&h({action:g,location:k.location,delta:1})}function _(M,I){g="REPLACE";let U=Ev(k.location,M,I);x=y();let R=eA(U,x),G=k.createHref(U);d.replaceState(R,"",G),o&&h&&h({action:g,location:k.location,delta:0})}function D(M){return Z9(M)}let k={get action(){return g},get location(){return e(l,d)},listen(M){if(h)throw new Error("A history only accepts one active listener");return l.addEventListener(J3,w),h=M,()=>{l.removeEventListener(J3,w),h=null}},createHref(M){return t(l,M)},createURL:D,encodeLocation(M){let I=D(M);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:C,replace:_,go(M){return d.go(M)}};return k}function Z9(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),qr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Im(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function a_(e,t,r="/"){return Q9(e,t,r,!1)}function Q9(e,t,r,n){let l=typeof t=="string"?rd(t):t,o=mi(l.pathname||"/",r);if(o==null)return null;let d=s_(e);J9(d);let g=null;for(let h=0;g==null&&h<d.length;++h){let x=uL(o);g=oL(d[h],x,n)}return g}function s_(e,t=[],r=[],n="",l=!1){let o=(d,g,h=l,x)=>{let y={relativePath:x===void 0?d.path||"":x,caseSensitive:d.caseSensitive===!0,childrenIndex:g,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(n)&&h)return;qr(y.relativePath.startsWith(n),`Absolute route path "${y.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(n.length)}let w=ci([n,y.relativePath]),C=r.concat(y);d.children&&d.children.length>0&&(qr(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),s_(d.children,t,C,w,h)),!(d.path==null&&!d.index)&&t.push({path:w,score:lL(w,d.index),routesMeta:C})};return e.forEach((d,g)=>{if(d.path===""||!d.path?.includes("?"))o(d,g);else for(let h of l_(d.path))o(d,g,!0,h)}),t}function l_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,l=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return l?[o,""]:[o];let d=l_(n.join("/")),g=[];return g.push(...d.map(h=>h===""?o:[o,h].join("/"))),l&&g.push(...d),g.map(h=>e.startsWith("/")&&h===""?"/":h)}function J9(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:iL(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var eL=/^:[\w-]+$/,tL=3,rL=2,nL=1,aL=10,sL=-2,tA=e=>e==="*";function lL(e,t){let r=e.split("/"),n=r.length;return r.some(tA)&&(n+=sL),t&&(n+=rL),r.filter(l=>!tA(l)).reduce((l,o)=>l+(eL.test(o)?tL:o===""?nL:aL),n)}function iL(e,t){return e.length===t.length&&e.slice(0,-1).every((n,l)=>n===t[l])?e[e.length-1]-t[t.length-1]:0}function oL(e,t,r=!1){let{routesMeta:n}=e,l={},o="/",d=[];for(let g=0;g<n.length;++g){let h=n[g],x=g===n.length-1,y=o==="/"?t:t.slice(o.length)||"/",w=ng({path:h.relativePath,caseSensitive:h.caseSensitive,end:x},y),C=h.route;if(!w&&x&&r&&!n[n.length-1].route.index&&(w=ng({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:ci([o,w.pathname]),pathnameBase:gL(ci([o,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(o=ci([o,w.pathnameBase]))}return d}function ng(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cL(e.path,e.caseSensitive,e.end),l=t.match(r);if(!l)return null;let o=l[0],d=o.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:n.reduce((x,{paramName:y,isOptional:w},C)=>{if(y==="*"){let D=g[C]||"";d=o.slice(0,o.length-D.length).replace(/(.)\/+$/,"$1")}const _=g[C];return w&&!_?x[y]=void 0:x[y]=(_||"").replace(/%2F/g,"/"),x},{}),pathname:o,pathnameBase:d,pattern:e}}function cL(e,t=!1,r=!0){Ds(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,h)=>(n.push({paramName:g,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),n]}function uL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ds(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function mi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var dL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mL=e=>dL.test(e);function fL(e,t="/"){let{pathname:r,search:n="",hash:l=""}=typeof e=="string"?rd(e):e,o;if(r)if(mL(r))o=r;else{if(r.includes("//")){let d=r;r=r.replace(/\/\/+/g,"/"),Ds(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${r}`)}r.startsWith("/")?o=rA(r.substring(1),"/"):o=rA(r,t)}else o=t;return{pathname:o,search:pL(n),hash:yL(l)}}function rA(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function mx(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hL(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function r2(e){let t=hL(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function n2(e,t,r,n=!1){let l;typeof e=="string"?l=rd(e):(l={...e},qr(!l.pathname||!l.pathname.includes("?"),mx("?","pathname","search",l)),qr(!l.pathname||!l.pathname.includes("#"),mx("#","pathname","hash",l)),qr(!l.search||!l.search.includes("#"),mx("#","search","hash",l)));let o=e===""||l.pathname==="",d=o?"/":l.pathname,g;if(d==null)g=r;else{let w=t.length-1;if(!n&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),w-=1;l.pathname=C.join("/")}g=w>=0?t[w]:"/"}let h=fL(l,g),x=d&&d!=="/"&&d.endsWith("/"),y=(o||d===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(x||y)&&(h.pathname+="/"),h}var ci=e=>e.join("/").replace(/\/\/+/g,"/"),gL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),pL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xL(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i_=["POST","PUT","PATCH","DELETE"];new Set(i_);var bL=["GET",...i_];new Set(bL);var nd=N.createContext(null);nd.displayName="DataRouter";var mp=N.createContext(null);mp.displayName="DataRouterState";N.createContext(!1);var o_=N.createContext({isTransitioning:!1});o_.displayName="ViewTransition";var vL=N.createContext(new Map);vL.displayName="Fetchers";var EL=N.createContext(null);EL.displayName="Await";var nl=N.createContext(null);nl.displayName="Navigation";var lf=N.createContext(null);lf.displayName="Location";var al=N.createContext({outlet:null,matches:[],isDataRoute:!1});al.displayName="Route";var a2=N.createContext(null);a2.displayName="RouteError";function wL(e,{relative:t}={}){qr(ad(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=N.useContext(nl),{hash:l,pathname:o,search:d}=of(e,{relative:t}),g=o;return r!=="/"&&(g=o==="/"?r:ci([r,o])),n.createHref({pathname:g,search:d,hash:l})}function ad(){return N.useContext(lf)!=null}function Is(){return qr(ad(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(lf).location}var c_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u_(e){N.useContext(nl).static||N.useLayoutEffect(e)}function fp(){let{isDataRoute:e}=N.useContext(al);return e?BL():NL()}function NL(){qr(ad(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(nd),{basename:t,navigator:r}=N.useContext(nl),{matches:n}=N.useContext(al),{pathname:l}=Is(),o=JSON.stringify(r2(n)),d=N.useRef(!1);return u_(()=>{d.current=!0}),N.useCallback((h,x={})=>{if(Ds(d.current,c_),!d.current)return;if(typeof h=="number"){r.go(h);return}let y=n2(h,JSON.parse(o),l,x.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:ci([t,y.pathname])),(x.replace?r.replace:r.push)(y,x.state,x)},[t,r,o,l,e])}var SL=N.createContext(null);function CL(e){let t=N.useContext(al).outlet;return N.useMemo(()=>t&&N.createElement(SL.Provider,{value:e},t),[t,e])}function of(e,{relative:t}={}){let{matches:r}=N.useContext(al),{pathname:n}=Is(),l=JSON.stringify(r2(r));return N.useMemo(()=>n2(e,JSON.parse(l),n,t==="path"),[e,l,n,t])}function AL(e,t){return d_(e,t)}function d_(e,t,r,n,l){qr(ad(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(nl),{matches:d}=N.useContext(al),g=d[d.length-1],h=g?g.params:{},x=g?g.pathname:"/",y=g?g.pathnameBase:"/",w=g&&g.route;{let U=w&&w.path||"";m_(x,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let C=Is(),_;if(t){let U=typeof t=="string"?rd(t):t;qr(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),_=U}else _=C;let D=_.pathname||"/",k=D;if(y!=="/"){let U=y.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(U.length).join("/")}let M=a_(e,{pathname:k});Ds(w||M!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ds(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=kL(M&&M.map(U=>Object.assign({},U,{params:Object.assign({},h,U.params),pathname:ci([y,o.encodeLocation?o.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:ci([y,o.encodeLocation?o.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),d,r,n,l);return t&&I?N.createElement(lf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function TL(){let e=LL(),t=xL(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},d=null;return console.error("Error handled by React Router default ErrorBoundary:",e),d=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:l},r):null,d)}var OL=N.createElement(TL,null),_L=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?N.createElement(al.Provider,{value:this.props.routeContext},N.createElement(a2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DL({routeContext:e,match:t,children:r}){let n=N.useContext(nd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(al.Provider,{value:e},r)}function kL(e,t=[],r=null,n=null,l=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,d=r?.errors;if(d!=null){let y=o.findIndex(w=>w.route.id&&d?.[w.route.id]!==void 0);qr(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let g=!1,h=-1;if(r)for(let y=0;y<o.length;y++){let w=o[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(h=y),w.route.id){let{loaderData:C,errors:_}=r,D=w.route.loader&&!C.hasOwnProperty(w.route.id)&&(!_||_[w.route.id]===void 0);if(w.route.lazy||D){g=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}let x=r&&n?(y,w)=>{n(y,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:w})}:void 0;return o.reduceRight((y,w,C)=>{let _,D=!1,k=null,M=null;r&&(_=d&&w.route.id?d[w.route.id]:void 0,k=w.route.errorElement||OL,g&&(h<0&&C===0?(m_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,M=null):h===C&&(D=!0,M=w.route.hydrateFallbackElement||null)));let I=t.concat(o.slice(0,C+1)),U=()=>{let R;return _?R=k:D?R=M:w.route.Component?R=N.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=y,N.createElement(DL,{match:w,routeContext:{outlet:y,matches:I,isDataRoute:r!=null},children:R})};return r&&(w.route.ErrorBoundary||w.route.errorElement||C===0)?N.createElement(_L,{location:r.location,revalidation:r.revalidation,component:k,error:_,children:U(),routeContext:{outlet:null,matches:I,isDataRoute:!0},onError:x}):U()},null)}function s2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ML(e){let t=N.useContext(nd);return qr(t,s2(e)),t}function PL(e){let t=N.useContext(mp);return qr(t,s2(e)),t}function IL(e){let t=N.useContext(al);return qr(t,s2(e)),t}function l2(e){let t=IL(e),r=t.matches[t.matches.length-1];return qr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function RL(){return l2("useRouteId")}function LL(){let e=N.useContext(a2),t=PL("useRouteError"),r=l2("useRouteError");return e!==void 0?e:t.errors?.[r]}function BL(){let{router:e}=ML("useNavigate"),t=l2("useNavigate"),r=N.useRef(!1);return u_(()=>{r.current=!0}),N.useCallback(async(l,o={})=>{Ds(r.current,c_),r.current&&(typeof l=="number"?e.navigate(l):await e.navigate(l,{fromRouteId:t,...o}))},[e,t])}var nA={};function m_(e,t,r){!t&&!nA[e]&&(nA[e]=!0,Ds(!1,r))}N.memo(FL);function FL({routes:e,future:t,state:r,unstable_onError:n}){return d_(e,void 0,r,n,t)}function ag({to:e,replace:t,state:r,relative:n}){qr(ad(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=N.useContext(nl);Ds(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=N.useContext(al),{pathname:d}=Is(),g=fp(),h=n2(e,r2(o),d,n==="path"),x=JSON.stringify(h);return N.useEffect(()=>{g(JSON.parse(x),{replace:t,state:r,relative:n})},[g,x,n,t,r]),null}function UL(e){return CL(e.context)}function mn(e){qr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jL({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:l,static:o=!1}){qr(!ad(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),g=N.useMemo(()=>({basename:d,navigator:l,static:o,future:{}}),[d,l,o]);typeof r=="string"&&(r=rd(r));let{pathname:h="/",search:x="",hash:y="",state:w=null,key:C="default"}=r,_=N.useMemo(()=>{let D=mi(h,d);return D==null?null:{location:{pathname:D,search:x,hash:y,state:w,key:C},navigationType:n}},[d,h,x,y,w,C,n]);return Ds(_!=null,`<Router basename="${d}"> is not able to match the URL "${h}${x}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:N.createElement(nl.Provider,{value:g},N.createElement(lf.Provider,{children:t,value:_}))}function zL({children:e,location:t}){return AL(wv(e),t)}function wv(e,t=[]){let r=[];return N.Children.forEach(e,(n,l)=>{if(!N.isValidElement(n))return;let o=[...t,l];if(n.type===N.Fragment){r.push.apply(r,wv(n.props.children,o));return}qr(n.type===mn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let d={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(d.children=wv(n.props.children,o)),r.push(d)}),r}var jh="get",zh="application/x-www-form-urlencoded";function hp(e){return e!=null&&typeof e.tagName=="string"}function VL(e){return hp(e)&&e.tagName.toLowerCase()==="button"}function HL(e){return hp(e)&&e.tagName.toLowerCase()==="form"}function qL(e){return hp(e)&&e.tagName.toLowerCase()==="input"}function $L(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function GL(e,t){return e.button===0&&(!t||t==="_self")&&!$L(e)}var nh=null;function YL(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var XL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fx(e){return e!=null&&!XL.has(e)?(Ds(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zh}"`),null):e}function WL(e,t){let r,n,l,o,d;if(HL(e)){let g=e.getAttribute("action");n=g?mi(g,t):null,r=e.getAttribute("method")||jh,l=fx(e.getAttribute("enctype"))||zh,o=new FormData(e)}else if(VL(e)||qL(e)&&(e.type==="submit"||e.type==="image")){let g=e.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||g.getAttribute("action");if(n=h?mi(h,t):null,r=e.getAttribute("formmethod")||g.getAttribute("method")||jh,l=fx(e.getAttribute("formenctype"))||fx(g.getAttribute("enctype"))||zh,o=new FormData(g,e),!YL()){let{name:x,type:y,value:w}=e;if(y==="image"){let C=x?`${x}.`:"";o.append(`${C}x`,"0"),o.append(`${C}y`,"0")}else x&&o.append(x,w)}}else{if(hp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=jh,n=null,l=zh,d=e}return o&&l==="text/plain"&&(d=o,o=void 0),{action:n,method:r.toLowerCase(),encType:l,formData:o,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function i2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function KL(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&mi(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function ZL(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QL(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JL(e,t,r){let n=await Promise.all(e.map(async l=>{let o=t.routes[l.route.id];if(o){let d=await ZL(o,r);return d.links?d.links():[]}return[]}));return nB(n.flat(1).filter(QL).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function aA(e,t,r,n,l,o){let d=(h,x)=>r[x]?h.route.id!==r[x].route.id:!0,g=(h,x)=>r[x].pathname!==h.pathname||r[x].route.path?.endsWith("*")&&r[x].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,x)=>d(h,x)||g(h,x)):o==="data"?t.filter((h,x)=>{let y=n.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(d(h,x)||g(h,x))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function eB(e,t,{includeHydrateFallback:r}={}){return tB(e.map(n=>{let l=t.routes[n.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),r&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function tB(e){return[...new Set(e)]}function rB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function nB(e,t){let r=new Set;return new Set(t),e.reduce((n,l)=>{let o=JSON.stringify(rB(l));return r.has(o)||(r.add(o),n.push({key:o,link:l})),n},[])}function f_(){let e=N.useContext(nd);return i2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function aB(){let e=N.useContext(mp);return i2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var o2=N.createContext(void 0);o2.displayName="FrameworkContext";function h_(){let e=N.useContext(o2);return i2(e,"You must render this element inside a <HydratedRouter> element"),e}function sB(e,t){let r=N.useContext(o2),[n,l]=N.useState(!1),[o,d]=N.useState(!1),{onFocus:g,onBlur:h,onMouseEnter:x,onMouseLeave:y,onTouchStart:w}=t,C=N.useRef(null);N.useEffect(()=>{if(e==="render"&&d(!0),e==="viewport"){let k=I=>{I.forEach(U=>{d(U.isIntersecting)})},M=new IntersectionObserver(k,{threshold:.5});return C.current&&M.observe(C.current),()=>{M.disconnect()}}},[e]),N.useEffect(()=>{if(n){let k=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(k)}}},[n]);let _=()=>{l(!0)},D=()=>{l(!1),d(!1)};return r?e!=="intent"?[o,C,{}]:[o,C,{onFocus:im(g,_),onBlur:im(h,D),onMouseEnter:im(x,_),onMouseLeave:im(y,D),onTouchStart:im(w,_)}]:[!1,C,{}]}function im(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function lB({page:e,...t}){let{router:r}=f_(),n=N.useMemo(()=>a_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?N.createElement(oB,{page:e,matches:n,...t}):null}function iB(e){let{manifest:t,routeModules:r}=h_(),[n,l]=N.useState([]);return N.useEffect(()=>{let o=!1;return JL(e,t,r).then(d=>{o||l(d)}),()=>{o=!0}},[e,t,r]),n}function oB({page:e,matches:t,...r}){let n=Is(),{manifest:l,routeModules:o}=h_(),{basename:d}=f_(),{loaderData:g,matches:h}=aB(),x=N.useMemo(()=>aA(e,t,h,l,n,"data"),[e,t,h,l,n]),y=N.useMemo(()=>aA(e,t,h,l,n,"assets"),[e,t,h,l,n]),w=N.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let D=new Set,k=!1;if(t.forEach(I=>{let U=l.routes[I.route.id];!U||!U.hasLoader||(!x.some(R=>R.route.id===I.route.id)&&I.route.id in g&&o[I.route.id]?.shouldRevalidate||U.hasClientLoader?k=!0:D.add(I.route.id))}),D.size===0)return[];let M=KL(e,d,"data");return k&&D.size>0&&M.searchParams.set("_routes",t.filter(I=>D.has(I.route.id)).map(I=>I.route.id).join(",")),[M.pathname+M.search]},[d,g,n,l,x,t,e,o]),C=N.useMemo(()=>eB(y,l),[y,l]),_=iB(y);return N.createElement(N.Fragment,null,w.map(D=>N.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...r})),C.map(D=>N.createElement("link",{key:D,rel:"modulepreload",href:D,...r})),_.map(({key:D,link:k})=>N.createElement("link",{key:D,nonce:r.nonce,...k})))}function cB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var g_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g_&&(window.__reactRouterVersion="7.9.6")}catch{}function uB({basename:e,children:t,window:r}){let n=N.useRef();n.current==null&&(n.current=X9({window:r,v5Compat:!0}));let l=n.current,[o,d]=N.useState({action:l.action,location:l.location}),g=N.useCallback(h=>{N.startTransition(()=>d(h))},[d]);return N.useLayoutEffect(()=>l.listen(g),[l,g]),N.createElement(jL,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:l})}var p_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c2=N.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:l,reloadDocument:o,replace:d,state:g,target:h,to:x,preventScrollReset:y,viewTransition:w,...C},_){let{basename:D}=N.useContext(nl),k=typeof x=="string"&&p_.test(x),M,I=!1;if(typeof x=="string"&&k&&(M=x,g_))try{let V=new URL(window.location.href),Q=x.startsWith("//")?new URL(V.protocol+x):new URL(x),Y=mi(Q.pathname,D);Q.origin===V.origin&&Y!=null?x=Y+Q.search+Q.hash:I=!0}catch{Ds(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=wL(x,{relative:l}),[R,G,F]=sB(n,C),j=hB(x,{replace:d,state:g,target:h,preventScrollReset:y,relative:l,viewTransition:w});function L(V){t&&t(V),V.defaultPrevented||j(V)}let H=N.createElement("a",{...C,...F,href:M||U,onClick:I||o?t:L,ref:cB(_,G),target:h,"data-discover":!k&&r==="render"?"true":void 0});return R&&!k?N.createElement(N.Fragment,null,H,N.createElement(lB,{page:U})):H});c2.displayName="Link";var dB=N.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:l=!1,style:o,to:d,viewTransition:g,children:h,...x},y){let w=of(d,{relative:x.relative}),C=Is(),_=N.useContext(mp),{navigator:D,basename:k}=N.useContext(nl),M=_!=null&&bB(w)&&g===!0,I=D.encodeLocation?D.encodeLocation(w).pathname:w.pathname,U=C.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(U=U.toLowerCase(),R=R?R.toLowerCase():null,I=I.toLowerCase()),R&&k&&(R=mi(R,k)||R);const G=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let F=U===I||!l&&U.startsWith(I)&&U.charAt(G)==="/",j=R!=null&&(R===I||!l&&R.startsWith(I)&&R.charAt(I.length)==="/"),L={isActive:F,isPending:j,isTransitioning:M},H=F?t:void 0,V;typeof n=="function"?V=n(L):V=[n,F?"active":null,j?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let Q=typeof o=="function"?o(L):o;return N.createElement(c2,{...x,"aria-current":H,className:V,ref:y,style:Q,to:d,viewTransition:g},typeof h=="function"?h(L):h)});dB.displayName="NavLink";var mB=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:l,state:o,method:d=jh,action:g,onSubmit:h,relative:x,preventScrollReset:y,viewTransition:w,...C},_)=>{let D=yB(),k=xB(g,{relative:x}),M=d.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&p_.test(g),U=R=>{if(h&&h(R),R.defaultPrevented)return;R.preventDefault();let G=R.nativeEvent.submitter,F=G?.getAttribute("formmethod")||d;D(G||R.currentTarget,{fetcherKey:t,method:F,navigate:r,replace:l,state:o,relative:x,preventScrollReset:y,viewTransition:w})};return N.createElement("form",{ref:_,method:M,action:k,onSubmit:n?h:U,...C,"data-discover":!I&&e==="render"?"true":void 0})});mB.displayName="Form";function fB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function y_(e){let t=N.useContext(nd);return qr(t,fB(e)),t}function hB(e,{target:t,replace:r,state:n,preventScrollReset:l,relative:o,viewTransition:d}={}){let g=fp(),h=Is(),x=of(e,{relative:o});return N.useCallback(y=>{if(GL(y,t)){y.preventDefault();let w=r!==void 0?r:Im(h)===Im(x);g(e,{replace:w,state:n,preventScrollReset:l,relative:o,viewTransition:d})}},[h,g,x,r,n,t,e,l,o,d])}var gB=0,pB=()=>`__${String(++gB)}__`;function yB(){let{router:e}=y_("useSubmit"),{basename:t}=N.useContext(nl),r=RL();return N.useCallback(async(n,l={})=>{let{action:o,method:d,encType:g,formData:h,body:x}=WL(n,t);if(l.navigate===!1){let y=l.fetcherKey||pB();await e.fetch(y,r,l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:x,formMethod:l.method||d,formEncType:l.encType||g,flushSync:l.flushSync})}else await e.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:h,body:x,formMethod:l.method||d,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:r,flushSync:l.flushSync,viewTransition:l.viewTransition})},[e,t,r])}function xB(e,{relative:t}={}){let{basename:r}=N.useContext(nl),n=N.useContext(al);qr(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),o={...of(e||".",{relative:t})},d=Is();if(e==null){o.search=d.search;let g=new URLSearchParams(o.search),h=g.getAll("index");if(h.some(y=>y==="")){g.delete("index"),h.filter(w=>w).forEach(w=>g.append("index",w));let y=g.toString();o.search=y?`?${y}`:""}}return(!e||e===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:ci([r,o.pathname])),Im(o)}function bB(e,{relative:t}={}){let r=N.useContext(o_);qr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=y_("useViewTransitionState"),l=of(e,{relative:t});if(!r.isTransitioning)return!1;let o=mi(r.currentLocation.pathname,n)||r.currentLocation.pathname,d=mi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ng(l.pathname,d)!=null||ng(l.pathname,o)!=null}var u2=n_();function x_(e,t){return function(){return e.apply(t,arguments)}}const{toString:vB}=Object.prototype,{getPrototypeOf:d2}=Object,{iterator:gp,toStringTag:b_}=Symbol,pp=(e=>t=>{const r=vB.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),sl=e=>(e=e.toLowerCase(),t=>pp(t)===e),yp=e=>t=>typeof t===e,{isArray:sd}=Array,ju=yp("undefined");function cf(e){return e!==null&&!ju(e)&&e.constructor!==null&&!ju(e.constructor)&&Fa(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const v_=sl("ArrayBuffer");function EB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&v_(e.buffer),t}const wB=yp("string"),Fa=yp("function"),E_=yp("number"),uf=e=>e!==null&&typeof e=="object",NB=e=>e===!0||e===!1,Vh=e=>{if(pp(e)!=="object")return!1;const t=d2(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(b_ in e)&&!(gp in e)},SB=e=>{if(!uf(e)||cf(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},CB=sl("Date"),AB=sl("File"),TB=sl("Blob"),OB=sl("FileList"),_B=e=>uf(e)&&Fa(e.pipe),DB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Fa(e.append)&&((t=pp(e))==="formdata"||t==="object"&&Fa(e.toString)&&e.toString()==="[object FormData]"))},kB=sl("URLSearchParams"),[MB,PB,IB,RB]=["ReadableStream","Request","Response","Headers"].map(sl),LB=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function df(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,l;if(typeof e!="object"&&(e=[e]),sd(e))for(n=0,l=e.length;n<l;n++)t.call(null,e[n],n,e);else{if(cf(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),d=o.length;let g;for(n=0;n<d;n++)g=o[n],t.call(null,e[g],g,e)}}function w_(e,t){if(cf(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,l;for(;n-- >0;)if(l=r[n],t===l.toLowerCase())return l;return null}const hc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,N_=e=>!ju(e)&&e!==hc;function Nv(){const{caseless:e,skipUndefined:t}=N_(this)&&this||{},r={},n=(l,o)=>{const d=e&&w_(r,o)||o;Vh(r[d])&&Vh(l)?r[d]=Nv(r[d],l):Vh(l)?r[d]=Nv({},l):sd(l)?r[d]=l.slice():(!t||!ju(l))&&(r[d]=l)};for(let l=0,o=arguments.length;l<o;l++)arguments[l]&&df(arguments[l],n);return r}const BB=(e,t,r,{allOwnKeys:n}={})=>(df(t,(l,o)=>{r&&Fa(l)?e[o]=x_(l,r):e[o]=l},{allOwnKeys:n}),e),FB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),UB=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},jB=(e,t,r,n)=>{let l,o,d;const g={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),o=l.length;o-- >0;)d=l[o],(!n||n(d,e,t))&&!g[d]&&(t[d]=e[d],g[d]=!0);e=r!==!1&&d2(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},zB=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},VB=e=>{if(!e)return null;if(sd(e))return e;let t=e.length;if(!E_(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},HB=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&d2(Uint8Array)),qB=(e,t)=>{const n=(e&&e[gp]).call(e);let l;for(;(l=n.next())&&!l.done;){const o=l.value;t.call(e,o[0],o[1])}},$B=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},GB=sl("HTMLFormElement"),YB=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,l){return n.toUpperCase()+l}),sA=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),XB=sl("RegExp"),S_=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};df(r,(l,o)=>{let d;(d=t(l,o,e))!==!1&&(n[o]=d||l)}),Object.defineProperties(e,n)},WB=e=>{S_(e,(t,r)=>{if(Fa(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Fa(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},KB=(e,t)=>{const r={},n=l=>{l.forEach(o=>{r[o]=!0})};return sd(e)?n(e):n(String(e).split(t)),r},ZB=()=>{},QB=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function JB(e){return!!(e&&Fa(e.append)&&e[b_]==="FormData"&&e[gp])}const eF=e=>{const t=new Array(10),r=(n,l)=>{if(uf(n)){if(t.indexOf(n)>=0)return;if(cf(n))return n;if(!("toJSON"in n)){t[l]=n;const o=sd(n)?[]:{};return df(n,(d,g)=>{const h=r(d,l+1);!ju(h)&&(o[g]=h)}),t[l]=void 0,o}}return n};return r(e,0)},tF=sl("AsyncFunction"),rF=e=>e&&(uf(e)||Fa(e))&&Fa(e.then)&&Fa(e.catch),C_=((e,t)=>e?setImmediate:t?((r,n)=>(hc.addEventListener("message",({source:l,data:o})=>{l===hc&&o===r&&n.length&&n.shift()()},!1),l=>{n.push(l),hc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Fa(hc.postMessage)),nF=typeof queueMicrotask<"u"?queueMicrotask.bind(hc):typeof process<"u"&&process.nextTick||C_,aF=e=>e!=null&&Fa(e[gp]),Pe={isArray:sd,isArrayBuffer:v_,isBuffer:cf,isFormData:DB,isArrayBufferView:EB,isString:wB,isNumber:E_,isBoolean:NB,isObject:uf,isPlainObject:Vh,isEmptyObject:SB,isReadableStream:MB,isRequest:PB,isResponse:IB,isHeaders:RB,isUndefined:ju,isDate:CB,isFile:AB,isBlob:TB,isRegExp:XB,isFunction:Fa,isStream:_B,isURLSearchParams:kB,isTypedArray:HB,isFileList:OB,forEach:df,merge:Nv,extend:BB,trim:LB,stripBOM:FB,inherits:UB,toFlatObject:jB,kindOf:pp,kindOfTest:sl,endsWith:zB,toArray:VB,forEachEntry:qB,matchAll:$B,isHTMLForm:GB,hasOwnProperty:sA,hasOwnProp:sA,reduceDescriptors:S_,freezeMethods:WB,toObjectSet:KB,toCamelCase:YB,noop:ZB,toFiniteNumber:QB,findKey:w_,global:hc,isContextDefined:N_,isSpecCompliantForm:JB,toJSONObject:eF,isAsyncFn:tF,isThenable:rF,setImmediate:C_,asap:nF,isIterable:aF};function It(e,t,r,n,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),l&&(this.response=l,this.status=l.status?l.status:null)}Pe.inherits(It,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const A_=It.prototype,T_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{T_[e]={value:e}});Object.defineProperties(It,T_);Object.defineProperty(A_,"isAxiosError",{value:!0});It.from=(e,t,r,n,l,o)=>{const d=Object.create(A_);Pe.toFlatObject(e,d,function(y){return y!==Error.prototype},x=>x!=="isAxiosError");const g=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return It.call(d,g,h,r,n,l),e&&d.cause==null&&Object.defineProperty(d,"cause",{value:e,configurable:!0}),d.name=e&&e.name||"Error",o&&Object.assign(d,o),d};const sF=null;function Sv(e){return Pe.isPlainObject(e)||Pe.isArray(e)}function O_(e){return Pe.endsWith(e,"[]")?e.slice(0,-2):e}function lA(e,t,r){return e?e.concat(t).map(function(l,o){return l=O_(l),!r&&o?"["+l+"]":l}).join(r?".":""):t}function lF(e){return Pe.isArray(e)&&!e.some(Sv)}const iF=Pe.toFlatObject(Pe,{},null,function(t){return/^is[A-Z]/.test(t)});function xp(e,t,r){if(!Pe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Pe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,M){return!Pe.isUndefined(M[k])});const n=r.metaTokens,l=r.visitor||y,o=r.dots,d=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(t);if(!Pe.isFunction(l))throw new TypeError("visitor must be a function");function x(D){if(D===null)return"";if(Pe.isDate(D))return D.toISOString();if(Pe.isBoolean(D))return D.toString();if(!h&&Pe.isBlob(D))throw new It("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(D)||Pe.isTypedArray(D)?h&&typeof Blob=="function"?new Blob([D]):Buffer.from(D):D}function y(D,k,M){let I=D;if(D&&!M&&typeof D=="object"){if(Pe.endsWith(k,"{}"))k=n?k:k.slice(0,-2),D=JSON.stringify(D);else if(Pe.isArray(D)&&lF(D)||(Pe.isFileList(D)||Pe.endsWith(k,"[]"))&&(I=Pe.toArray(D)))return k=O_(k),I.forEach(function(R,G){!(Pe.isUndefined(R)||R===null)&&t.append(d===!0?lA([k],G,o):d===null?k:k+"[]",x(R))}),!1}return Sv(D)?!0:(t.append(lA(M,k,o),x(D)),!1)}const w=[],C=Object.assign(iF,{defaultVisitor:y,convertValue:x,isVisitable:Sv});function _(D,k){if(!Pe.isUndefined(D)){if(w.indexOf(D)!==-1)throw Error("Circular reference detected in "+k.join("."));w.push(D),Pe.forEach(D,function(I,U){(!(Pe.isUndefined(I)||I===null)&&l.call(t,I,Pe.isString(U)?U.trim():U,k,C))===!0&&_(I,k?k.concat(U):[U])}),w.pop()}}if(!Pe.isObject(e))throw new TypeError("data must be an object");return _(e),t}function iA(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function m2(e,t){this._pairs=[],e&&xp(e,this,t)}const __=m2.prototype;__.append=function(t,r){this._pairs.push([t,r])};__.toString=function(t){const r=t?function(n){return t.call(this,n,iA)}:iA;return this._pairs.map(function(l){return r(l[0])+"="+r(l[1])},"").join("&")};function oF(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function D_(e,t,r){if(!t)return e;const n=r&&r.encode||oF;Pe.isFunction(r)&&(r={serialize:r});const l=r&&r.serialize;let o;if(l?o=l(t,r):o=Pe.isURLSearchParams(t)?t.toString():new m2(t,r).toString(n),o){const d=e.indexOf("#");d!==-1&&(e=e.slice(0,d)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class oA{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Pe.forEach(this.handlers,function(n){n!==null&&t(n)})}}const k_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},cF=typeof URLSearchParams<"u"?URLSearchParams:m2,uF=typeof FormData<"u"?FormData:null,dF=typeof Blob<"u"?Blob:null,mF={isBrowser:!0,classes:{URLSearchParams:cF,FormData:uF,Blob:dF},protocols:["http","https","file","blob","url","data"]},f2=typeof window<"u"&&typeof document<"u",Cv=typeof navigator=="object"&&navigator||void 0,fF=f2&&(!Cv||["ReactNative","NativeScript","NS"].indexOf(Cv.product)<0),hF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gF=f2&&window.location.href||"http://localhost",pF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:f2,hasStandardBrowserEnv:fF,hasStandardBrowserWebWorkerEnv:hF,navigator:Cv,origin:gF},Symbol.toStringTag,{value:"Module"})),ca={...pF,...mF};function yF(e,t){return xp(e,new ca.classes.URLSearchParams,{visitor:function(r,n,l,o){return ca.isNode&&Pe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function xF(e){return Pe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bF(e){const t={},r=Object.keys(e);let n;const l=r.length;let o;for(n=0;n<l;n++)o=r[n],t[o]=e[o];return t}function M_(e){function t(r,n,l,o){let d=r[o++];if(d==="__proto__")return!0;const g=Number.isFinite(+d),h=o>=r.length;return d=!d&&Pe.isArray(l)?l.length:d,h?(Pe.hasOwnProp(l,d)?l[d]=[l[d],n]:l[d]=n,!g):((!l[d]||!Pe.isObject(l[d]))&&(l[d]=[]),t(r,n,l[d],o)&&Pe.isArray(l[d])&&(l[d]=bF(l[d])),!g)}if(Pe.isFormData(e)&&Pe.isFunction(e.entries)){const r={};return Pe.forEachEntry(e,(n,l)=>{t(xF(n),l,r,0)}),r}return null}function vF(e,t,r){if(Pe.isString(e))try{return(t||JSON.parse)(e),Pe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const mf={transitional:k_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",l=n.indexOf("application/json")>-1,o=Pe.isObject(t);if(o&&Pe.isHTMLForm(t)&&(t=new FormData(t)),Pe.isFormData(t))return l?JSON.stringify(M_(t)):t;if(Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)||Pe.isReadableStream(t))return t;if(Pe.isArrayBufferView(t))return t.buffer;if(Pe.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return yF(t,this.formSerializer).toString();if((g=Pe.isFileList(t))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return xp(g?{"files[]":t}:t,h&&new h,this.formSerializer)}}return o||l?(r.setContentType("application/json",!1),vF(t)):t}],transformResponse:[function(t){const r=this.transitional||mf.transitional,n=r&&r.forcedJSONParsing,l=this.responseType==="json";if(Pe.isResponse(t)||Pe.isReadableStream(t))return t;if(t&&Pe.isString(t)&&(n&&!this.responseType||l)){const d=!(r&&r.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(g){if(d)throw g.name==="SyntaxError"?It.from(g,It.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ca.classes.FormData,Blob:ca.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],e=>{mf.headers[e]={}});const EF=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wF=e=>{const t={};let r,n,l;return e&&e.split(`
`).forEach(function(d){l=d.indexOf(":"),r=d.substring(0,l).trim().toLowerCase(),n=d.substring(l+1).trim(),!(!r||t[r]&&EF[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},cA=Symbol("internals");function om(e){return e&&String(e).trim().toLowerCase()}function Hh(e){return e===!1||e==null?e:Pe.isArray(e)?e.map(Hh):String(e)}function NF(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const SF=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hx(e,t,r,n,l){if(Pe.isFunction(n))return n.call(this,t,r);if(l&&(t=r),!!Pe.isString(t)){if(Pe.isString(n))return t.indexOf(n)!==-1;if(Pe.isRegExp(n))return n.test(t)}}function CF(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function AF(e,t){const r=Pe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(l,o,d){return this[n].call(this,t,l,o,d)},configurable:!0})})}let Ua=class{constructor(t){t&&this.set(t)}set(t,r,n){const l=this;function o(g,h,x){const y=om(h);if(!y)throw new Error("header name must be a non-empty string");const w=Pe.findKey(l,y);(!w||l[w]===void 0||x===!0||x===void 0&&l[w]!==!1)&&(l[w||h]=Hh(g))}const d=(g,h)=>Pe.forEach(g,(x,y)=>o(x,y,h));if(Pe.isPlainObject(t)||t instanceof this.constructor)d(t,r);else if(Pe.isString(t)&&(t=t.trim())&&!SF(t))d(wF(t),r);else if(Pe.isObject(t)&&Pe.isIterable(t)){let g={},h,x;for(const y of t){if(!Pe.isArray(y))throw TypeError("Object iterator must return a key-value pair");g[x=y[0]]=(h=g[x])?Pe.isArray(h)?[...h,y[1]]:[h,y[1]]:y[1]}d(g,r)}else t!=null&&o(r,t,n);return this}get(t,r){if(t=om(t),t){const n=Pe.findKey(this,t);if(n){const l=this[n];if(!r)return l;if(r===!0)return NF(l);if(Pe.isFunction(r))return r.call(this,l,n);if(Pe.isRegExp(r))return r.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=om(t),t){const n=Pe.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||hx(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let l=!1;function o(d){if(d=om(d),d){const g=Pe.findKey(n,d);g&&(!r||hx(n,n[g],g,r))&&(delete n[g],l=!0)}}return Pe.isArray(t)?t.forEach(o):o(t),l}clear(t){const r=Object.keys(this);let n=r.length,l=!1;for(;n--;){const o=r[n];(!t||hx(this,this[o],o,t,!0))&&(delete this[o],l=!0)}return l}normalize(t){const r=this,n={};return Pe.forEach(this,(l,o)=>{const d=Pe.findKey(n,o);if(d){r[d]=Hh(l),delete r[o];return}const g=t?CF(o):String(o).trim();g!==o&&delete r[o],r[g]=Hh(l),n[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Pe.forEach(this,(n,l)=>{n!=null&&n!==!1&&(r[l]=t&&Pe.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(l=>n.set(l)),n}static accessor(t){const n=(this[cA]=this[cA]={accessors:{}}).accessors,l=this.prototype;function o(d){const g=om(d);n[g]||(AF(l,d),n[g]=!0)}return Pe.isArray(t)?t.forEach(o):o(t),this}};Ua.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Ua.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Pe.freezeMethods(Ua);function gx(e,t){const r=this||mf,n=t||r,l=Ua.from(n.headers);let o=n.data;return Pe.forEach(e,function(g){o=g.call(r,o,l.normalize(),t?t.status:void 0)}),l.normalize(),o}function P_(e){return!!(e&&e.__CANCEL__)}function ld(e,t,r){It.call(this,e??"canceled",It.ERR_CANCELED,t,r),this.name="CanceledError"}Pe.inherits(ld,It,{__CANCEL__:!0});function I_(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new It("Request failed with status code "+r.status,[It.ERR_BAD_REQUEST,It.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function TF(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function OF(e,t){e=e||10;const r=new Array(e),n=new Array(e);let l=0,o=0,d;return t=t!==void 0?t:1e3,function(h){const x=Date.now(),y=n[o];d||(d=x),r[l]=h,n[l]=x;let w=o,C=0;for(;w!==l;)C+=r[w++],w=w%e;if(l=(l+1)%e,l===o&&(o=(o+1)%e),x-d<t)return;const _=y&&x-y;return _?Math.round(C*1e3/_):void 0}}function _F(e,t){let r=0,n=1e3/t,l,o;const d=(x,y=Date.now())=>{r=y,l=null,o&&(clearTimeout(o),o=null),e(...x)};return[(...x)=>{const y=Date.now(),w=y-r;w>=n?d(x,y):(l=x,o||(o=setTimeout(()=>{o=null,d(l)},n-w)))},()=>l&&d(l)]}const sg=(e,t,r=3)=>{let n=0;const l=OF(50,250);return _F(o=>{const d=o.loaded,g=o.lengthComputable?o.total:void 0,h=d-n,x=l(h),y=d<=g;n=d;const w={loaded:d,total:g,progress:g?d/g:void 0,bytes:h,rate:x||void 0,estimated:x&&g&&y?(g-d)/x:void 0,event:o,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(w)},r)},uA=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},dA=e=>(...t)=>Pe.asap(()=>e(...t)),DF=ca.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ca.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ca.origin),ca.navigator&&/(msie|trident)/i.test(ca.navigator.userAgent)):()=>!0,kF=ca.hasStandardBrowserEnv?{write(e,t,r,n,l,o,d){if(typeof document>"u")return;const g=[`${e}=${encodeURIComponent(t)}`];Pe.isNumber(r)&&g.push(`expires=${new Date(r).toUTCString()}`),Pe.isString(n)&&g.push(`path=${n}`),Pe.isString(l)&&g.push(`domain=${l}`),o===!0&&g.push("secure"),Pe.isString(d)&&g.push(`SameSite=${d}`),document.cookie=g.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function MF(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function PF(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function R_(e,t,r){let n=!MF(t);return e&&(n||r==!1)?PF(e,t):t}const mA=e=>e instanceof Ua?{...e}:e;function Tc(e,t){t=t||{};const r={};function n(x,y,w,C){return Pe.isPlainObject(x)&&Pe.isPlainObject(y)?Pe.merge.call({caseless:C},x,y):Pe.isPlainObject(y)?Pe.merge({},y):Pe.isArray(y)?y.slice():y}function l(x,y,w,C){if(Pe.isUndefined(y)){if(!Pe.isUndefined(x))return n(void 0,x,w,C)}else return n(x,y,w,C)}function o(x,y){if(!Pe.isUndefined(y))return n(void 0,y)}function d(x,y){if(Pe.isUndefined(y)){if(!Pe.isUndefined(x))return n(void 0,x)}else return n(void 0,y)}function g(x,y,w){if(w in t)return n(x,y);if(w in e)return n(void 0,x)}const h={url:o,method:o,data:o,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:g,headers:(x,y,w)=>l(mA(x),mA(y),w,!0)};return Pe.forEach(Object.keys({...e,...t}),function(y){const w=h[y]||l,C=w(e[y],t[y],y);Pe.isUndefined(C)&&w!==g||(r[y]=C)}),r}const L_=e=>{const t=Tc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:l,xsrfCookieName:o,headers:d,auth:g}=t;if(t.headers=d=Ua.from(d),t.url=D_(R_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&d.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),Pe.isFormData(r)){if(ca.hasStandardBrowserEnv||ca.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(Pe.isFunction(r.getHeaders)){const h=r.getHeaders(),x=["content-type","content-length"];Object.entries(h).forEach(([y,w])=>{x.includes(y.toLowerCase())&&d.set(y,w)})}}if(ca.hasStandardBrowserEnv&&(n&&Pe.isFunction(n)&&(n=n(t)),n||n!==!1&&DF(t.url))){const h=l&&o&&kF.read(o);h&&d.set(l,h)}return t},IF=typeof XMLHttpRequest<"u",RF=IF&&function(e){return new Promise(function(r,n){const l=L_(e);let o=l.data;const d=Ua.from(l.headers).normalize();let{responseType:g,onUploadProgress:h,onDownloadProgress:x}=l,y,w,C,_,D;function k(){_&&_(),D&&D(),l.cancelToken&&l.cancelToken.unsubscribe(y),l.signal&&l.signal.removeEventListener("abort",y)}let M=new XMLHttpRequest;M.open(l.method.toUpperCase(),l.url,!0),M.timeout=l.timeout;function I(){if(!M)return;const R=Ua.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),F={data:!g||g==="text"||g==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:R,config:e,request:M};I_(function(L){r(L),k()},function(L){n(L),k()},F),M=null}"onloadend"in M?M.onloadend=I:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(I)},M.onabort=function(){M&&(n(new It("Request aborted",It.ECONNABORTED,e,M)),M=null)},M.onerror=function(G){const F=G&&G.message?G.message:"Network Error",j=new It(F,It.ERR_NETWORK,e,M);j.event=G||null,n(j),M=null},M.ontimeout=function(){let G=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const F=l.transitional||k_;l.timeoutErrorMessage&&(G=l.timeoutErrorMessage),n(new It(G,F.clarifyTimeoutError?It.ETIMEDOUT:It.ECONNABORTED,e,M)),M=null},o===void 0&&d.setContentType(null),"setRequestHeader"in M&&Pe.forEach(d.toJSON(),function(G,F){M.setRequestHeader(F,G)}),Pe.isUndefined(l.withCredentials)||(M.withCredentials=!!l.withCredentials),g&&g!=="json"&&(M.responseType=l.responseType),x&&([C,D]=sg(x,!0),M.addEventListener("progress",C)),h&&M.upload&&([w,_]=sg(h),M.upload.addEventListener("progress",w),M.upload.addEventListener("loadend",_)),(l.cancelToken||l.signal)&&(y=R=>{M&&(n(!R||R.type?new ld(null,e,M):R),M.abort(),M=null)},l.cancelToken&&l.cancelToken.subscribe(y),l.signal&&(l.signal.aborted?y():l.signal.addEventListener("abort",y)));const U=TF(l.url);if(U&&ca.protocols.indexOf(U)===-1){n(new It("Unsupported protocol "+U+":",It.ERR_BAD_REQUEST,e));return}M.send(o||null)})},LF=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,l;const o=function(x){if(!l){l=!0,g();const y=x instanceof Error?x:this.reason;n.abort(y instanceof It?y:new ld(y instanceof Error?y.message:y))}};let d=t&&setTimeout(()=>{d=null,o(new It(`timeout ${t} of ms exceeded`,It.ETIMEDOUT))},t);const g=()=>{e&&(d&&clearTimeout(d),d=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(o):x.removeEventListener("abort",o)}),e=null)};e.forEach(x=>x.addEventListener("abort",o));const{signal:h}=n;return h.unsubscribe=()=>Pe.asap(g),h}},BF=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,l;for(;n<r;)l=n+t,yield e.slice(n,l),n=l},FF=async function*(e,t){for await(const r of UF(e))yield*BF(r,t)},UF=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},fA=(e,t,r,n)=>{const l=FF(e,t);let o=0,d,g=h=>{d||(d=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:x,value:y}=await l.next();if(x){g(),h.close();return}let w=y.byteLength;if(r){let C=o+=w;r(C)}h.enqueue(new Uint8Array(y))}catch(x){throw g(x),x}},cancel(h){return g(h),l.return()}},{highWaterMark:2})},hA=64*1024,{isFunction:ah}=Pe,jF=(({Request:e,Response:t})=>({Request:e,Response:t}))(Pe.global),{ReadableStream:gA,TextEncoder:pA}=Pe.global,yA=(e,...t)=>{try{return!!e(...t)}catch{return!1}},zF=e=>{e=Pe.merge.call({skipUndefined:!0},jF,e);const{fetch:t,Request:r,Response:n}=e,l=t?ah(t):typeof fetch=="function",o=ah(r),d=ah(n);if(!l)return!1;const g=l&&ah(gA),h=l&&(typeof pA=="function"?(D=>k=>D.encode(k))(new pA):async D=>new Uint8Array(await new r(D).arrayBuffer())),x=o&&g&&yA(()=>{let D=!1;const k=new r(ca.origin,{body:new gA,method:"POST",get duplex(){return D=!0,"half"}}).headers.has("Content-Type");return D&&!k}),y=d&&g&&yA(()=>Pe.isReadableStream(new n("").body)),w={stream:y&&(D=>D.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(D=>{!w[D]&&(w[D]=(k,M)=>{let I=k&&k[D];if(I)return I.call(k);throw new It(`Response type '${D}' is not supported`,It.ERR_NOT_SUPPORT,M)})});const C=async D=>{if(D==null)return 0;if(Pe.isBlob(D))return D.size;if(Pe.isSpecCompliantForm(D))return(await new r(ca.origin,{method:"POST",body:D}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(D)||Pe.isArrayBuffer(D))return D.byteLength;if(Pe.isURLSearchParams(D)&&(D=D+""),Pe.isString(D))return(await h(D)).byteLength},_=async(D,k)=>{const M=Pe.toFiniteNumber(D.getContentLength());return M??C(k)};return async D=>{let{url:k,method:M,data:I,signal:U,cancelToken:R,timeout:G,onDownloadProgress:F,onUploadProgress:j,responseType:L,headers:H,withCredentials:V="same-origin",fetchOptions:Q}=L_(D),Y=t||fetch;L=L?(L+"").toLowerCase():"text";let X=LF([U,R&&R.toAbortSignal()],G),he=null;const pe=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let se;try{if(j&&x&&M!=="get"&&M!=="head"&&(se=await _(H,I))!==0){let W=new r(k,{method:"POST",body:I,duplex:"half"}),te;if(Pe.isFormData(I)&&(te=W.headers.get("content-type"))&&H.setContentType(te),W.body){const[me,ue]=uA(se,sg(dA(j)));I=fA(W.body,hA,me,ue)}}Pe.isString(V)||(V=V?"include":"omit");const J=o&&"credentials"in r.prototype,ae={...Q,signal:X,method:M.toUpperCase(),headers:H.normalize().toJSON(),body:I,duplex:"half",credentials:J?V:void 0};he=o&&new r(k,ae);let Ee=await(o?Y(he,Q):Y(k,ae));const be=y&&(L==="stream"||L==="response");if(y&&(F||be&&pe)){const W={};["status","statusText","headers"].forEach(Ne=>{W[Ne]=Ee[Ne]});const te=Pe.toFiniteNumber(Ee.headers.get("content-length")),[me,ue]=F&&uA(te,sg(dA(F),!0))||[];Ee=new n(fA(Ee.body,hA,me,()=>{ue&&ue(),pe&&pe()}),W)}L=L||"text";let re=await w[Pe.findKey(w,L)||"text"](Ee,D);return!be&&pe&&pe(),await new Promise((W,te)=>{I_(W,te,{data:re,headers:Ua.from(Ee.headers),status:Ee.status,statusText:Ee.statusText,config:D,request:he})})}catch(J){throw pe&&pe(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new It("Network Error",It.ERR_NETWORK,D,he),{cause:J.cause||J}):It.from(J,J&&J.code,D,he)}}},VF=new Map,B_=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:l}=t,o=[n,l,r];let d=o.length,g=d,h,x,y=VF;for(;g--;)h=o[g],x=y.get(h),x===void 0&&y.set(h,x=g?new Map:zF(t)),y=x;return x};B_();const h2={http:sF,xhr:RF,fetch:{get:B_}};Pe.forEach(h2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const xA=e=>`- ${e}`,HF=e=>Pe.isFunction(e)||e===null||e===!1;function qF(e,t){e=Pe.isArray(e)?e:[e];const{length:r}=e;let n,l;const o={};for(let d=0;d<r;d++){n=e[d];let g;if(l=n,!HF(n)&&(l=h2[(g=String(n)).toLowerCase()],l===void 0))throw new It(`Unknown adapter '${g}'`);if(l&&(Pe.isFunction(l)||(l=l.get(t))))break;o[g||"#"+d]=l}if(!l){const d=Object.entries(o).map(([h,x])=>`adapter ${h} `+(x===!1?"is not supported by the environment":"is not available in the build"));let g=r?d.length>1?`since :
`+d.map(xA).join(`
`):" "+xA(d[0]):"as no adapter specified";throw new It("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return l}const F_={getAdapter:qF,adapters:h2};function px(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ld(null,e)}function bA(e){return px(e),e.headers=Ua.from(e.headers),e.data=gx.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),F_.getAdapter(e.adapter||mf.adapter,e)(e).then(function(n){return px(e),n.data=gx.call(e,e.transformResponse,n),n.headers=Ua.from(n.headers),n},function(n){return P_(n)||(px(e),n&&n.response&&(n.response.data=gx.call(e,e.transformResponse,n.response),n.response.headers=Ua.from(n.response.headers))),Promise.reject(n)})}const U_="1.13.2",bp={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{bp[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const vA={};bp.transitional=function(t,r,n){function l(o,d){return"[Axios v"+U_+"] Transitional option '"+o+"'"+d+(n?". "+n:"")}return(o,d,g)=>{if(t===!1)throw new It(l(d," has been removed"+(r?" in "+r:"")),It.ERR_DEPRECATED);return r&&!vA[d]&&(vA[d]=!0,console.warn(l(d," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,d,g):!0}};bp.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function $F(e,t,r){if(typeof e!="object")throw new It("options must be an object",It.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let l=n.length;for(;l-- >0;){const o=n[l],d=t[o];if(d){const g=e[o],h=g===void 0||d(g,o,e);if(h!==!0)throw new It("option "+o+" must be "+h,It.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new It("Unknown option "+o,It.ERR_BAD_OPTION)}}const qh={assertOptions:$F,validators:bp},yl=qh.validators;let bc=class{constructor(t){this.defaults=t||{},this.interceptors={request:new oA,response:new oA}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const o=l.stack?l.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Tc(this.defaults,r);const{transitional:n,paramsSerializer:l,headers:o}=r;n!==void 0&&qh.assertOptions(n,{silentJSONParsing:yl.transitional(yl.boolean),forcedJSONParsing:yl.transitional(yl.boolean),clarifyTimeoutError:yl.transitional(yl.boolean)},!1),l!=null&&(Pe.isFunction(l)?r.paramsSerializer={serialize:l}:qh.assertOptions(l,{encode:yl.function,serialize:yl.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),qh.assertOptions(r,{baseUrl:yl.spelling("baseURL"),withXsrfToken:yl.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let d=o&&Pe.merge(o.common,o[r.method]);o&&Pe.forEach(["delete","get","head","post","put","patch","common"],D=>{delete o[D]}),r.headers=Ua.concat(d,o);const g=[];let h=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(r)===!1||(h=h&&k.synchronous,g.unshift(k.fulfilled,k.rejected))});const x=[];this.interceptors.response.forEach(function(k){x.push(k.fulfilled,k.rejected)});let y,w=0,C;if(!h){const D=[bA.bind(this),void 0];for(D.unshift(...g),D.push(...x),C=D.length,y=Promise.resolve(r);w<C;)y=y.then(D[w++],D[w++]);return y}C=g.length;let _=r;for(;w<C;){const D=g[w++],k=g[w++];try{_=D(_)}catch(M){k.call(this,M);break}}try{y=bA.call(this,_)}catch(D){return Promise.reject(D)}for(w=0,C=x.length;w<C;)y=y.then(x[w++],x[w++]);return y}getUri(t){t=Tc(this.defaults,t);const r=R_(t.baseURL,t.url,t.allowAbsoluteUrls);return D_(r,t.params,t.paramsSerializer)}};Pe.forEach(["delete","get","head","options"],function(t){bc.prototype[t]=function(r,n){return this.request(Tc(n||{},{method:t,url:r,data:(n||{}).data}))}});Pe.forEach(["post","put","patch"],function(t){function r(n){return function(o,d,g){return this.request(Tc(g||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:d}))}}bc.prototype[t]=r(),bc.prototype[t+"Form"]=r(!0)});let GF=class j_{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(l=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](l);n._listeners=null}),this.promise.then=l=>{let o;const d=new Promise(g=>{n.subscribe(g),o=g}).then(l);return d.cancel=function(){n.unsubscribe(o)},d},t(function(o,d,g){n.reason||(n.reason=new ld(o,d,g),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new j_(function(l){t=l}),cancel:t}}};function YF(e){return function(r){return e.apply(null,r)}}function XF(e){return Pe.isObject(e)&&e.isAxiosError===!0}const Av={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Av).forEach(([e,t])=>{Av[t]=e});function z_(e){const t=new bc(e),r=x_(bc.prototype.request,t);return Pe.extend(r,bc.prototype,t,{allOwnKeys:!0}),Pe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(l){return z_(Tc(e,l))},r}const sn=z_(mf);sn.Axios=bc;sn.CanceledError=ld;sn.CancelToken=GF;sn.isCancel=P_;sn.VERSION=U_;sn.toFormData=xp;sn.AxiosError=It;sn.Cancel=sn.CanceledError;sn.all=function(t){return Promise.all(t)};sn.spread=YF;sn.isAxiosError=XF;sn.mergeConfig=Tc;sn.AxiosHeaders=Ua;sn.formToJSON=e=>M_(Pe.isHTMLForm(e)?new FormData(e):e);sn.getAdapter=F_.getAdapter;sn.HttpStatusCode=Av;sn.default=sn;const{Axios:Hde,AxiosError:qde,CanceledError:$de,isCancel:Gde,CancelToken:Yde,VERSION:Xde,all:Wde,Cancel:Kde,isAxiosError:Zde,spread:Qde,toFormData:Jde,AxiosHeaders:eme,HttpStatusCode:tme,formToJSON:rme,getAdapter:nme,mergeConfig:ame}=sn,oa={ACCESS_TOKEN:"accessToken",REFRESH_TOKEN:"refreshToken",ADMIN_DATA:"adminData",REMEMBER_ME:"rememberMe"},Om=()=>localStorage.getItem(oa.REMEMBER_ME)==="true"?localStorage:sessionStorage,Ws={getAccessToken:()=>{const e=Om().getItem(oa.ACCESS_TOKEN);return console.log("[Storage] Getting access token:",e?"exists":"null"),e},getRefreshToken:()=>{const e=Om().getItem(oa.REFRESH_TOKEN);return console.log("[Storage] Getting refresh token:",e?"exists":"null"),e},setTokens:({accessToken:e,refreshToken:t},r=!1)=>{console.log("[Storage] Setting tokens, rememberMe:",r),localStorage.setItem(oa.REMEMBER_ME,String(r));const n=r?localStorage:sessionStorage;e&&n.setItem(oa.ACCESS_TOKEN,e),t&&n.setItem(oa.REFRESH_TOKEN,t)},setAccessToken:e=>{console.log("[Storage] Updating access token"),Om().setItem(oa.ACCESS_TOKEN,e)},clearTokens:()=>{console.log("[Storage] Clearing all tokens"),localStorage.removeItem(oa.ACCESS_TOKEN),localStorage.removeItem(oa.REFRESH_TOKEN),localStorage.removeItem(oa.REMEMBER_ME),sessionStorage.removeItem(oa.ACCESS_TOKEN),sessionStorage.removeItem(oa.REFRESH_TOKEN)},hasTokens:()=>!!Ws.getAccessToken()&&!!Ws.getRefreshToken()},bo={getAdmin:()=>{try{const e=Om().getItem(oa.ADMIN_DATA),t=e?JSON.parse(e):null;return console.log("[Storage] Getting admin data:",t?t.email:"null"),t}catch(e){return console.error("[Storage] Error parsing admin data:",e),null}},setAdmin:e=>{console.log("[Storage] Setting admin data:",e?.email),Om().setItem(oa.ADMIN_DATA,JSON.stringify(e))},clearAdmin:()=>{console.log("[Storage] Clearing admin data"),localStorage.removeItem(oa.ADMIN_DATA),sessionStorage.removeItem(oa.ADMIN_DATA)}},Tv=()=>{console.log("[Storage] Clearing all auth data"),Ws.clearTokens(),bo.clearAdmin()},g2="https://motivata.synquic.com/api";console.log("[API] Initializing with base URL:",g2);const si=sn.create({baseURL:g2,timeout:3e4,headers:{"Content-Type":"application/json"}});let sh=!1,$h=[];const EA=(e,t=null)=>{console.log("[API] Processing queued requests:",$h.length),$h.forEach(r=>{e?r.reject(e):r.resolve(t)}),$h=[]},lg=e=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(lg);const t=["password","currentPassword","newPassword","refreshToken","accessToken"],r={...e};return Object.keys(r).forEach(n=>{t.includes(n)?r[n]="***MASKED***":typeof r[n]=="object"&&r[n]!==null&&(r[n]=lg(r[n]))}),r};si.interceptors.request.use(e=>{const t=Ws.getAccessToken();return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`[API] Request: ${e.method?.toUpperCase()} ${e.url}`,{hasAuth:!!t,body:e.data?lg(e.data):null,params:e.params||null}),e},e=>(console.error("[API] Request error:",e.message),Promise.reject(e)));si.interceptors.response.use(e=>(console.log(`[API] Response: ${e.status} ${e.config.url}`,{message:e.data?.message,data:e.data?.data?lg(e.data.data):null}),e),async e=>{const t=e.config;if(console.error("[API] Response error:",{status:e.response?.status,url:t?.url,message:e.response?.data?.message||e.message}),e.response?.status===401&&!t._retry&&!t.url?.includes("/auth/refresh-token")&&!t.url?.includes("/auth/login")){if(console.log("[API] Token expired, attempting refresh..."),sh)return console.log("[API] Refresh in progress, queueing request"),new Promise((n,l)=>{$h.push({resolve:n,reject:l})}).then(n=>(t.headers.Authorization=`Bearer ${n}`,si(t))).catch(n=>Promise.reject(n));t._retry=!0,sh=!0;const r=Ws.getRefreshToken();if(!r)return console.log("[API] No refresh token available, clearing auth"),sh=!1,Tv(),window.location.href="/login",Promise.reject(e);try{console.log("[API] Refreshing access token...");const n=await sn.post(`${g2}/web/auth/refresh-token`,{refreshToken:r}),{accessToken:l}=n.data.data;return console.log("[API] Token refresh successful"),Ws.setAccessToken(l),EA(null,l),t.headers.Authorization=`Bearer ${l}`,si(t)}catch(n){return console.error("[API] Token refresh failed:",n.response?.data?.message),EA(n,null),Tv(),window.location.href="/login",Promise.reject(n)}finally{sh=!1}}return Promise.reject(e)});const Xe=async e=>{try{const t=await e;return{success:!0,data:t.data.data,message:t.data.message,error:null,status:t.data.status||t.status}}catch(t){const r={success:!1,data:null,message:t.response?.data?.message||"An unexpected error occurred",error:t.response?.data?.error||t.message,status:t.response?.status||500};return console.error("[API] Handled error:",r),r}},Ge={get:(e,t={})=>si.get(e,t),post:(e,t={},r={})=>si.post(e,t,r),put:(e,t={},r={})=>si.put(e,t,r),delete:(e,t={})=>si.delete(e,t),patch:(e,t={},r={})=>si.patch(e,t,r)},lc={LOGIN:"/web/auth/login",REGISTER:"/web/auth/register",LOGOUT:"/web/auth/logout",REFRESH_TOKEN:"/web/auth/refresh-token",PROFILE:"/web/auth/profile",CHANGE_PASSWORD:"/web/auth/change-password"},mo={login:async(e,t=!1)=>{console.log("[Auth] Attempting login for:",e.username);const r=await Xe(Ge.post(lc.LOGIN,{username:e.username,password:e.password}));if(r.success&&r.data){const{admin:n,tokens:l}=r.data;Ws.setTokens({accessToken:l.accessToken,refreshToken:l.refreshToken},t),bo.setAdmin(n),console.log("[Auth] Login successful for:",n.username),console.log("[Auth] Admin role:",n.role)}else console.error("[Auth] Login failed:",r.message);return r},register:async(e,t=!1)=>{console.log("[Auth] Attempting registration for:",e.username);const r=await Xe(Ge.post(lc.REGISTER,e));if(r.success&&r.data){const{admin:n,tokens:l}=r.data;Ws.setTokens({accessToken:l.accessToken,refreshToken:l.refreshToken},t),bo.setAdmin(n),console.log("[Auth] Registration successful for:",n.username)}else console.error("[Auth] Registration failed:",r.message);return r},logout:async()=>{console.log("[Auth] Attempting logout");try{await Xe(Ge.post(lc.LOGOUT)),console.log("[Auth] Server logout successful")}catch(e){console.warn("[Auth] Server logout failed, clearing local data anyway:",e.message)}return Tv(),console.log("[Auth] Local auth data cleared"),{success:!0,message:"Logged out successfully"}},getProfile:async()=>{console.log("[Auth] Fetching profile");const e=await Xe(Ge.get(lc.PROFILE));return e.success&&e.data&&(bo.setAdmin(e.data.admin),console.log("[Auth] Profile fetched for:",e.data.admin.username)),e},updateProfile:async e=>{console.log("[Auth] Updating profile");const t=await Xe(Ge.put(lc.PROFILE,e));return t.success&&t.data&&(bo.setAdmin(t.data.admin),console.log("[Auth] Profile updated successfully")),t},changePassword:async e=>{console.log("[Auth] Changing password");const t=await Xe(Ge.put(lc.CHANGE_PASSWORD,e));return t.success?console.log("[Auth] Password changed successfully"):console.error("[Auth] Password change failed:",t.message),t},refreshToken:async()=>{const e=Ws.getRefreshToken();if(!e)return console.log("[Auth] No refresh token available"),{success:!1,accessToken:null,error:"No refresh token"};console.log("[Auth] Refreshing access token");const t=await Xe(Ge.post(lc.REFRESH_TOKEN,{refreshToken:e}));return t.success&&t.data?(Ws.setAccessToken(t.data.accessToken),console.log("[Auth] Token refreshed successfully"),{success:!0,accessToken:t.data.accessToken,error:null}):(console.error("[Auth] Token refresh failed:",t.message),{success:!1,accessToken:null,error:t.message})},isAuthenticated:()=>{const e=Ws.hasTokens();return console.log("[Auth] Checking authentication:",e),e},getStoredAdmin:()=>bo.getAdmin(),hasRole:e=>{const t=bo.getAdmin();return t?(Array.isArray(e)?e:[e]).includes(t.role):!1},hasAccess:e=>{const t=bo.getAdmin();return t&&t.access?.includes(e)||!1}},V_=N.createContext(null),WF=({children:e})=>{const[t,r]=N.useState(null),[n,l]=N.useState(!1),[o,d]=N.useState(!0),[g,h]=N.useState(null);N.useEffect(()=>{(async()=>{console.log("[AuthContext] Initializing auth state...");try{if(mo.isAuthenticated()){console.log("[AuthContext] Found stored tokens, fetching profile...");const G=await mo.getProfile();G.success?(r(G.data.admin),l(!0),console.log("[AuthContext] Auth initialized successfully")):(console.log("[AuthContext] Profile fetch failed, token may be expired"),l(!1),r(null))}else console.log("[AuthContext] No stored tokens found"),l(!1),r(null)}catch(G){console.error("[AuthContext] Error initializing auth:",G),l(!1),r(null)}finally{d(!1)}})()},[]);const x=N.useCallback(async(R,G=!1)=>{console.log("[AuthContext] Login attempt"),h(null),d(!0);try{const F=await mo.login(R,G);return F.success?(r(F.data.admin),l(!0),console.log("[AuthContext] Login successful"),{success:!0,data:F.data}):(h(F.message),console.error("[AuthContext] Login failed:",F.message),{success:!1,error:F.message})}catch(F){const j="An unexpected error occurred during login";return h(j),console.error("[AuthContext] Login error:",F),{success:!1,error:j}}finally{d(!1)}},[]),y=N.useCallback(async(R,G=!1)=>{console.log("[AuthContext] Register attempt"),h(null),d(!0);try{const F=await mo.register(R,G);return F.success?(r(F.data.admin),l(!0),console.log("[AuthContext] Registration successful"),{success:!0,data:F.data}):(h(F.message),console.error("[AuthContext] Registration failed:",F.message),{success:!1,error:F.message})}catch(F){const j="An unexpected error occurred during registration";return h(j),console.error("[AuthContext] Registration error:",F),{success:!1,error:j}}finally{d(!1)}},[]),w=N.useCallback(async()=>{console.log("[AuthContext] Logout attempt"),d(!0);try{return await mo.logout(),r(null),l(!1),h(null),console.log("[AuthContext] Logout successful"),{success:!0}}catch(R){return console.error("[AuthContext] Logout error:",R),r(null),l(!1),{success:!0}}finally{d(!1)}},[]),C=N.useCallback(async()=>{console.log("[AuthContext] Refreshing profile");try{const R=await mo.getProfile();return R.success?(r(R.data.admin),console.log("[AuthContext] Profile refreshed"),{success:!0,data:R.data.admin}):(console.error("[AuthContext] Profile refresh failed:",R.message),{success:!1,error:R.message})}catch(R){return console.error("[AuthContext] Profile refresh error:",R),{success:!1,error:"Failed to refresh profile"}}},[]),_=N.useCallback(async R=>{console.log("[AuthContext] Updating profile"),h(null);try{const G=await mo.updateProfile(R);return G.success?(r(G.data.admin),console.log("[AuthContext] Profile updated"),{success:!0,data:G.data.admin}):(h(G.message),{success:!1,error:G.message})}catch{const F="Failed to update profile";return h(F),{success:!1,error:F}}},[]),D=N.useCallback(async R=>{console.log("[AuthContext] Changing password"),h(null);try{const G=await mo.changePassword(R);return G.success?(console.log("[AuthContext] Password changed"),{success:!0}):(h(G.message),{success:!1,error:G.message})}catch{const F="Failed to change password";return h(F),{success:!1,error:F}}},[]),k=N.useCallback(()=>{h(null)},[]),M=N.useCallback(R=>t?(Array.isArray(R)?R:[R]).includes(t.role):!1,[t]),I=N.useCallback(R=>t&&t.access?.includes(R)||!1,[t]),U={admin:t,isAuthenticated:n,isLoading:o,error:g,login:x,register:y,logout:w,refreshProfile:C,updateProfile:_,changePassword:D,clearError:k,hasRole:M,hasAccess:I};return a.createElement(V_.Provider,{value:U},e)},Pl=()=>{const e=N.useContext(V_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},H_=()=>a.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-100"},a.createElement("div",{className:"flex flex-col items-center gap-4"},a.createElement("div",{className:"w-12 h-12 border-4 border-gray-800 border-t-transparent rounded-full animate-spin"}),a.createElement("p",{className:"text-gray-600"},"Loading..."))),wA=()=>a.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-100"},a.createElement("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md"},a.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},a.createElement("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))),a.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Access Denied"),a.createElement("p",{className:"text-gray-600 mb-6"},"You don't have permission to access this page."),a.createElement("a",{href:"/dashboard",className:"inline-block px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Go to Dashboard"))),KF=({children:e,allowedRoles:t=[],requiredAccess:r=[],redirectTo:n="/login"})=>{const{isAuthenticated:l,isLoading:o,admin:d,hasRole:g,hasAccess:h}=Pl(),x=Is();return console.log("[ProtectedRoute] Checking access:",{isAuthenticated:l,isLoading:o,path:x.pathname,adminRole:d?.role}),o?(console.log("[ProtectedRoute] Loading auth state..."),a.createElement(H_,null)):l?t.length>0&&!g(t)?(console.log("[ProtectedRoute] Access denied - role mismatch:",{required:t,actual:d?.role}),a.createElement(wA,null)):r.length>0&&!r.every(w=>h(w))?(console.log("[ProtectedRoute] Access denied - missing permissions:",{required:r,actual:d?.access}),a.createElement(wA,null)):(console.log("[ProtectedRoute] Access granted"),e):(console.log("[ProtectedRoute] Not authenticated, redirecting to:",n),a.createElement(ag,{to:n,state:{from:x},replace:!0}))},ZF=({children:e,redirectTo:t="/dashboard"})=>{const{isAuthenticated:r,isLoading:n}=Pl(),l=Is();if(console.log("[PublicRoute] Checking:",{isAuthenticated:r,isLoading:n}),n)return a.createElement(H_,null);if(r){const o=l.state?.from?.pathname||t;return console.log("[PublicRoute] Already authenticated, redirecting to:",o),a.createElement(ag,{to:o,replace:!0})}return e};const QF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JF=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),NA=e=>{const t=JF(e);return t.charAt(0).toUpperCase()+t.slice(1)},q_=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),eU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var tU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rU=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:l="",children:o,iconNode:d,...g},h)=>N.createElement("svg",{ref:h,...tU,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:q_("lucide",l),...!o&&!eU(g)&&{"aria-hidden":"true"},...g},[...d.map(([x,y])=>N.createElement(x,y)),...Array.isArray(o)?o:[o]]));const at=(e,t)=>{const r=N.forwardRef(({className:n,...l},o)=>N.createElement(rU,{ref:o,iconNode:t,className:q_(`lucide-${QF(NA(e))}`,`lucide-${e}`,n),...l}));return r.displayName=NA(e),r};const nU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],SA=at("award",nU);const aU=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],sU=at("banknote",aU);const lU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ig=at("bell",lU);const iU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],oU=at("calendar-check",iU);const cU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],lh=at("calendar-x",cU);const uU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$r=at("calendar",uU);const dU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],wl=at("chart-column",dU);const mU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],As=at("check",mU);const fU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tl=at("chevron-down",fU);const hU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$_=at("chevron-right",hU);const gU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],G_=at("chevron-left",gU);const pU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yU=at("chevron-up",pU);const xU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Or=at("circle-alert",xU);const bU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ci=at("circle-check-big",bU);const vU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],p2=at("circle-check",vU);const EU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gh=at("circle-question-mark",EU);const wU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ko=at("circle-x",wU);const NU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Yh=at("clipboard-list",NU);const SU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],On=at("clock",SU);const CU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],og=at("copy",CU);const AU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],TU=at("credit-card",AU);const OU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_U=at("dollar-sign",OU);const DU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],kU=at("download",DU);const MU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],y2=at("external-link",MU);const PU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Y_=at("eye-off",PU);const IU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],an=at("eye",IU);const RU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]],LU=at("file-play",RU);const BU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ov=at("file-spreadsheet",BU);const FU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],X_=at("file-text",FU);const UU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ol=at("funnel",UU);const jU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],zU=at("gift",jU);const VU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],_v=at("globe",VU);const HU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],vp=at("grip-vertical",HU);const qU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],x2=at("hash",qU);const $U=[["path",{d:"M15 15.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"nrt1m3"}],["path",{d:"M21 12.17V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"99hgts"}],["path",{d:"m6 21 5-5",key:"1wyjai"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],GU=at("image-play",$U);const YU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Oc=at("image",YU);const XU=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],WU=at("indian-rupee",XU);const KU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ZU=at("layout-dashboard",KU);const QU=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],W_=at("layout-grid",QU);const JU=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ej=at("link",JU);const tj=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],cg=at("list-checks",tj);const rj=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],b2=at("list",rj);const nj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],At=at("loader-circle",nj);const aj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sj=at("lock",aj);const lj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ij=at("log-out",lj);const oj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],cj=at("mail",oj);const uj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],v2=at("map-pin",uj);const dj=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Dv=at("message-circle",dj);const mj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],K_=at("pen",mj);const fj=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],hj=at("percent",fj);const gj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Rm=at("phone",gj);const pj=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Z_=at("play",pj);const yj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hn=at("plus",yj);const xj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_l=at("refresh-cw",xj);const bj=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ug=at("rotate-ccw",bj);const vj=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],Ej=at("scan-line",vj);const wj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],da=at("search",wj);const Nj=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Sj=at("share-2",Nj);const Cj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Aj=at("shield-check",Cj);const Tj=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],Oj=at("sliders-horizontal",Tj);const _j=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dj=at("square-check-big",_j);const kj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ya=at("square-pen",kj);const Mj=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Lm=at("tag",Mj);const Pj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zu=at("target",Pj);const Ij=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Rj=at("text-align-start",Ij);const Lj=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Tu=at("ticket",Lj);const Bj=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Dl=at("toggle-left",Bj);const Fj=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],fi=at("toggle-right",Fj);const Uj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vr=at("trash-2",Uj);const jj=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zj=at("trash",jj);const Vj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Q_=at("trending-up",Vj);const Hj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ep=at("triangle-alert",Hj);const qj=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Lu=at("trophy",qj);const $j=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],J_=at("upload",$j);const Gj=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Yj=at("user-cog",Gj);const Xj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Wj=at("user-plus",Xj);const Kj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hi=at("user",Kj);const Zj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ff=at("users",Zj);const Qj=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],ui=at("video",Qj);const Jj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Bn=at("x",Jj);const ez=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eD=at("zap",ez),tD="/assets/Motivata-Dba061jL.png",tz="/assets/logo2-NMKQARNi.png";function rz({activeMenu:e,collapsed:t,isOpen:r,onClose:n}){const l=fp(),{logout:o,admin:d}=Pl(),g=()=>{o(),l("/login")},h=[{id:"dashboard",label:"Dashboard",icon:ZU,path:"/dashboard",color:"blue"},{id:"events",label:"Events",icon:$r,path:"/events",color:"purple"},{id:"users",label:"Users",icon:Yj,path:"/users",color:"green"},{id:"admins",label:"Admins",icon:Aj,path:"/admins",color:"orange"},{id:"cashtickets",label:"Cash Tickets",icon:sU,path:"/cash-tickets",color:"cyan"},{id:"vouchers",label:"Vouchers",icon:zU,path:"/vouchers",color:"pink"},{id:"sessions",label:"Sessions",icon:ui,path:"/sessions",color:"indigo"},{id:"quizes",label:"Quizes",icon:Yh,path:"/quizes",color:"amber"},{id:"challenges",label:"Challenges",icon:Lu,path:"/challenges",color:"emerald"},{id:"polls",label:"Polls",icon:wl,path:"/polls",color:"rose"},{id:"stories",label:"Stories",icon:GU,path:"/stories",color:"sky"},{id:"scan-qr",label:"Scan QR",icon:Ej,path:"/scan-qr",color:"teal"},{id:"ticket-reshare",label:"Ticket Reshare",icon:Sj,path:"/ticket-reshare",color:"violet"}],x=d?.name||d?.username||"Admin",y=d?.email||"admin@motivata.com",w=d?.role||"Administrator",C=_=>_.split(" ").map(D=>D[0]).join("").toUpperCase().slice(0,2);return a.createElement("aside",{className:`
        ${t?"lg:w-20":"lg:w-72"}
        fixed lg:static inset-y-0 left-0 z-50
        w-72
        ${r?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        bg-gradient-to-b from-white to-gray-50/50
        border-r border-gray-200
        shadow-2xl lg:shadow-none
        flex flex-col
        transition-all duration-300 ease-in-out
        h-screen
        overflow-hidden
      `},a.createElement("div",{className:"p-5 lg:p-6 border-b border-gray-200/80 shrink-0 bg-white/80 backdrop-blur-sm"},a.createElement("div",{className:"flex items-start justify-between"},a.createElement("div",{className:`flex flex-col ${t?"items-center":"items-start"} min-w-0 flex-1`},a.createElement("img",{src:t?tz:tD,alt:"Motivata",className:`${t?"h-12 w-12":"h-16"} object-contain`}),!t&&a.createElement("p",{className:"text-xs text-gray-500 font-medium -mt-1 ml-4"},"Admin Panel")),a.createElement("button",{onClick:n,className:"lg:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-all active:scale-95","aria-label":"Close sidebar"},a.createElement(Bn,{className:"h-5 w-5"})))),a.createElement("nav",{className:"flex-1 p-3 lg:p-4 overflow-y-auto overflow-x-hidden custom-scrollbar"},a.createElement("ul",{className:"space-y-1"},h.map(_=>{const D=e===_.id;return a.createElement("li",{key:_.id},a.createElement(c2,{to:_.path,className:`
                    w-full flex items-center gap-3 px-3 py-3 rounded-xl
                    transition-all duration-200 group relative
                    ${D?"bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-lg shadow-gray-500/30":"text-gray-700 hover:bg-gray-100/80 hover:translate-x-1"}
                    ${t?"lg:justify-center lg:px-2":""}
                  `,title:t?_.label:""},a.createElement(_.icon,{className:`
                      h-5 w-5 shrink-0 transition-transform duration-200
                      ${D?"scale-110":"group-hover:scale-110"}
                    `}),!t&&a.createElement("span",{className:"font-semibold text-sm truncate"},_.label)))}))),a.createElement("div",{className:"border-t border-gray-200/80 shrink-0 bg-white/50 backdrop-blur-sm"},a.createElement("div",{className:`p-4 ${t?"lg:p-2":""}`},a.createElement("div",{className:`
              flex items-center gap-3 p-3 rounded-xl
              bg-gradient-to-br from-gray-50 to-gray-100/50
              border border-gray-200/50
              transition-all duration-200 hover:shadow-md
              ${t?"lg:justify-center lg:p-2":""}
            `,title:t?`${x} - ${w}`:""},a.createElement("div",{className:"relative shrink-0"},a.createElement("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-800 via-purple-600 to-pink-600 flex items-center justify-center text-white font-bold text-sm shadow-md ring-2 ring-white"},C(x)),a.createElement("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow-sm"})),!t&&a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-sm font-bold text-gray-900 truncate"},x),a.createElement("p",{className:"text-xs text-gray-600 truncate"},y),a.createElement("div",{className:"flex items-center gap-1 mt-1"},a.createElement("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[10px] font-semibold bg-blue-100 text-gray-900 border border-blue-200"},w))))),a.createElement("div",{className:"p-4 pt-0"},a.createElement("button",{onClick:g,className:`
              w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl
              bg-gradient-to-r from-red-50 to-red-100/50
              text-red-600 font-semibold text-sm
              border border-red-200
              hover:from-red-100 hover:to-red-200/50
              hover:border-red-300 hover:shadow-md
              active:scale-[0.98]
              transition-all duration-200
              group
              ${t?"lg:px-2":""}
            `,title:"Logout"},a.createElement(ij,{className:"h-4 w-4 shrink-0 group-hover:scale-110 transition-transform"}),!t&&a.createElement("span",null,"Logout")))))}function nz({toggleSidebar:e}){const[t,r]=N.useState(!1),[n,l]=N.useState("");return a.createElement("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-4 lg:px-6 py-3 lg:py-4 flex items-center justify-between flex-shrink-0 sticky top-0 z-30 shadow-sm"},a.createElement("div",{className:"flex items-center gap-3 lg:gap-4 flex-1"},a.createElement("button",{onClick:e,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-105 active:scale-95 group","aria-label":"Toggle Sidebar"},a.createElement("div",{className:"relative h-6 w-6"},a.createElement("span",{className:"absolute left-0 top-1 w-6 h-0.5 bg-gray-600 rounded transition-all group-hover:w-5"}),a.createElement("span",{className:"absolute left-0 top-3 w-6 h-0.5 bg-gray-600 rounded"}),a.createElement("span",{className:"absolute left-0 top-5 w-6 h-0.5 bg-gray-600 rounded transition-all group-hover:w-4"}))),a.createElement("div",{className:"hidden lg:block"},a.createElement("h1",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Welcome back"),a.createElement("p",{className:"text-xs text-gray-500"},new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})))),a.createElement("div",{className:"flex items-center gap-2"},a.createElement("div",{className:"relative hidden md:block"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),a.createElement("input",{type:"text",placeholder:"Search anything...",value:n,onChange:o=>l(o.target.value),className:"pl-10 pr-4 py-2 w-64 lg:w-80 bg-gray-50 border border-gray-200 rounded-lg focus:border-gray-800 outline-none text-sm transition-all placeholder:text-gray-400"}),n&&a.createElement("button",{onClick:()=>l(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-0.5 hover:bg-gray-200 rounded"},a.createElement(Bn,{className:"h-3.5 w-3.5 text-gray-400"}))),a.createElement("button",{onClick:()=>r(!t),className:"md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all active:scale-95","aria-label":"Search"},a.createElement(da,{className:"h-5 w-5"})),a.createElement("button",{className:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-105 active:scale-95 group","aria-label":"Notifications",title:"Notifications"},a.createElement(ig,{className:"h-5 w-5 group-hover:animate-pulse"}),a.createElement("span",{className:"absolute top-1.5 right-1.5 h-2 w-2 bg-red-500 rounded-full ring-2 ring-white"}),a.createElement("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center ring-2 ring-white"},"3"))),t&&a.createElement("div",{className:"md:hidden fixed inset-x-0 top-[57px] bg-white border-b border-gray-200 p-4 shadow-lg z-40 animate-in slide-in-from-top"},a.createElement("div",{className:"relative"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{type:"text",placeholder:"Search anything...",autoFocus:!0,value:n,onChange:o=>l(o.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:border-gray-800 outline-none text-sm"}),a.createElement("button",{onClick:()=>{r(!1),l("")},className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 rounded"},a.createElement(Bn,{className:"h-4 w-4 text-gray-400"})))))}function az(){const[e,t]=N.useState(!1),[r,n]=N.useState(!1),l=Is(),o=()=>{window.innerWidth<1024?n(!r):t(!e)},d=()=>n(!1);N.useEffect(()=>{n(!1)},[l.pathname]),N.useEffect(()=>{const x=()=>{window.innerWidth>=1024&&n(!1)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]);const g={"/dashboard":"dashboard","/events":"events","/enrollments":"enrollments","/coupons":"coupons","/users":"users","/admins":"admins","/payments":"payments","/cash-tickets":"cashtickets","/vouchers":"vouchers","/sessions":"sessions","/quizes":"quizes","/challenges":"challenges","/polls":"polls"},h=()=>g[l.pathname]||"dashboard";return a.createElement("div",{className:"h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-blue-50/30 flex overflow-hidden"},r&&a.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden transition-opacity",onClick:d}),a.createElement(rz,{activeMenu:h(),collapsed:e,isOpen:r,onClose:d}),a.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},a.createElement(nz,{toggleSidebar:o}),a.createElement("main",{className:"flex-1 overflow-auto custom-scrollbar"},a.createElement("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1920px] mx-auto"},a.createElement(UL,null)))))}function sz(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[l,o]=N.useState(!1),[d,g]=N.useState(!1),[h,x]=N.useState(!1),[y,w]=N.useState(""),C=fp(),_=Is(),{login:D}=Pl(),k=_.state?.from?.pathname||"/dashboard",M=async I=>{if(I.preventDefault(),w(""),!e.trim()){w("Username is required");return}if(!r.trim()){w("Password is required");return}console.log("[Login] Attempting login for:",e),x(!0);try{const U=await D({username:e,password:r},d);U.success?(console.log("[Login] Login successful, redirecting to:",k),C(k,{replace:!0})):(console.error("[Login] Login failed:",U.error),U.error?.includes("deactivated")?w("Your account has been deactivated. Please contact an administrator."):U.error?.includes("Invalid")?w("Invalid username or password. Please try again."):w(U.error||"Login failed. Please try again."))}catch(U){console.error("[Login] Unexpected error:",U),w("An unexpected error occurred. Please try again.")}finally{x(!1)}};return a.createElement("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4"},a.createElement("div",{className:"w-full max-w-md"},a.createElement("div",{className:"text-center mb-8"},a.createElement("img",{src:tD,alt:"Motivata",className:"h-16 mx-auto mb-4"}),a.createElement("p",{className:"text-gray-600"},"Sign in to your account")),a.createElement("div",{className:"bg-white rounded-xl shadow-lg p-8"},y&&a.createElement("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},y)),a.createElement("form",{onSubmit:M,className:"space-y-6"},a.createElement("div",null,a.createElement("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2"},"Username"),a.createElement("div",{className:"relative"},a.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},a.createElement(hi,{className:"h-5 w-5 text-gray-400"})),a.createElement("input",{id:"username",type:"text",value:e,onChange:I=>t(I.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:border-gray-800 outline-none transition-all disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Enter your username",disabled:h,autoComplete:"username"}))),a.createElement("div",null,a.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2"},"Password"),a.createElement("div",{className:"relative"},a.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},a.createElement(sj,{className:"h-5 w-5 text-gray-400"})),a.createElement("input",{id:"password",type:l?"text":"password",value:r,onChange:I=>n(I.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:border-gray-800 outline-none transition-all disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Enter your password",disabled:h,autoComplete:"current-password"}),a.createElement("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center disabled:cursor-not-allowed",disabled:h,tabIndex:-1},l?a.createElement(Y_,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.createElement(an,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})))),a.createElement("div",{className:"flex items-center justify-between"},a.createElement("label",{className:"flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:d,onChange:I=>g(I.target.checked),className:"h-4 w-4 text-gray-800 border-gray-300 rounded focus:ring-gray-700 cursor-pointer",disabled:h}),a.createElement("span",{className:"ml-2 text-sm text-gray-600"},"Remember me")),a.createElement("a",{href:"#",className:"text-sm text-gray-800 hover:text-black font-medium"},"Forgot password?")),a.createElement("button",{type:"submit",disabled:h,className:"w-full bg-gray-800 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-900 focus:ring-4 focus:ring-gray-300 transition-all disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2"},h?a.createElement(a.Fragment,null,a.createElement(At,{className:"h-5 w-5 animate-spin"}),"Signing in..."):"Log In")))))}var rD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},CA=a.createContext&&a.createContext(rD),lz=["attr","size","title"];function iz(e,t){if(e==null)return{};var r=oz(e,t),n,l;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){cz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cz(e,t,r){return t=uz(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uz(e){var t=dz(e,"string");return typeof t=="symbol"?t:t+""}function dz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nD(e){return e&&e.map((t,r)=>a.createElement(t.tag,mg({key:r},t.attr),nD(t.child)))}function jt(e){return t=>a.createElement(mz,dg({attr:mg({},e.attr)},t),nD(e.child))}function mz(e){var t=r=>{var{attr:n,size:l,title:o}=e,d=iz(e,lz),g=l||r.size||"1em",h;return r.className&&(h=r.className),e.className&&(h=(h?h+" ":"")+e.className),a.createElement("svg",dg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,d,{className:h,style:mg(mg({color:e.color||r.color},r.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return CA!==void 0?a.createElement(CA.Consumer,null,r=>t(r)):t(rD)}function fz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"},child:[]},{tag:"path",attr:{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"},child:[]}]})(e)}function hz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(e)}function Vu(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(e)}function TA(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"},child:[]}]})(e)}function gz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(e)}function pz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(e)}function yz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},child:[]}]})(e)}function aD(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(e)}function xz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(e)}function OA(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"},child:[]}]})(e)}function bz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M8 5v14l11-7z"},child:[]}]})(e)}function vz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(e)}function Ez(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}function wz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"},child:[]}]})(e)}function _m(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15 21h-2v-2h2v2zm-2-7h-2v5h2v-5zm8-2h-2v4h2v-4zm-2-2h-2v2h2v-2zM7 12H5v2h2v-2zm-2-2H3v2h2v-2zm7-5h2V3h-2v2zm-7.5-.5v3h3v-3h-3zM9 9H3V3h6v6zm-4.5 7.5v3h3v-3h-3zM9 21H3v-6h6v6zm7.5-16.5v3h3v-3h-3zM21 9h-6V3h6v6zm-2 10v-3h-4v2h2v3h4v-2h-2zm-2-7h-4v2h4v-2zm-4-2H7v2h2v2h2v-2h2v-2zm1-1V7h-2V5h-2v4h4zM6.75 5.25h-1.5v1.5h1.5v-1.5zm0 12h-1.5v1.5h1.5v-1.5zm12-12h-1.5v1.5h1.5v-1.5z"},child:[]}]})(e)}function ih(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9.5 6.5v3h-3v-3h3M11 5H5v6h6V5zm-1.5 9.5v3h-3v-3h3M11 13H5v6h6v-6zm6.5-6.5v3h-3v-3h3M19 5h-6v6h6V5zm-6 8h1.5v1.5H13V13zm1.5 1.5H16V16h-1.5v-1.5zM16 13h1.5v1.5H16V13zm-3 3h1.5v1.5H13V16zm1.5 1.5H16V19h-1.5v-1.5zM16 16h1.5v1.5H16V16zm1.5-1.5H19V16h-1.5v-1.5zm0 3H19V19h-1.5v-1.5zM22 7h-2V4h-3V2h5v5zm0 15v-5h-2v3h-3v2h5zM2 22h5v-2H4v-3H2v5zM2 2v5h2V4h3V2H2z"},child:[]}]})(e)}function yx(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"},child:[]}]})(e)}function Nz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"},child:[]}]})(e)}function fg(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"},child:[]}]})(e)}function Sz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.16 7.26-1.41-1.41-3.56 3.55 1.41 1.41s3.45-3.52 3.56-3.55zM11 3h2v5h-2zM6.4 10.81 7.81 9.4 4.26 5.84 2.84 7.26c.11.03 3.56 3.55 3.56 3.55zM20 12h-5c0 1.66-1.34 3-3 3s-3-1.34-3-3H4c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"},child:[]}]})(e)}function Cz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 7h-1l-1-1h-4L9 7H8c-1.1 0-2 .9-2 2v6c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-4 7c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},child:[]},{tag:"path",attr:{d:"m8.57.51 4.48 4.48V2.04c4.72.47 8.48 4.23 8.95 8.95h2C23.34 3.02 15.49-1.59 8.57.51zM10.95 21.96c-4.72-.47-8.48-4.23-8.95-8.95H0c.66 7.97 8.51 12.58 15.43 10.48l-4.48-4.48v2.95z"},child:[]}]})(e)}function _A(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.79 21 3 11.21v2c0 .53.21 1.04.59 1.41l7.79 7.79c.78.78 2.05.78 2.83 0l6.21-6.21c.78-.78.78-2.05 0-2.83L12.79 21z"},child:[]},{tag:"path",attr:{d:"M11.38 17.41c.78.78 2.05.78 2.83 0l6.21-6.21c.78-.78.78-2.05 0-2.83L12.63.58A2.04 2.04 0 0 0 11.21 0H5C3.9 0 3 .9 3 2v6.21c0 .53.21 1.04.59 1.41l7.79 7.79zM7.25 3a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z"},child:[]}]})(e)}function Az(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(e)}function Tz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(e)}function Oz(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function sD(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(e)}function DA(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 10V6a2 2 0 0 0-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2zm-9 7.5h-2v-2h2v2zm0-4.5h-2v-2h2v2zm0-4.5h-2v-2h2v2z"},child:[]}]})(e)}function _z(e){return jt({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(e)}function lD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(t=0;t<l;t++)e[t]&&(r=lD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function gn(){for(var e,t,r=0,n="",l=arguments.length;r<l;r++)(e=arguments[r])&&(t=lD(e))&&(n&&(n+=" "),n+=t);return n}function Dz(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Dz(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var E2=e=>typeof e=="number"&&!isNaN(e),Bm=e=>typeof e=="string",iD=e=>typeof e=="function",kz=e=>Bm(e)||E2(e),Mz=e=>N.isValidElement(e)||Bm(e)||iD(e)||E2(e),Pz=1,oD=()=>`${Pz++}`,Nl=new Map,kv=[],kA=new Set,cD=()=>Nl.size>0,Iz=(e,{containerId:t})=>{var r;return(r=Nl.get(t||1))==null?void 0:r.toasts.get(e)};function Rz(e,t){var r;if(t)return!!((r=Nl.get(t))!=null&&r.isToastActive(e));let n=!1;return Nl.forEach(l=>{l.isToastActive(e)&&(n=!0)}),n}function Lz(e){if(!cD()){kv=kv.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||kz(e))Nl.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Nl.get(e.containerId);t?t.removeToast(e.id):Nl.forEach(r=>{r.removeToast(e.id)})}}var Bz=(e={})=>{Nl.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function Fz(e,t){Mz(e)&&(cD()||kv.push({content:e,options:t}),Nl.forEach(r=>{r.buildToast(e,t)}))}function uD(e,t){Nl.forEach(r=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===r.id)&&r.toggle(e,t?.id)})}function Uz(e){return kA.add(e),()=>{kA.delete(e)}}function jz(e){return e&&(Bm(e.toastId)||E2(e.toastId))?e.toastId:oD()}function hf(e,t){return Fz(e,t),t.toastId}function wp(e,t){return{...t,type:t&&t.type||e,toastId:jz(t)}}function Np(e){return(t,r)=>hf(t,wp(e,r))}function pt(e,t){return hf(e,wp("default",t))}pt.loading=(e,t)=>hf(e,wp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function zz(e,{pending:t,error:r,success:n},l){let o;t&&(o=Bm(t)?pt.loading(t,l):pt.loading(t.render,{...l,...t}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(x,y,w)=>{if(y==null){pt.dismiss(o);return}let C={type:x,...d,...l,data:w},_=Bm(y)?{render:y}:y;return o?pt.update(o,{...C,..._}):pt(_.render,{...C,..._}),w},h=iD(e)?e():e;return h.then(x=>g("success",n,x)).catch(x=>g("error",r,x)),h}pt.promise=zz;pt.success=Np("success");pt.info=Np("info");pt.error=Np("error");pt.warning=Np("warning");pt.warn=pt.warning;pt.dark=(e,t)=>hf(e,wp("default",{theme:"dark",...t}));function Vz(e){Lz(e)}pt.dismiss=Vz;pt.clearWaitingQueue=Bz;pt.isActive=Rz;pt.update=(e,t={})=>{let r=Iz(e,t);if(r){let{props:n,content:l}=r,o={delay:100,...n,...t,toastId:t.toastId||e,updateId:oD()};o.toastId!==e&&(o.staleId=e);let d=o.render||l;delete o.render,hf(d,o)}};pt.done=e=>{pt.update(e,{progress:1})};pt.onChange=Uz;pt.play=e=>uD(!0,e);pt.pause=e=>uD(!1,e);var xx={exports:{}},cm={};var MA;function Hz(){if(MA)return cm;MA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,l,o){var d=null;if(o!==void 0&&(d=""+o),l.key!==void 0&&(d=""+l.key),"key"in l){o={};for(var g in l)g!=="key"&&(o[g]=l[g])}else o=l;return l=o.ref,{$$typeof:e,type:n,key:d,ref:l!==void 0?l:null,props:o}}return cm.Fragment=t,cm.jsx=r,cm.jsxs=r,cm}var PA;function qz(){return PA||(PA=1,xx.exports=Hz()),xx.exports}var Mv=qz();const dD=N.createContext({});function $z(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const w2=typeof window<"u",Gz=w2?N.useLayoutEffect:N.useEffect,N2=N.createContext(null);function S2(e,t){e.indexOf(t)===-1&&e.push(t)}function C2(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const gi=(e,t,r)=>r>t?t:r<e?e:r;let A2=()=>{};const pi={},mD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fD(e){return typeof e=="object"&&e!==null}const hD=e=>/^0[^.\s]+$/u.test(e);function T2(e){let t;return()=>(t===void 0&&(t=e()),t)}const _s=e=>e,Yz=(e,t)=>r=>t(e(r)),gf=(...e)=>e.reduce(Yz),Fm=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class O2{constructor(){this.subscriptions=[]}add(t){return S2(this.subscriptions,t),()=>C2(this.subscriptions,t)}notify(t,r,n){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](t,r,n);else for(let o=0;o<l;o++){const d=this.subscriptions[o];d&&d(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sl=e=>e*1e3,Ts=e=>e/1e3;function gD(e,t){return t?e*(1e3/t):0}const pD=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Xz=1e-7,Wz=12;function Kz(e,t,r,n,l){let o,d,g=0;do d=t+(r-t)/2,o=pD(d,n,l)-e,o>0?r=d:t=d;while(Math.abs(o)>Xz&&++g<Wz);return d}function pf(e,t,r,n){if(e===t&&r===n)return _s;const l=o=>Kz(o,0,1,e,r);return o=>o===0||o===1?o:pD(l(o),t,n)}const yD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xD=e=>t=>1-e(1-t),bD=pf(.33,1.53,.69,.99),_2=xD(bD),vD=yD(_2),ED=e=>(e*=2)<1?.5*_2(e):.5*(2-Math.pow(2,-10*(e-1))),D2=e=>1-Math.sin(Math.acos(e)),wD=xD(D2),ND=yD(D2),Zz=pf(.42,0,1,1),Qz=pf(0,0,.58,1),SD=pf(.42,0,.58,1),Jz=e=>Array.isArray(e)&&typeof e[0]!="number",CD=e=>Array.isArray(e)&&typeof e[0]=="number",eV={linear:_s,easeIn:Zz,easeInOut:SD,easeOut:Qz,circIn:D2,circInOut:ND,circOut:wD,backIn:_2,backInOut:vD,backOut:bD,anticipate:ED},tV=e=>typeof e=="string",IA=e=>{if(CD(e)){A2(e.length===4);const[t,r,n,l]=e;return pf(t,r,n,l)}else if(tV(e))return eV[e];return e},oh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function rV(e,t){let r=new Set,n=new Set,l=!1,o=!1;const d=new WeakSet;let g={delta:0,timestamp:0,isProcessing:!1};function h(y){d.has(y)&&(x.schedule(y),e()),y(g)}const x={schedule:(y,w=!1,C=!1)=>{const D=C&&l?r:n;return w&&d.add(y),D.has(y)||D.add(y),y},cancel:y=>{n.delete(y),d.delete(y)},process:y=>{if(g=y,l){o=!0;return}l=!0,[r,n]=[n,r],r.forEach(h),r.clear(),l=!1,o&&(o=!1,x.process(y))}};return x}const nV=40;function AD(e,t){let r=!1,n=!0;const l={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,d=oh.reduce((R,G)=>(R[G]=rV(o),R),{}),{setup:g,read:h,resolveKeyframes:x,preUpdate:y,update:w,preRender:C,render:_,postRender:D}=d,k=()=>{const R=pi.useManualTiming?l.timestamp:performance.now();r=!1,pi.useManualTiming||(l.delta=n?1e3/60:Math.max(Math.min(R-l.timestamp,nV),1)),l.timestamp=R,l.isProcessing=!0,g.process(l),h.process(l),x.process(l),y.process(l),w.process(l),C.process(l),_.process(l),D.process(l),l.isProcessing=!1,r&&t&&(n=!1,e(k))},M=()=>{r=!0,n=!0,l.isProcessing||e(k)};return{schedule:oh.reduce((R,G)=>{const F=d[G];return R[G]=(j,L=!1,H=!1)=>(r||M(),F.schedule(j,L,H)),R},{}),cancel:R=>{for(let G=0;G<oh.length;G++)d[oh[G]].cancel(R)},state:l,steps:d}}const{schedule:Vr,cancel:Co,state:na,steps:bx}=AD(typeof requestAnimationFrame<"u"?requestAnimationFrame:_s,!0);let Xh;function aV(){Xh=void 0}const Ra={now:()=>(Xh===void 0&&Ra.set(na.isProcessing||pi.useManualTiming?na.timestamp:performance.now()),Xh),set:e=>{Xh=e,queueMicrotask(aV)}},TD=e=>t=>typeof t=="string"&&t.startsWith(e),k2=TD("--"),sV=TD("var(--"),M2=e=>sV(e)?lV.test(e.split("/*")[0].trim()):!1,lV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,id={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Um={...id,transform:e=>gi(0,1,e)},ch={...id,default:1},Dm=e=>Math.round(e*1e5)/1e5,P2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function iV(e){return e==null}const oV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I2=(e,t)=>r=>!!(typeof r=="string"&&oV.test(r)&&r.startsWith(e)||t&&!iV(r)&&Object.prototype.hasOwnProperty.call(r,t)),OD=(e,t,r)=>n=>{if(typeof n!="string")return n;const[l,o,d,g]=n.match(P2);return{[e]:parseFloat(l),[t]:parseFloat(o),[r]:parseFloat(d),alpha:g!==void 0?parseFloat(g):1}},cV=e=>gi(0,255,e),vx={...id,transform:e=>Math.round(cV(e))},gc={test:I2("rgb","red"),parse:OD("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+vx.transform(e)+", "+vx.transform(t)+", "+vx.transform(r)+", "+Dm(Um.transform(n))+")"};function uV(e){let t="",r="",n="",l="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),l=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),l=e.substring(4,5),t+=t,r+=r,n+=n,l+=l),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:l?parseInt(l,16)/255:1}}const Pv={test:I2("#"),parse:uV,transform:gc.transform},yf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vo=yf("deg"),Cl=yf("%"),Tt=yf("px"),dV=yf("vh"),mV=yf("vw"),RA={...Cl,parse:e=>Cl.parse(e)/100,transform:e=>Cl.transform(e*100)},Ou={test:I2("hsl","hue"),parse:OD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Cl.transform(Dm(t))+", "+Cl.transform(Dm(r))+", "+Dm(Um.transform(n))+")"},Cn={test:e=>gc.test(e)||Pv.test(e)||Ou.test(e),parse:e=>gc.test(e)?gc.parse(e):Ou.test(e)?Ou.parse(e):Pv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?gc.transform(e):Ou.transform(e),getAnimatableNone:e=>{const t=Cn.parse(e);return t.alpha=0,Cn.transform(t)}},fV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hV(e){return isNaN(e)&&typeof e=="string"&&(e.match(P2)?.length||0)+(e.match(fV)?.length||0)>0}const _D="number",DD="color",gV="var",pV="var(",LA="${}",yV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jm(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},l=[];let o=0;const g=t.replace(yV,h=>(Cn.test(h)?(n.color.push(o),l.push(DD),r.push(Cn.parse(h))):h.startsWith(pV)?(n.var.push(o),l.push(gV),r.push(h)):(n.number.push(o),l.push(_D),r.push(parseFloat(h))),++o,LA)).split(LA);return{values:r,split:g,indexes:n,types:l}}function kD(e){return jm(e).values}function MD(e){const{split:t,types:r}=jm(e),n=t.length;return l=>{let o="";for(let d=0;d<n;d++)if(o+=t[d],l[d]!==void 0){const g=r[d];g===_D?o+=Dm(l[d]):g===DD?o+=Cn.transform(l[d]):o+=l[d]}return o}}const xV=e=>typeof e=="number"?0:Cn.test(e)?Cn.getAnimatableNone(e):e;function bV(e){const t=kD(e);return MD(e)(t.map(xV))}const Ao={test:hV,parse:kD,createTransformer:MD,getAnimatableNone:bV};function Ex(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function vV({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let l=0,o=0,d=0;if(!t)l=o=d=r;else{const g=r<.5?r*(1+t):r+t-r*t,h=2*r-g;l=Ex(h,g,e+1/3),o=Ex(h,g,e),d=Ex(h,g,e-1/3)}return{red:Math.round(l*255),green:Math.round(o*255),blue:Math.round(d*255),alpha:n}}function hg(e,t){return r=>r>0?t:e}const Xr=(e,t,r)=>e+(t-e)*r,wx=(e,t,r)=>{const n=e*e,l=r*(t*t-n)+n;return l<0?0:Math.sqrt(l)},EV=[Pv,gc,Ou],wV=e=>EV.find(t=>t.test(e));function BA(e){const t=wV(e);if(!t)return!1;let r=t.parse(e);return t===Ou&&(r=vV(r)),r}const FA=(e,t)=>{const r=BA(e),n=BA(t);if(!r||!n)return hg(e,t);const l={...r};return o=>(l.red=wx(r.red,n.red,o),l.green=wx(r.green,n.green,o),l.blue=wx(r.blue,n.blue,o),l.alpha=Xr(r.alpha,n.alpha,o),gc.transform(l))},Iv=new Set(["none","hidden"]);function NV(e,t){return Iv.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function SV(e,t){return r=>Xr(e,t,r)}function R2(e){return typeof e=="number"?SV:typeof e=="string"?M2(e)?hg:Cn.test(e)?FA:TV:Array.isArray(e)?PD:typeof e=="object"?Cn.test(e)?FA:CV:hg}function PD(e,t){const r=[...e],n=r.length,l=e.map((o,d)=>R2(o)(o,t[d]));return o=>{for(let d=0;d<n;d++)r[d]=l[d](o);return r}}function CV(e,t){const r={...e,...t},n={};for(const l in r)e[l]!==void 0&&t[l]!==void 0&&(n[l]=R2(e[l])(e[l],t[l]));return l=>{for(const o in n)r[o]=n[o](l);return r}}function AV(e,t){const r=[],n={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const o=t.types[l],d=e.indexes[o][n[o]],g=e.values[d]??0;r[l]=g,n[o]++}return r}const TV=(e,t)=>{const r=Ao.createTransformer(t),n=jm(e),l=jm(t);return n.indexes.var.length===l.indexes.var.length&&n.indexes.color.length===l.indexes.color.length&&n.indexes.number.length>=l.indexes.number.length?Iv.has(e)&&!l.values.length||Iv.has(t)&&!n.values.length?NV(e,t):gf(PD(AV(n,l),l.values),r):hg(e,t)};function ID(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Xr(e,t,r):R2(e)(e,t)}const OV=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Vr.update(t,r),stop:()=>Co(t),now:()=>na.isProcessing?na.timestamp:Ra.now()}},RD=(e,t,r=10)=>{let n="";const l=Math.max(Math.round(t/r),2);for(let o=0;o<l;o++)n+=Math.round(e(o/(l-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},gg=2e4;function L2(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<gg;)t+=r,n=e.next(t);return t>=gg?1/0:t}function _V(e,t=100,r){const n=r({...e,keyframes:[0,t]}),l=Math.min(L2(n),gg);return{type:"keyframes",ease:o=>n.next(l*o).value/t,duration:Ts(l)}}const DV=5;function LD(e,t,r){const n=Math.max(t-DV,0);return gD(r-e(n),t-n)}const rn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nx=.001;function kV({duration:e=rn.duration,bounce:t=rn.bounce,velocity:r=rn.velocity,mass:n=rn.mass}){let l,o,d=1-t;d=gi(rn.minDamping,rn.maxDamping,d),e=gi(rn.minDuration,rn.maxDuration,Ts(e)),d<1?(l=x=>{const y=x*d,w=y*e,C=y-r,_=Rv(x,d),D=Math.exp(-w);return Nx-C/_*D},o=x=>{const w=x*d*e,C=w*r+r,_=Math.pow(d,2)*Math.pow(x,2)*e,D=Math.exp(-w),k=Rv(Math.pow(x,2),d);return(-l(x)+Nx>0?-1:1)*((C-_)*D)/k}):(l=x=>{const y=Math.exp(-x*e),w=(x-r)*e+1;return-Nx+y*w},o=x=>{const y=Math.exp(-x*e),w=(r-x)*(e*e);return y*w});const g=5/e,h=PV(l,o,g);if(e=Sl(e),isNaN(h))return{stiffness:rn.stiffness,damping:rn.damping,duration:e};{const x=Math.pow(h,2)*n;return{stiffness:x,damping:d*2*Math.sqrt(n*x),duration:e}}}const MV=12;function PV(e,t,r){let n=r;for(let l=1;l<MV;l++)n=n-e(n)/t(n);return n}function Rv(e,t){return e*Math.sqrt(1-t*t)}const IV=["duration","bounce"],RV=["stiffness","damping","mass"];function UA(e,t){return t.some(r=>e[r]!==void 0)}function LV(e){let t={velocity:rn.velocity,stiffness:rn.stiffness,damping:rn.damping,mass:rn.mass,isResolvedFromDuration:!1,...e};if(!UA(e,RV)&&UA(e,IV))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),l=n*n,o=2*gi(.05,1,1-(e.bounce||0))*Math.sqrt(l);t={...t,mass:rn.mass,stiffness:l,damping:o}}else{const r=kV(e);t={...t,...r,mass:rn.mass},t.isResolvedFromDuration=!0}return t}function pg(e=rn.visualDuration,t=rn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:l}=r;const o=r.keyframes[0],d=r.keyframes[r.keyframes.length-1],g={done:!1,value:o},{stiffness:h,damping:x,mass:y,duration:w,velocity:C,isResolvedFromDuration:_}=LV({...r,velocity:-Ts(r.velocity||0)}),D=C||0,k=x/(2*Math.sqrt(h*y)),M=d-o,I=Ts(Math.sqrt(h/y)),U=Math.abs(M)<5;n||(n=U?rn.restSpeed.granular:rn.restSpeed.default),l||(l=U?rn.restDelta.granular:rn.restDelta.default);let R;if(k<1){const F=Rv(I,k);R=j=>{const L=Math.exp(-k*I*j);return d-L*((D+k*I*M)/F*Math.sin(F*j)+M*Math.cos(F*j))}}else if(k===1)R=F=>d-Math.exp(-I*F)*(M+(D+I*M)*F);else{const F=I*Math.sqrt(k*k-1);R=j=>{const L=Math.exp(-k*I*j),H=Math.min(F*j,300);return d-L*((D+k*I*M)*Math.sinh(H)+F*M*Math.cosh(H))/F}}const G={calculatedDuration:_&&w||null,next:F=>{const j=R(F);if(_)g.done=F>=w;else{let L=F===0?D:0;k<1&&(L=F===0?Sl(D):LD(R,F,j));const H=Math.abs(L)<=n,V=Math.abs(d-j)<=l;g.done=H&&V}return g.value=g.done?d:j,g},toString:()=>{const F=Math.min(L2(G),gg),j=RD(L=>G.next(F*L).value,F,30);return F+"ms "+j},toTransition:()=>{}};return G}pg.applyToOptions=e=>{const t=_V(e,100,pg);return e.ease=t.ease,e.duration=Sl(t.duration),e.type="keyframes",e};function Lv({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:l=10,bounceStiffness:o=500,modifyTarget:d,min:g,max:h,restDelta:x=.5,restSpeed:y}){const w=e[0],C={done:!1,value:w},_=H=>g!==void 0&&H<g||h!==void 0&&H>h,D=H=>g===void 0?h:h===void 0||Math.abs(g-H)<Math.abs(h-H)?g:h;let k=r*t;const M=w+k,I=d===void 0?M:d(M);I!==M&&(k=I-w);const U=H=>-k*Math.exp(-H/n),R=H=>I+U(H),G=H=>{const V=U(H),Q=R(H);C.done=Math.abs(V)<=x,C.value=C.done?I:Q};let F,j;const L=H=>{_(C.value)&&(F=H,j=pg({keyframes:[C.value,D(C.value)],velocity:LD(R,H,C.value),damping:l,stiffness:o,restDelta:x,restSpeed:y}))};return L(0),{calculatedDuration:null,next:H=>{let V=!1;return!j&&F===void 0&&(V=!0,G(H),L(H)),F!==void 0&&H>=F?j.next(H-F):(!V&&G(H),C)}}}function BV(e,t,r){const n=[],l=r||pi.mix||ID,o=e.length-1;for(let d=0;d<o;d++){let g=l(e[d],e[d+1]);if(t){const h=Array.isArray(t)?t[d]||_s:t;g=gf(h,g)}n.push(g)}return n}function FV(e,t,{clamp:r=!0,ease:n,mixer:l}={}){const o=e.length;if(A2(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const d=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const g=BV(t,n,l),h=g.length,x=y=>{if(d&&y<e[0])return t[0];let w=0;if(h>1)for(;w<e.length-2&&!(y<e[w+1]);w++);const C=Fm(e[w],e[w+1],y);return g[w](C)};return r?y=>x(gi(e[0],e[o-1],y)):x}function UV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const l=Fm(0,t,n);e.push(Xr(r,1,l))}}function jV(e){const t=[0];return UV(t,e.length-1),t}function zV(e,t){return e.map(r=>r*t)}function VV(e,t){return e.map(()=>t||SD).splice(0,e.length-1)}function km({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const l=Jz(n)?n.map(IA):IA(n),o={done:!1,value:t[0]},d=zV(r&&r.length===t.length?r:jV(t),e),g=FV(d,t,{ease:Array.isArray(l)?l:VV(t,l)});return{calculatedDuration:e,next:h=>(o.value=g(h),o.done=h>=e,o)}}const HV=e=>e!==null;function B2(e,{repeat:t,repeatType:r="loop"},n,l=1){const o=e.filter(HV),g=l<0||t&&r!=="loop"&&t%2===1?0:o.length-1;return!g||n===void 0?o[g]:n}const qV={decay:Lv,inertia:Lv,tween:km,keyframes:km,spring:pg};function BD(e){typeof e.type=="string"&&(e.type=qV[e.type])}class F2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const $V=e=>e/100;class U2 extends F2{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ra.now()&&this.tick(Ra.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;BD(t);const{type:r=km,repeat:n=0,repeatDelay:l=0,repeatType:o,velocity:d=0}=t;let{keyframes:g}=t;const h=r||km;h!==km&&typeof g[0]!="number"&&(this.mixKeyframes=gf($V,ID(g[0],g[1])),g=[0,100]);const x=h({...t,keyframes:g});o==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...g].reverse(),velocity:-d})),x.calculatedDuration===null&&(x.calculatedDuration=L2(x));const{calculatedDuration:y}=x;this.calculatedDuration=y,this.resolvedDuration=y+l,this.totalDuration=this.resolvedDuration*(n+1)-l,this.generator=x}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:l,mixKeyframes:o,mirroredGenerator:d,resolvedDuration:g,calculatedDuration:h}=this;if(this.startTime===null)return n.next(0);const{delay:x=0,keyframes:y,repeat:w,repeatType:C,repeatDelay:_,type:D,onUpdate:k,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-l/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const I=this.currentTime-x*(this.playbackSpeed>=0?1:-1),U=this.playbackSpeed>=0?I<0:I>l;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let R=this.currentTime,G=n;if(w){const H=Math.min(this.currentTime,l)/g;let V=Math.floor(H),Q=H%1;!Q&&H>=1&&(Q=1),Q===1&&V--,V=Math.min(V,w+1),!!(V%2)&&(C==="reverse"?(Q=1-Q,_&&(Q-=_/g)):C==="mirror"&&(G=d)),R=gi(0,1,Q)*g}const F=U?{done:!1,value:y[0]}:G.next(R);o&&(F.value=o(F.value));let{done:j}=F;!U&&h!==null&&(j=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return L&&D!==Lv&&(F.value=B2(y,this.options,M,this.speed)),k&&k(F.value),L&&this.finish(),F}then(t,r){return this.finished.then(t,r)}get duration(){return Ts(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ts(t)}get time(){return Ts(this.currentTime)}set time(t){t=Sl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ra.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ts(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=OV,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ra.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function GV(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const pc=e=>e*180/Math.PI,Bv=e=>{const t=pc(Math.atan2(e[1],e[0]));return Fv(t)},YV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Bv,rotateZ:Bv,skewX:e=>pc(Math.atan(e[1])),skewY:e=>pc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Fv=e=>(e=e%360,e<0&&(e+=360),e),jA=Bv,zA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),VA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),XV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:zA,scaleY:VA,scale:e=>(zA(e)+VA(e))/2,rotateX:e=>Fv(pc(Math.atan2(e[6],e[5]))),rotateY:e=>Fv(pc(Math.atan2(-e[2],e[0]))),rotateZ:jA,rotate:jA,skewX:e=>pc(Math.atan(e[4])),skewY:e=>pc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Uv(e){return e.includes("scale")?1:0}function jv(e,t){if(!e||e==="none")return Uv(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,l;if(r)n=XV,l=r;else{const g=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=YV,l=g}if(!l)return Uv(t);const o=n[t],d=l[1].split(",").map(KV);return typeof o=="function"?o(d):d[o]}const WV=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return jv(r,t)};function KV(e){return parseFloat(e.trim())}const od=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cd=new Set(od),HA=e=>e===id||e===Tt,ZV=new Set(["x","y","z"]),QV=od.filter(e=>!ZV.has(e));function JV(e){const t=[];return QV.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const vc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>jv(t,"x"),y:(e,{transform:t})=>jv(t,"y")};vc.translateX=vc.x;vc.translateY=vc.y;const Ec=new Set;let zv=!1,Vv=!1,Hv=!1;function FD(){if(Vv){const e=Array.from(Ec).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const l=JV(n);l.length&&(r.set(n,l),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const l=r.get(n);l&&l.forEach(([o,d])=>{n.getValue(o)?.set(d)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Vv=!1,zv=!1,Ec.forEach(e=>e.complete(Hv)),Ec.clear()}function UD(){Ec.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vv=!0)})}function eH(){Hv=!0,UD(),FD(),Hv=!1}class j2{constructor(t,r,n,l,o,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=l,this.element=o,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Ec.add(this),zv||(zv=!0,Vr.read(UD),Vr.resolveKeyframes(FD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:l}=this;if(t[0]===null){const o=l?.get(),d=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const g=n.readValue(r,d);g!=null&&(t[0]=g)}t[0]===void 0&&(t[0]=d),l&&o===void 0&&l.set(t[0])}GV(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ec.delete(this)}cancel(){this.state==="scheduled"&&(Ec.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tH=e=>e.startsWith("--");function rH(e,t,r){tH(t)?e.style.setProperty(t,r):e.style[t]=r}const nH=T2(()=>window.ScrollTimeline!==void 0),aH={};function sH(e,t){const r=T2(e);return()=>aH[t]??r()}const jD=sH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sm=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,qA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sm([0,.65,.55,1]),circOut:Sm([.55,0,1,.45]),backIn:Sm([.31,.01,.66,-.59]),backOut:Sm([.33,1.53,.69,.99])};function zD(e,t){if(e)return typeof e=="function"?jD()?RD(e,t):"ease-out":CD(e)?Sm(e):Array.isArray(e)?e.map(r=>zD(r,t)||qA.easeOut):qA[e]}function lH(e,t,r,{delay:n=0,duration:l=300,repeat:o=0,repeatType:d="loop",ease:g="easeOut",times:h}={},x=void 0){const y={[t]:r};h&&(y.offset=h);const w=zD(g,l);Array.isArray(w)&&(y.easing=w);const C={delay:n,duration:l,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:o+1,direction:d==="reverse"?"alternate":"normal"};return x&&(C.pseudoElement=x),e.animate(y,C)}function VD(e){return typeof e=="function"&&"applyToOptions"in e}function iH({type:e,...t}){return VD(e)&&jD()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class oH extends F2{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:l,pseudoElement:o,allowFlatten:d=!1,finalKeyframe:g,onComplete:h}=t;this.isPseudoElement=!!o,this.allowFlatten=d,this.options=t,A2(typeof t.type!="string");const x=iH(t);this.animation=lH(r,n,l,x,o),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=B2(l,this.options,g,this.speed);this.updateMotionValue?this.updateMotionValue(y):rH(r,n,y),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ts(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ts(t)}get time(){return Ts(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Sl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&nH()?(this.animation.timeline=t,_s):r(this)}}const HD={anticipate:ED,backInOut:vD,circInOut:ND};function cH(e){return e in HD}function uH(e){typeof e.ease=="string"&&cH(e.ease)&&(e.ease=HD[e.ease])}const $A=10;class dH extends oH{constructor(t){uH(t),BD(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:l,element:o,...d}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const g=new U2({...d,autoplay:!1}),h=Sl(this.finishedTime??this.time);r.setWithVelocity(g.sample(h-$A).value,g.sample(h).value,$A),g.stop()}}const GA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ao.test(e)||e==="0")&&!e.startsWith("url("));function mH(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function fH(e,t,r,n){const l=e[0];if(l===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],d=GA(l,t),g=GA(o,t);return!d||!g?!1:mH(e)||(r==="spring"||VD(r))&&n}function qv(e){e.duration=0,e.type="keyframes"}const hH=new Set(["opacity","clipPath","filter","transform"]),gH=T2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pH(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:l,damping:o,type:d}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:x}=t.owner.getProps();return gH()&&r&&hH.has(r)&&(r!=="transform"||!x)&&!h&&!n&&l!=="mirror"&&o!==0&&d!=="inertia"}const yH=40;class xH extends F2{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:l=0,repeatDelay:o=0,repeatType:d="loop",keyframes:g,name:h,motionValue:x,element:y,...w}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ra.now();const C={autoplay:t,delay:r,type:n,repeat:l,repeatDelay:o,repeatType:d,name:h,motionValue:x,element:y,...w},_=y?.KeyframeResolver||j2;this.keyframeResolver=new _(g,(D,k,M)=>this.onKeyframesResolved(D,k,C,!M),h,x,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,l){this.keyframeResolver=void 0;const{name:o,type:d,velocity:g,delay:h,isHandoff:x,onUpdate:y}=n;this.resolvedAt=Ra.now(),fH(t,o,d,g)||((pi.instantAnimations||!h)&&y?.(B2(t,n,r)),t[0]=t[t.length-1],qv(n),n.repeat=0);const C={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>yH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},_=!x&&pH(C)?new dH({...C,element:C.motionValue.owner.current}):new U2(C);_.finished.then(()=>this.notifyFinished()).catch(_s),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eH()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const bH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vH(e){const t=bH.exec(e);if(!t)return[,];const[,r,n,l]=t;return[`--${r??n}`,l]}function qD(e,t,r=1){const[n,l]=vH(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const d=o.trim();return mD(d)?parseFloat(d):d}return M2(l)?qD(l,t,r+1):l}function z2(e,t){return e?.[t]??e?.default??e}const $D=new Set(["width","height","top","left","right","bottom",...od]),EH={test:e=>e==="auto",parse:e=>e},GD=e=>t=>t.test(e),YD=[id,Tt,Cl,vo,mV,dV,EH],YA=e=>YD.find(GD(e));function wH(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||hD(e):!0}const NH=new Set(["brightness","contrast","saturate","opacity"]);function SH(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(P2)||[];if(!n)return e;const l=r.replace(n,"");let o=NH.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+l+")"}const CH=/\b([a-z-]*)\(.*?\)/gu,$v={...Ao,getAnimatableNone:e=>{const t=e.match(CH);return t?t.map(SH).join(" "):e}},XA={...id,transform:Math.round},AH={rotate:vo,rotateX:vo,rotateY:vo,rotateZ:vo,scale:ch,scaleX:ch,scaleY:ch,scaleZ:ch,skew:vo,skewX:vo,skewY:vo,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Um,originX:RA,originY:RA,originZ:Tt},V2={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...AH,zIndex:XA,fillOpacity:Um,strokeOpacity:Um,numOctaves:XA},TH={...V2,color:Cn,backgroundColor:Cn,outlineColor:Cn,fill:Cn,stroke:Cn,borderColor:Cn,borderTopColor:Cn,borderRightColor:Cn,borderBottomColor:Cn,borderLeftColor:Cn,filter:$v,WebkitFilter:$v},XD=e=>TH[e];function WD(e,t){let r=XD(e);return r!==$v&&(r=Ao),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const OH=new Set(["auto","none","0"]);function _H(e,t,r){let n=0,l;for(;n<e.length&&!l;){const o=e[n];typeof o=="string"&&!OH.has(o)&&jm(o).values.length&&(l=e[n]),n++}if(l&&r)for(const o of t)e[o]=WD(r,l)}class DH extends j2{constructor(t,r,n,l,o){super(t,r,n,l,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let x=t[h];if(typeof x=="string"&&(x=x.trim(),M2(x))){const y=qD(x,r.current);y!==void 0&&(t[h]=y),h===t.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!$D.has(n)||t.length!==2)return;const[l,o]=t,d=YA(l),g=YA(o);if(d!==g)if(HA(d)&&HA(g))for(let h=0;h<t.length;h++){const x=t[h];typeof x=="string"&&(t[h]=parseFloat(x))}else vc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let l=0;l<t.length;l++)(t[l]===null||wH(t[l]))&&n.push(l);n.length&&_H(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=vc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const l=r[r.length-1];l!==void 0&&t.getValue(n,l).jump(l,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const l=t.getValue(r);l&&l.jump(this.measuredOrigin,!1);const o=n.length-1,d=n[o];n[o]=vc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([g,h])=>{t.getValue(g).set(h)}),this.resolveNoneKeyframes()}}function kH(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const l=r?.[e]??n.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}const KD=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function MH(e){return fD(e)&&"offsetHeight"in e}const WA=30,PH=e=>!isNaN(parseFloat(e));class IH{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const l=Ra.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ra.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=PH(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new O2);const n=this.events[t].add(r);return t==="change"?()=>{n(),Vr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ra.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>WA)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,WA);return gD(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hu(e,t){return new IH(e,t)}const{schedule:H2}=AD(queueMicrotask,!1),Ys={x:!1,y:!1};function ZD(){return Ys.x||Ys.y}function RH(e){return e==="x"||e==="y"?Ys[e]?null:(Ys[e]=!0,()=>{Ys[e]=!1}):Ys.x||Ys.y?null:(Ys.x=Ys.y=!0,()=>{Ys.x=Ys.y=!1})}function QD(e,t){const r=kH(e),n=new AbortController,l={passive:!0,...t,signal:n.signal};return[r,l,()=>n.abort()]}function KA(e){return!(e.pointerType==="touch"||ZD())}function LH(e,t,r={}){const[n,l,o]=QD(e,r),d=g=>{if(!KA(g))return;const{target:h}=g,x=t(h,g);if(typeof x!="function"||!h)return;const y=w=>{KA(w)&&(x(w),h.removeEventListener("pointerleave",y))};h.addEventListener("pointerleave",y,l)};return n.forEach(g=>{g.addEventListener("pointerenter",d,l)}),o}const JD=(e,t)=>t?e===t?!0:JD(e,t.parentElement):!1,q2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,BH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function FH(e){return BH.has(e.tagName)||e.tabIndex!==-1}const Wh=new WeakSet;function ZA(e){return t=>{t.key==="Enter"&&e(t)}}function Sx(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const UH=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=ZA(()=>{if(Wh.has(r))return;Sx(r,"down");const l=ZA(()=>{Sx(r,"up")}),o=()=>Sx(r,"cancel");r.addEventListener("keyup",l,t),r.addEventListener("blur",o,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function QA(e){return q2(e)&&!ZD()}function jH(e,t,r={}){const[n,l,o]=QD(e,r),d=g=>{const h=g.currentTarget;if(!QA(g))return;Wh.add(h);const x=t(h,g),y=(_,D)=>{window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",C),Wh.has(h)&&Wh.delete(h),QA(_)&&typeof x=="function"&&x(_,{success:D})},w=_=>{y(_,h===window||h===document||r.useGlobalTarget||JD(h,_.target))},C=_=>{y(_,!1)};window.addEventListener("pointerup",w,l),window.addEventListener("pointercancel",C,l)};return n.forEach(g=>{(r.useGlobalTarget?window:g).addEventListener("pointerdown",d,l),MH(g)&&(g.addEventListener("focus",x=>UH(x,l)),!FH(g)&&!g.hasAttribute("tabindex")&&(g.tabIndex=0))}),o}function ek(e){return fD(e)&&"ownerSVGElement"in e}function zH(e){return ek(e)&&e.tagName==="svg"}const ua=e=>!!(e&&e.getVelocity),VH=[...YD,Cn,Ao],HH=e=>VH.find(GD(e)),tk=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function qH(e=!0){const t=N.useContext(N2);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:l}=t,o=N.useId();N.useEffect(()=>{if(e)return l(o)},[e]);const d=N.useCallback(()=>e&&n&&n(o),[o,n,e]);return!r&&n?[!1,d]:[!0]}const rk=N.createContext({strict:!1}),JA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qu={};for(const e in JA)qu[e]={isEnabled:t=>JA[e].some(r=>!!t[r])};function $H(e){for(const t in e)qu[t]={...qu[t],...e[t]}}const GH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||GH.has(e)}let nk=e=>!yg(e);function YH(e){typeof e=="function"&&(nk=t=>t.startsWith("on")?!yg(t):e(t))}try{YH(require("@emotion/is-prop-valid").default)}catch{}function XH(e,t,r){const n={};for(const l in e)l==="values"&&typeof e.values=="object"||(nk(l)||r===!0&&yg(l)||!t&&!yg(l)||e.draggable&&l.startsWith("onDrag"))&&(n[l]=e[l]);return n}const Sp=N.createContext({});function Cp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zm(e){return typeof e=="string"||Array.isArray(e)}const $2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G2=["initial",...$2];function Ap(e){return Cp(e.animate)||G2.some(t=>zm(e[t]))}function ak(e){return!!(Ap(e)||e.variants)}function WH(e,t){if(Ap(e)){const{initial:r,animate:n}=e;return{initial:r===!1||zm(r)?r:void 0,animate:zm(n)?n:void 0}}return e.inherit!==!1?t:{}}function KH(e){const{initial:t,animate:r}=WH(e,N.useContext(Sp));return N.useMemo(()=>({initial:t,animate:r}),[e4(t),e4(r)])}function e4(e){return Array.isArray(e)?e.join(" "):e}const Vm={};function ZH(e){for(const t in e)Vm[t]=e[t],k2(t)&&(Vm[t].isCSSVariable=!0)}function sk(e,{layout:t,layoutId:r}){return cd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Vm[e]||e==="opacity")}const QH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JH=od.length;function eq(e,t,r){let n="",l=!0;for(let o=0;o<JH;o++){const d=od[o],g=e[d];if(g===void 0)continue;let h=!0;if(typeof g=="number"?h=g===(d.startsWith("scale")?1:0):h=parseFloat(g)===0,!h||r){const x=KD(g,V2[d]);if(!h){l=!1;const y=QH[d]||d;n+=`${y}(${x}) `}r&&(t[d]=x)}}return n=n.trim(),r?n=r(t,l?"":n):l&&(n="none"),n}function Y2(e,t,r){const{style:n,vars:l,transformOrigin:o}=e;let d=!1,g=!1;for(const h in t){const x=t[h];if(cd.has(h)){d=!0;continue}else if(k2(h)){l[h]=x;continue}else{const y=KD(x,V2[h]);h.startsWith("origin")?(g=!0,o[h]=y):n[h]=y}}if(t.transform||(d||r?n.transform=eq(t,e.transform,r):n.transform&&(n.transform="none")),g){const{originX:h="50%",originY:x="50%",originZ:y=0}=o;n.transformOrigin=`${h} ${x} ${y}`}}const X2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lk(e,t,r){for(const n in t)!ua(t[n])&&!sk(n,r)&&(e[n]=t[n])}function tq({transformTemplate:e},t){return N.useMemo(()=>{const r=X2();return Y2(r,t,e),Object.assign({},r.vars,r.style)},[t])}function rq(e,t){const r=e.style||{},n={};return lk(n,r,e),Object.assign(n,tq(e,t)),n}function nq(e,t){const r={},n=rq(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const aq={offset:"stroke-dashoffset",array:"stroke-dasharray"},sq={offset:"strokeDashoffset",array:"strokeDasharray"};function lq(e,t,r=1,n=0,l=!0){e.pathLength=1;const o=l?aq:sq;e[o.offset]=Tt.transform(-n);const d=Tt.transform(t),g=Tt.transform(r);e[o.array]=`${d} ${g}`}function ik(e,{attrX:t,attrY:r,attrScale:n,pathLength:l,pathSpacing:o=1,pathOffset:d=0,...g},h,x,y){if(Y2(e,g,x),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:w,style:C}=e;w.transform&&(C.transform=w.transform,delete w.transform),(C.transform||w.transformOrigin)&&(C.transformOrigin=w.transformOrigin??"50% 50%",delete w.transformOrigin),C.transform&&(C.transformBox=y?.transformBox??"fill-box",delete w.transformBox),t!==void 0&&(w.x=t),r!==void 0&&(w.y=r),n!==void 0&&(w.scale=n),l!==void 0&&lq(w,l,o,d,!1)}const ok=()=>({...X2(),attrs:{}}),ck=e=>typeof e=="string"&&e.toLowerCase()==="svg";function iq(e,t,r,n){const l=N.useMemo(()=>{const o=ok();return ik(o,t,ck(n),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};lk(o,e.style,e),l.style={...o,...l.style}}return l}const oq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function W2(e){return typeof e!="string"||e.includes("-")?!1:!!(oq.indexOf(e)>-1||/[A-Z]/u.test(e))}function cq(e,t,r,{latestValues:n},l,o=!1){const g=(W2(e)?iq:nq)(t,n,l,e),h=XH(t,typeof e=="string",o),x=e!==N.Fragment?{...h,...g,ref:r}:{},{children:y}=t,w=N.useMemo(()=>ua(y)?y.get():y,[y]);return N.createElement(e,{...x,children:w})}function t4(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function K2(e,t,r,n){if(typeof t=="function"){const[l,o]=t4(n);t=t(r!==void 0?r:e.custom,l,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[l,o]=t4(n);t=t(r!==void 0?r:e.custom,l,o)}return t}function Kh(e){return ua(e)?e.get():e}function uq({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,l){return{latestValues:dq(r,n,l,e),renderState:t()}}function dq(e,t,r,n){const l={},o=n(e,{});for(const C in o)l[C]=Kh(o[C]);let{initial:d,animate:g}=e;const h=Ap(e),x=ak(e);t&&x&&!h&&e.inherit!==!1&&(d===void 0&&(d=t.initial),g===void 0&&(g=t.animate));let y=r?r.initial===!1:!1;y=y||d===!1;const w=y?g:d;if(w&&typeof w!="boolean"&&!Cp(w)){const C=Array.isArray(w)?w:[w];for(let _=0;_<C.length;_++){const D=K2(e,C[_]);if(D){const{transitionEnd:k,transition:M,...I}=D;for(const U in I){let R=I[U];if(Array.isArray(R)){const G=y?R.length-1:0;R=R[G]}R!==null&&(l[U]=R)}for(const U in k)l[U]=k[U]}}}return l}const uk=e=>(t,r)=>{const n=N.useContext(Sp),l=N.useContext(N2),o=()=>uq(e,t,n,l);return r?o():$z(o)};function Z2(e,t,r){const{style:n}=e,l={};for(const o in n)(ua(n[o])||t.style&&ua(t.style[o])||sk(o,e)||r?.getValue(o)?.liveStyle!==void 0)&&(l[o]=n[o]);return l}const mq=uk({scrapeMotionValuesFromProps:Z2,createRenderState:X2});function dk(e,t,r){const n=Z2(e,t,r);for(const l in e)if(ua(e[l])||ua(t[l])){const o=od.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;n[o]=e[l]}return n}const fq=uk({scrapeMotionValuesFromProps:dk,createRenderState:ok}),hq=Symbol.for("motionComponentSymbol");function _u(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function gq(e,t,r){return N.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):_u(r)&&(r.current=n))},[t])}const Q2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pq="framerAppearId",mk="data-"+Q2(pq),fk=N.createContext({});function yq(e,t,r,n,l){const{visualElement:o}=N.useContext(Sp),d=N.useContext(rk),g=N.useContext(N2),h=N.useContext(tk).reducedMotion,x=N.useRef(null);n=n||d.renderer,!x.current&&n&&(x.current=n(e,{visualState:t,parent:o,props:r,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:h}));const y=x.current,w=N.useContext(fk);y&&!y.projection&&l&&(y.type==="html"||y.type==="svg")&&xq(x.current,r,l,w);const C=N.useRef(!1);N.useInsertionEffect(()=>{y&&C.current&&y.update(r,g)});const _=r[mk],D=N.useRef(!!_&&!window.MotionHandoffIsComplete?.(_)&&window.MotionHasOptimisedAnimation?.(_));return Gz(()=>{y&&(C.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),N.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(_)}),D.current=!1),y.enteringChildren=void 0)}),y}function xq(e,t,r,n){const{layoutId:l,layout:o,drag:d,dragConstraints:g,layoutScroll:h,layoutRoot:x,layoutCrossfade:y}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:hk(e.parent)),e.projection.setOptions({layoutId:l,layout:o,alwaysMeasureLayout:!!d||g&&_u(g),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:y,layoutScroll:h,layoutRoot:x})}function hk(e){if(e)return e.options.allowProjection!==!1?e.projection:hk(e.parent)}function Cx(e,{forwardMotionProps:t=!1}={},r,n){r&&$H(r);const l=W2(e)?fq:mq;function o(g,h){let x;const y={...N.useContext(tk),...g,layoutId:bq(g)},{isStatic:w}=y,C=KH(g),_=l(g,w);if(!w&&w2){vq();const D=Eq(y);x=D.MeasureLayout,C.visualElement=yq(e,_,y,n,D.ProjectionNode)}return Mv.jsxs(Sp.Provider,{value:C,children:[x&&C.visualElement?Mv.jsx(x,{visualElement:C.visualElement,...y}):null,cq(e,g,gq(_,C.visualElement,h),_,w,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const d=N.forwardRef(o);return d[hq]=e,d}function bq({layoutId:e}){const t=N.useContext(dD).id;return t&&e!==void 0?t+"-"+e:e}function vq(e,t){N.useContext(rk).strict}function Eq(e){const{drag:t,layout:r}=qu;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function wq(e,t){if(typeof Proxy>"u")return Cx;const r=new Map,n=(o,d)=>Cx(o,d,e,t),l=(o,d)=>n(o,d);return new Proxy(l,{get:(o,d)=>d==="create"?n:(r.has(d)||r.set(d,Cx(d,void 0,e,t)),r.get(d))})}function gk({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Nq({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Sq(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Ax(e){return e===void 0||e===1}function Gv({scale:e,scaleX:t,scaleY:r}){return!Ax(e)||!Ax(t)||!Ax(r)}function uc(e){return Gv(e)||pk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function pk(e){return r4(e.x)||r4(e.y)}function r4(e){return e&&e!=="0%"}function xg(e,t,r){const n=e-r,l=t*n;return r+l}function n4(e,t,r,n,l){return l!==void 0&&(e=xg(e,l,n)),xg(e,r,n)+t}function Yv(e,t=0,r=1,n,l){e.min=n4(e.min,t,r,n,l),e.max=n4(e.max,t,r,n,l)}function yk(e,{x:t,y:r}){Yv(e.x,t.translate,t.scale,t.originPoint),Yv(e.y,r.translate,r.scale,r.originPoint)}const a4=.999999999999,s4=1.0000000000001;function Cq(e,t,r,n=!1){const l=r.length;if(!l)return;t.x=t.y=1;let o,d;for(let g=0;g<l;g++){o=r[g],d=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ku(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,yk(e,d)),n&&uc(o.latestValues)&&ku(e,o.latestValues))}t.x<s4&&t.x>a4&&(t.x=1),t.y<s4&&t.y>a4&&(t.y=1)}function Du(e,t){e.min=e.min+t,e.max=e.max+t}function l4(e,t,r,n,l=.5){const o=Xr(e.min,e.max,l);Yv(e,t,r,o,n)}function ku(e,t){l4(e.x,t.x,t.scaleX,t.scale,t.originX),l4(e.y,t.y,t.scaleY,t.scale,t.originY)}function xk(e,t){return gk(Sq(e.getBoundingClientRect(),t))}function Aq(e,t,r){const n=xk(e,r),{scroll:l}=t;return l&&(Du(n.x,l.offset.x),Du(n.y,l.offset.y)),n}const i4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mu=()=>({x:i4(),y:i4()}),o4=()=>({min:0,max:0}),In=()=>({x:o4(),y:o4()}),Xv={current:null},bk={current:!1};function Tq(){if(bk.current=!0,!!w2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xv.current=e.matches;e.addEventListener("change",t),t()}else Xv.current=!1}const Oq=new WeakMap;function _q(e,t,r){for(const n in t){const l=t[n],o=r[n];if(ua(l))e.addValue(n,l);else if(ua(o))e.addValue(n,Hu(l,{owner:e}));else if(o!==l)if(e.hasValue(n)){const d=e.getValue(n);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=e.getStaticValue(n);e.addValue(n,Hu(d!==void 0?d:l,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const c4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dq{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:l,blockInitialAnimation:o,visualState:d},g={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=j2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const C=Ra.now();this.renderScheduledAt<C&&(this.renderScheduledAt=C,Vr.render(this.render,!1,!0))};const{latestValues:h,renderState:x}=d;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=x,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=l,this.options=g,this.blockInitialAnimation=!!o,this.isControllingVariants=Ap(r),this.isVariantNode=ak(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,...w}=this.scrapeMotionValuesFromProps(r,{},this);for(const C in w){const _=w[C];h[C]!==void 0&&ua(_)&&_.set(h[C])}}mount(t){this.current=t,Oq.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),bk.current||Tq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Co(this.notifyUpdate),Co(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=cd.has(t);n&&this.onBindTransform&&this.onBindTransform();const l=r.on("change",d=>{this.latestValues[t]=d,this.props.onUpdate&&Vr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{l(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qu){const r=qu[t];if(!r)continue;const{isEnabled:n,Feature:l}=r;if(!this.features[t]&&l&&n(this.props)&&(this.features[t]=new l(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):In()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<c4.length;n++){const l=c4[n];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const o="on"+l,d=t[o];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=_q(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Hu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(mD(n)||hD(n))?n=parseFloat(n):!HH(n)&&Ao.test(r)&&(n=WD(t,r)),this.setBaseTarget(t,ua(n)?n.get():n)),ua(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=K2(this.props,r,this.presenceContext?.custom);o&&(n=o[t])}if(r&&n!==void 0)return n;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!ua(l)?l:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new O2),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){H2.render(this.render)}}class vk extends Dq{constructor(){super(...arguments),this.KeyframeResolver=DH}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ua(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Ek(e,{style:t,vars:r},n,l){const o=e.style;let d;for(d in t)o[d]=t[d];l?.applyProjectionStyles(o,n);for(d in r)o.setProperty(d,r[d])}function kq(e){return window.getComputedStyle(e)}class Mq extends vk{constructor(){super(...arguments),this.type="html",this.renderInstance=Ek}readValueFromInstance(t,r){if(cd.has(r))return this.projection?.isProjecting?Uv(r):WV(t,r);{const n=kq(t),l=(k2(r)?n.getPropertyValue(r):n[r])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:r}){return xk(t,r)}build(t,r,n){Y2(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Z2(t,r,n)}}const wk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pq(e,t,r,n){Ek(e,t,void 0,n);for(const l in t.attrs)e.setAttribute(wk.has(l)?l:Q2(l),t.attrs[l])}class Iq extends vk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=In}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(cd.has(r)){const n=XD(r);return n&&n.default||0}return r=wk.has(r)?r:Q2(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return dk(t,r,n)}build(t,r,n){ik(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,l){Pq(t,r,n,l)}mount(t){this.isSVGTag=ck(t.tagName),super.mount(t)}}const Rq=(e,t)=>W2(e)?new Iq(t):new Mq(t,{allowProjection:e!==N.Fragment});function Bu(e,t,r){const n=e.getProps();return K2(n,t,r!==void 0?r:n.custom,e)}const Wv=e=>Array.isArray(e);function Lq(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Hu(r))}function Bq(e){return Wv(e)?e[e.length-1]||0:e}function Fq(e,t){const r=Bu(e,t);let{transitionEnd:n={},transition:l={},...o}=r||{};o={...o,...n};for(const d in o){const g=Bq(o[d]);Lq(e,d,g)}}function Uq(e){return!!(ua(e)&&e.add)}function Kv(e,t){const r=e.getValue("willChange");if(Uq(r))return r.add(t);if(!r&&pi.WillChange){const n=new pi.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Nk(e){return e.props[mk]}const jq=e=>e!==null;function zq(e,{repeat:t,repeatType:r="loop"},n){const l=e.filter(jq),o=t&&r!=="loop"&&t%2===1?0:l.length-1;return l[o]}const Vq={type:"spring",stiffness:500,damping:25,restSpeed:10},Hq=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),qq={type:"keyframes",duration:.8},$q={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Gq=(e,{keyframes:t})=>t.length>2?qq:cd.has(e)?e.startsWith("scale")?Hq(t[1]):Vq:$q;function Yq({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:l,repeat:o,repeatType:d,repeatDelay:g,from:h,elapsed:x,...y}){return!!Object.keys(y).length}const J2=(e,t,r,n={},l,o)=>d=>{const g=z2(n,e)||{},h=g.delay||n.delay||0;let{elapsed:x=0}=n;x=x-Sl(h);const y={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...g,delay:-x,onUpdate:C=>{t.set(C),g.onUpdate&&g.onUpdate(C)},onComplete:()=>{d(),g.onComplete&&g.onComplete()},name:e,motionValue:t,element:o?void 0:l};Yq(g)||Object.assign(y,Gq(e,y)),y.duration&&(y.duration=Sl(y.duration)),y.repeatDelay&&(y.repeatDelay=Sl(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let w=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(qv(y),y.delay===0&&(w=!0)),(pi.instantAnimations||pi.skipAnimations)&&(w=!0,qv(y),y.delay=0),y.allowFlatten=!g.type&&!g.ease,w&&!o&&t.get()!==void 0){const C=zq(y.keyframes,g);if(C!==void 0){Vr.update(()=>{y.onUpdate(C),y.onComplete()});return}}return g.isSync?new U2(y):new xH(y)};function Xq({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Sk(e,t,{delay:r=0,transitionOverride:n,type:l}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:d,...g}=t;n&&(o=n);const h=[],x=l&&e.animationState&&e.animationState.getState()[l];for(const y in g){const w=e.getValue(y,e.latestValues[y]??null),C=g[y];if(C===void 0||x&&Xq(x,y))continue;const _={delay:r,...z2(o||{},y)},D=w.get();if(D!==void 0&&!w.isAnimating&&!Array.isArray(C)&&C===D&&!_.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const I=Nk(e);if(I){const U=window.MotionHandoffAnimation(I,y,Vr);U!==null&&(_.startTime=U,k=!0)}}Kv(e,y),w.start(J2(y,w,C,e.shouldReduceMotion&&$D.has(y)?{type:!1}:_,e,k));const M=w.animation;M&&h.push(M)}return d&&Promise.all(h).then(()=>{Vr.update(()=>{d&&Fq(e,d)})}),h}function Ck(e,t,r,n=0,l=1){const o=Array.from(e).sort((x,y)=>x.sortNodePosition(y)).indexOf(t),d=e.size,g=(d-1)*n;return typeof r=="function"?r(o,d):l===1?o*n:g-o*n}function Zv(e,t,r={}){const n=Bu(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(l=r.transitionOverride);const o=n?()=>Promise.all(Sk(e,n,r)):()=>Promise.resolve(),d=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:x=0,staggerChildren:y,staggerDirection:w}=l;return Wq(e,t,h,x,y,w,r)}:()=>Promise.resolve(),{when:g}=l;if(g){const[h,x]=g==="beforeChildren"?[o,d]:[d,o];return h().then(()=>x())}else return Promise.all([o(),d(r.delay)])}function Wq(e,t,r=0,n=0,l=0,o=1,d){const g=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),g.push(Zv(h,t,{...d,delay:r+(typeof n=="function"?0:n)+Ck(e.variantChildren,h,n,l,o)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(g)}function Kq(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const l=t.map(o=>Zv(e,o,r));n=Promise.all(l)}else if(typeof t=="string")n=Zv(e,t,r);else{const l=typeof t=="function"?Bu(e,t,r.custom):t;n=Promise.all(Sk(e,l,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Ak(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Zq=G2.length;function Tk(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Tk(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Zq;r++){const n=G2[r],l=e.props[n];(zm(l)||l===!1)&&(t[n]=l)}return t}const Qq=[...$2].reverse(),Jq=$2.length;function e$(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Kq(e,r,n)))}function t$(e){let t=e$(e),r=u4(),n=!0;const l=h=>(x,y)=>{const w=Bu(e,y,h==="exit"?e.presenceContext?.custom:void 0);if(w){const{transition:C,transitionEnd:_,...D}=w;x={...x,...D,..._}}return x};function o(h){t=h(e)}function d(h){const{props:x}=e,y=Tk(e.parent)||{},w=[],C=new Set;let _={},D=1/0;for(let M=0;M<Jq;M++){const I=Qq[M],U=r[I],R=x[I]!==void 0?x[I]:y[I],G=zm(R),F=I===h?U.isActive:null;F===!1&&(D=M);let j=R===y[I]&&R!==x[I]&&G;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),U.protectedKeys={..._},!U.isActive&&F===null||!R&&!U.prevProp||Cp(R)||typeof R=="boolean")continue;const L=r$(U.prevProp,R);let H=L||I===h&&U.isActive&&!j&&G||M>D&&G,V=!1;const Q=Array.isArray(R)?R:[R];let Y=Q.reduce(l(I),{});F===!1&&(Y={});const{prevResolvedValues:X={}}=U,he={...X,...Y},pe=ae=>{H=!0,C.has(ae)&&(V=!0,C.delete(ae)),U.needsAnimating[ae]=!0;const Ee=e.getValue(ae);Ee&&(Ee.liveStyle=!1)};for(const ae in he){const Ee=Y[ae],be=X[ae];if(_.hasOwnProperty(ae))continue;let re=!1;Wv(Ee)&&Wv(be)?re=!Ak(Ee,be):re=Ee!==be,re?Ee!=null?pe(ae):C.add(ae):Ee!==void 0&&C.has(ae)?pe(ae):U.protectedKeys[ae]=!0}U.prevProp=R,U.prevResolvedValues=Y,U.isActive&&(_={..._,...Y}),n&&e.blockInitialAnimation&&(H=!1);const se=j&&L;H&&(!se||V)&&w.push(...Q.map(ae=>{const Ee={type:I};if(typeof ae=="string"&&n&&!se&&e.manuallyAnimateOnMount&&e.parent){const{parent:be}=e,re=Bu(be,ae);if(be.enteringChildren&&re){const{delayChildren:W}=re.transition||{};Ee.delay=Ck(be.enteringChildren,e,W)}}return{animation:ae,options:Ee}}))}if(C.size){const M={};if(typeof x.initial!="boolean"){const I=Bu(e,Array.isArray(x.initial)?x.initial[0]:x.initial);I&&I.transition&&(M.transition=I.transition)}C.forEach(I=>{const U=e.getBaseTarget(I),R=e.getValue(I);R&&(R.liveStyle=!0),M[I]=U??null}),w.push({animation:M})}let k=!!w.length;return n&&(x.initial===!1||x.initial===x.animate)&&!e.manuallyAnimateOnMount&&(k=!1),n=!1,k?t(w):Promise.resolve()}function g(h,x){if(r[h].isActive===x)return Promise.resolve();e.variantChildren?.forEach(w=>w.animationState?.setActive(h,x)),r[h].isActive=x;const y=d(h);for(const w in r)r[w].protectedKeys={};return y}return{animateChanges:d,setActive:g,setAnimateFunction:o,getState:()=>r,reset:()=>{r=u4()}}}function r$(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Ak(t,e):!1}function ic(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u4(){return{animate:ic(!0),whileInView:ic(),whileHover:ic(),whileTap:ic(),whileDrag:ic(),whileFocus:ic(),exit:ic()}}class Mo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class n$ extends Mo{constructor(t){super(t),t.animationState||(t.animationState=t$(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Cp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let a$=0;class s$ extends Mo{constructor(){super(...arguments),this.id=a$++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const l=this.node.animationState.setActive("exit",!t);r&&!t&&l.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const l$={animation:{Feature:n$},exit:{Feature:s$}};function Hm(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function xf(e){return{point:{x:e.pageX,y:e.pageY}}}const i$=e=>t=>q2(t)&&e(t,xf(t));function Mm(e,t,r,n){return Hm(e,t,i$(r),n)}const Ok=1e-4,o$=1-Ok,c$=1+Ok,_k=.01,u$=0-_k,d$=0+_k;function xa(e){return e.max-e.min}function m$(e,t,r){return Math.abs(e-t)<=r}function d4(e,t,r,n=.5){e.origin=n,e.originPoint=Xr(t.min,t.max,e.origin),e.scale=xa(r)/xa(t),e.translate=Xr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=o$&&e.scale<=c$||isNaN(e.scale))&&(e.scale=1),(e.translate>=u$&&e.translate<=d$||isNaN(e.translate))&&(e.translate=0)}function Pm(e,t,r,n){d4(e.x,t.x,r.x,n?n.originX:void 0),d4(e.y,t.y,r.y,n?n.originY:void 0)}function m4(e,t,r){e.min=r.min+t.min,e.max=e.min+xa(t)}function f$(e,t,r){m4(e.x,t.x,r.x),m4(e.y,t.y,r.y)}function f4(e,t,r){e.min=t.min-r.min,e.max=e.min+xa(t)}function bg(e,t,r){f4(e.x,t.x,r.x),f4(e.y,t.y,r.y)}function Ns(e){return[e("x"),e("y")]}const Dk=({current:e})=>e?e.ownerDocument.defaultView:null,h4=(e,t)=>Math.abs(e-t);function h$(e,t){const r=h4(e.x,t.x),n=h4(e.y,t.y);return Math.sqrt(r**2+n**2)}class kk{constructor(t,r,{transformPagePoint:n,contextWindow:l=window,dragSnapToOrigin:o=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Ox(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,D=h$(C.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!D)return;const{point:k}=C,{timestamp:M}=na;this.history.push({...k,timestamp:M});const{onStart:I,onMove:U}=this.handlers;_||(I&&I(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),U&&U(this.lastMoveEvent,C)},this.handlePointerMove=(C,_)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Tx(_,this.transformPagePoint),Vr.update(this.updatePoint,!0)},this.handlePointerUp=(C,_)=>{this.end();const{onEnd:D,onSessionEnd:k,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Ox(C.type==="pointercancel"?this.lastMoveEventInfo:Tx(_,this.transformPagePoint),this.history);this.startEvent&&D&&D(C,I),k&&k(C,I)},!q2(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=d,this.contextWindow=l||window;const g=xf(t),h=Tx(g,this.transformPagePoint),{point:x}=h,{timestamp:y}=na;this.history=[{...x,timestamp:y}];const{onSessionStart:w}=r;w&&w(t,Ox(h,this.history)),this.removeListeners=gf(Mm(this.contextWindow,"pointermove",this.handlePointerMove),Mm(this.contextWindow,"pointerup",this.handlePointerUp),Mm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Co(this.updatePoint)}}function Tx(e,t){return t?{point:t(e.point)}:e}function g4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ox({point:e},t){return{point:e,delta:g4(e,Mk(t)),offset:g4(e,g$(t)),velocity:p$(t,.1)}}function g$(e){return e[0]}function Mk(e){return e[e.length-1]}function p$(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const l=Mk(e);for(;r>=0&&(n=e[r],!(l.timestamp-n.timestamp>Sl(t)));)r--;if(!n)return{x:0,y:0};const o=Ts(l.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const d={x:(l.x-n.x)/o,y:(l.y-n.y)/o};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function y$(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Xr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Xr(r,e,n.max):Math.min(e,r)),e}function p4(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function x$(e,{top:t,left:r,bottom:n,right:l}){return{x:p4(e.x,r,l),y:p4(e.y,t,n)}}function y4(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function b$(e,t){return{x:y4(e.x,t.x),y:y4(e.y,t.y)}}function v$(e,t){let r=.5;const n=xa(e),l=xa(t);return l>n?r=Fm(t.min,t.max-n,e.min):n>l&&(r=Fm(e.min,e.max-l,t.min)),gi(0,1,r)}function E$(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Qv=.35;function w$(e=Qv){return e===!1?e=0:e===!0&&(e=Qv),{x:x4(e,"left","right"),y:x4(e,"top","bottom")}}function x4(e,t,r){return{min:b4(e,t),max:b4(e,r)}}function b4(e,t){return typeof e=="number"?e:e[t]||0}const N$=new WeakMap;class S${constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=In(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const o=w=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(xf(w).point)},d=(w,C)=>{const{drag:_,dragPropagation:D,onDragStart:k}=this.getProps();if(_&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RH(_),!this.openDragLock))return;this.latestPointerEvent=w,this.latestPanInfo=C,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ns(I=>{let U=this.getAxisMotionValue(I).get()||0;if(Cl.test(U)){const{projection:R}=this.visualElement;if(R&&R.layout){const G=R.layout.layoutBox[I];G&&(U=xa(G)*(parseFloat(U)/100))}}this.originPoint[I]=U}),k&&Vr.postRender(()=>k(w,C)),Kv(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},g=(w,C)=>{this.latestPointerEvent=w,this.latestPanInfo=C;const{dragPropagation:_,dragDirectionLock:D,onDirectionLock:k,onDrag:M}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:I}=C;if(D&&this.currentDirection===null){this.currentDirection=C$(I),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",C.point,I),this.updateAxis("y",C.point,I),this.visualElement.render(),M&&M(w,C)},h=(w,C)=>{this.latestPointerEvent=w,this.latestPanInfo=C,this.stop(w,C),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>Ns(w=>this.getAnimationState(w)==="paused"&&this.getAxisMotionValue(w).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new kk(t,{onSessionStart:o,onStart:d,onMove:g,onSessionEnd:h,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:n,contextWindow:Dk(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,l=r||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!l||!n)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:g}=this.getProps();g&&Vr.postRender(()=>g(n,l))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:l}=this.getProps();if(!n||!uh(t,l,this.currentDirection))return;const o=this.getAxisMotionValue(t);let d=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(d=y$(d,this.constraints[t],this.elastic[t])),o.set(d)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;t&&_u(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=x$(n.layoutBox,t):this.constraints=!1,this.elastic=w$(r),l!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ns(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=E$(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_u(t))return!1;const n=t.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const o=Aq(n,l.root,this.visualElement.getTransformPagePoint());let d=b$(l.layout.layoutBox,o);if(r){const g=r(Nq(d));this.hasMutatedConstraints=!!g,g&&(d=gk(g))}return d}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:l,dragTransition:o,dragSnapToOrigin:d,onDragTransitionEnd:g}=this.getProps(),h=this.constraints||{},x=Ns(y=>{if(!uh(y,r,this.currentDirection))return;let w=h&&h[y]||{};d&&(w={min:0,max:0});const C=l?200:1e6,_=l?40:1e7,D={type:"inertia",velocity:n?t[y]:0,bounceStiffness:C,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...w};return this.startAxisValueAnimation(y,D)});return Promise.all(x).then(g)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Kv(this.visualElement,t),n.start(J2(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ns(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ns(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),l=n[r];return l||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ns(r=>{const{drag:n}=this.getProps();if(!uh(r,n,this.currentDirection))return;const{projection:l}=this.visualElement,o=this.getAxisMotionValue(r);if(l&&l.layout){const{min:d,max:g}=l.layout.layoutBox[r];o.set(t[r]-Xr(d,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_u(r)||!n||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Ns(d=>{const g=this.getAxisMotionValue(d);if(g&&this.constraints!==!1){const h=g.get();l[d]=v$({min:h,max:h},this.constraints[d])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ns(d=>{if(!uh(d,t,null))return;const g=this.getAxisMotionValue(d),{min:h,max:x}=this.constraints[d];g.set(Xr(h,x,l[d]))})}addListeners(){if(!this.visualElement.current)return;N$.set(this.visualElement,this);const t=this.visualElement.current,r=Mm(t,"pointerdown",h=>{const{drag:x,dragListener:y=!0}=this.getProps();x&&y&&this.start(h)}),n=()=>{const{dragConstraints:h}=this.getProps();_u(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:l}=this.visualElement,o=l.addEventListener("measure",n);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Vr.read(n);const d=Hm(window,"resize",()=>this.scalePositionWithinConstraints()),g=l.addEventListener("didUpdate",(({delta:h,hasLayoutChanged:x})=>{this.isDragging&&x&&(Ns(y=>{const w=this.getAxisMotionValue(y);w&&(this.originPoint[y]+=h[y].translate,w.set(w.get()+h[y].translate))}),this.visualElement.render())}));return()=>{d(),r(),o(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:l=!1,dragConstraints:o=!1,dragElastic:d=Qv,dragMomentum:g=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:l,dragConstraints:o,dragElastic:d,dragMomentum:g}}}function uh(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function C$(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class A$ extends Mo{constructor(t){super(t),this.removeGroupControls=_s,this.removeListeners=_s,this.controls=new S$(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_s}unmount(){this.removeGroupControls(),this.removeListeners()}}const v4=e=>(t,r)=>{e&&Vr.postRender(()=>e(t,r))};class T$ extends Mo{constructor(){super(...arguments),this.removePointerDownListener=_s}onPointerDown(t){this.session=new kk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dk(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:l}=this.node.getProps();return{onSessionStart:v4(t),onStart:v4(r),onMove:n,onEnd:(o,d)=>{delete this.session,l&&Vr.postRender(()=>l(o,d))}}}mount(){this.removePointerDownListener=Mm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Zh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const um={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const r=E4(e,t.target.x),n=E4(e,t.target.y);return`${r}% ${n}%`}},O$={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,l=Ao.parse(e);if(l.length>5)return n;const o=Ao.createTransformer(e),d=typeof l[0]!="number"?1:0,g=r.x.scale*t.x,h=r.y.scale*t.y;l[0+d]/=g,l[1+d]/=h;const x=Xr(g,h,.5);return typeof l[2+d]=="number"&&(l[2+d]/=x),typeof l[3+d]=="number"&&(l[3+d]/=x),o(l)}};let _x=!1;class _$ extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:l}=this.props,{projection:o}=t;ZH(D$),o&&(r.group&&r.group.add(o),n&&n.register&&l&&n.register(o),_x&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Zh.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:l,isPresent:o}=this.props,{projection:d}=n;return d&&(d.isPresent=o,_x=!0,l||t.layoutDependency!==r||r===void 0||t.isPresent!==o?d.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?d.promote():d.relegate()||Vr.postRender(()=>{const g=d.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),H2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:l}=t;_x=!0,l&&(l.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(l),n&&n.deregister&&n.deregister(l))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Pk(e){const[t,r]=qH(),n=N.useContext(dD);return Mv.jsx(_$,{...e,layoutGroup:n,switchLayoutGroup:N.useContext(fk),isPresent:t,safeToRemove:r})}const D$={borderRadius:{...um,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:um,borderTopRightRadius:um,borderBottomLeftRadius:um,borderBottomRightRadius:um,boxShadow:O$};function k$(e,t,r){const n=ua(e)?e:Hu(e);return n.start(J2("",n,t,r)),n.animation}const M$=(e,t)=>e.depth-t.depth;class P${constructor(){this.children=[],this.isDirty=!1}add(t){S2(this.children,t),this.isDirty=!0}remove(t){C2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(M$),this.isDirty=!1,this.children.forEach(t)}}function I$(e,t){const r=Ra.now(),n=({timestamp:l})=>{const o=l-r;o>=t&&(Co(n),e(o-t))};return Vr.setup(n,!0),()=>Co(n)}const Ik=["TopLeft","TopRight","BottomLeft","BottomRight"],R$=Ik.length,w4=e=>typeof e=="string"?parseFloat(e):e,N4=e=>typeof e=="number"||Tt.test(e);function L$(e,t,r,n,l,o){l?(e.opacity=Xr(0,r.opacity??1,B$(n)),e.opacityExit=Xr(t.opacity??1,0,F$(n))):o&&(e.opacity=Xr(t.opacity??1,r.opacity??1,n));for(let d=0;d<R$;d++){const g=`border${Ik[d]}Radius`;let h=S4(t,g),x=S4(r,g);if(h===void 0&&x===void 0)continue;h||(h=0),x||(x=0),h===0||x===0||N4(h)===N4(x)?(e[g]=Math.max(Xr(w4(h),w4(x),n),0),(Cl.test(x)||Cl.test(h))&&(e[g]+="%")):e[g]=x}(t.rotate||r.rotate)&&(e.rotate=Xr(t.rotate||0,r.rotate||0,n))}function S4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const B$=Rk(0,.5,wD),F$=Rk(.5,.95,_s);function Rk(e,t,r){return n=>n<e?0:n>t?1:r(Fm(e,t,n))}function C4(e,t){e.min=t.min,e.max=t.max}function $s(e,t){C4(e.x,t.x),C4(e.y,t.y)}function A4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function T4(e,t,r,n,l){return e-=t,e=xg(e,1/r,n),l!==void 0&&(e=xg(e,1/l,n)),e}function U$(e,t=0,r=1,n=.5,l,o=e,d=e){if(Cl.test(t)&&(t=parseFloat(t),t=Xr(d.min,d.max,t/100)-d.min),typeof t!="number")return;let g=Xr(o.min,o.max,n);e===o&&(g-=t),e.min=T4(e.min,t,r,g,l),e.max=T4(e.max,t,r,g,l)}function O4(e,t,[r,n,l],o,d){U$(e,t[r],t[n],t[l],t.scale,o,d)}const j$=["x","scaleX","originX"],z$=["y","scaleY","originY"];function _4(e,t,r,n){O4(e.x,t,j$,r?r.x:void 0,n?n.x:void 0),O4(e.y,t,z$,r?r.y:void 0,n?n.y:void 0)}function D4(e){return e.translate===0&&e.scale===1}function Lk(e){return D4(e.x)&&D4(e.y)}function k4(e,t){return e.min===t.min&&e.max===t.max}function V$(e,t){return k4(e.x,t.x)&&k4(e.y,t.y)}function M4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Bk(e,t){return M4(e.x,t.x)&&M4(e.y,t.y)}function P4(e){return xa(e.x)/xa(e.y)}function I4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class H${constructor(){this.members=[]}add(t){S2(this.members,t),t.scheduleRender()}remove(t){if(C2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(l=>t===l);if(r===0)return!1;let n;for(let l=r;l>=0;l--){const o=this.members[l];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:l}=t.options;l===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q$(e,t,r){let n="";const l=e.x.translate/t.x,o=e.y.translate/t.y,d=r?.z||0;if((l||o||d)&&(n=`translate3d(${l}px, ${o}px, ${d}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:x,rotate:y,rotateX:w,rotateY:C,skewX:_,skewY:D}=r;x&&(n=`perspective(${x}px) ${n}`),y&&(n+=`rotate(${y}deg) `),w&&(n+=`rotateX(${w}deg) `),C&&(n+=`rotateY(${C}deg) `),_&&(n+=`skewX(${_}deg) `),D&&(n+=`skewY(${D}deg) `)}const g=e.x.scale*t.x,h=e.y.scale*t.y;return(g!==1||h!==1)&&(n+=`scale(${g}, ${h})`),n||"none"}const Dx=["","X","Y","Z"],$$=1e3;let G$=0;function kx(e,t,r,n){const{latestValues:l}=t;l[e]&&(r[e]=l[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Fk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Nk(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:l,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Vr,!(l||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Fk(n)}function Uk({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:l}){return class{constructor(d={},g=t?.()){this.id=G$++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(W$),this.nodes.forEach(J$),this.nodes.forEach(eG),this.nodes.forEach(K$)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new P$)}addEventListener(d,g){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new O2),this.eventHandlers.get(d).add(g)}notifyListeners(d,...g){const h=this.eventHandlers.get(d);h&&h.notify(...g)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=ek(d)&&!zH(d),this.instance=d;const{layoutId:g,layout:h,visualElement:x}=this.options;if(x&&!x.current&&x.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||g)&&(this.isLayoutDirty=!0),e){let y,w=0;const C=()=>this.root.updateBlockedByResize=!1;Vr.read(()=>{w=window.innerWidth}),e(d,()=>{const _=window.innerWidth;_!==w&&(w=_,this.root.updateBlockedByResize=!0,y&&y(),y=I$(C,250),Zh.hasAnimatedSinceResize&&(Zh.hasAnimatedSinceResize=!1,this.nodes.forEach(B4)))})}g&&this.root.registerSharedNode(g,this),this.options.animate!==!1&&x&&(g||h)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:w,hasRelativeLayoutChanged:C,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||x.getDefaultTransition()||sG,{onLayoutAnimationStart:k,onLayoutAnimationComplete:M}=x.getProps(),I=!this.targetLayout||!Bk(this.targetLayout,_),U=!w&&C;if(this.options.layoutRoot||this.resumeFrom||U||w&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...z2(D,"layout"),onPlay:k,onComplete:M};(x.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(y,U)}else w||B4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Co(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tG),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Fk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const w=this.path[y];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:g,layout:h}=this.options;if(g===void 0&&!h)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(L4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Q$),this.nodes.forEach(Y$),this.nodes.forEach(X$)):this.nodes.forEach(L4),this.clearAllSnapshots();const g=Ra.now();na.delta=gi(0,1e3/60,g-na.timestamp),na.timestamp=g,na.isProcessing=!0,bx.update.process(na),bx.preRender.process(na),bx.render.process(na),na.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,H2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Z$),this.sharedNodes.forEach(rG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xa(this.snapshot.measuredBox.x)&&!xa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=In(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let g=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(g=!1),g&&this.instance){const h=n(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,g=this.projectionDelta&&!Lk(this.projectionDelta),h=this.getTransformTemplate(),x=h?h(this.latestValues,""):void 0,y=x!==this.prevTransformTemplateValue;d&&this.instance&&(g||uc(this.latestValues)||y)&&(l(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const g=this.measurePageBox();let h=this.removeElementScroll(g);return d&&(h=this.removeTransform(h)),lG(h),{animationId:this.root.animationId,measuredBox:g,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return In();const g=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(iG))){const{scroll:x}=this.root;x&&(Du(g.x,x.offset.x),Du(g.y,x.offset.y))}return g}removeElementScroll(d){const g=In();if($s(g,d),this.scroll?.wasRoot)return g;for(let h=0;h<this.path.length;h++){const x=this.path[h],{scroll:y,options:w}=x;x!==this.root&&y&&w.layoutScroll&&(y.wasRoot&&$s(g,d),Du(g.x,y.offset.x),Du(g.y,y.offset.y))}return g}applyTransform(d,g=!1){const h=In();$s(h,d);for(let x=0;x<this.path.length;x++){const y=this.path[x];!g&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ku(h,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),uc(y.latestValues)&&ku(h,y.latestValues)}return uc(this.latestValues)&&ku(h,this.latestValues),h}removeTransform(d){const g=In();$s(g,d);for(let h=0;h<this.path.length;h++){const x=this.path[h];if(!x.instance||!uc(x.latestValues))continue;Gv(x.latestValues)&&x.updateSnapshot();const y=In(),w=x.measurePageBox();$s(y,w),_4(g,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,y)}return uc(this.latestValues)&&_4(g,this.latestValues),g}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==na.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const g=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=g.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=g.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=g.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==g;if(!(d||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:w}=this.options;if(!this.layout||!(y||w))return;this.resolvedRelativeTargetAt=na.timestamp;const C=this.getClosestProjectingParent();C&&this.linkedParentVersion!==C.layoutVersion&&!C.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(C&&C.layout?this.createRelativeTarget(C,this.layout.layoutBox,C.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=In(),this.targetWithTransforms=In()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$s(this.target,this.layout.layoutBox),yk(this.target,this.targetDelta)):$s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,C&&!!C.resumingFrom==!!this.resumingFrom&&!C.options.layoutScroll&&C.target&&this.animationProgress!==1?this.createRelativeTarget(C,this.target,C.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Gv(this.parent.latestValues)||pk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,g,h){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=In(),this.relativeTargetOrigin=In(),bg(this.relativeTargetOrigin,g,h),$s(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),g=!!this.resumingFrom||this!==d;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),g&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===na.timestamp&&(h=!1),h)return;const{layout:x,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||y))return;$s(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,C=this.treeScale.y;Cq(this.layoutCorrected,this.treeScale,this.path,g),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=In());const{target:_}=d;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(A4(this.prevProjectionDelta.x,this.projectionDelta.x),A4(this.prevProjectionDelta.y,this.projectionDelta.y)),Pm(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==C||!I4(this.projectionDelta.x,this.prevProjectionDelta.x)||!I4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mu(),this.projectionDelta=Mu(),this.projectionDeltaWithTransform=Mu()}setAnimationOrigin(d,g=!1){const h=this.snapshot,x=h?h.latestValues:{},y={...this.latestValues},w=Mu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const C=In(),_=h?h.source:void 0,D=this.layout?this.layout.source:void 0,k=_!==D,M=this.getStack(),I=!M||M.members.length<=1,U=!!(k&&!I&&this.options.crossfade===!0&&!this.path.some(aG));this.animationProgress=0;let R;this.mixTargetDelta=G=>{const F=G/1e3;F4(w.x,d.x,F),F4(w.y,d.y,F),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bg(C,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nG(this.relativeTarget,this.relativeTargetOrigin,C,F),R&&V$(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=In()),$s(R,this.relativeTarget)),k&&(this.animationValues=y,L$(y,x,this.latestValues,F,U,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Co(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vr.update(()=>{Zh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hu(0)),this.currentAnimation=k$(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),d.onUpdate&&d.onUpdate(g)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:g,target:h,layout:x,latestValues:y}=d;if(!(!g||!h||!x)){if(this!==d&&this.layout&&x&&jk(this.options.animationType,this.layout.layoutBox,x.layoutBox)){h=this.target||In();const w=xa(this.layout.layoutBox.x);h.x.min=d.target.x.min,h.x.max=h.x.min+w;const C=xa(this.layout.layoutBox.y);h.y.min=d.target.y.min,h.y.max=h.y.min+C}$s(g,h),ku(g,y),Pm(this.projectionDeltaWithTransform,this.layoutCorrected,g,y)}}registerSharedNode(d,g){this.sharedNodes.has(d)||this.sharedNodes.set(d,new H$),this.sharedNodes.get(d).add(g);const x=g.options.initialPromotionConfig;g.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(g):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:g,preserveFollowOpacity:h}={}){const x=this.getStack();x&&x.promote(this,h),d&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let g=!1;const{latestValues:h}=d;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(g=!0),!g)return;const x={};h.z&&kx("z",d,x,this.animationValues);for(let y=0;y<Dx.length;y++)kx(`rotate${Dx[y]}`,d,x,this.animationValues),kx(`skew${Dx[y]}`,d,x,this.animationValues);d.render();for(const y in x)d.setStaticValue(y,x[y]),this.animationValues&&(this.animationValues[y]=x[y]);d.scheduleRender()}applyProjectionStyles(d,g){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Kh(g?.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Kh(g?.pointerEvents)||""),this.hasProjected&&!uc(this.latestValues)&&(d.transform=h?h({},""):"none",this.hasProjected=!1);return}d.visibility="";const y=x.animationValues||x.latestValues;this.applyTransformsToTarget();let w=q$(this.projectionDeltaWithTransform,this.treeScale,y);h&&(w=h(y,w)),d.transform=w;const{x:C,y:_}=this.projectionDelta;d.transformOrigin=`${C.origin*100}% ${_.origin*100}% 0`,x.animationValues?d.opacity=x===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=x===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Vm){if(y[D]===void 0)continue;const{correct:k,applyTo:M,isCSSVariable:I}=Vm[D],U=w==="none"?y[D]:k(y[D],x);if(M){const R=M.length;for(let G=0;G<R;G++)d[M[G]]=U}else I?this.options.visualElement.renderState.vars[D]=U:d[D]=U}this.options.layoutId&&(d.pointerEvents=x===this?Kh(g?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(R4),this.root.sharedNodes.clear()}}}function Y$(e){e.updateLayout()}function X$(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:l}=e.options,o=t.source!==e.layout.source;l==="size"?Ns(y=>{const w=o?t.measuredBox[y]:t.layoutBox[y],C=xa(w);w.min=r[y].min,w.max=w.min+C}):jk(l,t.layoutBox,r)&&Ns(y=>{const w=o?t.measuredBox[y]:t.layoutBox[y],C=xa(r[y]);w.max=w.min+C,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+C)});const d=Mu();Pm(d,r,t.layoutBox);const g=Mu();o?Pm(g,e.applyTransform(n,!0),t.measuredBox):Pm(g,r,t.layoutBox);const h=!Lk(d);let x=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:w,layout:C}=y;if(w&&C){const _=In();bg(_,t.layoutBox,w.layoutBox);const D=In();bg(D,r,C.layoutBox),Bk(_,D)||(x=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=_,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:g,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:x})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function W$(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function K$(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Z$(e){e.clearSnapshot()}function R4(e){e.clearMeasurements()}function L4(e){e.isLayoutDirty=!1}function Q$(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function B4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function J$(e){e.resolveTargetDelta()}function eG(e){e.calcProjection()}function tG(e){e.resetSkewAndRotation()}function rG(e){e.removeLeadSnapshot()}function F4(e,t,r){e.translate=Xr(t.translate,0,r),e.scale=Xr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function U4(e,t,r,n){e.min=Xr(t.min,r.min,n),e.max=Xr(t.max,r.max,n)}function nG(e,t,r,n){U4(e.x,t.x,r.x,n),U4(e.y,t.y,r.y,n)}function aG(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sG={duration:.45,ease:[.4,0,.1,1]},j4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),z4=j4("applewebkit/")&&!j4("chrome/")?Math.round:_s;function V4(e){e.min=z4(e.min),e.max=z4(e.max)}function lG(e){V4(e.x),V4(e.y)}function jk(e,t,r){return e==="position"||e==="preserve-aspect"&&!m$(P4(t),P4(r),.2)}function iG(e){return e!==e.root&&e.scroll?.wasRoot}const oG=Uk({attachResizeListener:(e,t)=>Hm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mx={current:void 0},zk=Uk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mx.current){const e=new oG({});e.mount(window),e.setOptions({layoutScroll:!0}),Mx.current=e}return Mx.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),cG={pan:{Feature:T$},drag:{Feature:A$,ProjectionNode:zk,MeasureLayout:Pk}};function H4(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const l="onHover"+r,o=n[l];o&&Vr.postRender(()=>o(t,xf(t)))}class uG extends Mo{mount(){const{current:t}=this.node;t&&(this.unmount=LH(t,(r,n)=>(H4(this.node,n,"Start"),l=>H4(this.node,l,"End"))))}unmount(){}}class dG extends Mo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gf(Hm(this.node.current,"focus",()=>this.onFocus()),Hm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function q4(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const l="onTap"+(r==="End"?"":r),o=n[l];o&&Vr.postRender(()=>o(t,xf(t)))}class mG extends Mo{mount(){const{current:t}=this.node;t&&(this.unmount=jH(t,(r,n)=>(q4(this.node,n,"Start"),(l,{success:o})=>q4(this.node,l,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jv=new WeakMap,Px=new WeakMap,fG=e=>{const t=Jv.get(e.target);t&&t(e)},hG=e=>{e.forEach(fG)};function gG({root:e,...t}){const r=e||document;Px.has(r)||Px.set(r,{});const n=Px.get(r),l=JSON.stringify(t);return n[l]||(n[l]=new IntersectionObserver(hG,{root:e,...t})),n[l]}function pG(e,t,r){const n=gG(t);return Jv.set(e,r),n.observe(e),()=>{Jv.delete(e),n.unobserve(e)}}const yG={some:0,all:1};class xG extends Mo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:l="some",once:o}=t,d={root:r?r.current:void 0,rootMargin:n,threshold:typeof l=="number"?l:yG[l]},g=h=>{const{isIntersecting:x}=h;if(this.isInView===x||(this.isInView=x,o&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:y,onViewportLeave:w}=this.node.getProps(),C=x?y:w;C&&C(h)};return pG(this.node.current,d,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(bG(t,r))&&this.startObserver()}unmount(){}}function bG({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const vG={inView:{Feature:xG},tap:{Feature:mG},focus:{Feature:dG},hover:{Feature:uG}},EG={layout:{ProjectionNode:zk,MeasureLayout:Pk}},wG={...l$,...vG,...cG,...EG},Vk=wq(wG,Rq),NG=[{value:"lifetime",label:"All Time",icon:""},{value:"last12Months",label:"12 Months",icon:"12M"},{value:"last6Months",label:"6 Months",icon:"6M"},{value:"last3Months",label:"3 Months",icon:"3M"},{value:"lastMonth",label:"Last Month",icon:"1M"},{value:"thisMonth",label:"This Month",icon:"TM"}],SG=({selected:e,onChange:t})=>a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2"},a.createElement("div",{className:"flex flex-wrap gap-2"},NG.map(r=>a.createElement(Vk.button,{key:r.value,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(r.value),className:`
              px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200
              ${e===r.value?"bg-gray-800 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-gray-100"}
            `},a.createElement("span",{className:"hidden sm:inline"},r.label),a.createElement("span",{className:"sm:hidden font-semibold"},r.icon)))));function CG(e){return jt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"},child:[]}]})(e)}function AG(e){return jt({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(e)}const An=({title:e,value:t,subtitle:r,icon:n,trend:l,trendDirection:o="neutral",bgColor:d="bg-white",iconColor:g="text-gray-800",children:h,loading:x=!1})=>{const y={up:"text-green-600 bg-green-50",down:"text-red-600 bg-red-50",neutral:"text-gray-600 bg-gray-50"};return x?a.createElement("div",{className:`${d} rounded-lg shadow-sm border border-gray-100 p-4 animate-pulse`},a.createElement("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-3"}),a.createElement("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),a.createElement("div",{className:"h-2 bg-gray-200 rounded w-1/3"})):a.createElement(Vk.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`${d} rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 p-4`},a.createElement("div",{className:"flex items-start justify-between mb-2"},a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-xs font-medium text-gray-600 mb-1 uppercase tracking-wide"},e),a.createElement("h3",{className:"text-xl font-bold text-gray-900 truncate"},t),r&&a.createElement("p",{className:"text-xs text-gray-500 mt-0.5 truncate"},r)),n&&a.createElement("div",{className:`${g} bg-opacity-10 p-2 rounded-lg flex-shrink-0 ml-2`},n)),l&&a.createElement("div",{className:"flex items-center gap-2"},a.createElement("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${y[o]}`},l),a.createElement("span",{className:"text-xs text-gray-500"},"vs last period")),h&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-100"},h))},TG=async()=>Xe(Ge.get("/web/analytics/dashboard")),Xs=e=>!e&&e!==0?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),br=e=>!e&&e!==0?"0":e>=1e7?`${(e/1e7).toFixed(1)}Cr`:e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),OG=e=>{if(!e)return"N/A";const t=new Date(e);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric"}).format(t)},_G=({data:e,loading:t})=>{if(!e)return a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[1,2,3,4].map(o=>a.createElement(An,{key:o,loading:!0})));const{email:r,whatsapp:n,totalCommunications:l}=e;return a.createElement("div",{className:"space-y-4"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Communication Analytics"),a.createElement("div",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-600 bg-green-50 px-2 py-1 rounded-full border border-green-200"},a.createElement("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),a.createElement("span",null,"Real-time"))),a.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3"},a.createElement(An,{title:"Total Communications",value:br(l),subtitle:"All channels combined",icon:a.createElement(CG,{className:"w-6 h-6"}),iconColor:"text-purple-600",loading:t}),a.createElement(An,{title:"Email Messages",value:br(r.total),subtitle:`${r.successRate} success rate`,icon:a.createElement(AG,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:t}),a.createElement(An,{title:"WhatsApp Messages",value:br(n.total),subtitle:`${n.successRate} success rate`,icon:a.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},a.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})),iconColor:"text-green-600",loading:t}),a.createElement(An,{title:"Overall Success Rate",value:l>0?((r.successful+n.successful)/l*100).toFixed(1)+"%":"0%",subtitle:"Across all channels",icon:a.createElement(Vu,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:t})))};function DG(e){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 32C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48H48zm0 32h106c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H38c-3.3 0-6-2.7-6-6V80c0-8.8 7.2-16 16-16zm426 96H38c-3.3 0-6-2.7-6-6v-36c0-3.3 2.7-6 6-6h138l30.2-45.3c1.1-1.7 3-2.7 5-2.7H464c8.8 0 16 7.2 16 16v74c0 3.3-2.7 6-6 6zM256 424c-66.2 0-120-53.8-120-120s53.8-120 120-120 120 53.8 120 120-53.8 120-120 120zm0-208c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm-48 104c-8.8 0-16-7.2-16-16 0-35.3 28.7-64 64-64 8.8 0 16 7.2 16 16s-7.2 16-16 16c-17.6 0-32 14.4-32 32 0 8.8-7.2 16-16 16z"},child:[]}]})(e)}function Hk(e){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function kG(e){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(e)}function eE(e){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(e)}function tE(e){return jt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function dm(e){return jt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(e)}function vg(e){return jt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function MG(e){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function qk(e){return jt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const PG=({usersData:e,adminsData:t,loading:r})=>a.createElement("div",{className:"space-y-4"},a.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Users & Admins"),a.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4"},e&&a.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},a.createElement("div",{className:"flex items-start justify-between mb-3"},a.createElement("div",null,a.createElement("h3",{className:"text-xs font-medium text-gray-600 mb-1"},"Total Users"),a.createElement("p",{className:"text-3xl font-bold text-gray-900"},br(e.total))),a.createElement("div",{className:"p-2 bg-blue-50 rounded-lg"},a.createElement(qk,{className:"w-6 h-6 text-gray-800"}))),e.growth&&a.createElement("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 border border-green-200 mb-3"},a.createElement("span",{className:"text-xs font-bold text-green-700"},e.growth),a.createElement("span",{className:"text-xs text-gray-600"},"growth")),a.createElement("div",{className:"grid grid-cols-2 gap-2 mt-3"},a.createElement("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-3 rounded-lg border border-green-100"},a.createElement("div",{className:"flex items-center gap-1.5 mb-1"},a.createElement(MG,{className:"w-3 h-3 text-green-600"}),a.createElement("p",{className:"text-xs font-medium text-gray-600"},"This Month")),a.createElement("p",{className:"text-xl font-bold text-green-700"},br(e.thisMonth))),a.createElement("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200"},a.createElement("p",{className:"text-xs font-medium text-gray-600 mb-1"},"Last Month"),a.createElement("p",{className:"text-xl font-bold text-gray-900"},br(e.lastMonth))))),t&&a.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},a.createElement("div",{className:"flex items-start justify-between mb-3"},a.createElement("div",null,a.createElement("h3",{className:"text-xs font-medium text-gray-600 mb-1"},"Total Admins"),a.createElement("p",{className:"text-3xl font-bold text-gray-900"},br(t.total))),a.createElement("div",{className:"p-2 bg-purple-50 rounded-lg"},a.createElement(fz,{className:"w-6 h-6 text-purple-600"}))),a.createElement("div",{className:"flex items-center gap-2 mb-3"},a.createElement("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 border border-green-200"},a.createElement(xz,{className:"w-3 h-3 text-green-600"}),a.createElement("span",{className:"text-xs font-bold text-gray-900"},t.active),a.createElement("span",{className:"text-xs text-gray-600"},"active")),a.createElement("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 border border-gray-200"},a.createElement("span",{className:"text-xs font-bold text-gray-900"},t.inactive),a.createElement("span",{className:"text-xs text-gray-600"},"inactive"))),t.byRole&&Object.keys(t.byRole).length>0&&a.createElement("div",{className:"space-y-1.5 mt-3 pt-3 border-t border-gray-200"},a.createElement("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1.5"},"By Role"),Object.entries(t.byRole).map(([n,l])=>a.createElement("div",{key:n,className:"flex items-center justify-between text-xs p-2 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors"},a.createElement("span",{className:"font-medium text-gray-900 capitalize"},n.replace("_"," ")),a.createElement("span",{className:"font-bold text-purple-700"},l)))))));var IG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ew(e){if(typeof e!="string")return!1;var t=IG;return t.includes(e)}var RG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LG=new Set(RG);function $k(e){return typeof e!="string"?!1:LG.has(e)}function Gk(e){return typeof e=="string"&&e.startsWith("data-")}function $u(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($k(r)||Gk(r))&&(t[r]=e[r]);return t}function rE(e){if(e==null)return null;if(N.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return $u(t)}return typeof e=="object"&&!Array.isArray(e)?$u(e):null}function ks(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($k(r)||Gk(r)||ew(r))&&(t[r]=e[r]);return t}var BG=["children","width","height","viewBox","className","style","title","desc"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nE.apply(null,arguments)}function FG(e,t){if(e==null)return{};var r,n,l=UG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function UG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tw=N.forwardRef((e,t)=>{var{children:r,width:n,height:l,viewBox:o,className:d,style:g,title:h,desc:x}=e,y=FG(e,BG),w=o||{width:n,height:l,x:0,y:0},C=gn("recharts-surface",d);return N.createElement("svg",nE({},ks(y),{className:C,width:n,height:l,style:g,viewBox:"".concat(w.x," ").concat(w.y," ").concat(w.width," ").concat(w.height),ref:t}),N.createElement("title",null,h),N.createElement("desc",null,x),r)}),jG=["children","className"];function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(null,arguments)}function zG(e,t){if(e==null)return{};var r,n,l=VG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function VG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var To=N.forwardRef((e,t)=>{var{children:r,className:n}=e,l=zG(e,jG),o=gn("recharts-layer",n);return N.createElement("g",aE({className:o},ks(l),{ref:t}),r)}),Yk=N.createContext(null),HG=()=>N.useContext(Yk);function Tr(e){return function(){return e}}const Xk=Math.cos,Eg=Math.sin,ll=Math.sqrt,wg=Math.PI,Tp=2*wg,sE=Math.PI,lE=2*sE,dc=1e-6,qG=lE-dc;function Wk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function $G(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wk;const r=10**t;return function(n){this._+=n[0];for(let l=1,o=n.length;l<o;++l)this._+=Math.round(arguments[l]*r)/r+n[l]}}class GG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Wk:$G(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,l){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+l}`}bezierCurveTo(t,r,n,l,o,d){this._append`C${+t},${+r},${+n},${+l},${this._x1=+o},${this._y1=+d}`}arcTo(t,r,n,l,o){if(t=+t,r=+r,n=+n,l=+l,o=+o,o<0)throw new Error(`negative radius: ${o}`);let d=this._x1,g=this._y1,h=n-t,x=l-r,y=d-t,w=g-r,C=y*y+w*w;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(C>dc)if(!(Math.abs(w*h-x*y)>dc)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let _=n-d,D=l-g,k=h*h+x*x,M=_*_+D*D,I=Math.sqrt(k),U=Math.sqrt(C),R=o*Math.tan((sE-Math.acos((k+C-M)/(2*I*U)))/2),G=R/U,F=R/I;Math.abs(G-1)>dc&&this._append`L${t+G*y},${r+G*w}`,this._append`A${o},${o},0,0,${+(w*_>y*D)},${this._x1=t+F*h},${this._y1=r+F*x}`}}arc(t,r,n,l,o,d){if(t=+t,r=+r,n=+n,d=!!d,n<0)throw new Error(`negative radius: ${n}`);let g=n*Math.cos(l),h=n*Math.sin(l),x=t+g,y=r+h,w=1^d,C=d?l-o:o-l;this._x1===null?this._append`M${x},${y}`:(Math.abs(this._x1-x)>dc||Math.abs(this._y1-y)>dc)&&this._append`L${x},${y}`,n&&(C<0&&(C=C%lE+lE),C>qG?this._append`A${n},${n},0,1,${w},${t-g},${r-h}A${n},${n},0,1,${w},${this._x1=x},${this._y1=y}`:C>dc&&this._append`A${n},${n},0,${+(C>=sE)},${w},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,l){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+l}h${-n}Z`}toString(){return this._}}function rw(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new GG(t)}function nw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Kk(e){this._context=e}Kk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Op(e){return new Kk(e)}function Zk(e){return e[0]}function Qk(e){return e[1]}function Jk(e,t){var r=Tr(!0),n=null,l=Op,o=null,d=rw(g);e=typeof e=="function"?e:e===void 0?Zk:Tr(e),t=typeof t=="function"?t:t===void 0?Qk:Tr(t);function g(h){var x,y=(h=nw(h)).length,w,C=!1,_;for(n==null&&(o=l(_=d())),x=0;x<=y;++x)!(x<y&&r(w=h[x],x,h))===C&&((C=!C)?o.lineStart():o.lineEnd()),C&&o.point(+e(w,x,h),+t(w,x,h));if(_)return o=null,_+""||null}return g.x=function(h){return arguments.length?(e=typeof h=="function"?h:Tr(+h),g):e},g.y=function(h){return arguments.length?(t=typeof h=="function"?h:Tr(+h),g):t},g.defined=function(h){return arguments.length?(r=typeof h=="function"?h:Tr(!!h),g):r},g.curve=function(h){return arguments.length?(l=h,n!=null&&(o=l(n)),g):l},g.context=function(h){return arguments.length?(h==null?n=o=null:o=l(n=h),g):n},g}function dh(e,t,r){var n=null,l=Tr(!0),o=null,d=Op,g=null,h=rw(x);e=typeof e=="function"?e:e===void 0?Zk:Tr(+e),t=typeof t=="function"?t:Tr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Qk:Tr(+r);function x(w){var C,_,D,k=(w=nw(w)).length,M,I=!1,U,R=new Array(k),G=new Array(k);for(o==null&&(g=d(U=h())),C=0;C<=k;++C){if(!(C<k&&l(M=w[C],C,w))===I)if(I=!I)_=C,g.areaStart(),g.lineStart();else{for(g.lineEnd(),g.lineStart(),D=C-1;D>=_;--D)g.point(R[D],G[D]);g.lineEnd(),g.areaEnd()}I&&(R[C]=+e(M,C,w),G[C]=+t(M,C,w),g.point(n?+n(M,C,w):R[C],r?+r(M,C,w):G[C]))}if(U)return g=null,U+""||null}function y(){return Jk().defined(l).curve(d).context(o)}return x.x=function(w){return arguments.length?(e=typeof w=="function"?w:Tr(+w),n=null,x):e},x.x0=function(w){return arguments.length?(e=typeof w=="function"?w:Tr(+w),x):e},x.x1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:Tr(+w),x):n},x.y=function(w){return arguments.length?(t=typeof w=="function"?w:Tr(+w),r=null,x):t},x.y0=function(w){return arguments.length?(t=typeof w=="function"?w:Tr(+w),x):t},x.y1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:Tr(+w),x):r},x.lineX0=x.lineY0=function(){return y().x(e).y(t)},x.lineY1=function(){return y().x(e).y(r)},x.lineX1=function(){return y().x(n).y(t)},x.defined=function(w){return arguments.length?(l=typeof w=="function"?w:Tr(!!w),x):l},x.curve=function(w){return arguments.length?(d=w,o!=null&&(g=d(o)),x):d},x.context=function(w){return arguments.length?(w==null?o=g=null:g=d(o=w),x):o},x}class e7{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function YG(e){return new e7(e,!0)}function XG(e){return new e7(e,!1)}const aw={draw(e,t){const r=ll(t/wg);e.moveTo(r,0),e.arc(0,0,r,0,Tp)}},WG={draw(e,t){const r=ll(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},t7=ll(1/3),KG=t7*2,ZG={draw(e,t){const r=ll(t/KG),n=r*t7;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},QG={draw(e,t){const r=ll(t),n=-r/2;e.rect(n,n,r,r)}},JG=.8908130915292852,r7=Eg(wg/10)/Eg(7*wg/10),eY=Eg(Tp/10)*r7,tY=-Xk(Tp/10)*r7,rY={draw(e,t){const r=ll(t*JG),n=eY*r,l=tY*r;e.moveTo(0,-r),e.lineTo(n,l);for(let o=1;o<5;++o){const d=Tp*o/5,g=Xk(d),h=Eg(d);e.lineTo(h*r,-g*r),e.lineTo(g*n-h*l,h*n+g*l)}e.closePath()}},Ix=ll(3),nY={draw(e,t){const r=-ll(t/(Ix*3));e.moveTo(0,r*2),e.lineTo(-Ix*r,-r),e.lineTo(Ix*r,-r),e.closePath()}},bs=-.5,vs=ll(3)/2,iE=1/ll(12),aY=(iE/2+1)*3,sY={draw(e,t){const r=ll(t/aY),n=r/2,l=r*iE,o=n,d=r*iE+r,g=-o,h=d;e.moveTo(n,l),e.lineTo(o,d),e.lineTo(g,h),e.lineTo(bs*n-vs*l,vs*n+bs*l),e.lineTo(bs*o-vs*d,vs*o+bs*d),e.lineTo(bs*g-vs*h,vs*g+bs*h),e.lineTo(bs*n+vs*l,bs*l-vs*n),e.lineTo(bs*o+vs*d,bs*d-vs*o),e.lineTo(bs*g+vs*h,bs*h-vs*g),e.closePath()}};function lY(e,t){let r=null,n=rw(l);e=typeof e=="function"?e:Tr(e||aw),t=typeof t=="function"?t:Tr(t===void 0?64:+t);function l(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return l.type=function(o){return arguments.length?(e=typeof o=="function"?o:Tr(o),l):e},l.size=function(o){return arguments.length?(t=typeof o=="function"?o:Tr(+o),l):t},l.context=function(o){return arguments.length?(r=o??null,l):r},l}function Ng(){}function Sg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function n7(e){this._context=e}n7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Sg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iY(e){return new n7(e)}function a7(e){this._context=e}a7.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oY(e){return new a7(e)}function s7(e){this._context=e}s7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Sg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cY(e){return new s7(e)}function l7(e){this._context=e}l7.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function uY(e){return new l7(e)}function $4(e){return e<0?-1:1}function G4(e,t,r){var n=e._x1-e._x0,l=t-e._x1,o=(e._y1-e._y0)/(n||l<0&&-0),d=(r-e._y1)/(l||n<0&&-0),g=(o*l+d*n)/(n+l);return($4(o)+$4(d))*Math.min(Math.abs(o),Math.abs(d),.5*Math.abs(g))||0}function Y4(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rx(e,t,r){var n=e._x0,l=e._y0,o=e._x1,d=e._y1,g=(o-n)/3;e._context.bezierCurveTo(n+g,l+g*t,o-g,d-g*r,o,d)}function Cg(e){this._context=e}Cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rx(this,this._t0,Y4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rx(this,Y4(this,r=G4(this,e,t)),r);break;default:Rx(this,this._t0,r=G4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function i7(e){this._context=new o7(e)}(i7.prototype=Object.create(Cg.prototype)).point=function(e,t){Cg.prototype.point.call(this,t,e)};function o7(e){this._context=e}o7.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,l,o){this._context.bezierCurveTo(t,e,n,r,o,l)}};function dY(e){return new Cg(e)}function mY(e){return new i7(e)}function c7(e){this._context=e}c7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=X4(e),l=X4(t),o=0,d=1;d<r;++o,++d)this._context.bezierCurveTo(n[0][o],l[0][o],n[1][o],l[1][o],e[d],t[d]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function X4(e){var t,r=e.length-1,n,l=new Array(r),o=new Array(r),d=new Array(r);for(l[0]=0,o[0]=2,d[0]=e[0]+2*e[1],t=1;t<r-1;++t)l[t]=1,o[t]=4,d[t]=4*e[t]+2*e[t+1];for(l[r-1]=2,o[r-1]=7,d[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=l[t]/o[t-1],o[t]-=n,d[t]-=n*d[t-1];for(l[r-1]=d[r-1]/o[r-1],t=r-2;t>=0;--t)l[t]=(d[t]-l[t+1])/o[t];for(o[r-1]=(e[r]+l[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-l[t+1];return[l,o]}function fY(e){return new c7(e)}function _p(e,t){this._context=e,this._t=t}_p.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hY(e){return new _p(e,.5)}function gY(e){return new _p(e,0)}function pY(e){return new _p(e,1)}function Gu(e,t){if((d=e.length)>1)for(var r=1,n,l,o=e[t[0]],d,g=o.length;r<d;++r)for(l=o,o=e[t[r]],n=0;n<g;++n)o[n][1]+=o[n][0]=isNaN(l[n][1])?l[n][0]:l[n][1]}function oE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yY(e,t){return e[t]}function xY(e){const t=[];return t.key=e,t}function bY(){var e=Tr([]),t=oE,r=Gu,n=yY;function l(o){var d=Array.from(e.apply(this,arguments),xY),g,h=d.length,x=-1,y;for(const w of o)for(g=0,++x;g<h;++g)(d[g][x]=[0,+n(w,d[g].key,x,o)]).data=w;for(g=0,y=nw(t(d));g<h;++g)d[y[g]].index=g;return r(d,y),d}return l.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Tr(Array.from(o)),l):e},l.value=function(o){return arguments.length?(n=typeof o=="function"?o:Tr(+o),l):n},l.order=function(o){return arguments.length?(t=o==null?oE:typeof o=="function"?o:Tr(Array.from(o)),l):t},l.offset=function(o){return arguments.length?(r=o??Gu,l):r},l}function vY(e,t){if((n=e.length)>0){for(var r,n,l=0,o=e[0].length,d;l<o;++l){for(d=r=0;r<n;++r)d+=e[r][l][1]||0;if(d)for(r=0;r<n;++r)e[r][l][1]/=d}Gu(e,t)}}function EY(e,t){if((l=e.length)>0){for(var r=0,n=e[t[0]],l,o=n.length;r<o;++r){for(var d=0,g=0;d<l;++d)g+=e[d][r][1]||0;n[r][1]+=n[r][0]=-g/2}Gu(e,t)}}function wY(e,t){if(!(!((d=e.length)>0)||!((o=(l=e[t[0]]).length)>0))){for(var r=0,n=1,l,o,d;n<o;++n){for(var g=0,h=0,x=0;g<d;++g){for(var y=e[t[g]],w=y[n][1]||0,C=y[n-1][1]||0,_=(w-C)/2,D=0;D<g;++D){var k=e[t[D]],M=k[n][1]||0,I=k[n-1][1]||0;_+=M-I}h+=w,x+=_*w}l[n-1][1]+=l[n-1][0]=r,h&&(r-=x/h)}l[n-1][1]+=l[n-1][0]=r,Gu(e,t)}}var Lx={},Bx={},W4;function NY(){return W4||(W4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Bx)),Bx}var Fx={},K4;function u7(){return K4||(K4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Fx)),Fx}var Ux={},Z4;function sw(){return Z4||(Z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Ux)),Ux}var jx={},zx={},Q4;function SY(){return Q4||(Q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(zx)),zx}var J4;function lw(){return J4||(J4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SY(),r=sw();function n(l){if(Array.isArray(l))return l.map(r.toKey);if(typeof l=="symbol")return[l];l=t.toString(l);const o=[],d=l.length;if(d===0)return o;let g=0,h="",x="",y=!1;for(l.charCodeAt(0)===46&&(o.push(""),g++);g<d;){const w=l[g];x?w==="\\"&&g+1<d?(g++,h+=l[g]):w===x?x="":h+=w:y?w==='"'||w==="'"?x=w:w==="]"?(y=!1,o.push(h),h=""):h+=w:w==="["?(y=!0,h&&(o.push(h),h="")):w==="."?h&&(o.push(h),h=""):h+=w,g++}return h&&o.push(h),o}e.toPath=n})(jx)),jx}var e5;function iw(){return e5||(e5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NY(),r=u7(),n=sw(),l=lw();function o(g,h,x){if(g==null)return x;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return x;const y=g[h];return y===void 0?r.isDeepKey(h)?o(g,l.toPath(h),x):x:y}case"number":case"symbol":{typeof h=="number"&&(h=n.toKey(h));const y=g[h];return y===void 0?x:y}default:{if(Array.isArray(h))return d(g,h,x);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return x;const y=g[h];return y===void 0?x:y}}}function d(g,h,x){if(h.length===0)return x;let y=g;for(let w=0;w<h.length;w++){if(y==null||t.isUnsafeProperty(h[w]))return x;y=y[h[w]]}return y===void 0?x:y}e.get=o})(Lx)),Lx}var Vx,t5;function CY(){return t5||(t5=1,Vx=iw().get),Vx}var AY=CY();const qm=Ml(AY);var La=e=>e===0?0:e>0?1:-1,yi=e=>typeof e=="number"&&e!=+e,xi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Dt=e=>(typeof e=="number"||e instanceof Number)&&!yi(e),bi=e=>Dt(e)||typeof e=="string",TY=0,$m=e=>{var t=++TY;return"".concat(e||"").concat(t)},as=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Dt(t)&&typeof t!="string")return n;var o;if(xi(t)){if(r==null)return n;var d=t.indexOf("%");o=r*parseFloat(t.slice(0,d))/100}else o=+t;return yi(o)&&(o=n),l&&r!=null&&o>r&&(o=r),o},d7=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Ks(e,t,r){return Dt(e)&&Dt(t)?e+r*(t-e):t}function OY(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):qm(n,t))===r)}var ls=e=>e===null||typeof e>"u",bf=e=>ls(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function _Y(e){return e!=null}function vf(){}var DY=["type","size","sizeType"];function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cE.apply(null,arguments)}function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function n5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){kY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kY(e,t,r){return(t=MY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IY(e,t){if(e==null)return{};var r,n,l=RY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function RY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m7={symbolCircle:aw,symbolCross:WG,symbolDiamond:ZG,symbolSquare:QG,symbolStar:rY,symbolTriangle:nY,symbolWye:sY},LY=Math.PI/180,BY=e=>{var t="symbol".concat(bf(e));return m7[t]||aw},FY=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*LY;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UY=(e,t)=>{m7["symbol".concat(bf(e))]=t},ow=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,l=IY(e,DY),o=n5(n5({},l),{},{type:t,size:r,sizeType:n}),d="circle";typeof t=="string"&&(d=t);var g=()=>{var C=BY(d),_=lY().type(C).size(FY(r,n,d)),D=_();if(D!==null)return D},{className:h,cx:x,cy:y}=o,w=ks(o);return Dt(x)&&Dt(y)&&Dt(r)?N.createElement("path",cE({},w,{className:gn("recharts-symbols",h),transform:"translate(".concat(x,", ").concat(y,")"),d:g()})):null};ow.registerSymbol=UY;var f7=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,jY=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(l=>{ew(l)&&(n[l]=(o=>r[l](r,o)))}),n},zY=(e,t,r)=>n=>(e(t,r,n),null),h7=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(l=>{var o=e[l];ew(l)&&typeof o=="function"&&(n||(n={}),n[l]=zY(o,t,r))}),n};function a5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function VY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(r),!0).forEach(function(n){HY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t,r){return(t=qY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rs(e,t){var r=VY({},e),n=t,l=Object.keys(t),o=l.reduce((d,g)=>(d[g]===void 0&&n[g]!==void 0&&(d[g]=n[g]),d),r);return o}function Ag(){return Ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ag.apply(null,arguments)}function s5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function GY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=XY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ss=32,KY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function ZY(e){var{data:t,iconType:r,inactiveColor:n}=e,l=Ss/2,o=Ss/6,d=Ss/3,g=t.inactive?n:t.color,h=r??t.type;if(h==="none")return null;if(h==="plainline"){var x;return N.createElement("line",{strokeWidth:4,fill:"none",stroke:g,strokeDasharray:(x=t.payload)===null||x===void 0?void 0:x.strokeDasharray,x1:0,y1:l,x2:Ss,y2:l,className:"recharts-legend-icon"})}if(h==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:g,d:"M0,".concat(l,"h").concat(d,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*d,",").concat(l,`
            H`).concat(Ss,"M").concat(2*d,",").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(d,",").concat(l),className:"recharts-legend-icon"});if(h==="rect")return N.createElement("path",{stroke:"none",fill:g,d:"M0,".concat(Ss/8,"h").concat(Ss,"v").concat(Ss*3/4,"h").concat(-Ss,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var y=GY({},t);return delete y.legendIcon,N.cloneElement(t.legendIcon,y)}return N.createElement(ow,{fill:g,cx:l,cy:l,size:Ss,sizeType:"diameter",type:h})}function QY(e){var{payload:t,iconSize:r,layout:n,formatter:l,inactiveColor:o,iconType:d}=e,g={x:0,y:0,width:Ss,height:Ss},h={display:n==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((y,w)=>{var C=y.formatter||l,_=gn({"recharts-legend-item":!0,["legend-item-".concat(w)]:!0,inactive:y.inactive});if(y.type==="none")return null;var D=y.inactive?o:y.color,k=C?C(y.value,y,w):y.value;return N.createElement("li",Ag({className:_,style:h,key:"legend-item-".concat(w)},h7(e,y,w)),N.createElement(tw,{width:r,height:r,viewBox:g,style:x,"aria-label":"".concat(k," legend icon")},N.createElement(ZY,{data:y,iconType:d,inactiveColor:o})),N.createElement("span",{className:"recharts-legend-item-text",style:{color:D}},k))})}var JY=e=>{var t=Rs(e,KY),{payload:r,layout:n,align:l}=t;if(!r||!r.length)return null;var o={padding:0,margin:0,textAlign:n==="horizontal"?l:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:o},N.createElement(QY,Ag({},t,{payload:r})))},Hx={},qx={},l5;function eX(){return l5||(l5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const l=new Map;for(let o=0;o<r.length;o++){const d=r[o],g=n(d);l.has(g)||l.set(g,d)}return Array.from(l.values())}e.uniqBy=t})(qx)),qx}var $x={},i5;function g7(){return i5||(i5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})($x)),$x}var Gx={},Yx={},Xx={},o5;function tX(){return o5||(o5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Xx)),Xx}var c5;function cw(){return c5||(c5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tX();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Yx)),Yx}var Wx={},u5;function rX(){return u5||(u5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Wx)),Wx}var d5;function nX(){return d5||(d5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cw(),r=rX();function n(l){return r.isObjectLike(l)&&t.isArrayLike(l)}e.isArrayLikeObject=n})(Gx)),Gx}var Kx={},Zx={},m5;function aX(){return m5||(m5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iw();function r(n){return function(l){return t.get(l,n)}}e.property=r})(Zx)),Zx}var Qx={},Jx={},eb={},tb={},f5;function p7(){return f5||(f5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(tb)),tb}var rb={},h5;function y7(){return h5||(h5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(rb)),rb}var nb={},g5;function x7(){return g5||(g5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(nb)),nb}var p5;function sX(){return p5||(p5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p7(),r=y7(),n=x7();function l(y,w,C){return typeof C!="function"?l(y,w,()=>{}):o(y,w,function _(D,k,M,I,U,R){const G=C(D,k,M,I,U,R);return G!==void 0?!!G:o(D,k,_,R)},new Map)}function o(y,w,C,_){if(w===y)return!0;switch(typeof w){case"object":return d(y,w,C,_);case"function":return Object.keys(w).length>0?o(y,{...w},C,_):n.eq(y,w);default:return t.isObject(y)?typeof w=="string"?w==="":!0:n.eq(y,w)}}function d(y,w,C,_){if(w==null)return!0;if(Array.isArray(w))return h(y,w,C,_);if(w instanceof Map)return g(y,w,C,_);if(w instanceof Set)return x(y,w,C,_);const D=Object.keys(w);if(y==null)return D.length===0;if(D.length===0)return!0;if(_?.has(w))return _.get(w)===y;_?.set(w,y);try{for(let k=0;k<D.length;k++){const M=D[k];if(!r.isPrimitive(y)&&!(M in y)||w[M]===void 0&&y[M]!==void 0||w[M]===null&&y[M]!==null||!C(y[M],w[M],M,y,w,_))return!1}return!0}finally{_?.delete(w)}}function g(y,w,C,_){if(w.size===0)return!0;if(!(y instanceof Map))return!1;for(const[D,k]of w.entries()){const M=y.get(D);if(C(M,k,D,y,w,_)===!1)return!1}return!0}function h(y,w,C,_){if(w.length===0)return!0;if(!Array.isArray(y))return!1;const D=new Set;for(let k=0;k<w.length;k++){const M=w[k];let I=!1;for(let U=0;U<y.length;U++){if(D.has(U))continue;const R=y[U];let G=!1;if(C(R,M,k,y,w,_)&&(G=!0),G){D.add(U),I=!0;break}}if(!I)return!1}return!0}function x(y,w,C,_){return w.size===0?!0:y instanceof Set?h([...y],[...w],C,_):!1}e.isMatchWith=l,e.isSetMatch=x})(eb)),eb}var y5;function b7(){return y5||(y5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sX();function r(n,l){return t.isMatchWith(n,l,()=>{})}e.isMatch=r})(Jx)),Jx}var ab={},sb={},lb={},x5;function lX(){return x5||(x5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(lb)),lb}var ib={},b5;function v7(){return b5||(b5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ib)),ib}var ob={},v5;function E7(){return v5||(v5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",l="[object Boolean]",o="[object Arguments]",d="[object Symbol]",g="[object Date]",h="[object Map]",x="[object Set]",y="[object Array]",w="[object Function]",C="[object ArrayBuffer]",_="[object Object]",D="[object Error]",k="[object DataView]",M="[object Uint8Array]",I="[object Uint8ClampedArray]",U="[object Uint16Array]",R="[object Uint32Array]",G="[object BigUint64Array]",F="[object Int8Array]",j="[object Int16Array]",L="[object Int32Array]",H="[object BigInt64Array]",V="[object Float32Array]",Q="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=C,e.arrayTag=y,e.bigInt64ArrayTag=H,e.bigUint64ArrayTag=G,e.booleanTag=l,e.dataViewTag=k,e.dateTag=g,e.errorTag=D,e.float32ArrayTag=V,e.float64ArrayTag=Q,e.functionTag=w,e.int16ArrayTag=j,e.int32ArrayTag=L,e.int8ArrayTag=F,e.mapTag=h,e.numberTag=n,e.objectTag=_,e.regexpTag=t,e.setTag=x,e.stringTag=r,e.symbolTag=d,e.uint16ArrayTag=U,e.uint32ArrayTag=R,e.uint8ArrayTag=M,e.uint8ClampedArrayTag=I})(ob)),ob}var cb={},E5;function iX(){return E5||(E5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(cb)),cb}var w5;function w7(){return w5||(w5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lX(),r=v7(),n=E7(),l=y7(),o=iX();function d(y,w){return g(y,void 0,y,new Map,w)}function g(y,w,C,_=new Map,D=void 0){const k=D?.(y,w,C,_);if(k!==void 0)return k;if(l.isPrimitive(y))return y;if(_.has(y))return _.get(y);if(Array.isArray(y)){const M=new Array(y.length);_.set(y,M);for(let I=0;I<y.length;I++)M[I]=g(y[I],I,C,_,D);return Object.hasOwn(y,"index")&&(M.index=y.index),Object.hasOwn(y,"input")&&(M.input=y.input),M}if(y instanceof Date)return new Date(y.getTime());if(y instanceof RegExp){const M=new RegExp(y.source,y.flags);return M.lastIndex=y.lastIndex,M}if(y instanceof Map){const M=new Map;_.set(y,M);for(const[I,U]of y)M.set(I,g(U,I,C,_,D));return M}if(y instanceof Set){const M=new Set;_.set(y,M);for(const I of y)M.add(g(I,void 0,C,_,D));return M}if(typeof Buffer<"u"&&Buffer.isBuffer(y))return y.subarray();if(o.isTypedArray(y)){const M=new(Object.getPrototypeOf(y)).constructor(y.length);_.set(y,M);for(let I=0;I<y.length;I++)M[I]=g(y[I],I,C,_,D);return M}if(y instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&y instanceof SharedArrayBuffer)return y.slice(0);if(y instanceof DataView){const M=new DataView(y.buffer.slice(0),y.byteOffset,y.byteLength);return _.set(y,M),h(M,y,C,_,D),M}if(typeof File<"u"&&y instanceof File){const M=new File([y],y.name,{type:y.type});return _.set(y,M),h(M,y,C,_,D),M}if(typeof Blob<"u"&&y instanceof Blob){const M=new Blob([y],{type:y.type});return _.set(y,M),h(M,y,C,_,D),M}if(y instanceof Error){const M=new y.constructor;return _.set(y,M),M.message=y.message,M.name=y.name,M.stack=y.stack,M.cause=y.cause,h(M,y,C,_,D),M}if(y instanceof Boolean){const M=new Boolean(y.valueOf());return _.set(y,M),h(M,y,C,_,D),M}if(y instanceof Number){const M=new Number(y.valueOf());return _.set(y,M),h(M,y,C,_,D),M}if(y instanceof String){const M=new String(y.valueOf());return _.set(y,M),h(M,y,C,_,D),M}if(typeof y=="object"&&x(y)){const M=Object.create(Object.getPrototypeOf(y));return _.set(y,M),h(M,y,C,_,D),M}return y}function h(y,w,C=y,_,D){const k=[...Object.keys(w),...t.getSymbols(w)];for(let M=0;M<k.length;M++){const I=k[M],U=Object.getOwnPropertyDescriptor(y,I);(U==null||U.writable)&&(y[I]=g(w[I],I,C,_,D))}}function x(y){switch(r.getTag(y)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=d,e.cloneDeepWithImpl=g,e.copyProperties=h})(sb)),sb}var N5;function oX(){return N5||(N5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(ab)),ab}var S5;function cX(){return S5||(S5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b7(),r=oX();function n(l){return l=r.cloneDeep(l),o=>t.isMatch(o,l)}e.matches=n})(Qx)),Qx}var ub={},db={},mb={},C5;function uX(){return C5||(C5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w7(),r=E7();function n(l,o){return t.cloneDeepWith(l,(d,g,h,x)=>{const y=o?.(d,g,h,x);if(y!==void 0)return y;if(typeof l=="object")switch(Object.prototype.toString.call(l)){case r.numberTag:case r.stringTag:case r.booleanTag:{const w=new l.constructor(l?.valueOf());return t.copyProperties(w,l),w}case r.argumentsTag:{const w={};return t.copyProperties(w,l),w.length=l.length,w[Symbol.iterator]=l[Symbol.iterator],w}default:return}})}e.cloneDeepWith=n})(mb)),mb}var A5;function dX(){return A5||(A5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uX();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(db)),db}var fb={},hb={},T5;function N7(){return T5||(T5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,l=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<l;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(hb)),hb}var gb={},O5;function mX(){return O5||(O5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(gb)),gb}var _5;function fX(){return _5||(_5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u7(),r=N7(),n=mX(),l=lw();function o(d,g){let h;if(Array.isArray(g)?h=g:typeof g=="string"&&t.isDeepKey(g)&&d?.[g]==null?h=l.toPath(g):h=[g],h.length===0)return!1;let x=d;for(let y=0;y<h.length;y++){const w=h[y];if((x==null||!Object.hasOwn(x,w))&&!((Array.isArray(x)||n.isArguments(x))&&r.isIndex(w)&&w<x.length))return!1;x=x[w]}return!0}e.has=o})(fb)),fb}var D5;function hX(){return D5||(D5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b7(),r=sw(),n=dX(),l=iw(),o=fX();function d(g,h){switch(typeof g){case"object":{Object.is(g?.valueOf(),-0)&&(g="-0");break}case"number":{g=r.toKey(g);break}}return h=n.cloneDeep(h),function(x){const y=l.get(x,g);return y===void 0?o.has(x,g):h===void 0?y===void 0:t.isMatch(y,h)}}e.matchesProperty=d})(ub)),ub}var k5;function gX(){return k5||(k5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g7(),r=aX(),n=cX(),l=hX();function o(d){if(d==null)return t.identity;switch(typeof d){case"function":return d;case"object":return Array.isArray(d)&&d.length===2?l.matchesProperty(d[0],d[1]):n.matches(d);case"string":case"symbol":case"number":return r.property(d)}}e.iteratee=o})(Kx)),Kx}var M5;function pX(){return M5||(M5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eX(),r=g7(),n=nX(),l=gX();function o(d,g=r.identity){return n.isArrayLikeObject(d)?t.uniqBy(Array.from(d),l.iteratee(g)):[]}e.uniqBy=o})(Hx)),Hx}var pb,P5;function yX(){return P5||(P5=1,pb=pX().uniqBy),pb}var xX=yX();const I5=Ml(xX);function S7(e,t,r){return t===!0?I5(e,r):typeof t=="function"?I5(e,t):e}var yb={exports:{}},xb={},bb={exports:{}},vb={};var R5;function bX(){if(R5)return vb;R5=1;var e=td();function t(w,C){return w===C&&(w!==0||1/w===1/C)||w!==w&&C!==C}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,l=e.useEffect,o=e.useLayoutEffect,d=e.useDebugValue;function g(w,C){var _=C(),D=n({inst:{value:_,getSnapshot:C}}),k=D[0].inst,M=D[1];return o(function(){k.value=_,k.getSnapshot=C,h(k)&&M({inst:k})},[w,_,C]),l(function(){return h(k)&&M({inst:k}),w(function(){h(k)&&M({inst:k})})},[w]),d(_),_}function h(w){var C=w.getSnapshot;w=w.value;try{var _=C();return!r(w,_)}catch{return!0}}function x(w,C){return C()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:g;return vb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,vb}var L5;function vX(){return L5||(L5=1,bb.exports=bX()),bb.exports}var B5;function EX(){if(B5)return xb;B5=1;var e=td(),t=vX();function r(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var n=typeof Object.is=="function"?Object.is:r,l=t.useSyncExternalStore,o=e.useRef,d=e.useEffect,g=e.useMemo,h=e.useDebugValue;return xb.useSyncExternalStoreWithSelector=function(x,y,w,C,_){var D=o(null);if(D.current===null){var k={hasValue:!1,value:null};D.current=k}else k=D.current;D=g(function(){function I(j){if(!U){if(U=!0,R=j,j=C(j),_!==void 0&&k.hasValue){var L=k.value;if(_(L,j))return G=L}return G=j}if(L=G,n(R,j))return L;var H=C(j);return _!==void 0&&_(L,H)?(R=j,L):(R=j,G=H)}var U=!1,R,G,F=w===void 0?null:w;return[function(){return I(y())},F===null?void 0:function(){return I(F())}]},[y,w,C,_]);var M=l(x,D[0],D[1]);return d(function(){k.hasValue=!0,k.value=M},[M]),h(M),M},xb}var F5;function wX(){return F5||(F5=1,yb.exports=EX()),yb.exports}var NX=wX(),uw=N.createContext(null),SX=e=>e,pn=()=>{var e=N.useContext(uw);return e?e.store.dispatch:SX},Qh=()=>{},CX=()=>Qh,AX=(e,t)=>e===t;function Mt(e){var t=N.useContext(uw);return NX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:CX,t?t.store.getState:Qh,t?t.store.getState:Qh,t?e:Qh,AX)}function TX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function OX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _X(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var U5=e=>Array.isArray(e)?e:[e];function DX(e){const t=Array.isArray(e[0])?e[0]:e;return _X(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function kX(e,t){const r=[],{length:n}=e;for(let l=0;l<n;l++)r.push(e[l].apply(null,t));return r}var MX=class{constructor(e){this.value=e}deref(){return this.value}},PX=typeof WeakRef<"u"?WeakRef:MX,IX=0,j5=1;function mh(){return{s:IX,v:void 0,o:null,p:null}}function C7(e,t={}){let r=mh();const{resultEqualityCheck:n}=t;let l,o=0;function d(){let g=r;const{length:h}=arguments;for(let w=0,C=h;w<C;w++){const _=arguments[w];if(typeof _=="function"||typeof _=="object"&&_!==null){let D=g.o;D===null&&(g.o=D=new WeakMap);const k=D.get(_);k===void 0?(g=mh(),D.set(_,g)):g=k}else{let D=g.p;D===null&&(g.p=D=new Map);const k=D.get(_);k===void 0?(g=mh(),D.set(_,g)):g=k}}const x=g;let y;if(g.s===j5)y=g.v;else if(y=e.apply(null,arguments),o++,n){const w=l?.deref?.()??l;w!=null&&n(w,y)&&(y=w,o!==0&&o--),l=typeof y=="object"&&y!==null||typeof y=="function"?new PX(y):y}return x.s=j5,x.v=y,y}return d.clearCache=()=>{r=mh(),d.resetResultsCount()},d.resultsCount=()=>o,d.resetResultsCount=()=>{o=0},d}function RX(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...l)=>{let o=0,d=0,g,h={},x=l.pop();typeof x=="object"&&(h=x,x=l.pop()),TX(x,`createSelector expects an output function after the inputs, but received: [${typeof x}]`);const y={...r,...h},{memoize:w,memoizeOptions:C=[],argsMemoize:_=C7,argsMemoizeOptions:D=[]}=y,k=U5(C),M=U5(D),I=DX(l),U=w(function(){return o++,x.apply(null,arguments)},...k),R=_(function(){d++;const F=kX(I,arguments);return g=U.apply(null,F),g},...M);return Object.assign(R,{resultFunc:x,memoizedResultFunc:U,dependencies:I,dependencyRecomputations:()=>d,resetDependencyRecomputations:()=>{d=0},lastResult:()=>g,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:w,argsMemoize:_})};return Object.assign(n,{withTypes:()=>n}),n}var ke=RX(C7),LX=Object.assign((e,t=ke)=>{OX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((d,g,h)=>(d[r[h]]=g,d),{}))},{withTypes:()=>LX}),Eb={},wb={},Nb={},z5;function BX(){return z5||(z5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,l,o)=>{if(n!==l){const d=t(n),g=t(l);if(d===g&&d===0){if(n<l)return o==="desc"?1:-1;if(n>l)return o==="desc"?-1:1}return o==="desc"?g-d:d-g}return 0};e.compareValues=r})(Nb)),Nb}var Sb={},Cb={},V5;function A7(){return V5||(V5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Cb)),Cb}var H5;function FX(){return H5||(H5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A7(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function l(o,d){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||d!=null&&Object.hasOwn(d,o)}e.isKey=l})(Sb)),Sb}var q5;function UX(){return q5||(q5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BX(),r=FX(),n=lw();function l(o,d,g,h){if(o==null)return[];g=h?void 0:g,Array.isArray(o)||(o=Object.values(o)),Array.isArray(d)||(d=d==null?[null]:[d]),d.length===0&&(d=[null]),Array.isArray(g)||(g=g==null?[]:[g]),g=g.map(_=>String(_));const x=(_,D)=>{let k=_;for(let M=0;M<D.length&&k!=null;++M)k=k[D[M]];return k},y=(_,D)=>D==null||_==null?D:typeof _=="object"&&"key"in _?Object.hasOwn(D,_.key)?D[_.key]:x(D,_.path):typeof _=="function"?_(D):Array.isArray(_)?x(D,_):typeof D=="object"?D[_]:D,w=d.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||r.isKey(_)?_:{key:_,path:n.toPath(_)}));return o.map(_=>({original:_,criteria:w.map(D=>y(D,_))})).slice().sort((_,D)=>{for(let k=0;k<w.length;k++){const M=t.compareValues(_.criteria[k],D.criteria[k],g[k]);if(M!==0)return M}return 0}).map(_=>_.original)}e.orderBy=l})(wb)),wb}var Ab={},$5;function jX(){return $5||($5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const l=[],o=Math.floor(n),d=(g,h)=>{for(let x=0;x<g.length;x++){const y=g[x];Array.isArray(y)&&h<o?d(y,h+1):l.push(y)}};return d(r,0),l}e.flatten=t})(Ab)),Ab}var Tb={},G5;function T7(){return G5||(G5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N7(),r=cw(),n=p7(),l=x7();function o(d,g,h){return n.isObject(h)&&(typeof g=="number"&&r.isArrayLike(h)&&t.isIndex(g)&&g<h.length||typeof g=="string"&&g in h)?l.eq(h[g],d):!1}e.isIterateeCall=o})(Tb)),Tb}var Y5;function zX(){return Y5||(Y5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UX(),r=jX(),n=T7();function l(o,...d){const g=d.length;return g>1&&n.isIterateeCall(o,d[0],d[1])?d=[]:g>2&&n.isIterateeCall(d[0],d[1],d[2])&&(d=[d[0]]),t.orderBy(o,r.flatten(d),["asc"])}e.sortBy=l})(Eb)),Eb}var Ob,X5;function VX(){return X5||(X5=1,Ob=zX().sortBy),Ob}var HX=VX();const Dp=Ml(HX);var O7=e=>e.legend.settings,qX=e=>e.legend.size,$X=e=>e.legend.payload,GX=ke([$X,O7],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Dp(n,r):n});function YX(){return Mt(GX)}var fh=1;function _7(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(l=>{if(l!=null){var o=l.getBoundingClientRect(),d={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(d.height-t.height)>fh||Math.abs(d.left-t.left)>fh||Math.abs(d.top-t.top)>fh||Math.abs(d.width-t.width)>fh)&&r({height:d.height,left:d.left,top:d.top,width:d.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ra(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XX=typeof Symbol=="function"&&Symbol.observable||"@@observable",W5=XX,_b=()=>Math.random().toString(36).substring(7).split("").join("."),WX={INIT:`@@redux/INIT${_b()}`,REPLACE:`@@redux/REPLACE${_b()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_b()}`},Tg=WX;function dw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function D7(e,t,r){if(typeof e!="function")throw new Error(ra(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ra(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ra(1));return r(D7)(e,t)}let n=e,l=t,o=new Map,d=o,g=0,h=!1;function x(){d===o&&(d=new Map,o.forEach((M,I)=>{d.set(I,M)}))}function y(){if(h)throw new Error(ra(3));return l}function w(M){if(typeof M!="function")throw new Error(ra(4));if(h)throw new Error(ra(5));let I=!0;x();const U=g++;return d.set(U,M),function(){if(I){if(h)throw new Error(ra(6));I=!1,x(),d.delete(U),o=null}}}function C(M){if(!dw(M))throw new Error(ra(7));if(typeof M.type>"u")throw new Error(ra(8));if(typeof M.type!="string")throw new Error(ra(17));if(h)throw new Error(ra(9));try{h=!0,l=n(l,M)}finally{h=!1}return(o=d).forEach(U=>{U()}),M}function _(M){if(typeof M!="function")throw new Error(ra(10));n=M,C({type:Tg.REPLACE})}function D(){const M=w;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(ra(11));function U(){const G=I;G.next&&G.next(y())}return U(),{unsubscribe:M(U)}},[W5](){return this}}}return C({type:Tg.INIT}),{dispatch:C,subscribe:w,getState:y,replaceReducer:_,[W5]:D}}function KX(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Tg.INIT})>"u")throw new Error(ra(12));if(typeof r(void 0,{type:Tg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ra(13))})}function k7(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const d=t[o];typeof e[d]=="function"&&(r[d]=e[d])}const n=Object.keys(r);let l;try{KX(r)}catch(o){l=o}return function(d={},g){if(l)throw l;let h=!1;const x={};for(let y=0;y<n.length;y++){const w=n[y],C=r[w],_=d[w],D=C(_,g);if(typeof D>"u")throw g&&g.type,new Error(ra(14));x[w]=D,h=h||D!==_}return h=h||n.length!==Object.keys(d).length,h?x:d}}function Og(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function ZX(...e){return t=>(r,n)=>{const l=t(r,n);let o=()=>{throw new Error(ra(15))};const d={getState:l.getState,dispatch:(h,...x)=>o(h,...x)},g=e.map(h=>h(d));return o=Og(...g)(l.dispatch),{...l,dispatch:o}}}function M7(e){return dw(e)&&"type"in e&&typeof e.type=="string"}var P7=Symbol.for("immer-nothing"),K5=Symbol.for("immer-draftable"),Ea=Symbol.for("immer-state");function Zs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ns=Object,Yu=ns.getPrototypeOf,_g="constructor",kp="prototype",uE="configurable",Dg="enumerable",Jh="writable",Gm="value",vi=e=>!!e&&!!e[Ea];function rl(e){return e?I7(e)||Mp(e)||!!e[K5]||!!e[_g]?.[K5]||Pp(e)||Ip(e):!1}var QX=ns[kp][_g].toString(),Z5=new WeakMap;function I7(e){if(!e||!mw(e))return!1;const t=Yu(e);if(t===null||t===ns[kp])return!0;const r=ns.hasOwnProperty.call(t,_g)&&t[_g];if(r===Object)return!0;if(!Au(r))return!1;let n=Z5.get(r);return n===void 0&&(n=Function.toString.call(r),Z5.set(r,n)),n===QX}function Ef(e,t,r=!0){wf(e)===0?(r?Reflect.ownKeys(e):ns.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((n,l)=>t(l,n,e))}function wf(e){const t=e[Ea];return t?t.type_:Mp(e)?1:Pp(e)?2:Ip(e)?3:0}var Q5=(e,t,r=wf(e))=>r===2?e.has(t):ns[kp].hasOwnProperty.call(e,t),dE=(e,t,r=wf(e))=>r===2?e.get(t):e[t],kg=(e,t,r,n=wf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function JX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Mp=Array.isArray,Pp=e=>e instanceof Map,Ip=e=>e instanceof Set,mw=e=>typeof e=="object",Au=e=>typeof e=="function",Db=e=>typeof e=="boolean",ai=e=>e.copy_||e.base_,fw=e=>e.modified_?e.copy_:e.base_;function mE(e,t){if(Pp(e))return new Map(e);if(Ip(e))return new Set(e);if(Mp(e))return Array[kp].slice.call(e);const r=I7(e);if(t===!0||t==="class_only"&&!r){const n=ns.getOwnPropertyDescriptors(e);delete n[Ea];let l=Reflect.ownKeys(n);for(let o=0;o<l.length;o++){const d=l[o],g=n[d];g[Jh]===!1&&(g[Jh]=!0,g[uE]=!0),(g.get||g.set)&&(n[d]={[uE]:!0,[Jh]:!0,[Dg]:g[Dg],[Gm]:e[d]})}return ns.create(Yu(e),n)}else{const n=Yu(e);if(n!==null&&r)return{...e};const l=ns.create(n);return ns.assign(l,e)}}function hw(e,t=!1){return Rp(e)||vi(e)||!rl(e)||(wf(e)>1&&ns.defineProperties(e,{set:hh,add:hh,clear:hh,delete:hh}),ns.freeze(e),t&&Ef(e,(r,n)=>{hw(n,!0)},!1)),e}function eW(){Zs(2)}var hh={[Gm]:eW};function Rp(e){return e===null||!mw(e)?!0:ns.isFrozen(e)}var Mg="MapSet",fE="Patches",R7={};function Xu(e){const t=R7[e];return t||Zs(0,e),t}var tW=e=>!!R7[e],Ym,L7=()=>Ym,rW=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:tW(Mg)?Xu(Mg):void 0});function J5(e,t){t&&(e.patchPlugin_=Xu(fE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function hE(e){gE(e),e.drafts_.forEach(nW),e.drafts_=null}function gE(e){e===Ym&&(Ym=e.parent_)}var eT=e=>Ym=rW(Ym,e);function nW(e){const t=e[Ea];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ea].modified_&&(hE(t),Zs(4)),rl(e)&&(e=rT(t,e));const{patchPlugin_:l}=t;l&&l.generateReplacementPatches_(r[Ea].base_,e,t)}else e=rT(t,r);return aW(t,e,!0),hE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==P7?e:void 0}function rT(e,t){if(Rp(t))return t;const r=t[Ea];if(!r)return gw(t,e.handledSet_,e);if(!Lp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);U7(r,e)}return r.copy_}function aW(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&hw(t,r)}function B7(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Lp=(e,t)=>e.scope_===t,sW=[];function F7(e,t,r,n){const l=ai(e),o=e.type_;if(n!==void 0&&dE(l,n,o)===t){kg(l,n,r,o);return}if(!e.draftLocations_){const g=e.draftLocations_=new Map;Ef(l,(h,x)=>{if(vi(x)){const y=g.get(x)||[];y.push(h),g.set(x,y)}})}const d=e.draftLocations_.get(t)??sW;for(const g of d)kg(l,g,r,o)}function lW(e,t,r){e.callbacks_.push(function(l){const o=t;if(!o||!Lp(o,l))return;l.mapSetPlugin_?.fixSetContents(o);const d=fw(o);F7(e,o.draft_??o,d,r),U7(o,l)})}function U7(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const l=n.getPath(e);l&&n.generatePatches_(e,l,t)}B7(e)}}function iW(e,t,r){const{scope_:n}=e;if(vi(r)){const l=r[Ea];Lp(l,n)&&l.callbacks_.push(function(){eg(e);const d=fw(l);F7(e,r,d,t)})}else rl(r)&&e.callbacks_.push(function(){const o=ai(e);dE(o,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gw(dE(e.copy_,t,e.type_),n.handledSet_,n)})}function gw(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||vi(e)||t.has(e)||!rl(e)||Rp(e)||(t.add(e),Ef(e,(n,l)=>{if(vi(l)){const o=l[Ea];if(Lp(o,r)){const d=fw(o);kg(e,n,d,e.type_),B7(o)}}else rl(l)&&gw(l,t,r)})),e}function oW(e,t){const r=Mp(e),n={type_:r?1:0,scope_:t?t.scope_:L7(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let l=n,o=pw;r&&(l=[n],o=Xm);const{revoke:d,proxy:g}=Proxy.revocable(l,o);return n.draft_=g,n.revoke_=d,[g,n]}var pw={get(e,t){if(t===Ea)return e;const r=ai(e);if(!Q5(r,t,e.type_))return cW(e,r,t);const n=r[t];if(e.finalized_||!rl(n))return n;if(n===kb(e.base_,t)){eg(e);const l=e.type_===1?+t:t,o=yE(e.scope_,n,e,l);return e.copy_[l]=o}return n},has(e,t){return t in ai(e)},ownKeys(e){return Reflect.ownKeys(ai(e))},set(e,t,r){const n=j7(ai(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const l=kb(ai(e),t),o=l?.[Ea];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(JX(r,l)&&(r!==void 0||Q5(e.base_,t,e.type_)))return!0;eg(e),pE(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),iW(e,t,r)),!0},deleteProperty(e,t){return eg(e),kb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ai(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Jh]:!0,[uE]:e.type_!==1||t!=="length",[Dg]:n[Dg],[Gm]:r[t]}},defineProperty(){Zs(11)},getPrototypeOf(e){return Yu(e.base_)},setPrototypeOf(){Zs(12)}},Xm={};Ef(pw,(e,t)=>{Xm[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Xm.deleteProperty=function(e,t){return Xm.set.call(this,e,t,void 0)};Xm.set=function(e,t,r){return pw.set.call(this,e[0],t,r,e[0])};function kb(e,t){const r=e[Ea];return(r?ai(r):e)[t]}function cW(e,t,r){const n=j7(t,r);return n?Gm in n?n[Gm]:n.get?.call(e.draft_):void 0}function j7(e,t){if(!(t in e))return;let r=Yu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Yu(r)}}function pE(e){e.modified_||(e.modified_=!0,e.parent_&&pE(e.parent_))}function eg(e){e.copy_||(e.assigned_=new Map,e.copy_=mE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uW=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,l)=>{if(Au(r)&&!Au(n)){const d=n;n=r;const g=this;return function(x=d,...y){return g.produce(x,w=>n.call(this,w,...y))}}Au(n)||Zs(6),l!==void 0&&!Au(l)&&Zs(7);let o;if(rl(r)){const d=eT(this),g=yE(d,r,void 0);let h=!0;try{o=n(g),h=!1}finally{h?hE(d):gE(d)}return J5(d,l),tT(o,d)}else if(!r||!mw(r)){if(o=n(r),o===void 0&&(o=r),o===P7&&(o=void 0),this.autoFreeze_&&hw(o,!0),l){const d=[],g=[];Xu(fE).generateReplacementPatches_(r,o,{patches_:d,inversePatches_:g}),l(d,g)}return o}else Zs(1,r)},this.produceWithPatches=(r,n)=>{if(Au(r))return(g,...h)=>this.produceWithPatches(g,x=>r(x,...h));let l,o;return[this.produce(r,n,(g,h)=>{l=g,o=h}),l,o]},Db(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Db(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Db(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){rl(t)||Zs(8),vi(t)&&(t=tl(t));const r=eT(this),n=yE(r,t,void 0);return n[Ea].isManual_=!0,gE(r),n}finishDraft(t,r){const n=t&&t[Ea];(!n||!n.isManual_)&&Zs(9);const{scope_:l}=n;return J5(l,r),tT(void 0,l)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const o=r[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(r=r.slice(n+1));const l=Xu(fE).applyPatches_;return vi(t)?l(t,r):this.produce(t,o=>l(o,r))}};function yE(e,t,r,n){const[l,o]=Pp(t)?Xu(Mg).proxyMap_(t,r):Ip(t)?Xu(Mg).proxySet_(t,r):oW(t,r);return(r?.scope_??L7()).drafts_.push(l),o.callbacks_=r?.callbacks_??[],o.key_=n,r&&n!==void 0?lW(r,o,n):o.callbacks_.push(function(h){h.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:x}=h;o.modified_&&x&&x.generatePatches_(o,[],h)}),l}function tl(e){return vi(e)||Zs(10,e),z7(e)}function z7(e){if(!rl(e)||Rp(e))return e;const t=e[Ea];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=mE(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=mE(e,!0);return Ef(r,(l,o)=>{kg(r,l,z7(o))},n),t&&(t.finalized_=!1),r}var dW=new uW,V7=dW.produce;function H7(e){return({dispatch:r,getState:n})=>l=>o=>typeof o=="function"?o(r,n,e):l(o)}var mW=H7(),fW=H7,hW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Og:Og.apply(null,arguments)};function Ms(e,t){function r(...n){if(t){let l=t(...n);if(!l)throw new Error(ss(0));return{type:e,payload:l.payload,..."meta"in l&&{meta:l.meta},..."error"in l&&{error:l.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>M7(n)&&n.type===e,r}var q7=class Cm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Cm.prototype)}static get[Symbol.species](){return Cm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Cm(...t[0].concat(this)):new Cm(...t.concat(this))}};function nT(e){return rl(e)?V7(e,()=>{}):e}function gh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function gW(e){return typeof e=="boolean"}var pW=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:l=!0,actionCreatorCheck:o=!0}=t??{};let d=new q7;return r&&(gW(r)?d.push(mW):d.push(fW(r.extraArgument))),d},$7="RTK_autoBatch",zr=()=>e=>({payload:e,meta:{[$7]:!0}}),aT=e=>t=>{setTimeout(t,e)},G7=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let l=!0,o=!1,d=!1;const g=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:aT(10):e.type==="callback"?e.queueNotification:aT(e.timeout),x=()=>{d=!1,o&&(o=!1,g.forEach(y=>y()))};return Object.assign({},n,{subscribe(y){const w=()=>l&&y(),C=n.subscribe(w);return g.add(y),()=>{C(),g.delete(y)}},dispatch(y){try{return l=!y?.meta?.[$7],o=!l,o&&(d||(d=!0,h(x))),n.dispatch(y)}finally{l=!0}}})},yW=e=>function(r){const{autoBatch:n=!0}=r??{};let l=new q7(e);return n&&l.push(G7(typeof n=="object"?n:void 0)),l};function xW(e){const t=pW(),{reducer:r=void 0,middleware:n,devTools:l=!0,preloadedState:o=void 0,enhancers:d=void 0}=e||{};let g;if(typeof r=="function")g=r;else if(dw(r))g=k7(r);else throw new Error(ss(1));let h;typeof n=="function"?h=n(t):h=t();let x=Og;l&&(x=hW({trace:!1,...typeof l=="object"&&l}));const y=ZX(...h),w=yW(y);let C=typeof d=="function"?d(w):w();const _=x(...C);return D7(g,o,_)}function Y7(e){const t={},r=[];let n;const l={addCase(o,d){const g=typeof o=="string"?o:o.type;if(!g)throw new Error(ss(28));if(g in t)throw new Error(ss(29));return t[g]=d,l},addAsyncThunk(o,d){return d.pending&&(t[o.pending.type]=d.pending),d.rejected&&(t[o.rejected.type]=d.rejected),d.fulfilled&&(t[o.fulfilled.type]=d.fulfilled),d.settled&&r.push({matcher:o.settled,reducer:d.settled}),l},addMatcher(o,d){return r.push({matcher:o,reducer:d}),l},addDefaultCase(o){return n=o,l}};return e(l),[t,r,n]}function bW(e){return typeof e=="function"}function vW(e,t){let[r,n,l]=Y7(t),o;if(bW(e))o=()=>nT(e());else{const g=nT(e);o=()=>g}function d(g=o(),h){let x=[r[h.type],...n.filter(({matcher:y})=>y(h)).map(({reducer:y})=>y)];return x.filter(y=>!!y).length===0&&(x=[l]),x.reduce((y,w)=>{if(w)if(vi(y)){const _=w(y,h);return _===void 0?y:_}else{if(rl(y))return V7(y,C=>w(C,h));{const C=w(y,h);if(C===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return C}}return y},g)}return d.getInitialState=o,d}var EW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wW=(e=21)=>{let t="",r=e;for(;r--;)t+=EW[Math.random()*64|0];return t},NW=Symbol.for("rtk-slice-createasyncthunk");function SW(e,t){return`${e}/${t}`}function CW({creators:e}={}){const t=e?.asyncThunk?.[NW];return function(n){const{name:l,reducerPath:o=l}=n;if(!l)throw new Error(ss(11));const d=(typeof n.reducers=="function"?n.reducers(TW()):n.reducers)||{},g=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},x={addCase(R,G){const F=typeof R=="string"?R:R.type;if(!F)throw new Error(ss(12));if(F in h.sliceCaseReducersByType)throw new Error(ss(13));return h.sliceCaseReducersByType[F]=G,x},addMatcher(R,G){return h.sliceMatchers.push({matcher:R,reducer:G}),x},exposeAction(R,G){return h.actionCreators[R]=G,x},exposeCaseReducer(R,G){return h.sliceCaseReducersByName[R]=G,x}};g.forEach(R=>{const G=d[R],F={reducerName:R,type:SW(l,R),createNotation:typeof n.reducers=="function"};_W(G)?kW(F,G,x,t):OW(F,G,x)});function y(){const[R={},G=[],F=void 0]=typeof n.extraReducers=="function"?Y7(n.extraReducers):[n.extraReducers],j={...R,...h.sliceCaseReducersByType};return vW(n.initialState,L=>{for(let H in j)L.addCase(H,j[H]);for(let H of h.sliceMatchers)L.addMatcher(H.matcher,H.reducer);for(let H of G)L.addMatcher(H.matcher,H.reducer);F&&L.addDefaultCase(F)})}const w=R=>R,C=new Map,_=new WeakMap;let D;function k(R,G){return D||(D=y()),D(R,G)}function M(){return D||(D=y()),D.getInitialState()}function I(R,G=!1){function F(L){let H=L[R];return typeof H>"u"&&G&&(H=gh(_,F,M)),H}function j(L=w){const H=gh(C,G,()=>new WeakMap);return gh(H,L,()=>{const V={};for(const[Q,Y]of Object.entries(n.selectors??{}))V[Q]=AW(Y,L,()=>gh(_,L,M),G);return V})}return{reducerPath:R,getSelectors:j,get selectors(){return j(F)},selectSlice:F}}const U={name:l,reducer:k,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:M,...I(o),injectInto(R,{reducerPath:G,...F}={}){const j=G??o;return R.inject({reducerPath:j,reducer:k},F),{...U,...I(j,!0)}}};return U}}function AW(e,t,r,n){function l(o,...d){let g=t(o);return typeof g>"u"&&n&&(g=r()),e(g,...d)}return l.unwrapped=e,l}var ja=CW();function TW(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function OW({type:e,reducerName:t,createNotation:r},n,l){let o,d;if("reducer"in n){if(r&&!DW(n))throw new Error(ss(17));o=n.reducer,d=n.prepare}else o=n;l.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,d?Ms(e,d):Ms(e))}function _W(e){return e._reducerDefinitionType==="asyncThunk"}function DW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function kW({type:e,reducerName:t},r,n,l){if(!l)throw new Error(ss(18));const{payloadCreator:o,fulfilled:d,pending:g,rejected:h,settled:x,options:y}=r,w=l(e,o,y);n.exposeAction(t,w),d&&n.addCase(w.fulfilled,d),g&&n.addCase(w.pending,g),h&&n.addCase(w.rejected,h),x&&n.addMatcher(w.settled,x),n.exposeCaseReducer(t,{fulfilled:d||ph,pending:g||ph,rejected:h||ph,settled:x||ph})}function ph(){}var MW="task",X7="listener",W7="completed",yw="cancelled",PW=`task-${yw}`,IW=`task-${W7}`,xE=`${X7}-${yw}`,RW=`${X7}-${W7}`,Bp=class{constructor(e){this.code=e,this.message=`${MW} ${yw} (reason: ${e})`}name="TaskAbortError";message},xw=(e,t)=>{if(typeof e!="function")throw new TypeError(ss(32))},Pg=()=>{},K7=(e,t=Pg)=>(e.catch(t),e),Z7=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),wc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Nc=e=>{if(e.aborted){const{reason:t}=e;throw new Bp(t)}};function Q7(e,t){let r=Pg;return new Promise((n,l)=>{const o=()=>l(new Bp(e.reason));if(e.aborted){o();return}r=Z7(e,o),t.finally(()=>r()).then(n,l)}).finally(()=>{r=Pg})}var LW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Bp?"cancelled":"rejected",error:r}}finally{t?.()}},Ig=e=>t=>K7(Q7(e,t).then(r=>(Nc(e),r))),J7=e=>{const t=Ig(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fu}=Object,sT={},Fp="listenerMiddleware",BW=(e,t)=>{const r=n=>Z7(e,()=>wc(n,e.reason));return(n,l)=>{xw(n);const o=new AbortController;r(o);const d=LW(async()=>{Nc(e),Nc(o.signal);const g=await n({pause:Ig(o.signal),delay:J7(o.signal),signal:o.signal});return Nc(o.signal),g},()=>wc(o,IW));return l?.autoJoin&&t.push(d.catch(Pg)),{result:Ig(e)(d),cancel(){wc(o,PW)}}}},FW=(e,t)=>{const r=async(n,l)=>{Nc(t);let o=()=>{};const g=[new Promise((h,x)=>{let y=e({predicate:n,effect:(w,C)=>{C.unsubscribe(),h([w,C.getState(),C.getOriginalState()])}});o=()=>{y(),x()}})];l!=null&&g.push(new Promise(h=>setTimeout(h,l,null)));try{const h=await Q7(t,Promise.race(g));return Nc(t),h}finally{o()}};return(n,l)=>K7(r(n,l))},eM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:l,effect:o}=e;if(t)l=Ms(t).match;else if(r)t=r.type,l=r.match;else if(n)l=n;else if(!l)throw new Error(ss(21));return xw(o),{predicate:l,type:t,effect:o}},tM=Fu(e=>{const{type:t,predicate:r,effect:n}=eM(e);return{id:wW(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ss(22))}}},{withTypes:()=>tM}),lT=(e,t)=>{const{type:r,effect:n,predicate:l}=eM(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===l)&&o.effect===n)},bE=e=>{e.pending.forEach(t=>{wc(t,xE)})},UW=(e,t)=>()=>{for(const r of t.keys())bE(r);e.clear()},iT=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},rM=Fu(Ms(`${Fp}/add`),{withTypes:()=>rM}),jW=Ms(`${Fp}/removeAll`),nM=Fu(Ms(`${Fp}/remove`),{withTypes:()=>nM}),zW=(...e)=>{console.error(`${Fp}/error`,...e)},Nf=(e={})=>{const t=new Map,r=new Map,n=_=>{const D=r.get(_)??0;r.set(_,D+1)},l=_=>{const D=r.get(_)??1;D===1?r.delete(_):r.set(_,D-1)},{extra:o,onError:d=zW}=e;xw(d);const g=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),D=>{_.unsubscribe(),D?.cancelActive&&bE(_)}),h=_=>{const D=lT(t,_)??tM(_);return g(D)};Fu(h,{withTypes:()=>h});const x=_=>{const D=lT(t,_);return D&&(D.unsubscribe(),_.cancelActive&&bE(D)),!!D};Fu(x,{withTypes:()=>x});const y=async(_,D,k,M)=>{const I=new AbortController,U=FW(h,I.signal),R=[];try{_.pending.add(I),n(_),await Promise.resolve(_.effect(D,Fu({},k,{getOriginalState:M,condition:(G,F)=>U(G,F).then(Boolean),take:U,delay:J7(I.signal),pause:Ig(I.signal),extra:o,signal:I.signal,fork:BW(I.signal,R),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((G,F,j)=>{G!==I&&(wc(G,xE),j.delete(G))})},cancel:()=>{wc(I,xE),_.pending.delete(I)},throwIfCancelled:()=>{Nc(I.signal)}})))}catch(G){G instanceof Bp||iT(d,G,{raisedBy:"effect"})}finally{await Promise.all(R),wc(I,RW),l(_),_.pending.delete(I)}},w=UW(t,r);return{middleware:_=>D=>k=>{if(!M7(k))return D(k);if(rM.match(k))return h(k.payload);if(jW.match(k)){w();return}if(nM.match(k))return x(k.payload);let M=_.getState();const I=()=>{if(M===sT)throw new Error(ss(23));return M};let U;try{if(U=D(k),t.size>0){const R=_.getState(),G=Array.from(t.values());for(const F of G){let j=!1;try{j=F.predicate(k,R,M)}catch(L){j=!1,iT(d,L,{raisedBy:"predicate"})}j&&y(F,k,_,I)}}}finally{M=sT}return U},startListening:h,stopListening:x,clearListeners:w}};function ss(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},aM=ja({name:"chartLayout",initialState:VW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,l,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(l=t.payload.bottom)!==null&&l!==void 0?l:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:HW,setLayout:qW,setChartSize:$W,setScale:GW}=aM.actions,YW=aM.reducer;function sM(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){XW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XW(e,t,r){return(t=WW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WW(e){var t=KW(e,"string");return typeof t=="symbol"?t:t+""}function KW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fn(e,t,r){return ls(e)||ls(t)?r:bi(t)?qm(e,t,r):typeof t=="function"?t(e):r}var ZW=(e,t,r)=>{if(t&&r){var{width:n,height:l}=r,{align:o,verticalAlign:d,layout:g}=t;if((g==="vertical"||g==="horizontal"&&d==="middle")&&o!=="center"&&Dt(e[o]))return Pu(Pu({},e),{},{[o]:e[o]+(n||0)});if((g==="horizontal"||g==="vertical"&&o==="center")&&d!=="middle"&&Dt(e[d]))return Pu(Pu({},e),{},{[d]:e[d]+(l||0)})}return e},Pc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",cT=1e-4,QW=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),l=Math.min(n[0],n[1])-cT,o=Math.max(n[0],n[1])+cT,d=e(t[0]),g=e(t[r-1]);(d<l||d>o||g<l||g>o)&&e.domain([t[0],t[r-1]])}},JW=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var l=0,o=0,d=0;d<t;++d){var g=yi(e[d][r][1])?e[d][r][0]:e[d][r][1];g>=0?(e[d][r][0]=l,e[d][r][1]=l+g,l=e[d][r][1]):(e[d][r][0]=o,e[d][r][1]=o+g,o=e[d][r][1])}},eK=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var l=0,o=0;o<t;++o){var d=yi(e[o][r][1])?e[o][r][0]:e[o][r][1];d>=0?(e[o][r][0]=l,e[o][r][1]=l+d,l=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},tK={sign:JW,expand:vY,none:Gu,silhouette:EY,wiggle:wY,positive:eK},rK=(e,t,r)=>{var n=tK[r],l=bY().keys(t).value((o,d)=>Number(fn(o,d,0))).order(oE).offset(n);return l(e)},nK=e=>{var t=e.flat(2).filter(Dt);return[Math.min(...t),Math.max(...t)]},aK=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],sK=(e,t,r)=>{if(e!=null)return aK(Object.keys(e).reduce((n,l)=>{var o=e[l],{stackedData:d}=o,g=d.reduce((h,x)=>{var y=sM(x,t,r),w=nK(y);return[Math.min(h[0],w[0]),Math.max(h[1],w[1])]},[1/0,-1/0]);return[Math.min(g[0],n[0]),Math.max(g[1],n[1])]},[1/0,-1/0]))},uT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mT=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();return n}if(e&&t&&t.length>=2){for(var l=Dp(t,y=>y.coordinate),o=1/0,d=1,g=l.length;d<g;d++){var h=l[d],x=l[d-1];o=Math.min((h.coordinate||0)-(x.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function fT(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:l,name:o}=e;return Pu(Pu({},t),{},{dataKey:r,payload:n,value:l,name:o})}function lM(e,t){if(e)return String(e);if(typeof t=="string")return t}var lK=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},iK=(e,t)=>t==="centric"?e.angle:e.radius,Ai=e=>e.layout.width,Ti=e=>e.layout.height,oK=e=>e.layout.scale,iM=e=>e.layout.margin,Up=ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),jp=ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),oM="data-recharts-item-index",cM="data-recharts-item-data-key",Sf=60;function hT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(r),!0).forEach(function(n){cK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cK(e,t,r){return(t=uK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mK=e=>e.brush.height;function fK(e){var t=jp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:Sf;return r+l}return r},0)}function hK(e){var t=jp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var l=typeof n.width=="number"?n.width:Sf;return r+l}return r},0)}function gK(e){var t=Up(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function pK(e){var t=Up(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Gn=ke([Ai,Ti,iM,mK,fK,hK,gK,pK,O7,qX],(e,t,r,n,l,o,d,g,h,x)=>{var y={left:(r.left||0)+l,right:(r.right||0)+o},w={top:(r.top||0)+d,bottom:(r.bottom||0)+g},C=yh(yh({},w),y),_=C.bottom;C.bottom+=n,C=ZW(C,h,x);var D=e-C.left-C.right,k=t-C.top-C.bottom;return yh(yh({brushBottom:_},C),{},{width:Math.max(D,0),height:Math.max(k,0)})}),yK=ke(Gn,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));ke(Ai,Ti,(e,t)=>({x:0,y:0,width:e,height:t}));var xK=N.createContext(null),Po=()=>N.useContext(xK)!=null,zp=e=>e.brush,Vp=ke([zp,Gn,iM],(e,t,r)=>({height:e.height,x:Dt(e.x)?e.x:t.left,y:Dt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Dt(e.width)?e.width:t.width})),Mb={},Pb={},Ib={},gT;function bK(){return gT||(gT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:l,edges:o}={}){let d,g=null;const h=o!=null&&o.includes("leading"),x=o==null||o.includes("trailing"),y=()=>{g!==null&&(r.apply(d,g),d=void 0,g=null)},w=()=>{x&&y(),k()};let C=null;const _=()=>{C!=null&&clearTimeout(C),C=setTimeout(()=>{C=null,w()},n)},D=()=>{C!==null&&(clearTimeout(C),C=null)},k=()=>{D(),d=void 0,g=null},M=()=>{y()},I=function(...U){if(l?.aborted)return;d=this,g=U;const R=C==null;_(),h&&R&&y()};return I.schedule=_,I.cancel=k,I.flush=M,l?.addEventListener("abort",k,{once:!0}),I}e.debounce=t})(Ib)),Ib}var pT;function vK(){return pT||(pT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bK();function r(n,l=0,o={}){typeof o!="object"&&(o={});const{leading:d=!1,trailing:g=!0,maxWait:h}=o,x=Array(2);d&&(x[0]="leading"),g&&(x[1]="trailing");let y,w=null;const C=t.debounce(function(...k){y=n.apply(this,k),w=null},l,{edges:x}),_=function(...k){return h!=null&&(w===null&&(w=Date.now()),Date.now()-w>=h)?(y=n.apply(this,k),w=Date.now(),C.cancel(),C.schedule(),y):(C.apply(this,k),y)},D=()=>(C.flush(),y);return _.cancel=C.cancel,_.flush=D,_}e.debounce=r})(Pb)),Pb}var yT;function EK(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vK();function r(n,l=0,o={}){const{leading:d=!0,trailing:g=!0}=o;return t.debounce(n,l,{leading:d,maxWait:l,trailing:g})}e.throttle=r})(Mb)),Mb}var Rb,xT;function wK(){return xT||(xT=1,Rb=EK().throttle),Rb}var NK=wK();const SK=Ml(NK);var bT=function(t,r){for(var n=arguments.length,l=new Array(n>2?n-2:0),o=2;o<n;o++)l[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=0;console.warn(r.replace(/%s/g,()=>l[d++]))}},uM=(e,t,r)=>{var{width:n="100%",height:l="100%",aspect:o,maxHeight:d}=r,g=xi(n)?e:Number(n),h=xi(l)?t:Number(l);return o&&o>0&&(g?h=g/o:h&&(g=h*o),d&&h!=null&&h>d&&(h=d)),{calculatedWidth:g,calculatedHeight:h}},CK={width:0,height:0,overflow:"visible"},AK={width:0,overflowX:"visible"},TK={height:0,overflowY:"visible"},OK={},_K=e=>{var{width:t,height:r}=e,n=xi(t),l=xi(r);return n&&l?CK:n?AK:l?TK:OK};function DK(e){var{width:t,height:r,aspect:n}=e,l=t,o=r;return l===void 0&&o===void 0?(l="100%",o="100%"):l===void 0?l=n&&n>0?void 0:"100%":o===void 0&&(o=n&&n>0?void 0:"100%"),{width:l,height:o}}function $n(e){return Number.isFinite(e)}function Oo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vE.apply(null,arguments)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function ET(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){kK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=PK(e,"string");return typeof t=="symbol"?t:t+""}function PK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dM=N.createContext({width:-1,height:-1});function IK(e){return Oo(e.width)&&Oo(e.height)}function mM(e){var{children:t,width:r,height:n}=e,l=N.useMemo(()=>({width:r,height:n}),[r,n]);return IK(l)?N.createElement(dM.Provider,{value:l},t):null}var bw=()=>N.useContext(dM),RK=N.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:l,height:o,minWidth:d=0,minHeight:g,maxHeight:h,children:x,debounce:y=0,id:w,className:C,onResize:_,style:D={}}=e,k=N.useRef(null),M=N.useRef();M.current=_,N.useImperativeHandle(t,()=>k.current);var[I,U]=N.useState({containerWidth:n.width,containerHeight:n.height}),R=N.useCallback((H,V)=>{U(Q=>{var Y=Math.round(H),X=Math.round(V);return Q.containerWidth===Y&&Q.containerHeight===X?Q:{containerWidth:Y,containerHeight:X}})},[]);N.useEffect(()=>{if(k.current==null||typeof ResizeObserver>"u")return vf;var H=X=>{var he,{width:pe,height:se}=X[0].contentRect;R(pe,se),(he=M.current)===null||he===void 0||he.call(M,pe,se)};y>0&&(H=SK(H,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(H),{width:Q,height:Y}=k.current.getBoundingClientRect();return R(Q,Y),V.observe(k.current),()=>{V.disconnect()}},[R,y]);var{containerWidth:G,containerHeight:F}=I;bT(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:L}=uM(G,F,{width:l,height:o,aspect:r,maxHeight:h});return bT(j!=null&&j>0||L!=null&&L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,L,l,o,d,g,r),N.createElement("div",{id:w?"".concat(w):void 0,className:gn("recharts-responsive-container",C),style:ET(ET({},D),{},{width:l,height:o,minWidth:d,minHeight:g,maxHeight:h}),ref:k},N.createElement("div",{style:_K({width:l,height:o})},N.createElement(mM,{width:j,height:L},x)))}),EE=N.forwardRef((e,t)=>{var r=bw();if(Oo(r.width)&&Oo(r.height))return e.children;var{width:n,height:l}=DK({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:d}=uM(void 0,void 0,{width:n,height:l,aspect:e.aspect,maxHeight:e.maxHeight});return Dt(o)&&Dt(d)?N.createElement(mM,{width:o,height:d},e.children):N.createElement(RK,vE({},e,{width:n,height:l,ref:t}))});function fM(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Hp=()=>{var e,t=Po(),r=Mt(yK),n=Mt(Vp),l=(e=Mt(zp))===null||e===void 0?void 0:e.padding;return!t||!n||!l?r:{width:n.width-l.left-l.right,height:n.height-l.top-l.bottom,x:l.left,y:l.top}},LK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},BK=()=>{var e;return(e=Mt(Gn))!==null&&e!==void 0?e:LK},hM=()=>Mt(Ai),gM=()=>Mt(Ti),FK=()=>Mt(e=>e.layout.margin),_r=e=>e.layout.layoutType,vw=()=>Mt(_r),UK=()=>{var e=vw();return e!==void 0},qp=e=>{var t=pn(),r=Po(),{width:n,height:l}=e,o=bw(),d=n,g=l;return o&&(d=o.width>0?o.width:n,g=o.height>0?o.height:l),N.useEffect(()=>{!r&&Oo(d)&&Oo(g)&&t($W({width:d,height:g}))},[t,r,d,g]),null},pM=Symbol.for("immer-nothing"),wT=Symbol.for("immer-draftable"),is=Symbol.for("immer-state");function Qs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wm=Object.getPrototypeOf;function Wu(e){return!!e&&!!e[is]}function _c(e){return e?yM(e)||Array.isArray(e)||!!e[wT]||!!e.constructor?.[wT]||Cf(e)||Gp(e):!1}var jK=Object.prototype.constructor.toString(),NT=new WeakMap;function yM(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=NT.get(r);return n===void 0&&(n=Function.toString.call(r),NT.set(r,n)),n===jK}function Rg(e,t,r=!0){$p(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(l=>{t(l,e[l],e)}):e.forEach((n,l)=>t(l,n,e))}function $p(e){const t=e[is];return t?t.type_:Array.isArray(e)?1:Cf(e)?2:Gp(e)?3:0}function wE(e,t){return $p(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xM(e,t,r){const n=$p(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function zK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Cf(e){return e instanceof Map}function Gp(e){return e instanceof Set}function mc(e){return e.copy_||e.base_}function NE(e,t){if(Cf(e))return new Map(e);if(Gp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=yM(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[is];let l=Reflect.ownKeys(n);for(let o=0;o<l.length;o++){const d=l[o],g=n[d];g.writable===!1&&(g.writable=!0,g.configurable=!0),(g.get||g.set)&&(n[d]={configurable:!0,writable:!0,enumerable:g.enumerable,value:e[d]})}return Object.create(Wm(e),n)}else{const n=Wm(e);if(n!==null&&r)return{...e};const l=Object.create(n);return Object.assign(l,e)}}function Ew(e,t=!1){return Yp(e)||Wu(e)||!_c(e)||($p(e)>1&&Object.defineProperties(e,{set:xh,add:xh,clear:xh,delete:xh}),Object.freeze(e),t&&Object.values(e).forEach(r=>Ew(r,!0))),e}function VK(){Qs(2)}var xh={value:VK};function Yp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var HK={};function Dc(e){const t=HK[e];return t||Qs(0,e),t}var Km;function bM(){return Km}function qK(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ST(e,t){t&&(Dc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function SE(e){CE(e),e.drafts_.forEach($K),e.drafts_=null}function CE(e){e===Km&&(Km=e.parent_)}function CT(e){return Km=qK(Km,e)}function $K(e){const t=e[is];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[is].modified_&&(SE(t),Qs(4)),_c(e)&&(e=Lg(t,e),t.parent_||Bg(t,e)),t.patches_&&Dc("Patches").generateReplacementPatches_(r[is].base_,e,t.patches_,t.inversePatches_)):e=Lg(t,r,[]),SE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==pM?e:void 0}function Lg(e,t,r){if(Yp(t))return t;const n=e.immer_.shouldUseStrictIteration(),l=t[is];if(!l)return Rg(t,(o,d)=>TT(e,l,t,o,d,r),n),t;if(l.scope_!==e)return t;if(!l.modified_)return Bg(e,l.base_,!0),l.base_;if(!l.finalized_){l.finalized_=!0,l.scope_.unfinalizedDrafts_--;const o=l.copy_;let d=o,g=!1;l.type_===3&&(d=new Set(o),o.clear(),g=!0),Rg(d,(h,x)=>TT(e,l,o,h,x,r,g),n),Bg(e,o,!1),r&&e.patches_&&Dc("Patches").generatePatches_(l,r,e.patches_,e.inversePatches_)}return l.copy_}function TT(e,t,r,n,l,o,d){if(l==null||typeof l!="object"&&!d)return;const g=Yp(l);if(!(g&&!d)){if(Wu(l)){const h=o&&t&&t.type_!==3&&!wE(t.assigned_,n)?o.concat(n):void 0,x=Lg(e,l,h);if(xM(r,n,x),Wu(x))e.canAutoFreeze_=!1;else return}else d&&r.add(l);if(_c(l)&&!g){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===l&&g)return;Lg(e,l),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Cf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Bg(e,l)}}}function Bg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ew(t,r)}function GK(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:bM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let l=n,o=ww;r&&(l=[n],o=Zm);const{revoke:d,proxy:g}=Proxy.revocable(l,o);return n.draft_=g,n.revoke_=d,g}var ww={get(e,t){if(t===is)return e;const r=mc(e);if(!wE(r,t))return YK(e,r,t);const n=r[t];return e.finalized_||!_c(n)?n:n===Lb(e.base_,t)?(Bb(e),e.copy_[t]=TE(n,e)):n},has(e,t){return t in mc(e)},ownKeys(e){return Reflect.ownKeys(mc(e))},set(e,t,r){const n=vM(mc(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const l=Lb(mc(e),t),o=l?.[is];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(zK(r,l)&&(r!==void 0||wE(e.base_,t)))return!0;Bb(e),AE(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Lb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bb(e),AE(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Qs(11)},getPrototypeOf(e){return Wm(e.base_)},setPrototypeOf(){Qs(12)}},Zm={};Rg(ww,(e,t)=>{Zm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Zm.deleteProperty=function(e,t){return Zm.set.call(this,e,t,void 0)};Zm.set=function(e,t,r){return ww.set.call(this,e[0],t,r,e[0])};function Lb(e,t){const r=e[is];return(r?mc(r):e)[t]}function YK(e,t,r){const n=vM(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function vM(e,t){if(!(t in e))return;let r=Wm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Wm(r)}}function AE(e){e.modified_||(e.modified_=!0,e.parent_&&AE(e.parent_))}function Bb(e){e.copy_||(e.copy_=NE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var XK=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const d=this;return function(h=o,...x){return d.produce(h,y=>r.call(this,y,...x))}}typeof r!="function"&&Qs(6),n!==void 0&&typeof n!="function"&&Qs(7);let l;if(_c(t)){const o=CT(this),d=TE(t,void 0);let g=!0;try{l=r(d),g=!1}finally{g?SE(o):CE(o)}return ST(o,n),AT(l,o)}else if(!t||typeof t!="object"){if(l=r(t),l===void 0&&(l=t),l===pM&&(l=void 0),this.autoFreeze_&&Ew(l,!0),n){const o=[],d=[];Dc("Patches").generateReplacementPatches_(t,l,o,d),n(o,d)}return l}else Qs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(d,...g)=>this.produceWithPatches(d,h=>t(h,...g));let n,l;return[this.produce(t,r,(d,g)=>{n=d,l=g}),n,l]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){_c(e)||Qs(8),Wu(e)&&(e=WK(e));const t=CT(this),r=TE(e,void 0);return r[is].isManual_=!0,CE(t),r}finishDraft(e,t){const r=e&&e[is];(!r||!r.isManual_)&&Qs(9);const{scope_:n}=r;return ST(n,t),AT(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const l=t[r];if(l.path.length===0&&l.op==="replace"){e=l.value;break}}r>-1&&(t=t.slice(r+1));const n=Dc("Patches").applyPatches_;return Wu(e)?n(e,t):this.produce(e,l=>n(l,t))}};function TE(e,t){const r=Cf(e)?Dc("MapSet").proxyMap_(e,t):Gp(e)?Dc("MapSet").proxySet_(e,t):GK(e,t);return(t?t.scope_:bM()).drafts_.push(r),r}function WK(e){return Wu(e)||Qs(10,e),EM(e)}function EM(e){if(!_c(e)||Yp(e))return e;const t=e[is];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=NE(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=NE(e,!0);return Rg(r,(l,o)=>{xM(r,l,EM(o))},n),t&&(t.finalized_=!1),r}var KK=new XK;KK.produce;var ZK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wM=ja({name:"legend",initialState:ZK,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:zr()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,l=tl(e).payload.indexOf(r);l>-1&&(e.payload[l]=n)},prepare:zr()},removeLegendPayload:{reducer(e,t){var r=tl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:zr()}}}),{setLegendSize:OT,setLegendSettings:QK,addLegendPayload:JK,replaceLegendPayload:eZ,removeLegendPayload:tZ}=wM.actions,rZ=wM.reducer,nZ=["contextPayload"];function OE(){return OE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OE.apply(null,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iZ(e,t){if(e==null)return{};var r,n,l=oZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function oZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cZ(e){return e.value}function uZ(e){var{contextPayload:t}=e,r=iZ(e,nZ),n=S7(t,e.payloadUniqBy,cZ),l=Ku(Ku({},r),{},{payload:n});return N.isValidElement(e.content)?N.cloneElement(e.content,l):typeof e.content=="function"?N.createElement(e.content,l):N.createElement(JY,l)}function dZ(e,t,r,n,l,o){var{layout:d,align:g,verticalAlign:h}=t,x,y;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(g==="center"&&d==="vertical"?x={left:((n||0)-o.width)/2}:x=g==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(h==="middle"?y={top:((l||0)-o.height)/2}:y=h==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ku(Ku({},x),y)}function mZ(e){var t=pn();return N.useEffect(()=>{t(QK(e))},[t,e]),null}function fZ(e){var t=pn();return N.useEffect(()=>(t(OT(e)),()=>{t(OT({width:0,height:0}))}),[t,e]),null}function hZ(e,t,r,n){return e==="vertical"&&Dt(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var gZ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function NM(e){var t=Rs(e,gZ),r=YX(),n=HG(),l=FK(),{width:o,height:d,wrapperStyle:g,portal:h}=t,[x,y]=_7([r]),w=hM(),C=gM();if(w==null||C==null)return null;var _=w-(l?.left||0)-(l?.right||0),D=hZ(t.layout,d,o,_),k=h?g:Ku(Ku({position:"absolute",width:D?.width||o||"auto",height:D?.height||d||"auto"},dZ(g,t,l,w,C,x)),g),M=h??n;if(M==null||r==null)return null;var I=N.createElement("div",{className:"recharts-legend-wrapper",style:k,ref:y},N.createElement(mZ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!h&&N.createElement(fZ,{width:x.width,height:x.height}),N.createElement(uZ,OE({},t,D,{margin:l,chartWidth:w,chartHeight:C,contextPayload:r})));return u2.createPortal(I,M)}NM.displayName="Legend";function _E(){return _E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_E.apply(null,arguments)}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Fb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){pZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pZ(e,t,r){return(t=yZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bZ(e){return Array.isArray(e)&&bi(e[0])&&bi(e[1])?e.join(" ~ "):e}var vZ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:l={},payload:o,formatter:d,itemSorter:g,wrapperClassName:h,labelClassName:x,label:y,labelFormatter:w,accessibilityLayer:C=!1}=e,_=()=>{if(o&&o.length){var F={padding:0,margin:0},j=(g?Dp(o,g):o).map((L,H)=>{if(L.type==="none")return null;var V=L.formatter||d||bZ,{value:Q,name:Y}=L,X=Q,he=Y;if(V){var pe=V(Q,Y,L,H,o);if(Array.isArray(pe))[X,he]=pe;else if(pe!=null)X=pe;else return null}var se=Fb({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:se},bi(he)?N.createElement("span",{className:"recharts-tooltip-item-name"},he):null,bi(he)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},X),N.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:F},j)}return null},D=Fb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),k=Fb({margin:0},l),M=!ls(y),I=M?y:"",U=gn("recharts-default-tooltip",h),R=gn("recharts-tooltip-label",x);M&&w&&o!==void 0&&o!==null&&(I=w(y,o));var G=C?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",_E({className:U,style:D},G),N.createElement("p",{className:R,style:k},N.isValidElement(I)?I:"".concat(I)),_())},mm="recharts-tooltip-wrapper",EZ={visibility:"hidden"};function wZ(e){var{coordinate:t,translateX:r,translateY:n}=e;return gn(mm,{["".concat(mm,"-right")]:Dt(r)&&t&&Dt(t.x)&&r>=t.x,["".concat(mm,"-left")]:Dt(r)&&t&&Dt(t.x)&&r<t.x,["".concat(mm,"-bottom")]:Dt(n)&&t&&Dt(t.y)&&n>=t.y,["".concat(mm,"-top")]:Dt(n)&&t&&Dt(t.y)&&n<t.y})}function kT(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:l,position:o,reverseDirection:d,tooltipDimension:g,viewBox:h,viewBoxDimension:x}=e;if(o&&Dt(o[n]))return o[n];var y=r[n]-g-(l>0?l:0),w=r[n]+l;if(t[n])return d[n]?y:w;var C=h[n];if(C==null)return 0;if(d[n]){var _=y,D=C;return _<D?Math.max(w,C):Math.max(y,C)}if(x==null)return 0;var k=w+g,M=C+x;return k>M?Math.max(y,C):Math.max(w,C)}function NZ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function SZ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:l,reverseDirection:o,tooltipBox:d,useTranslate3d:g,viewBox:h}=e,x,y,w;return d.height>0&&d.width>0&&r?(y=kT({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:l,reverseDirection:o,tooltipDimension:d.width,viewBox:h,viewBoxDimension:h.width}),w=kT({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:l,reverseDirection:o,tooltipDimension:d.height,viewBox:h,viewBoxDimension:h.height}),x=NZ({translateX:y,translateY:w,useTranslate3d:g})):x=EZ,{cssProperties:x,cssClasses:wZ({translateX:y,translateY:w,coordinate:r})}}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){DE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DE(e,t,r){return(t=CZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class TZ extends N.PureComponent{constructor(){super(...arguments),DE(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),DE(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,l,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(l=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&l!==void 0?l:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:l,children:o,coordinate:d,hasPayload:g,isAnimationActive:h,offset:x,position:y,reverseDirection:w,useTranslate3d:C,viewBox:_,wrapperStyle:D,lastBoundingBox:k,innerRef:M,hasPortalFromProps:I}=this.props,{cssClasses:U,cssProperties:R}=SZ({allowEscapeViewBox:r,coordinate:d,offsetTopLeft:x,position:y,reverseDirection:w,tooltipBox:{height:k.height,width:k.width},useTranslate3d:C,viewBox:_}),G=I?{}:bh(bh({transition:h&&t?"transform ".concat(n,"ms ").concat(l):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&g?"visible":"hidden",position:"absolute",top:0,left:0}),F=bh(bh({},G),{},{visibility:!this.state.dismissed&&t&&g?"visible":"hidden"},D);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:F,ref:M},o)}}var SM=()=>{var e;return(e=Mt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kE.apply(null,arguments)}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){OZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OZ(e,t,r){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Z(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RT={curveBasisClosed:oY,curveBasisOpen:cY,curveBasis:iY,curveBumpX:YG,curveBumpY:XG,curveLinearClosed:uY,curveLinear:Op,curveMonotoneX:dY,curveMonotoneY:mY,curveNatural:fY,curveStep:hY,curveStepAfter:pY,curveStepBefore:gY},Fg=e=>$n(e.x)&&$n(e.y),LT=e=>e.base!=null&&Fg(e.base)&&Fg(e),fm=e=>e.x,hm=e=>e.y,kZ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(bf(e));return(r==="curveMonotone"||r==="curveBump")&&t?RT["".concat(r).concat(t==="vertical"?"Y":"X")]:RT[r]||Op},MZ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:l,connectNulls:o=!1}=e,d=kZ(t,l),g=o?r.filter(Fg):r,h;if(Array.isArray(n)){var x=r.map((_,D)=>IT(IT({},_),{},{base:n[D]}));l==="vertical"?h=dh().y(hm).x1(fm).x0(_=>_.base.x):h=dh().x(fm).y1(hm).y0(_=>_.base.y);var y=h.defined(LT).curve(d),w=o?x.filter(LT):x;return y(w)}l==="vertical"&&Dt(n)?h=dh().y(hm).x1(fm).x0(n):Dt(n)?h=dh().x(fm).y1(hm).y0(n):h=Jk().x(fm).y(hm);var C=h.defined(Fg).curve(d);return C(g)},Nw=e=>{var{className:t,points:r,path:n,pathRef:l}=e;if((!r||!r.length)&&!n)return null;var o=r&&r.length?MZ(e):n;return N.createElement("path",kE({},$u(e),jY(e),{className:gn("recharts-curve",t),d:o===null?void 0:o,ref:l}))},PZ=["x","y","top","left","width","height","className"];function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ME.apply(null,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function IZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){RZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RZ(e,t,r){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FZ(e,t){if(e==null)return{};var r,n,l=UZ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function UZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jZ=(e,t,r,n,l,o)=>"M".concat(e,",").concat(l,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),zZ=e=>{var{x:t=0,y:r=0,top:n=0,left:l=0,width:o=0,height:d=0,className:g}=e,h=FZ(e,PZ),x=IZ({x:t,y:r,top:n,left:l,width:o,height:d},h);return!Dt(t)||!Dt(r)||!Dt(o)||!Dt(d)||!Dt(n)||!Dt(l)?null:N.createElement("path",ME({},ks(x),{className:gn("recharts-cross",g),d:jZ(t,r,o,d,n,l)}))};function VZ(e,t,r,n){var l=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-l:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-l,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function UT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){HZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HZ(e,t,r){return(t=qZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GZ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),CM=(e,t,r)=>e.map(n=>"".concat(GZ(n)," ").concat(t,"ms ").concat(r)).join(","),YZ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(l=>n.includes(l))),Qm=(e,t)=>Object.keys(t).reduce((r,n)=>UT(UT({},r),{},{[n]:e(n,t[n])}),{});function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){XZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XZ(e,t,r){return(t=WZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WZ(e){var t=KZ(e,"string");return typeof t=="symbol"?t:t+""}function KZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ug=(e,t,r)=>e+(t-e)*r,PE=e=>{var{from:t,to:r}=e;return t!==r},AM=(e,t,r)=>{var n=Qm((l,o)=>{if(PE(o)){var[d,g]=e(o.from,o.to,o.velocity);return Rn(Rn({},o),{},{from:d,velocity:g})}return o},t);return r<1?Qm((l,o)=>PE(o)?Rn(Rn({},o),{},{velocity:Ug(o.velocity,n[l].velocity,r),from:Ug(o.from,n[l].from,r)}):o,t):AM(e,n,r-1)};function ZZ(e,t,r,n,l,o){var d,g=n.reduce((C,_)=>Rn(Rn({},C),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),h=()=>Qm((C,_)=>_.from,g),x=()=>!Object.values(g).filter(PE).length,y=null,w=C=>{d||(d=C);var _=C-d,D=_/r.dt;g=AM(r,g,D),l(Rn(Rn(Rn({},e),t),h())),d=C,x()||(y=o.setTimeout(w))};return()=>(y=o.setTimeout(w),()=>{var C;(C=y)===null||C===void 0||C()})}function QZ(e,t,r,n,l,o,d){var g=null,h=l.reduce((w,C)=>Rn(Rn({},w),{},{[C]:[e[C],t[C]]}),{}),x,y=w=>{x||(x=w);var C=(w-x)/n,_=Qm((k,M)=>Ug(...M,r(C)),h);if(o(Rn(Rn(Rn({},e),t),_)),C<1)g=d.setTimeout(y);else{var D=Qm((k,M)=>Ug(...M,r(1)),h);o(Rn(Rn(Rn({},e),t),D))}};return()=>(g=d.setTimeout(y),()=>{var w;(w=g)===null||w===void 0||w()})}const JZ=(e,t,r,n,l,o)=>{var d=YZ(e,t);return r==null?()=>(l(Rn(Rn({},e),t)),()=>{}):r.isStepper===!0?ZZ(e,t,r,d,l,o):QZ(e,t,r,n,d,l,o)};var jg=1e-4,TM=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OM=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),zT=(e,t)=>r=>{var n=TM(e,t);return OM(n,r)},eQ=(e,t)=>r=>{var n=TM(e,t),l=[...n.map((o,d)=>o*d).slice(1),0];return OM(l,r)},tQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var l,o=r[0].split("(");if(o[0]==="cubic-bezier"&&((l=o[1])===null||l===void 0?void 0:l.split(")")[0].split(",").length)===4){var d=o[1].split(")")[0].split(",").map(g=>parseFloat(g));return[d[0],d[1],d[2],d[3]]}}}return r.length===4?r:[0,0,1,1]},rQ=(e,t,r,n)=>{var l=zT(e,r),o=zT(t,n),d=eQ(e,r),g=x=>x>1?1:x<0?0:x,h=x=>{for(var y=x>1?1:x,w=y,C=0;C<8;++C){var _=l(w)-y,D=d(w);if(Math.abs(_-y)<jg||D<jg)return o(w);w=g(w-_/D)}return o(w)};return h.isStepper=!1,h},VT=function(){return rQ(...tQ(...arguments))},nQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:l=17}=t,o=(d,g,h)=>{var x=-(d-g)*r,y=h*n,w=h+(x-y)*l/1e3,C=h*l/1e3+d;return Math.abs(C-g)<jg&&Math.abs(w)<jg?[g,0]:[C,w]};return o.isStepper=!0,o.dt=l,o},aQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VT(e);case"spring":return nQ();default:if(e.split("(")[0]==="cubic-bezier")return VT(e)}return typeof e=="function"?e:null};function sQ(e){var t,r=()=>null,n=!1,l=null,o=d=>{if(!n){if(Array.isArray(d)){if(!d.length)return;var g=d,[h,...x]=g;if(typeof h=="number"){l=e.setTimeout(o.bind(null,x),h);return}o(h),l=e.setTimeout(o.bind(null,x));return}typeof d=="string"&&(t=d,r(t)),typeof d=="object"&&(t=d,r(t)),typeof d=="function"&&d()}};return{stop:()=>{n=!0},start:d=>{n=!1,l&&(l(),l=null),o(d)},subscribe:d=>(r=d,()=>{r=()=>null}),getTimeoutController:()=>e}}class lQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),l=null,o=d=>{d-n>=r?t(d):typeof requestAnimationFrame=="function"&&(l=requestAnimationFrame(o))};return l=requestAnimationFrame(o),()=>{l!=null&&cancelAnimationFrame(l)}}}function iQ(){return sQ(new lQ)}var oQ=N.createContext(iQ);function cQ(e,t){var r=N.useContext(oQ);return N.useMemo(()=>t??r(e),[e,t,r])}var uQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Xp={devToolsEnabled:!1,isSsr:uQ()},dQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},HT={t:0},Ub={t:1};function Sw(e){var t=Rs(e,dQ),{isActive:r,canBegin:n,duration:l,easing:o,begin:d,onAnimationEnd:g,onAnimationStart:h,children:x}=t,y=r==="auto"?!Xp.isSsr:r,w=cQ(t.animationId,t.animationManager),[C,_]=N.useState(y?HT:Ub),D=N.useRef(null);return N.useEffect(()=>{y||_(Ub)},[y]),N.useEffect(()=>{if(!y||!n)return vf;var k=JZ(HT,Ub,aQ(o),l,_,w.getTimeoutController()),M=()=>{D.current=k()};return w.start([h,d,M,l,g]),()=>{w.stop(),D.current&&D.current(),g()}},[y,n,l,o,d,h,g,w]),x(C.t)}function Cw(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef($m(t)),n=N.useRef(e);return n.current!==e&&(r.current=$m(t),n.current=e),r.current}var mQ=["radius"],fQ=["radius"];function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function $T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){hQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hQ(e,t,r){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=pQ(e,"string");return typeof t=="symbol"?t:t+""}function pQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(null,arguments)}function GT(e,t){if(e==null)return{};var r,n,l=yQ(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function yQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YT=(e,t,r,n,l)=>{var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),d=n>=0?1:-1,g=r>=0?1:-1,h=n>=0&&r>=0||n<0&&r<0?1:0,x;if(o>0&&l instanceof Array){for(var y=[0,0,0,0],w=0,C=4;w<C;w++)y[w]=l[w]>o?o:l[w];x="M".concat(e,",").concat(t+d*y[0]),y[0]>0&&(x+="A ".concat(y[0],",").concat(y[0],",0,0,").concat(h,",").concat(e+g*y[0],",").concat(t)),x+="L ".concat(e+r-g*y[1],",").concat(t),y[1]>0&&(x+="A ".concat(y[1],",").concat(y[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(t+d*y[1])),x+="L ".concat(e+r,",").concat(t+n-d*y[2]),y[2]>0&&(x+="A ".concat(y[2],",").concat(y[2],",0,0,").concat(h,`,
        `).concat(e+r-g*y[2],",").concat(t+n)),x+="L ".concat(e+g*y[3],",").concat(t+n),y[3]>0&&(x+="A ".concat(y[3],",").concat(y[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+n-d*y[3])),x+="Z"}else if(o>0&&l===+l&&l>0){var _=Math.min(o,l);x="M ".concat(e,",").concat(t+d*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+g*_,",").concat(t,`
            L `).concat(e+r-g*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+r,",").concat(t+d*_,`
            L `).concat(e+r,",").concat(t+n-d*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e+r-g*_,",").concat(t+n,`
            L `).concat(e+g*_,",").concat(t+n,`
            A `).concat(_,",").concat(_,",0,0,").concat(h,",").concat(e,",").concat(t+n-d*_," Z")}else x="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return x},XT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_M=e=>{var t=Rs(e,XT),r=N.useRef(null),[n,l]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ae=r.current.getTotalLength();ae&&l(ae)}catch{}},[]);var{x:o,y:d,width:g,height:h,radius:x,className:y}=t,{animationEasing:w,animationDuration:C,animationBegin:_,isAnimationActive:D,isUpdateAnimationActive:k}=t,M=N.useRef(g),I=N.useRef(h),U=N.useRef(o),R=N.useRef(d),G=N.useMemo(()=>({x:o,y:d,width:g,height:h,radius:x}),[o,d,g,h,x]),F=Cw(G,"rectangle-");if(o!==+o||d!==+d||g!==+g||h!==+h||g===0||h===0)return null;var j=gn("recharts-rectangle",y);if(!k){var L=ks(t),{radius:H}=L,V=GT(L,mQ);return N.createElement("path",zg({},V,{radius:typeof x=="number"?x:void 0,className:j,d:YT(o,d,g,h,x)}))}var Q=M.current,Y=I.current,X=U.current,he=R.current,pe="0px ".concat(n===-1?1:n,"px"),se="".concat(n,"px 0px"),J=CM(["strokeDasharray"],C,typeof w=="string"?w:XT.animationEasing);return N.createElement(Sw,{animationId:F,key:F,canBegin:n>0,duration:C,easing:w,isActive:k,begin:_},ae=>{var Ee=Ks(Q,g,ae),be=Ks(Y,h,ae),re=Ks(X,o,ae),W=Ks(he,d,ae);r.current&&(M.current=Ee,I.current=be,U.current=re,R.current=W);var te;D?ae>0?te={transition:J,strokeDasharray:se}:te={strokeDasharray:pe}:te={strokeDasharray:se};var me=ks(t),{radius:ue}=me,Ne=GT(me,fQ);return N.createElement("path",zg({},Ne,{radius:typeof x=="number"?x:void 0,className:j,d:YT(re,W,Ee,be,x),ref:r,style:$T($T({},te),t.style)}))})};function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function KT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){xQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xQ(e,t,r){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vg=Math.PI/180,EQ=e=>e*180/Math.PI,Tn=(e,t,r,n)=>({x:e+Math.cos(-Vg*n)*r,y:t+Math.sin(-Vg*n)*r}),DM=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wQ=(e,t)=>{var{x:r,y:n}=e,{x:l,y:o}=t;return Math.sqrt((r-l)**2+(n-o)**2)},NQ=(e,t)=>{var{x:r,y:n}=e,{cx:l,cy:o}=t,d=wQ({x:r,y:n},{x:l,y:o});if(d<=0)return{radius:d,angle:0};var g=(r-l)/d,h=Math.acos(g);return n>o&&(h=2*Math.PI-h),{radius:d,angle:EQ(h),angleInRadian:h}},SQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),l=Math.floor(r/360),o=Math.min(n,l);return{startAngle:t-o*360,endAngle:r-o*360}},CQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,l=Math.floor(r/360),o=Math.floor(n/360),d=Math.min(l,o);return e+d*360},AQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:l,angle:o}=NQ({x:r,y:n},t),{innerRadius:d,outerRadius:g}=t;if(l<d||l>g||l===0)return null;var{startAngle:h,endAngle:x}=SQ(t),y=o,w;if(h<=x){for(;y>x;)y-=360;for(;y<h;)y+=360;w=y>=h&&y<=x}else{for(;y>h;)y-=360;for(;y<x;)y+=360;w=y>=x&&y<=h}return w?KT(KT({},t),{},{radius:l,angle:CQ(y,t)}):null};function kM(e){var{cx:t,cy:r,radius:n,startAngle:l,endAngle:o}=e,d=Tn(t,r,n,l),g=Tn(t,r,n,o);return{points:[d,g],cx:t,cy:r,radius:n,startAngle:l,endAngle:o}}function IE(){return IE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IE.apply(null,arguments)}var TQ=(e,t)=>{var r=La(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},vh=e=>{var{cx:t,cy:r,radius:n,angle:l,sign:o,isExternal:d,cornerRadius:g,cornerIsExternal:h}=e,x=g*(d?1:-1)+n,y=Math.asin(g/x)/Vg,w=h?l:l+o*y,C=Tn(t,r,x,w),_=Tn(t,r,n,w),D=h?l-o*y:l,k=Tn(t,r,x*Math.cos(y*Vg),D);return{center:C,circleTangency:_,lineTangency:k,theta:y}},MM=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:l,startAngle:o,endAngle:d}=e,g=TQ(o,d),h=o+g,x=Tn(t,r,l,o),y=Tn(t,r,l,h),w="M ".concat(x.x,",").concat(x.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(g)>180),",").concat(+(o>h),`,
    `).concat(y.x,",").concat(y.y,`
  `);if(n>0){var C=Tn(t,r,n,o),_=Tn(t,r,n,h);w+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(g)>180),",").concat(+(o<=h),`,
            `).concat(C.x,",").concat(C.y," Z")}else w+="L ".concat(t,",").concat(r," Z");return w},OQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:l,cornerRadius:o,forceCornerRadius:d,cornerIsExternal:g,startAngle:h,endAngle:x}=e,y=La(x-h),{circleTangency:w,lineTangency:C,theta:_}=vh({cx:t,cy:r,radius:l,angle:h,sign:y,cornerRadius:o,cornerIsExternal:g}),{circleTangency:D,lineTangency:k,theta:M}=vh({cx:t,cy:r,radius:l,angle:x,sign:-y,cornerRadius:o,cornerIsExternal:g}),I=g?Math.abs(h-x):Math.abs(h-x)-_-M;if(I<0)return d?"M ".concat(C.x,",").concat(C.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):MM({cx:t,cy:r,innerRadius:n,outerRadius:l,startAngle:h,endAngle:x});var U="M ".concat(C.x,",").concat(C.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(I>180),",").concat(+(y<0),",").concat(D.x,",").concat(D.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(k.x,",").concat(k.y,`
  `);if(n>0){var{circleTangency:R,lineTangency:G,theta:F}=vh({cx:t,cy:r,radius:n,angle:h,sign:y,isExternal:!0,cornerRadius:o,cornerIsExternal:g}),{circleTangency:j,lineTangency:L,theta:H}=vh({cx:t,cy:r,radius:n,angle:x,sign:-y,isExternal:!0,cornerRadius:o,cornerIsExternal:g}),V=g?Math.abs(h-x):Math.abs(h-x)-F-H;if(V<0&&o===0)return"".concat(U,"L").concat(t,",").concat(r,"Z");U+="L".concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(j.x,",").concat(j.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(V>180),",").concat(+(y>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(y<0),",").concat(G.x,",").concat(G.y,"Z")}else U+="L".concat(t,",").concat(r,"Z");return U},_Q={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PM=e=>{var t=Rs(e,_Q),{cx:r,cy:n,innerRadius:l,outerRadius:o,cornerRadius:d,forceCornerRadius:g,cornerIsExternal:h,startAngle:x,endAngle:y,className:w}=t;if(o<l||x===y)return null;var C=gn("recharts-sector",w),_=o-l,D=as(d,_,0,!0),k;return D>0&&Math.abs(x-y)<360?k=OQ({cx:r,cy:n,innerRadius:l,outerRadius:o,cornerRadius:Math.min(D,_/2),forceCornerRadius:g,cornerIsExternal:h,startAngle:x,endAngle:y}):k=MM({cx:r,cy:n,innerRadius:l,outerRadius:o,startAngle:x,endAngle:y}),N.createElement("path",IE({},ks(t),{className:C,d:k}))};function DQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(f7(t)){if(e==="centric"){var{cx:n,cy:l,innerRadius:o,outerRadius:d,angle:g}=t,h=Tn(n,l,o,g),x=Tn(n,l,d,g);return[{x:h.x,y:h.y},{x:x.x,y:x.y}]}return kM(t)}}var jb={},zb={},Vb={},ZT;function kQ(){return ZT||(ZT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A7();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Vb)),Vb}var QT;function MQ(){return QT||(QT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kQ();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(zb)),zb}var JT;function PQ(){return JT||(JT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T7(),r=MQ();function n(l,o,d){d&&typeof d!="number"&&t.isIterateeCall(l,o,d)&&(o=d=void 0),l=r.toFinite(l),o===void 0?(o=l,l=0):o=r.toFinite(o),d=d===void 0?l<o?1:-1:r.toFinite(d);const g=Math.max(Math.ceil((o-l)/(d||1)),0),h=new Array(g);for(let x=0;x<g;x++)h[x]=l,l+=d;return h}e.range=n})(jb)),jb}var Hb,e6;function IQ(){return e6||(e6=1,Hb=PQ().range),Hb}var RQ=IQ();const IM=Ml(RQ);function So(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Aw(e){let t,r,n;e.length!==2?(t=So,r=(g,h)=>So(e(g),h),n=(g,h)=>e(g)-h):(t=e===So||e===LQ?e:BQ,r=e,n=e);function l(g,h,x=0,y=g.length){if(x<y){if(t(h,h)!==0)return y;do{const w=x+y>>>1;r(g[w],h)<0?x=w+1:y=w}while(x<y)}return x}function o(g,h,x=0,y=g.length){if(x<y){if(t(h,h)!==0)return y;do{const w=x+y>>>1;r(g[w],h)<=0?x=w+1:y=w}while(x<y)}return x}function d(g,h,x=0,y=g.length){const w=l(g,h,x,y-1);return w>x&&n(g[w-1],h)>-n(g[w],h)?w-1:w}return{left:l,center:d,right:o}}function BQ(){return 0}function RM(e){return e===null?NaN:+e}function*FQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const UQ=Aw(So),Af=UQ.right;Aw(RM).center;class t6 extends Map{constructor(t,r=VQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,l]of t)this.set(n,l)}get(t){return super.get(r6(this,t))}has(t){return super.has(r6(this,t))}set(t,r){return super.set(jQ(this,t),r)}delete(t){return super.delete(zQ(this,t))}}function r6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function jQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function VQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HQ(e=So){if(e===So)return LM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function LM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const qQ=Math.sqrt(50),$Q=Math.sqrt(10),GQ=Math.sqrt(2);function Hg(e,t,r){const n=(t-e)/Math.max(0,r),l=Math.floor(Math.log10(n)),o=n/Math.pow(10,l),d=o>=qQ?10:o>=$Q?5:o>=GQ?2:1;let g,h,x;return l<0?(x=Math.pow(10,-l)/d,g=Math.round(e*x),h=Math.round(t*x),g/x<e&&++g,h/x>t&&--h,x=-x):(x=Math.pow(10,l)*d,g=Math.round(e/x),h=Math.round(t/x),g*x<e&&++g,h*x>t&&--h),h<g&&.5<=r&&r<2?Hg(e,t,r*2):[g,h,x]}function RE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[l,o,d]=n?Hg(t,e,r):Hg(e,t,r);if(!(o>=l))return[];const g=o-l+1,h=new Array(g);if(n)if(d<0)for(let x=0;x<g;++x)h[x]=(o-x)/-d;else for(let x=0;x<g;++x)h[x]=(o-x)*d;else if(d<0)for(let x=0;x<g;++x)h[x]=(l+x)/-d;else for(let x=0;x<g;++x)h[x]=(l+x)*d;return h}function LE(e,t,r){return t=+t,e=+e,r=+r,Hg(e,t,r)[2]}function BE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,l=n?LE(t,e,r):LE(e,t,r);return(n?-1:1)*(l<0?1/-l:l)}function n6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function a6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function BM(e,t,r=0,n=1/0,l){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(l=l===void 0?LM:HQ(l);n>r;){if(n-r>600){const h=n-r+1,x=t-r+1,y=Math.log(h),w=.5*Math.exp(2*y/3),C=.5*Math.sqrt(y*w*(h-w)/h)*(x-h/2<0?-1:1),_=Math.max(r,Math.floor(t-x*w/h+C)),D=Math.min(n,Math.floor(t+(h-x)*w/h+C));BM(e,t,_,D,l)}const o=e[t];let d=r,g=n;for(gm(e,r,t),l(e[n],o)>0&&gm(e,r,n);d<g;){for(gm(e,d,g),++d,--g;l(e[d],o)<0;)++d;for(;l(e[g],o)>0;)--g}l(e[r],o)===0?gm(e,r,g):(++g,gm(e,g,n)),g<=t&&(r=g+1),t<=g&&(n=g-1)}return e}function gm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function YQ(e,t,r){if(e=Float64Array.from(FQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return a6(e);if(t>=1)return n6(e);var n,l=(n-1)*t,o=Math.floor(l),d=n6(BM(e,o).subarray(0,o+1)),g=a6(e.subarray(o+1));return d+(g-d)*(l-o)}}function XQ(e,t,r=RM){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,l=(n-1)*t,o=Math.floor(l),d=+r(e[o],o,e),g=+r(e[o+1],o+1,e);return d+(g-d)*(l-o)}}function WQ(e,t,r){e=+e,t=+t,r=(l=arguments.length)<2?(t=e,e=0,1):l<3?1:+r;for(var n=-1,l=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(l);++n<l;)o[n]=e+n*r;return o}function Ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const FE=Symbol("implicit");function Tw(){var e=new t6,t=[],r=[],n=FE;function l(o){let d=e.get(o);if(d===void 0){if(n!==FE)return n;e.set(o,d=t.push(o)-1)}return r[d%r.length]}return l.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new t6;for(const d of o)e.has(d)||e.set(d,t.push(d)-1);return l},l.range=function(o){return arguments.length?(r=Array.from(o),l):r.slice()},l.unknown=function(o){return arguments.length?(n=o,l):n},l.copy=function(){return Tw(t,r).unknown(n)},Ls.apply(l,arguments),l}function Ow(){var e=Tw().unknown(void 0),t=e.domain,r=e.range,n=0,l=1,o,d,g=!1,h=0,x=0,y=.5;delete e.unknown;function w(){var C=t().length,_=l<n,D=_?l:n,k=_?n:l;o=(k-D)/Math.max(1,C-h+x*2),g&&(o=Math.floor(o)),D+=(k-D-o*(C-h))*y,d=o*(1-h),g&&(D=Math.round(D),d=Math.round(d));var M=WQ(C).map(function(I){return D+o*I});return r(_?M.reverse():M)}return e.domain=function(C){return arguments.length?(t(C),w()):t()},e.range=function(C){return arguments.length?([n,l]=C,n=+n,l=+l,w()):[n,l]},e.rangeRound=function(C){return[n,l]=C,n=+n,l=+l,g=!0,w()},e.bandwidth=function(){return d},e.step=function(){return o},e.round=function(C){return arguments.length?(g=!!C,w()):g},e.padding=function(C){return arguments.length?(h=Math.min(1,x=+C),w()):h},e.paddingInner=function(C){return arguments.length?(h=Math.min(1,C),w()):h},e.paddingOuter=function(C){return arguments.length?(x=+C,w()):x},e.align=function(C){return arguments.length?(y=Math.max(0,Math.min(1,C)),w()):y},e.copy=function(){return Ow(t(),[n,l]).round(g).paddingInner(h).paddingOuter(x).align(y)},Ls.apply(w(),arguments)}function FM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return FM(t())},e}function KQ(){return FM(Ow.apply(null,arguments).paddingInner(1))}function _w(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function UM(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Tf(){}var Jm=.7,qg=1/Jm,Uu="\\s*([+-]?\\d+)\\s*",ef="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ZQ=/^#([0-9a-f]{3,8})$/,QQ=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),JQ=new RegExp(`^rgb\\(${Al},${Al},${Al}\\)$`),eJ=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${ef}\\)$`),tJ=new RegExp(`^rgba\\(${Al},${Al},${Al},${ef}\\)$`),rJ=new RegExp(`^hsl\\(${ef},${Al},${Al}\\)$`),nJ=new RegExp(`^hsla\\(${ef},${Al},${Al},${ef}\\)$`),s6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_w(Tf,tf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l6,formatHex:l6,formatHex8:aJ,formatHsl:sJ,formatRgb:i6,toString:i6});function l6(){return this.rgb().formatHex()}function aJ(){return this.rgb().formatHex8()}function sJ(){return jM(this).formatHsl()}function i6(){return this.rgb().formatRgb()}function tf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=ZQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?o6(t):r===3?new Ba(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Eh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Eh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QQ.exec(e))?new Ba(t[1],t[2],t[3],1):(t=JQ.exec(e))?new Ba(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=eJ.exec(e))?Eh(t[1],t[2],t[3],t[4]):(t=tJ.exec(e))?Eh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rJ.exec(e))?d6(t[1],t[2]/100,t[3]/100,1):(t=nJ.exec(e))?d6(t[1],t[2]/100,t[3]/100,t[4]):s6.hasOwnProperty(e)?o6(s6[e]):e==="transparent"?new Ba(NaN,NaN,NaN,0):null}function o6(e){return new Ba(e>>16&255,e>>8&255,e&255,1)}function Eh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ba(e,t,r,n)}function lJ(e){return e instanceof Tf||(e=tf(e)),e?(e=e.rgb(),new Ba(e.r,e.g,e.b,e.opacity)):new Ba}function UE(e,t,r,n){return arguments.length===1?lJ(e):new Ba(e,t,r,n??1)}function Ba(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_w(Ba,UE,UM(Tf,{brighter(e){return e=e==null?qg:Math.pow(qg,e),new Ba(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jm:Math.pow(Jm,e),new Ba(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ba(Sc(this.r),Sc(this.g),Sc(this.b),$g(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c6,formatHex:c6,formatHex8:iJ,formatRgb:u6,toString:u6}));function c6(){return`#${yc(this.r)}${yc(this.g)}${yc(this.b)}`}function iJ(){return`#${yc(this.r)}${yc(this.g)}${yc(this.b)}${yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function u6(){const e=$g(this.opacity);return`${e===1?"rgb(":"rgba("}${Sc(this.r)}, ${Sc(this.g)}, ${Sc(this.b)}${e===1?")":`, ${e})`}`}function $g(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yc(e){return e=Sc(e),(e<16?"0":"")+e.toString(16)}function d6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Js(e,t,r,n)}function jM(e){if(e instanceof Js)return new Js(e.h,e.s,e.l,e.opacity);if(e instanceof Tf||(e=tf(e)),!e)return new Js;if(e instanceof Js)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,l=Math.min(t,r,n),o=Math.max(t,r,n),d=NaN,g=o-l,h=(o+l)/2;return g?(t===o?d=(r-n)/g+(r<n)*6:r===o?d=(n-t)/g+2:d=(t-r)/g+4,g/=h<.5?o+l:2-o-l,d*=60):g=h>0&&h<1?0:d,new Js(d,g,h,e.opacity)}function oJ(e,t,r,n){return arguments.length===1?jM(e):new Js(e,t,r,n??1)}function Js(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_w(Js,oJ,UM(Tf,{brighter(e){return e=e==null?qg:Math.pow(qg,e),new Js(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jm:Math.pow(Jm,e),new Js(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,l=2*r-n;return new Ba(qb(e>=240?e-240:e+120,l,n),qb(e,l,n),qb(e<120?e+240:e-120,l,n),this.opacity)},clamp(){return new Js(m6(this.h),wh(this.s),wh(this.l),$g(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$g(this.opacity);return`${e===1?"hsl(":"hsla("}${m6(this.h)}, ${wh(this.s)*100}%, ${wh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function m6(e){return e=(e||0)%360,e<0?e+360:e}function wh(e){return Math.max(0,Math.min(1,e||0))}function qb(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dw=e=>()=>e;function cJ(e,t){return function(r){return e+r*t}}function uJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function dJ(e){return(e=+e)==1?zM:function(t,r){return r-t?uJ(t,r,e):Dw(isNaN(t)?r:t)}}function zM(e,t){var r=t-e;return r?cJ(e,r):Dw(isNaN(e)?t:e)}const f6=(function e(t){var r=dJ(t);function n(l,o){var d=r((l=UE(l)).r,(o=UE(o)).r),g=r(l.g,o.g),h=r(l.b,o.b),x=zM(l.opacity,o.opacity);return function(y){return l.r=d(y),l.g=g(y),l.b=h(y),l.opacity=x(y),l+""}}return n.gamma=e,n})(1);function mJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),l;return function(o){for(l=0;l<r;++l)n[l]=e[l]*(1-o)+t[l]*o;return n}}function fJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,l=new Array(n),o=new Array(r),d;for(d=0;d<n;++d)l[d]=ud(e[d],t[d]);for(;d<r;++d)o[d]=t[d];return function(g){for(d=0;d<n;++d)o[d]=l[d](g);return o}}function gJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pJ(e,t){var r={},n={},l;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(l in t)l in e?r[l]=ud(e[l],t[l]):n[l]=t[l];return function(o){for(l in r)n[l]=r[l](o);return n}}var jE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$b=new RegExp(jE.source,"g");function yJ(e){return function(){return e}}function xJ(e){return function(t){return e(t)+""}}function bJ(e,t){var r=jE.lastIndex=$b.lastIndex=0,n,l,o,d=-1,g=[],h=[];for(e=e+"",t=t+"";(n=jE.exec(e))&&(l=$b.exec(t));)(o=l.index)>r&&(o=t.slice(r,o),g[d]?g[d]+=o:g[++d]=o),(n=n[0])===(l=l[0])?g[d]?g[d]+=l:g[++d]=l:(g[++d]=null,h.push({i:d,x:Gg(n,l)})),r=$b.lastIndex;return r<t.length&&(o=t.slice(r),g[d]?g[d]+=o:g[++d]=o),g.length<2?h[0]?xJ(h[0].x):yJ(t):(t=h.length,function(x){for(var y=0,w;y<t;++y)g[(w=h[y]).i]=w.x(x);return g.join("")})}function ud(e,t){var r=typeof t,n;return t==null||r==="boolean"?Dw(t):(r==="number"?Gg:r==="string"?(n=tf(t))?(t=n,f6):bJ:t instanceof tf?f6:t instanceof Date?gJ:fJ(t)?mJ:Array.isArray(t)?hJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pJ:Gg)(e,t)}function kw(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vJ(e,t){t===void 0&&(t=e,e=ud);for(var r=0,n=t.length-1,l=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(l,l=t[++r]);return function(d){var g=Math.max(0,Math.min(n-1,Math.floor(d*=n)));return o[g](d-g)}}function EJ(e){return function(){return e}}function Yg(e){return+e}var h6=[0,1];function ba(e){return e}function zE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:EJ(isNaN(t)?NaN:.5)}function wJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function NJ(e,t,r){var n=e[0],l=e[1],o=t[0],d=t[1];return l<n?(n=zE(l,n),o=r(d,o)):(n=zE(n,l),o=r(o,d)),function(g){return o(n(g))}}function SJ(e,t,r){var n=Math.min(e.length,t.length)-1,l=new Array(n),o=new Array(n),d=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++d<n;)l[d]=zE(e[d],e[d+1]),o[d]=r(t[d],t[d+1]);return function(g){var h=Af(e,g,1,n)-1;return o[h](l[h](g))}}function Of(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wp(){var e=h6,t=h6,r=ud,n,l,o,d=ba,g,h,x;function y(){var C=Math.min(e.length,t.length);return d!==ba&&(d=wJ(e[0],e[C-1])),g=C>2?SJ:NJ,h=x=null,w}function w(C){return C==null||isNaN(C=+C)?o:(h||(h=g(e.map(n),t,r)))(n(d(C)))}return w.invert=function(C){return d(l((x||(x=g(t,e.map(n),Gg)))(C)))},w.domain=function(C){return arguments.length?(e=Array.from(C,Yg),y()):e.slice()},w.range=function(C){return arguments.length?(t=Array.from(C),y()):t.slice()},w.rangeRound=function(C){return t=Array.from(C),r=kw,y()},w.clamp=function(C){return arguments.length?(d=C?!0:ba,y()):d!==ba},w.interpolate=function(C){return arguments.length?(r=C,y()):r},w.unknown=function(C){return arguments.length?(o=C,w):o},function(C,_){return n=C,l=_,y()}}function Mw(){return Wp()(ba,ba)}function CJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xg(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Zu(e){return e=Xg(Math.abs(e)),e?e[1]:NaN}function AJ(e,t){return function(r,n){for(var l=r.length,o=[],d=0,g=e[0],h=0;l>0&&g>0&&(h+g+1>n&&(g=Math.max(1,n-h)),o.push(r.substring(l-=g,l+g)),!((h+=g+1)>n));)g=e[d=(d+1)%e.length];return o.reverse().join(t)}}function TJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var OJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rf(e){if(!(t=OJ.exec(e)))throw new Error("invalid format: "+e);var t;return new Pw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}rf.prototype=Pw.prototype;function Pw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Pw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _J(e){e:for(var t=e.length,r=1,n=-1,l;r<t;++r)switch(e[r]){case".":n=l=r;break;case"0":n===0&&(n=r),l=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(l+1):e}var VM;function DJ(e,t){var r=Xg(e,t);if(!r)return e+"";var n=r[0],l=r[1],o=l-(VM=Math.max(-8,Math.min(8,Math.floor(l/3)))*3)+1,d=n.length;return o===d?n:o>d?n+new Array(o-d+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+Xg(e,Math.max(0,t+o-1))[0]}function g6(e,t){var r=Xg(e,t);if(!r)return e+"";var n=r[0],l=r[1];return l<0?"0."+new Array(-l).join("0")+n:n.length>l+1?n.slice(0,l+1)+"."+n.slice(l+1):n+new Array(l-n.length+2).join("0")}const p6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>g6(e*100,t),r:g6,s:DJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y6(e){return e}var x6=Array.prototype.map,b6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kJ(e){var t=e.grouping===void 0||e.thousands===void 0?y6:AJ(x6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",l=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?y6:TJ(x6.call(e.numerals,String)),d=e.percent===void 0?"%":e.percent+"",g=e.minus===void 0?"":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function x(w){w=rf(w);var C=w.fill,_=w.align,D=w.sign,k=w.symbol,M=w.zero,I=w.width,U=w.comma,R=w.precision,G=w.trim,F=w.type;F==="n"?(U=!0,F="g"):p6[F]||(R===void 0&&(R=12),G=!0,F="g"),(M||C==="0"&&_==="=")&&(M=!0,C="0",_="=");var j=k==="$"?r:k==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",L=k==="$"?n:/[%p]/.test(F)?d:"",H=p6[F],V=/[defgprs%]/.test(F);R=R===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function Q(Y){var X=j,he=L,pe,se,J;if(F==="c")he=H(Y)+he,Y="";else{Y=+Y;var ae=Y<0||1/Y<0;if(Y=isNaN(Y)?h:H(Math.abs(Y),R),G&&(Y=_J(Y)),ae&&+Y==0&&D!=="+"&&(ae=!1),X=(ae?D==="("?D:g:D==="-"||D==="("?"":D)+X,he=(F==="s"?b6[8+VM/3]:"")+he+(ae&&D==="("?")":""),V){for(pe=-1,se=Y.length;++pe<se;)if(J=Y.charCodeAt(pe),48>J||J>57){he=(J===46?l+Y.slice(pe+1):Y.slice(pe))+he,Y=Y.slice(0,pe);break}}}U&&!M&&(Y=t(Y,1/0));var Ee=X.length+Y.length+he.length,be=Ee<I?new Array(I-Ee+1).join(C):"";switch(U&&M&&(Y=t(be+Y,be.length?I-he.length:1/0),be=""),_){case"<":Y=X+Y+he+be;break;case"=":Y=X+be+Y+he;break;case"^":Y=be.slice(0,Ee=be.length>>1)+X+Y+he+be.slice(Ee);break;default:Y=be+X+Y+he;break}return o(Y)}return Q.toString=function(){return w+""},Q}function y(w,C){var _=x((w=rf(w),w.type="f",w)),D=Math.max(-8,Math.min(8,Math.floor(Zu(C)/3)))*3,k=Math.pow(10,-D),M=b6[8+D/3];return function(I){return _(k*I)+M}}return{format:x,formatPrefix:y}}var Nh,Iw,HM;MJ({thousands:",",grouping:[3],currency:["$",""]});function MJ(e){return Nh=kJ(e),Iw=Nh.format,HM=Nh.formatPrefix,Nh}function PJ(e){return Math.max(0,-Zu(Math.abs(e)))}function IJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zu(t)/3)))*3-Zu(Math.abs(e)))}function RJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Zu(t)-Zu(e))+1}function qM(e,t,r,n){var l=BE(e,t,r),o;switch(n=rf(n??",f"),n.type){case"s":{var d=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=IJ(l,d))&&(n.precision=o),HM(n,d)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=RJ(l,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=PJ(l))&&(n.precision=o-(n.type==="%")*2);break}}return Iw(n)}function Io(e){var t=e.domain;return e.ticks=function(r){var n=t();return RE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var l=t();return qM(l[0],l[l.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),l=0,o=n.length-1,d=n[l],g=n[o],h,x,y=10;for(g<d&&(x=d,d=g,g=x,x=l,l=o,o=x);y-- >0;){if(x=LE(d,g,r),x===h)return n[l]=d,n[o]=g,t(n);if(x>0)d=Math.floor(d/x)*x,g=Math.ceil(g/x)*x;else if(x<0)d=Math.ceil(d*x)/x,g=Math.floor(g*x)/x;else break;h=x}return e},e}function $M(){var e=Mw();return e.copy=function(){return Of(e,$M())},Ls.apply(e,arguments),Io(e)}function GM(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return GM(e).unknown(t)},e=arguments.length?Array.from(e,Yg):[0,1],Io(r)}function YM(e,t){e=e.slice();var r=0,n=e.length-1,l=e[r],o=e[n],d;return o<l&&(d=r,r=n,n=d,d=l,l=o,o=d),e[r]=t.floor(l),e[n]=t.ceil(o),e}function v6(e){return Math.log(e)}function E6(e){return Math.exp(e)}function LJ(e){return-Math.log(-e)}function BJ(e){return-Math.exp(-e)}function FJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function UJ(e){return e===10?FJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function w6(e){return(t,r)=>-e(-t,r)}function Rw(e){const t=e(v6,E6),r=t.domain;let n=10,l,o;function d(){return l=jJ(n),o=UJ(n),r()[0]<0?(l=w6(l),o=w6(o),e(LJ,BJ)):e(v6,E6),t}return t.base=function(g){return arguments.length?(n=+g,d()):n},t.domain=function(g){return arguments.length?(r(g),d()):r()},t.ticks=g=>{const h=r();let x=h[0],y=h[h.length-1];const w=y<x;w&&([x,y]=[y,x]);let C=l(x),_=l(y),D,k;const M=g==null?10:+g;let I=[];if(!(n%1)&&_-C<M){if(C=Math.floor(C),_=Math.ceil(_),x>0){for(;C<=_;++C)for(D=1;D<n;++D)if(k=C<0?D/o(-C):D*o(C),!(k<x)){if(k>y)break;I.push(k)}}else for(;C<=_;++C)for(D=n-1;D>=1;--D)if(k=C>0?D/o(-C):D*o(C),!(k<x)){if(k>y)break;I.push(k)}I.length*2<M&&(I=RE(x,y,M))}else I=RE(C,_,Math.min(_-C,M)).map(o);return w?I.reverse():I},t.tickFormat=(g,h)=>{if(g==null&&(g=10),h==null&&(h=n===10?"s":","),typeof h!="function"&&(!(n%1)&&(h=rf(h)).precision==null&&(h.trim=!0),h=Iw(h)),g===1/0)return h;const x=Math.max(1,n*g/t.ticks().length);return y=>{let w=y/o(Math.round(l(y)));return w*n<n-.5&&(w*=n),w<=x?h(y):""}},t.nice=()=>r(YM(r(),{floor:g=>o(Math.floor(l(g))),ceil:g=>o(Math.ceil(l(g)))})),t}function XM(){const e=Rw(Wp()).domain([1,10]);return e.copy=()=>Of(e,XM()).base(e.base()),Ls.apply(e,arguments),e}function N6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Lw(e){var t=1,r=e(N6(t),S6(t));return r.constant=function(n){return arguments.length?e(N6(t=+n),S6(t)):t},Io(r)}function WM(){var e=Lw(Wp());return e.copy=function(){return Of(e,WM()).constant(e.constant())},Ls.apply(e,arguments)}function C6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VJ(e){return e<0?-e*e:e*e}function Bw(e){var t=e(ba,ba),r=1;function n(){return r===1?e(ba,ba):r===.5?e(zJ,VJ):e(C6(r),C6(1/r))}return t.exponent=function(l){return arguments.length?(r=+l,n()):r},Io(t)}function Fw(){var e=Bw(Wp());return e.copy=function(){return Of(e,Fw()).exponent(e.exponent())},Ls.apply(e,arguments),e}function HJ(){return Fw.apply(null,arguments).exponent(.5)}function A6(e){return Math.sign(e)*e*e}function qJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KM(){var e=Mw(),t=[0,1],r=!1,n;function l(o){var d=qJ(e(o));return isNaN(d)?n:r?Math.round(d):d}return l.invert=function(o){return e.invert(A6(o))},l.domain=function(o){return arguments.length?(e.domain(o),l):e.domain()},l.range=function(o){return arguments.length?(e.range((t=Array.from(o,Yg)).map(A6)),l):t.slice()},l.rangeRound=function(o){return l.range(o).round(!0)},l.round=function(o){return arguments.length?(r=!!o,l):r},l.clamp=function(o){return arguments.length?(e.clamp(o),l):e.clamp()},l.unknown=function(o){return arguments.length?(n=o,l):n},l.copy=function(){return KM(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ls.apply(l,arguments),Io(l)}function ZM(){var e=[],t=[],r=[],n;function l(){var d=0,g=Math.max(1,t.length);for(r=new Array(g-1);++d<g;)r[d-1]=XQ(e,d/g);return o}function o(d){return d==null||isNaN(d=+d)?n:t[Af(r,d)]}return o.invertExtent=function(d){var g=t.indexOf(d);return g<0?[NaN,NaN]:[g>0?r[g-1]:e[0],g<r.length?r[g]:e[e.length-1]]},o.domain=function(d){if(!arguments.length)return e.slice();e=[];for(let g of d)g!=null&&!isNaN(g=+g)&&e.push(g);return e.sort(So),l()},o.range=function(d){return arguments.length?(t=Array.from(d),l()):t.slice()},o.unknown=function(d){return arguments.length?(n=d,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return ZM().domain(e).range(t).unknown(n)},Ls.apply(o,arguments)}function QM(){var e=0,t=1,r=1,n=[.5],l=[0,1],o;function d(h){return h!=null&&h<=h?l[Af(n,h,0,r)]:o}function g(){var h=-1;for(n=new Array(r);++h<r;)n[h]=((h+1)*t-(h-r)*e)/(r+1);return d}return d.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,g()):[e,t]},d.range=function(h){return arguments.length?(r=(l=Array.from(h)).length-1,g()):l.slice()},d.invertExtent=function(h){var x=l.indexOf(h);return x<0?[NaN,NaN]:x<1?[e,n[0]]:x>=r?[n[r-1],t]:[n[x-1],n[x]]},d.unknown=function(h){return arguments.length&&(o=h),d},d.thresholds=function(){return n.slice()},d.copy=function(){return QM().domain([e,t]).range(l).unknown(o)},Ls.apply(Io(d),arguments)}function JM(){var e=[.5],t=[0,1],r,n=1;function l(o){return o!=null&&o<=o?t[Af(e,o,0,n)]:r}return l.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),l):e.slice()},l.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),l):t.slice()},l.invertExtent=function(o){var d=t.indexOf(o);return[e[d-1],e[d]]},l.unknown=function(o){return arguments.length?(r=o,l):r},l.copy=function(){return JM().domain(e).range(t).unknown(r)},Ls.apply(l,arguments)}const Gb=new Date,Yb=new Date;function Fn(e,t,r,n){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const d=l(o),g=l.ceil(o);return o-d<g-o?d:g},l.offset=(o,d)=>(t(o=new Date(+o),d==null?1:Math.floor(d)),o),l.range=(o,d,g)=>{const h=[];if(o=l.ceil(o),g=g==null?1:Math.floor(g),!(o<d)||!(g>0))return h;let x;do h.push(x=new Date(+o)),t(o,g),e(o);while(x<o&&o<d);return h},l.filter=o=>Fn(d=>{if(d>=d)for(;e(d),!o(d);)d.setTime(d-1)},(d,g)=>{if(d>=d)if(g<0)for(;++g<=0;)for(;t(d,-1),!o(d););else for(;--g>=0;)for(;t(d,1),!o(d););}),r&&(l.count=(o,d)=>(Gb.setTime(+o),Yb.setTime(+d),e(Gb),e(Yb),Math.floor(r(Gb,Yb))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(n?d=>n(d)%o===0:d=>l.count(0,d)%o===0):l)),l}const Wg=Fn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Wg);Wg.range;const ii=1e3,Os=ii*60,oi=Os*60,Ei=oi*24,Uw=Ei*7,T6=Ei*30,Xb=Ei*365,xc=Fn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCSeconds());xc.range;const jw=Fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getMinutes());jw.range;const zw=Fn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCMinutes());zw.range;const Vw=Fn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ii-e.getMinutes()*Os)},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getHours());Vw.range;const Hw=Fn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*oi)},(e,t)=>(t-e)/oi,e=>e.getUTCHours());Hw.range;const _f=Fn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Os)/Ei,e=>e.getDate()-1);_f.range;const Kp=Fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>e.getUTCDate()-1);Kp.range;const eP=Fn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ei,e=>Math.floor(e/Ei));eP.range;function Ic(e){return Fn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Os)/Uw)}const Zp=Ic(0),Kg=Ic(1),$J=Ic(2),GJ=Ic(3),Qu=Ic(4),YJ=Ic(5),XJ=Ic(6);Zp.range;Kg.range;$J.range;GJ.range;Qu.range;YJ.range;XJ.range;function Rc(e){return Fn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Uw)}const Qp=Rc(0),Zg=Rc(1),WJ=Rc(2),KJ=Rc(3),Ju=Rc(4),ZJ=Rc(5),QJ=Rc(6);Qp.range;Zg.range;WJ.range;KJ.range;Ju.range;ZJ.range;QJ.range;const qw=Fn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qw.range;const $w=Fn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$w.range;const wi=Fn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());wi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});wi.range;const Ni=Fn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ni.range;function tP(e,t,r,n,l,o){const d=[[xc,1,ii],[xc,5,5*ii],[xc,15,15*ii],[xc,30,30*ii],[o,1,Os],[o,5,5*Os],[o,15,15*Os],[o,30,30*Os],[l,1,oi],[l,3,3*oi],[l,6,6*oi],[l,12,12*oi],[n,1,Ei],[n,2,2*Ei],[r,1,Uw],[t,1,T6],[t,3,3*T6],[e,1,Xb]];function g(x,y,w){const C=y<x;C&&([x,y]=[y,x]);const _=w&&typeof w.range=="function"?w:h(x,y,w),D=_?_.range(x,+y+1):[];return C?D.reverse():D}function h(x,y,w){const C=Math.abs(y-x)/w,_=Aw(([,,M])=>M).right(d,C);if(_===d.length)return e.every(BE(x/Xb,y/Xb,w));if(_===0)return Wg.every(Math.max(BE(x,y,w),1));const[D,k]=d[C/d[_-1][2]<d[_][2]/C?_-1:_];return D.every(k)}return[g,h]}const[JJ,eee]=tP(Ni,$w,Qp,eP,Hw,zw),[tee,ree]=tP(wi,qw,Zp,_f,Vw,jw);function Wb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Kb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function pm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function nee(e){var t=e.dateTime,r=e.date,n=e.time,l=e.periods,o=e.days,d=e.shortDays,g=e.months,h=e.shortMonths,x=ym(l),y=xm(l),w=ym(o),C=xm(o),_=ym(d),D=xm(d),k=ym(g),M=xm(g),I=ym(h),U=xm(h),R={a:ae,A:Ee,b:be,B:re,c:null,d:P6,e:P6,f:Aee,g:Lee,G:Fee,H:Nee,I:See,j:Cee,L:rP,m:Tee,M:Oee,p:W,q:te,Q:L6,s:B6,S:_ee,u:Dee,U:kee,V:Mee,w:Pee,W:Iee,x:null,X:null,y:Ree,Y:Bee,Z:Uee,"%":R6},G={a:me,A:ue,b:Ne,B:le,c:null,d:I6,e:I6,f:Hee,g:Jee,G:tte,H:jee,I:zee,j:Vee,L:aP,m:qee,M:$ee,p:oe,q:ze,Q:L6,s:B6,S:Gee,u:Yee,U:Xee,V:Wee,w:Kee,W:Zee,x:null,X:null,y:Qee,Y:ete,Z:rte,"%":R6},F={a:Q,A:Y,b:X,B:he,c:pe,d:k6,e:k6,f:bee,g:D6,G:_6,H:M6,I:M6,j:gee,L:xee,m:hee,M:pee,p:V,q:fee,Q:Eee,s:wee,S:yee,u:oee,U:cee,V:uee,w:iee,W:dee,x:se,X:J,y:D6,Y:_6,Z:mee,"%":vee};R.x=j(r,R),R.X=j(n,R),R.c=j(t,R),G.x=j(r,G),G.X=j(n,G),G.c=j(t,G);function j(ve,Ye){return function(rt){var Le=[],ye=-1,Ue=0,Se=ve.length,We,_e,et;for(rt instanceof Date||(rt=new Date(+rt));++ye<Se;)ve.charCodeAt(ye)===37&&(Le.push(ve.slice(Ue,ye)),(_e=O6[We=ve.charAt(++ye)])!=null?We=ve.charAt(++ye):_e=We==="e"?" ":"0",(et=Ye[We])&&(We=et(rt,_e)),Le.push(We),Ue=ye+1);return Le.push(ve.slice(Ue,ye)),Le.join("")}}function L(ve,Ye){return function(rt){var Le=pm(1900,void 0,1),ye=H(Le,ve,rt+="",0),Ue,Se;if(ye!=rt.length)return null;if("Q"in Le)return new Date(Le.Q);if("s"in Le)return new Date(Le.s*1e3+("L"in Le?Le.L:0));if(Ye&&!("Z"in Le)&&(Le.Z=0),"p"in Le&&(Le.H=Le.H%12+Le.p*12),Le.m===void 0&&(Le.m="q"in Le?Le.q:0),"V"in Le){if(Le.V<1||Le.V>53)return null;"w"in Le||(Le.w=1),"Z"in Le?(Ue=Kb(pm(Le.y,0,1)),Se=Ue.getUTCDay(),Ue=Se>4||Se===0?Zg.ceil(Ue):Zg(Ue),Ue=Kp.offset(Ue,(Le.V-1)*7),Le.y=Ue.getUTCFullYear(),Le.m=Ue.getUTCMonth(),Le.d=Ue.getUTCDate()+(Le.w+6)%7):(Ue=Wb(pm(Le.y,0,1)),Se=Ue.getDay(),Ue=Se>4||Se===0?Kg.ceil(Ue):Kg(Ue),Ue=_f.offset(Ue,(Le.V-1)*7),Le.y=Ue.getFullYear(),Le.m=Ue.getMonth(),Le.d=Ue.getDate()+(Le.w+6)%7)}else("W"in Le||"U"in Le)&&("w"in Le||(Le.w="u"in Le?Le.u%7:"W"in Le?1:0),Se="Z"in Le?Kb(pm(Le.y,0,1)).getUTCDay():Wb(pm(Le.y,0,1)).getDay(),Le.m=0,Le.d="W"in Le?(Le.w+6)%7+Le.W*7-(Se+5)%7:Le.w+Le.U*7-(Se+6)%7);return"Z"in Le?(Le.H+=Le.Z/100|0,Le.M+=Le.Z%100,Kb(Le)):Wb(Le)}}function H(ve,Ye,rt,Le){for(var ye=0,Ue=Ye.length,Se=rt.length,We,_e;ye<Ue;){if(Le>=Se)return-1;if(We=Ye.charCodeAt(ye++),We===37){if(We=Ye.charAt(ye++),_e=F[We in O6?Ye.charAt(ye++):We],!_e||(Le=_e(ve,rt,Le))<0)return-1}else if(We!=rt.charCodeAt(Le++))return-1}return Le}function V(ve,Ye,rt){var Le=x.exec(Ye.slice(rt));return Le?(ve.p=y.get(Le[0].toLowerCase()),rt+Le[0].length):-1}function Q(ve,Ye,rt){var Le=_.exec(Ye.slice(rt));return Le?(ve.w=D.get(Le[0].toLowerCase()),rt+Le[0].length):-1}function Y(ve,Ye,rt){var Le=w.exec(Ye.slice(rt));return Le?(ve.w=C.get(Le[0].toLowerCase()),rt+Le[0].length):-1}function X(ve,Ye,rt){var Le=I.exec(Ye.slice(rt));return Le?(ve.m=U.get(Le[0].toLowerCase()),rt+Le[0].length):-1}function he(ve,Ye,rt){var Le=k.exec(Ye.slice(rt));return Le?(ve.m=M.get(Le[0].toLowerCase()),rt+Le[0].length):-1}function pe(ve,Ye,rt){return H(ve,t,Ye,rt)}function se(ve,Ye,rt){return H(ve,r,Ye,rt)}function J(ve,Ye,rt){return H(ve,n,Ye,rt)}function ae(ve){return d[ve.getDay()]}function Ee(ve){return o[ve.getDay()]}function be(ve){return h[ve.getMonth()]}function re(ve){return g[ve.getMonth()]}function W(ve){return l[+(ve.getHours()>=12)]}function te(ve){return 1+~~(ve.getMonth()/3)}function me(ve){return d[ve.getUTCDay()]}function ue(ve){return o[ve.getUTCDay()]}function Ne(ve){return h[ve.getUTCMonth()]}function le(ve){return g[ve.getUTCMonth()]}function oe(ve){return l[+(ve.getUTCHours()>=12)]}function ze(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var Ye=j(ve+="",R);return Ye.toString=function(){return ve},Ye},parse:function(ve){var Ye=L(ve+="",!1);return Ye.toString=function(){return ve},Ye},utcFormat:function(ve){var Ye=j(ve+="",G);return Ye.toString=function(){return ve},Ye},utcParse:function(ve){var Ye=L(ve+="",!0);return Ye.toString=function(){return ve},Ye}}}var O6={"-":"",_:" ",0:"0"},Yn=/^\s*\d+/,aee=/^%/,see=/[\\^$*+?|[\]().{}]/g;function ar(e,t,r){var n=e<0?"-":"",l=(n?-e:e)+"",o=l.length;return n+(o<r?new Array(r-o+1).join(t)+l:l)}function lee(e){return e.replace(see,"\\$&")}function ym(e){return new RegExp("^(?:"+e.map(lee).join("|")+")","i")}function xm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function iee(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function oee(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function cee(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function uee(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function dee(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function _6(e,t,r){var n=Yn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function D6(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function fee(e,t,r){var n=Yn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function hee(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function k6(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function gee(e,t,r){var n=Yn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function M6(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pee(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yee(e,t,r){var n=Yn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xee(e,t,r){var n=Yn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function bee(e,t,r){var n=Yn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vee(e,t,r){var n=aee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Eee(e,t,r){var n=Yn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function wee(e,t,r){var n=Yn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function P6(e,t){return ar(e.getDate(),t,2)}function Nee(e,t){return ar(e.getHours(),t,2)}function See(e,t){return ar(e.getHours()%12||12,t,2)}function Cee(e,t){return ar(1+_f.count(wi(e),e),t,3)}function rP(e,t){return ar(e.getMilliseconds(),t,3)}function Aee(e,t){return rP(e,t)+"000"}function Tee(e,t){return ar(e.getMonth()+1,t,2)}function Oee(e,t){return ar(e.getMinutes(),t,2)}function _ee(e,t){return ar(e.getSeconds(),t,2)}function Dee(e){var t=e.getDay();return t===0?7:t}function kee(e,t){return ar(Zp.count(wi(e)-1,e),t,2)}function nP(e){var t=e.getDay();return t>=4||t===0?Qu(e):Qu.ceil(e)}function Mee(e,t){return e=nP(e),ar(Qu.count(wi(e),e)+(wi(e).getDay()===4),t,2)}function Pee(e){return e.getDay()}function Iee(e,t){return ar(Kg.count(wi(e)-1,e),t,2)}function Ree(e,t){return ar(e.getFullYear()%100,t,2)}function Lee(e,t){return e=nP(e),ar(e.getFullYear()%100,t,2)}function Bee(e,t){return ar(e.getFullYear()%1e4,t,4)}function Fee(e,t){var r=e.getDay();return e=r>=4||r===0?Qu(e):Qu.ceil(e),ar(e.getFullYear()%1e4,t,4)}function Uee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ar(t/60|0,"0",2)+ar(t%60,"0",2)}function I6(e,t){return ar(e.getUTCDate(),t,2)}function jee(e,t){return ar(e.getUTCHours(),t,2)}function zee(e,t){return ar(e.getUTCHours()%12||12,t,2)}function Vee(e,t){return ar(1+Kp.count(Ni(e),e),t,3)}function aP(e,t){return ar(e.getUTCMilliseconds(),t,3)}function Hee(e,t){return aP(e,t)+"000"}function qee(e,t){return ar(e.getUTCMonth()+1,t,2)}function $ee(e,t){return ar(e.getUTCMinutes(),t,2)}function Gee(e,t){return ar(e.getUTCSeconds(),t,2)}function Yee(e){var t=e.getUTCDay();return t===0?7:t}function Xee(e,t){return ar(Qp.count(Ni(e)-1,e),t,2)}function sP(e){var t=e.getUTCDay();return t>=4||t===0?Ju(e):Ju.ceil(e)}function Wee(e,t){return e=sP(e),ar(Ju.count(Ni(e),e)+(Ni(e).getUTCDay()===4),t,2)}function Kee(e){return e.getUTCDay()}function Zee(e,t){return ar(Zg.count(Ni(e)-1,e),t,2)}function Qee(e,t){return ar(e.getUTCFullYear()%100,t,2)}function Jee(e,t){return e=sP(e),ar(e.getUTCFullYear()%100,t,2)}function ete(e,t){return ar(e.getUTCFullYear()%1e4,t,4)}function tte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ju(e):Ju.ceil(e),ar(e.getUTCFullYear()%1e4,t,4)}function rte(){return"+0000"}function R6(){return"%"}function L6(e){return+e}function B6(e){return Math.floor(+e/1e3)}var bu,lP,iP;nte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nte(e){return bu=nee(e),lP=bu.format,bu.parse,iP=bu.utcFormat,bu.utcParse,bu}function ate(e){return new Date(e)}function ste(e){return e instanceof Date?+e:+new Date(+e)}function Gw(e,t,r,n,l,o,d,g,h,x){var y=Mw(),w=y.invert,C=y.domain,_=x(".%L"),D=x(":%S"),k=x("%I:%M"),M=x("%I %p"),I=x("%a %d"),U=x("%b %d"),R=x("%B"),G=x("%Y");function F(j){return(h(j)<j?_:g(j)<j?D:d(j)<j?k:o(j)<j?M:n(j)<j?l(j)<j?I:U:r(j)<j?R:G)(j)}return y.invert=function(j){return new Date(w(j))},y.domain=function(j){return arguments.length?C(Array.from(j,ste)):C().map(ate)},y.ticks=function(j){var L=C();return e(L[0],L[L.length-1],j??10)},y.tickFormat=function(j,L){return L==null?F:x(L)},y.nice=function(j){var L=C();return(!j||typeof j.range!="function")&&(j=t(L[0],L[L.length-1],j??10)),j?C(YM(L,j)):y},y.copy=function(){return Of(y,Gw(e,t,r,n,l,o,d,g,h,x))},y}function lte(){return Ls.apply(Gw(tee,ree,wi,qw,Zp,_f,Vw,jw,xc,lP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ite(){return Ls.apply(Gw(JJ,eee,Ni,$w,Qp,Kp,Hw,zw,xc,iP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jp(){var e=0,t=1,r,n,l,o,d=ba,g=!1,h;function x(w){return w==null||isNaN(w=+w)?h:d(l===0?.5:(w=(o(w)-r)*l,g?Math.max(0,Math.min(1,w)):w))}x.domain=function(w){return arguments.length?([e,t]=w,r=o(e=+e),n=o(t=+t),l=r===n?0:1/(n-r),x):[e,t]},x.clamp=function(w){return arguments.length?(g=!!w,x):g},x.interpolator=function(w){return arguments.length?(d=w,x):d};function y(w){return function(C){var _,D;return arguments.length?([_,D]=C,d=w(_,D),x):[d(0),d(1)]}}return x.range=y(ud),x.rangeRound=y(kw),x.unknown=function(w){return arguments.length?(h=w,x):h},function(w){return o=w,r=w(e),n=w(t),l=r===n?0:1/(n-r),x}}function Ro(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function oP(){var e=Io(Jp()(ba));return e.copy=function(){return Ro(e,oP())},Oi.apply(e,arguments)}function cP(){var e=Rw(Jp()).domain([1,10]);return e.copy=function(){return Ro(e,cP()).base(e.base())},Oi.apply(e,arguments)}function uP(){var e=Lw(Jp());return e.copy=function(){return Ro(e,uP()).constant(e.constant())},Oi.apply(e,arguments)}function Yw(){var e=Bw(Jp());return e.copy=function(){return Ro(e,Yw()).exponent(e.exponent())},Oi.apply(e,arguments)}function ote(){return Yw.apply(null,arguments).exponent(.5)}function dP(){var e=[],t=ba;function r(n){if(n!=null&&!isNaN(n=+n))return t((Af(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let l of n)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(So),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,l)=>t(l/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(l,o)=>YQ(e,o/n))},r.copy=function(){return dP(t).domain(e)},Oi.apply(r,arguments)}function e1(){var e=0,t=.5,r=1,n=1,l,o,d,g,h,x=ba,y,w=!1,C;function _(k){return isNaN(k=+k)?C:(k=.5+((k=+y(k))-o)*(n*k<n*o?g:h),x(w?Math.max(0,Math.min(1,k)):k))}_.domain=function(k){return arguments.length?([e,t,r]=k,l=y(e=+e),o=y(t=+t),d=y(r=+r),g=l===o?0:.5/(o-l),h=o===d?0:.5/(d-o),n=o<l?-1:1,_):[e,t,r]},_.clamp=function(k){return arguments.length?(w=!!k,_):w},_.interpolator=function(k){return arguments.length?(x=k,_):x};function D(k){return function(M){var I,U,R;return arguments.length?([I,U,R]=M,x=vJ(k,[I,U,R]),_):[x(0),x(.5),x(1)]}}return _.range=D(ud),_.rangeRound=D(kw),_.unknown=function(k){return arguments.length?(C=k,_):C},function(k){return y=k,l=k(e),o=k(t),d=k(r),g=l===o?0:.5/(o-l),h=o===d?0:.5/(d-o),n=o<l?-1:1,_}}function mP(){var e=Io(e1()(ba));return e.copy=function(){return Ro(e,mP())},Oi.apply(e,arguments)}function fP(){var e=Rw(e1()).domain([.1,1,10]);return e.copy=function(){return Ro(e,fP()).base(e.base())},Oi.apply(e,arguments)}function hP(){var e=Lw(e1());return e.copy=function(){return Ro(e,hP()).constant(e.constant())},Oi.apply(e,arguments)}function Xw(){var e=Bw(e1());return e.copy=function(){return Ro(e,Xw()).exponent(e.exponent())},Oi.apply(e,arguments)}function cte(){return Xw.apply(null,arguments).exponent(.5)}const Am=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ow,scaleDiverging:mP,scaleDivergingLog:fP,scaleDivergingPow:Xw,scaleDivergingSqrt:cte,scaleDivergingSymlog:hP,scaleIdentity:GM,scaleImplicit:FE,scaleLinear:$M,scaleLog:XM,scaleOrdinal:Tw,scalePoint:KQ,scalePow:Fw,scaleQuantile:ZM,scaleQuantize:QM,scaleRadial:KM,scaleSequential:oP,scaleSequentialLog:cP,scaleSequentialPow:Yw,scaleSequentialQuantile:dP,scaleSequentialSqrt:ote,scaleSequentialSymlog:uP,scaleSqrt:HJ,scaleSymlog:WM,scaleThreshold:JM,scaleTime:lte,scaleUtc:ite,tickFormat:qM},Symbol.toStringTag,{value:"Module"}));var Lo=e=>e.chartData,Ww=ke([Lo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),gP=(e,t,r,n)=>n?Ww(e):Lo(e);function _o(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if($n(t)&&$n(r))return!0}return!1}function F6(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function pP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,l,o;if($n(r))l=r;else if(typeof r=="function")return;if($n(n))o=n;else if(typeof n=="function")return;var d=[l,o];if(_o(d))return d}}function ute(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(_o(n))return F6(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[l,o]=e,d,g;if(l==="auto")t!=null&&(d=Math.min(...t));else if(Dt(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t?.[0]))}catch{}else if(typeof l=="string"&&uT.test(l)){var h=uT.exec(l);if(h==null||t==null)d=void 0;else{var x=+h[1];d=t[0]-x}}else d=t?.[0];if(o==="auto")t!=null&&(g=Math.max(...t));else if(Dt(o))g=o;else if(typeof o=="function")try{t!=null&&(g=o(t?.[1]))}catch{}else if(typeof o=="string"&&dT.test(o)){var y=dT.exec(o);if(y==null||t==null)g=void 0;else{var w=+y[1];g=t[1]+w}}else g=t?.[1];var C=[d,g];if(_o(C))return t==null?C:F6(C,t,r)}}}var dd=1e9,dte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Zw,Hr=!0,Ps="[DecimalError] ",Cc=Ps+"Invalid argument: ",Kw=Ps+"Exponent out of range: ",md=Math.floor,fc=Math.pow,mte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rs,qn=1e7,Br=7,yP=9007199254740991,Qg=md(yP/Br),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,r,n,l,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,l=e.d.length,t=0,r=n<l?n:l;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===l?0:n>l^o.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Br;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(e){return di(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,r=t.constructor;return Cr(di(t,new r(e),0,1),r.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return _n(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,r=this,n=r.constructor,l=n.precision,o=l+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(rs))throw Error(Ps+"NaN");if(r.s<1)throw Error(Ps+(r.s?"NaN":"-Infinity"));return r.eq(rs)?new n(0):(Hr=!1,t=di(nf(r,o),nf(e,o),o),Hr=!0,Cr(t,l))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vP(t,e):xP(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,r=this,n=r.constructor,l=n.precision;if(e=new n(e),!e.s)throw Error(Ps+"NaN");return r.s?(Hr=!1,t=di(r,e,0,1).times(e),Hr=!0,r.minus(t)):Cr(new n(r),l)};ct.naturalExponential=ct.exp=function(){return bP(this)};ct.naturalLogarithm=ct.ln=function(){return nf(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xP(t,e):vP(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,r,n,l=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Cc+e);if(t=_n(l)+1,n=l.d.length-1,r=n*Br+1,n=l.d[n],n){for(;n%10==0;n/=10)r--;for(n=l.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ct.squareRoot=ct.sqrt=function(){var e,t,r,n,l,o,d,g=this,h=g.constructor;if(g.s<1){if(!g.s)return new h(0);throw Error(Ps+"NaN")}for(e=_n(g),Hr=!1,l=Math.sqrt(+g),l==0||l==1/0?(t=El(g.d),(t.length+e)%2==0&&(t+="0"),l=Math.sqrt(t),e=md((e+1)/2)-(e<0||e%2),l==1/0?t="5e"+e:(t=l.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new h(t)):n=new h(l.toString()),r=h.precision,l=d=r+3;;)if(o=n,n=o.plus(di(g,o,d+2)).times(.5),El(o.d).slice(0,d)===(t=El(n.d)).slice(0,d)){if(t=t.slice(d-3,d+1),l==d&&t=="4999"){if(Cr(o,r+1,0),o.times(o).eq(g)){n=o;break}}else if(t!="9999")break;d+=4}return Hr=!0,Cr(n,r)};ct.times=ct.mul=function(e){var t,r,n,l,o,d,g,h,x,y=this,w=y.constructor,C=y.d,_=(e=new w(e)).d;if(!y.s||!e.s)return new w(0);for(e.s*=y.s,r=y.e+e.e,h=C.length,x=_.length,h<x&&(o=C,C=_,_=o,d=h,h=x,x=d),o=[],d=h+x,n=d;n--;)o.push(0);for(n=x;--n>=0;){for(t=0,l=h+n;l>n;)g=o[l]+_[n]*C[l-n-1]+t,o[l--]=g%qn|0,t=g/qn|0;o[l]=(o[l]+t)%qn|0}for(;!o[--d];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,Hr?Cr(e,w.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(kl(e,0,dd),t===void 0?t=n.rounding:kl(t,0,8),Cr(r,e+_n(r)+1,t))};ct.toExponential=function(e,t){var r,n=this,l=n.constructor;return e===void 0?r=kc(n,!0):(kl(e,0,dd),t===void 0?t=l.rounding:kl(t,0,8),n=Cr(new l(n),e+1,t),r=kc(n,!0,e+1)),r};ct.toFixed=function(e,t){var r,n,l=this,o=l.constructor;return e===void 0?kc(l):(kl(e,0,dd),t===void 0?t=o.rounding:kl(t,0,8),n=Cr(new o(l),e+_n(l)+1,t),r=kc(n.abs(),!1,e+_n(n)+1),l.isneg()&&!l.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return Cr(new t(e),_n(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,r,n,l,o,d,g=this,h=g.constructor,x=12,y=+(e=new h(e));if(!e.s)return new h(rs);if(g=new h(g),!g.s){if(e.s<1)throw Error(Ps+"Infinity");return g}if(g.eq(rs))return g;if(n=h.precision,e.eq(rs))return Cr(g,n);if(t=e.e,r=e.d.length-1,d=t>=r,o=g.s,d){if((r=y<0?-y:y)<=yP){for(l=new h(rs),t=Math.ceil(n/Br+4),Hr=!1;r%2&&(l=l.times(g),j6(l.d,t)),r=md(r/2),r!==0;)g=g.times(g),j6(g.d,t);return Hr=!0,e.s<0?new h(rs).div(l):Cr(l,n)}}else if(o<0)throw Error(Ps+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,g.s=1,Hr=!1,l=e.times(nf(g,n+x)),Hr=!0,l=bP(l),l.s=o,l};ct.toPrecision=function(e,t){var r,n,l=this,o=l.constructor;return e===void 0?(r=_n(l),n=kc(l,r<=o.toExpNeg||r>=o.toExpPos)):(kl(e,1,dd),t===void 0?t=o.rounding:kl(t,0,8),l=Cr(new o(l),e,t),r=_n(l),n=kc(l,e<=r||r<=o.toExpNeg,e)),n};ct.toSignificantDigits=ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(kl(e,1,dd),t===void 0?t=n.rounding:kl(t,0,8)),Cr(new n(r),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_n(e),r=e.constructor;return kc(e,t<=r.toExpNeg||t>=r.toExpPos)};function xP(e,t){var r,n,l,o,d,g,h,x,y=e.constructor,w=y.precision;if(!e.s||!t.s)return t.s||(t=new y(e)),Hr?Cr(t,w):t;if(h=e.d,x=t.d,d=e.e,l=t.e,h=h.slice(),o=d-l,o){for(o<0?(n=h,o=-o,g=x.length):(n=x,l=d,g=h.length),d=Math.ceil(w/Br),g=d>g?d+1:g+1,o>g&&(o=g,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(g=h.length,o=x.length,g-o<0&&(o=g,n=x,x=h,h=n),r=0;o;)r=(h[--o]=h[o]+x[o]+r)/qn|0,h[o]%=qn;for(r&&(h.unshift(r),++l),g=h.length;h[--g]==0;)h.pop();return t.d=h,t.e=l,Hr?Cr(t,w):t}function kl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Cc+e)}function El(e){var t,r,n,l=e.length-1,o="",d=e[0];if(l>0){for(o+=d,t=1;t<l;t++)n=e[t]+"",r=Br-n.length,r&&(o+=Eo(r)),o+=n;d=e[t],n=d+"",r=Br-n.length,r&&(o+=Eo(r))}else if(d===0)return"0";for(;d%10===0;)d/=10;return o+d}var di=(function(){function e(n,l){var o,d=0,g=n.length;for(n=n.slice();g--;)o=n[g]*l+d,n[g]=o%qn|0,d=o/qn|0;return d&&n.unshift(d),n}function t(n,l,o,d){var g,h;if(o!=d)h=o>d?1:-1;else for(g=h=0;g<o;g++)if(n[g]!=l[g]){h=n[g]>l[g]?1:-1;break}return h}function r(n,l,o){for(var d=0;o--;)n[o]-=d,d=n[o]<l[o]?1:0,n[o]=d*qn+n[o]-l[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,l,o,d){var g,h,x,y,w,C,_,D,k,M,I,U,R,G,F,j,L,H,V=n.constructor,Q=n.s==l.s?1:-1,Y=n.d,X=l.d;if(!n.s)return new V(n);if(!l.s)throw Error(Ps+"Division by zero");for(h=n.e-l.e,L=X.length,F=Y.length,_=new V(Q),D=_.d=[],x=0;X[x]==(Y[x]||0);)++x;if(X[x]>(Y[x]||0)&&--h,o==null?U=o=V.precision:d?U=o+(_n(n)-_n(l))+1:U=o,U<0)return new V(0);if(U=U/Br+2|0,x=0,L==1)for(y=0,X=X[0],U++;(x<F||y)&&U--;x++)R=y*qn+(Y[x]||0),D[x]=R/X|0,y=R%X|0;else{for(y=qn/(X[0]+1)|0,y>1&&(X=e(X,y),Y=e(Y,y),L=X.length,F=Y.length),G=L,k=Y.slice(0,L),M=k.length;M<L;)k[M++]=0;H=X.slice(),H.unshift(0),j=X[0],X[1]>=qn/2&&++j;do y=0,g=t(X,k,L,M),g<0?(I=k[0],L!=M&&(I=I*qn+(k[1]||0)),y=I/j|0,y>1?(y>=qn&&(y=qn-1),w=e(X,y),C=w.length,M=k.length,g=t(w,k,C,M),g==1&&(y--,r(w,L<C?H:X,C))):(y==0&&(g=y=1),w=X.slice()),C=w.length,C<M&&w.unshift(0),r(k,w,M),g==-1&&(M=k.length,g=t(X,k,L,M),g<1&&(y++,r(k,L<M?H:X,M))),M=k.length):g===0&&(y++,k=[0]),D[x++]=y,g&&k[0]?k[M++]=Y[G]||0:(k=[Y[G]],M=1);while((G++<F||k[0]!==void 0)&&U--)}return D[0]||D.shift(),_.e=h,Cr(_,d?o+_n(_)+1:o)}})();function bP(e,t){var r,n,l,o,d,g,h=0,x=0,y=e.constructor,w=y.precision;if(_n(e)>16)throw Error(Kw+_n(e));if(!e.s)return new y(rs);for(Hr=!1,g=w,d=new y(.03125);e.abs().gte(.1);)e=e.times(d),x+=5;for(n=Math.log(fc(2,x))/Math.LN10*2+5|0,g+=n,r=l=o=new y(rs),y.precision=g;;){if(l=Cr(l.times(e),g),r=r.times(++h),d=o.plus(di(l,r,g)),El(d.d).slice(0,g)===El(o.d).slice(0,g)){for(;x--;)o=Cr(o.times(o),g);return y.precision=w,t==null?(Hr=!0,Cr(o,w)):o}o=d}}function _n(e){for(var t=e.e*Br,r=e.d[0];r>=10;r/=10)t++;return t}function Zb(e,t,r){if(t>e.LN10.sd())throw Hr=!0,r&&(e.precision=r),Error(Ps+"LN10 precision limit exceeded");return Cr(new e(e.LN10),t)}function Eo(e){for(var t="";e--;)t+="0";return t}function nf(e,t){var r,n,l,o,d,g,h,x,y,w=1,C=10,_=e,D=_.d,k=_.constructor,M=k.precision;if(_.s<1)throw Error(Ps+(_.s?"NaN":"-Infinity"));if(_.eq(rs))return new k(0);if(t==null?(Hr=!1,x=M):x=t,_.eq(10))return t==null&&(Hr=!0),Zb(k,x);if(x+=C,k.precision=x,r=El(D),n=r.charAt(0),o=_n(_),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)_=_.times(e),r=El(_.d),n=r.charAt(0),w++;o=_n(_),n>1?(_=new k("0."+r),o++):_=new k(n+"."+r.slice(1))}else return h=Zb(k,x+2,M).times(o+""),_=nf(new k(n+"."+r.slice(1)),x-C).plus(h),k.precision=M,t==null?(Hr=!0,Cr(_,M)):_;for(g=d=_=di(_.minus(rs),_.plus(rs),x),y=Cr(_.times(_),x),l=3;;){if(d=Cr(d.times(y),x),h=g.plus(di(d,new k(l),x)),El(h.d).slice(0,x)===El(g.d).slice(0,x))return g=g.times(2),o!==0&&(g=g.plus(Zb(k,x+2,M).times(o+""))),g=di(g,new k(w),x),k.precision=M,t==null?(Hr=!0,Cr(g,M)):g;g=h,l+=2}}function U6(e,t){var r,n,l;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(l=t.length;t.charCodeAt(l-1)===48;)--l;if(t=t.slice(n,l),t){if(l-=n,r=r-n-1,e.e=md(r/Br),e.d=[],n=(r+1)%Br,r<0&&(n+=Br),n<l){for(n&&e.d.push(+t.slice(0,n)),l-=Br;n<l;)e.d.push(+t.slice(n,n+=Br));t=t.slice(n),n=Br-t.length}else n-=l;for(;n--;)t+="0";if(e.d.push(+t),Hr&&(e.e>Qg||e.e<-Qg))throw Error(Kw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Cr(e,t,r){var n,l,o,d,g,h,x,y,w=e.d;for(d=1,o=w[0];o>=10;o/=10)d++;if(n=t-d,n<0)n+=Br,l=t,x=w[y=0];else{if(y=Math.ceil((n+1)/Br),o=w.length,y>=o)return e;for(x=o=w[y],d=1;o>=10;o/=10)d++;n%=Br,l=n-Br+d}if(r!==void 0&&(o=fc(10,d-l-1),g=x/o%10|0,h=t<0||w[y+1]!==void 0||x%o,h=r<4?(g||h)&&(r==0||r==(e.s<0?3:2)):g>5||g==5&&(r==4||h||r==6&&(n>0?l>0?x/fc(10,d-l):0:w[y-1])%10&1||r==(e.s<0?8:7))),t<1||!w[0])return h?(o=_n(e),w.length=1,t=t-o-1,w[0]=fc(10,(Br-t%Br)%Br),e.e=md(-t/Br)||0):(w.length=1,w[0]=e.e=e.s=0),e;if(n==0?(w.length=y,o=1,y--):(w.length=y+1,o=fc(10,Br-n),w[y]=l>0?(x/fc(10,d-l)%fc(10,l)|0)*o:0),h)for(;;)if(y==0){(w[0]+=o)==qn&&(w[0]=1,++e.e);break}else{if(w[y]+=o,w[y]!=qn)break;w[y--]=0,o=1}for(n=w.length;w[--n]===0;)w.pop();if(Hr&&(e.e>Qg||e.e<-Qg))throw Error(Kw+_n(e));return e}function vP(e,t){var r,n,l,o,d,g,h,x,y,w,C=e.constructor,_=C.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new C(e),Hr?Cr(t,_):t;if(h=e.d,w=t.d,n=t.e,x=e.e,h=h.slice(),d=x-n,d){for(y=d<0,y?(r=h,d=-d,g=w.length):(r=w,n=x,g=h.length),l=Math.max(Math.ceil(_/Br),g)+2,d>l&&(d=l,r.length=1),r.reverse(),l=d;l--;)r.push(0);r.reverse()}else{for(l=h.length,g=w.length,y=l<g,y&&(g=l),l=0;l<g;l++)if(h[l]!=w[l]){y=h[l]<w[l];break}d=0}for(y&&(r=h,h=w,w=r,t.s=-t.s),g=h.length,l=w.length-g;l>0;--l)h[g++]=0;for(l=w.length;l>d;){if(h[--l]<w[l]){for(o=l;o&&h[--o]===0;)h[o]=qn-1;--h[o],h[l]+=qn}h[l]-=w[l]}for(;h[--g]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(t.d=h,t.e=n,Hr?Cr(t,_):t):new C(0)}function kc(e,t,r){var n,l=_n(e),o=El(e.d),d=o.length;return t?(r&&(n=r-d)>0?o=o.charAt(0)+"."+o.slice(1)+Eo(n):d>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(l<0?"e":"e+")+l):l<0?(o="0."+Eo(-l-1)+o,r&&(n=r-d)>0&&(o+=Eo(n))):l>=d?(o+=Eo(l+1-d),r&&(n=r-l-1)>0&&(o=o+"."+Eo(n))):((n=l+1)<d&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-d)>0&&(l+1===d&&(o+="."),o+=Eo(n))),e.s<0?"-"+o:o}function j6(e,t){if(e.length>t)return e.length=t,!0}function EP(e){var t,r,n;function l(o){var d=this;if(!(d instanceof l))return new l(o);if(d.constructor=l,o instanceof l){d.s=o.s,d.e=o.e,d.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Cc+o);if(o>0)d.s=1;else if(o<0)o=-o,d.s=-1;else{d.s=0,d.e=0,d.d=[0];return}if(o===~~o&&o<1e7){d.e=0,d.d=[o];return}return U6(d,o.toString())}else if(typeof o!="string")throw Error(Cc+o);if(o.charCodeAt(0)===45?(o=o.slice(1),d.s=-1):d.s=1,mte.test(o))U6(d,o);else throw Error(Cc+o)}if(l.prototype=ct,l.ROUND_UP=0,l.ROUND_DOWN=1,l.ROUND_CEIL=2,l.ROUND_FLOOR=3,l.ROUND_HALF_UP=4,l.ROUND_HALF_DOWN=5,l.ROUND_HALF_EVEN=6,l.ROUND_HALF_CEIL=7,l.ROUND_HALF_FLOOR=8,l.clone=EP,l.config=l.set=fte,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return l.config(e),l}function fte(e){if(!e||typeof e!="object")throw Error(Ps+"Object expected");var t,r,n,l=["precision",1,dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<l.length;t+=3)if((n=e[r=l[t]])!==void 0)if(md(n)===n&&n>=l[t+1]&&n<=l[t+2])this[r]=n;else throw Error(Cc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Cc+r+": "+n);return this}var Zw=EP(dte);rs=new Zw(1);const mr=Zw;var hte=e=>e,wP={},NP=e=>e===wP,z6=e=>function t(){return arguments.length===0||arguments.length===1&&NP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},SP=(e,t)=>e===1?t:z6(function(){for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];var o=n.filter(d=>d!==wP).length;return o>=e?t(...n):SP(e-o,z6(function(){for(var d=arguments.length,g=new Array(d),h=0;h<d;h++)g[h]=arguments[h];var x=n.map(y=>NP(y)?g.shift():y);return t(...x,...g)}))}),gte=e=>SP(e.length,e),VE=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},pte=gte((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),yte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hte;var l=r.reverse(),o=l[0],d=l.slice(1);return function(){return d.reduce((g,h)=>h(g),o(...arguments))}},HE=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function CP(e){var t;return e===0?t=1:t=Math.floor(new mr(e).abs().log(10).toNumber())+1,t}function AP(e,t,r){for(var n=new mr(e),l=0,o=[];n.lt(t)&&l<1e5;)o.push(n.toNumber()),n=n.add(r),l++;return o}var TP=e=>{var[t,r]=e,[n,l]=[t,r];return t>r&&([n,l]=[r,t]),[n,l]},OP=(e,t,r)=>{if(e.lte(0))return new mr(0);var n=CP(e.toNumber()),l=new mr(10).pow(n),o=e.div(l),d=n!==1?.05:.1,g=new mr(Math.ceil(o.div(d).toNumber())).add(r).mul(d),h=g.mul(l);return t?new mr(h.toNumber()):new mr(Math.ceil(h.toNumber()))},xte=(e,t,r)=>{var n=new mr(1),l=new mr(e);if(!l.isint()&&r){var o=Math.abs(e);o<1?(n=new mr(10).pow(CP(e)-1),l=new mr(Math.floor(l.div(n).toNumber())).mul(n)):o>1&&(l=new mr(Math.floor(e)))}else e===0?l=new mr(Math.floor((t-1)/2)):r||(l=new mr(Math.floor(e)));var d=Math.floor((t-1)/2),g=yte(pte(h=>l.add(new mr(h-d).mul(n)).toNumber()),VE);return g(0,t)},_P=function(t,r,n,l){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new mr(0),tickMin:new mr(0),tickMax:new mr(0)};var d=OP(new mr(r).sub(t).div(n-1),l,o),g;t<=0&&r>=0?g=new mr(0):(g=new mr(t).add(r).div(2),g=g.sub(new mr(g).mod(d)));var h=Math.ceil(g.sub(t).div(d).toNumber()),x=Math.ceil(new mr(r).sub(g).div(d).toNumber()),y=h+x+1;return y>n?_P(t,r,n,l,o+1):(y<n&&(x=r>0?x+(n-y):x,h=r>0?h:h+(n-y)),{step:d,tickMin:g.sub(new mr(h).mul(d)),tickMax:g.add(new mr(x).mul(d))})},bte=function(t){var[r,n]=t,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=Math.max(l,2),[g,h]=TP([r,n]);if(g===-1/0||h===1/0){var x=h===1/0?[g,...VE(0,l-1).map(()=>1/0)]:[...VE(0,l-1).map(()=>-1/0),h];return r>n?HE(x):x}if(g===h)return xte(g,l,o);var{step:y,tickMin:w,tickMax:C}=_P(g,h,d,o,0),_=AP(w,C.add(new mr(.1).mul(y)),y);return r>n?HE(_):_},vte=function(t,r){var[n,l]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[d,g]=TP([n,l]);if(d===-1/0||g===1/0)return[n,l];if(d===g)return[d];var h=Math.max(r,2),x=OP(new mr(g).sub(d).div(h-1),o,0),y=[...AP(new mr(d),new mr(g),x),g];return o===!1&&(y=y.map(w=>Math.round(w))),n>l?HE(y):y},Ete=e=>e.rootProps.barCategoryGap,Df=e=>e.rootProps.stackOffset,DP=e=>e.rootProps.reverseStackOrder,Qw=e=>e.options.chartName,Jw=e=>e.rootProps.syncId,kP=e=>e.rootProps.syncMethod,eN=e=>e.options.eventEmitter,el={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},li={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ts={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},t1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:li.angleAxisId,includeHidden:!1,name:void 0,reversed:li.reversed,scale:li.scale,tick:li.tick,tickCount:void 0,ticks:void 0,type:li.type,unit:void 0},Nte={allowDataOverflow:ts.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ts.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ts.scale,tick:ts.tick,tickCount:ts.tickCount,ticks:void 0,type:ts.type,unit:void 0},Ste={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:li.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:li.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:li.scale,tick:li.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Cte={allowDataOverflow:ts.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ts.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ts.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ts.scale,tick:ts.tick,tickCount:ts.tickCount,ticks:void 0,type:"category",unit:void 0},tN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Ste:wte,rN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Cte:Nte,r1=e=>e.polarOptions,nN=ke([Ai,Ti,Gn],DM),MP=ke([r1,nN],(e,t)=>{if(e!=null)return as(e.innerRadius,t,0)}),PP=ke([r1,nN],(e,t)=>{if(e!=null)return as(e.outerRadius,t,t*.8)}),Ate=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},IP=ke([r1],Ate);ke([tN,IP],t1);var RP=ke([nN,MP,PP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ke([rN,RP],t1);var LP=ke([_r,r1,MP,PP,Ai,Ti],(e,t,r,n,l,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:d,cy:g,startAngle:h,endAngle:x}=t;return{cx:as(d,l,l/2),cy:as(g,o,o/2),innerRadius:r,outerRadius:n,startAngle:h,endAngle:x,clockWise:!1}}}),Gr=(e,t)=>t,kf=(e,t,r)=>r;function BP(e){return e?.id}function FP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:l,dataKey:o}=r,d=new Map;return e.forEach(g=>{var h,x=(h=g.data)!==null&&h!==void 0?h:n;if(!(x==null||x.length===0)){var y=BP(g);x.forEach((w,C)=>{var _=o==null||l?C:String(fn(w,o,null)),D=fn(w,g.dataKey,0),k;d.has(_)?k=d.get(_):k={},Object.assign(k,{[y]:D}),d.set(_,k)})}}),Array.from(d.values())}function aN(e){return e.stackId!=null&&e.dataKey!=null}var n1=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function a1(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Tte(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Un=e=>{var t=_r(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},fd=e=>e.tooltip.settings.axisId;function V6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V6(Object(r),!0).forEach(function(n){Ote(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ote(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qE=[0,"auto"],kte={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Mte=(e,t)=>e.cartesianAxis.xAxis[t],Bo=(e,t)=>{var r=Mte(e,t);return r??kte},Pte={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:qE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Sf},Ite=(e,t)=>e.cartesianAxis.yAxis[t],Fo=(e,t)=>{var r=Ite(e,t);return r??Pte},Rte={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sN=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Rte},Wr=(e,t,r)=>{switch(t){case"xAxis":return Bo(e,r);case"yAxis":return Fo(e,r);case"zAxis":return sN(e,r);case"angleAxis":return tN(e,r);case"radiusAxis":return rN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lte=(e,t,r)=>{switch(t){case"xAxis":return Bo(e,r);case"yAxis":return Fo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mf=(e,t,r)=>{switch(t){case"xAxis":return Bo(e,r);case"yAxis":return Fo(e,r);case"angleAxis":return tN(e,r);case"radiusAxis":return rN(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},UP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lN(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Bte=e=>e.graphicalItems.cartesianItems,Fte=ke([Gr,kf],lN),iN=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Pf=ke([Bte,Wr,Fte],iN,{memoizeOptions:{resultEqualityCheck:a1}}),jP=ke([Pf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(aN)),zP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Ute=ke([Pf],zP),oN=e=>e.map(t=>t.data).filter(Boolean).flat(1),jte=ke([Pf],oN,{memoizeOptions:{resultEqualityCheck:a1}}),cN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:l}=t;return e.length>0?e:r.slice(n,l+1)},uN=ke([jte,gP],cN),dN=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:fn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(l=>({value:fn(l,n)}))):e.map(n=>({value:n})),s1=ke([uN,Wr,Pf],dN);function VP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function tg(e){if(bi(e)||e instanceof Date){var t=Number(e);if($n(t))return t}}function H6(e){if(Array.isArray(e)){var t=[tg(e[0]),tg(e[1])];return _o(t)?t:void 0}var r=tg(e);if(r!=null)return[r,r]}function Si(e){return e.map(tg).filter(_Y)}function zte(e,t,r){return!r||typeof t!="number"||yi(t)?[]:r.length?Si(r.flatMap(n=>{var l=fn(e,n.dataKey),o,d;if(Array.isArray(l)?[o,d]=l:o=d=l,!(!$n(o)||!$n(d)))return[t-o,t+d]})):[]}var jn=e=>{var t=Un(e),r=fd(e);return Mf(e,t,r)},If=ke([jn],e=>e?.dataKey),Vte=ke([jP,gP,jn],FP),HP=(e,t,r,n)=>{var l={},o=t.reduce((d,g)=>(g.stackId==null||(d[g.stackId]==null&&(d[g.stackId]=[]),d[g.stackId].push(g)),d),l);return Object.fromEntries(Object.entries(o).map(d=>{var[g,h]=d,x=n?[...h].reverse():h,y=x.map(BP);return[g,{stackedData:rK(e,y,r),graphicalItems:x}]}))},Hte=ke([Vte,jP,Df,DP],HP),qP=(e,t,r,n)=>{var{dataStartIndex:l,dataEndIndex:o}=t;if(n==null&&r!=="zAxis"){var d=sK(e,l,o);if(!(d!=null&&d[0]===0&&d[1]===0))return d}},qte=ke([Wr],e=>e.allowDataOverflow),mN=e=>{var t;if(e==null||!("domain"in e))return qE;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Si(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:qE},fN=ke([Wr],mN),hN=ke([fN,qte],pP),$te=ke([Hte,Lo,Gr,hN],qP,{memoizeOptions:{resultEqualityCheck:n1}}),l1=e=>e.errorBars,Gte=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>VP(r,n)),ep=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var l=r.filter(Boolean);if(l.length!==0){var o=l.flat(),d=Math.min(...o),g=Math.max(...o);return[d,g]}},gN=(e,t,r,n,l)=>{var o,d;if(r.length>0&&e.forEach(g=>{r.forEach(h=>{var x,y,w=(x=n[h.id])===null||x===void 0?void 0:x.filter(I=>VP(l,I)),C=fn(g,(y=t.dataKey)!==null&&y!==void 0?y:h.dataKey),_=zte(g,C,w);if(_.length>=2){var D=Math.min(..._),k=Math.max(..._);(o==null||D<o)&&(o=D),(d==null||k>d)&&(d=k)}var M=H6(C);M!=null&&(o=o==null?M[0]:Math.min(o,M[0]),d=d==null?M[1]:Math.max(d,M[1]))})}),t?.dataKey!=null&&e.forEach(g=>{var h=H6(fn(g,t.dataKey));h!=null&&(o=o==null?h[0]:Math.min(o,h[0]),d=d==null?h[1]:Math.max(d,h[1]))}),$n(o)&&$n(d))return[o,d]},Yte=ke([uN,Wr,Ute,l1,Gr],gN,{memoizeOptions:{resultEqualityCheck:n1}});function Xte(e){var{value:t}=e;if(bi(t)||t instanceof Date)return t}var Wte=(e,t,r)=>{var n=e.map(Xte).filter(l=>l!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&d7(n))?IM(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},$P=e=>e.referenceElements.dots,hd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Kte=ke([$P,Gr,kf],hd),GP=e=>e.referenceElements.areas,Zte=ke([GP,Gr,kf],hd),YP=e=>e.referenceElements.lines,Qte=ke([YP,Gr,kf],hd),XP=(e,t)=>{var r=Si(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Jte=ke(Kte,Gr,XP),WP=(e,t)=>{var r=Si(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ere=ke([Zte,Gr],WP);function tre(e){var t;if(e.x!=null)return Si([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Si(r)}function rre(e){var t;if(e.y!=null)return Si([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Si(r)}var KP=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?tre(n):rre(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nre=ke([Qte,Gr],KP),are=ke(Jte,nre,ere,(e,t,r)=>ep(e,r,t)),pN=(e,t,r,n,l,o,d,g)=>{if(r!=null)return r;var h=d==="vertical"&&g==="xAxis"||d==="horizontal"&&g==="yAxis",x=h?ep(n,o,l):ep(o,l);return ute(t,x,e.allowDataOverflow)},sre=ke([Wr,fN,hN,$te,Yte,are,_r,Gr],pN,{memoizeOptions:{resultEqualityCheck:n1}}),lre=[0,1],yN=(e,t,r,n,l,o,d)=>{if(!((e==null||r==null||r.length===0)&&d===void 0)){var{dataKey:g,type:h}=e,x=Pc(t,o);if(x&&g==null){var y;return IM(0,(y=r?.length)!==null&&y!==void 0?y:0)}return h==="category"?Wte(n,e,x):l==="expand"?lre:d}},xN=ke([Wr,_r,uN,s1,Df,Gr,sre],yN),ZP=(e,t,r,n,l)=>{if(e!=null){var{scale:o,type:d}=e;if(o==="auto")return t==="radial"&&l==="radiusAxis"?"band":t==="radial"&&l==="angleAxis"?"linear":d==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":d==="category"?"band":"linear";if(typeof o=="string"){var g="scale".concat(bf(o));return g in Am?g:"point"}}},gd=ke([Wr,_r,UP,Qw,Gr],ZP);function ire(e){if(e!=null){if(e in Am)return Am[e]();var t="scale".concat(bf(e));if(t in Am)return Am[t]()}}function bN(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var l=ire(t);if(l!=null){var o=l.domain(r).range(n);return QW(o),o}}}var vN=(e,t,r)=>{var n=mN(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_o(e))return bte(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_o(e))return vte(e,t.tickCount,t.allowDecimals)}},EN=ke([xN,Mf,gd],vN),wN=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&_o(t)&&Array.isArray(r)&&r.length>0){var l=t[0],o=r[0],d=t[1],g=r[r.length-1];return[Math.min(l,o),Math.max(d,g)]}return t},ore=ke([Wr,xN,EN,Gr],wN),cre=ke(s1,Wr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Si(e.map(g=>g.value))).sort((g,h)=>g-h);if(n.length<2)return 1/0;var l=n[n.length-1]-n[0];if(l===0)return 1/0;for(var o=0;o<n.length-1;o++){var d=n[o+1]-n[o];r=Math.min(r,d)}return r/l}}),QP=ke(cre,_r,Ete,Gn,(e,t,r,n)=>n,(e,t,r,n,l)=>{if(!$n(e))return 0;var o=t==="vertical"?n.height:n.width;if(l==="gap")return e*o/2;if(l==="no-gap"){var d=as(r,e*o),g=e*o/2;return g-d-(g-d)/o*d}return 0}),ure=(e,t)=>{var r=Bo(e,t);return r==null||typeof r.padding!="string"?0:QP(e,"xAxis",t,r.padding)},dre=(e,t)=>{var r=Fo(e,t);return r==null||typeof r.padding!="string"?0:QP(e,"yAxis",t,r.padding)},mre=ke(Bo,ure,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:l}=e;return typeof l=="string"?{left:t,right:t}:{left:((r=l.left)!==null&&r!==void 0?r:0)+t,right:((n=l.right)!==null&&n!==void 0?n:0)+t}}),fre=ke(Fo,dre,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:l}=e;return typeof l=="string"?{top:t,bottom:t}:{top:((r=l.top)!==null&&r!==void 0?r:0)+t,bottom:((n=l.bottom)!==null&&n!==void 0?n:0)+t}}),hre=ke([Gn,mre,Vp,zp,(e,t,r)=>r],(e,t,r,n,l)=>{var{padding:o}=n;return l?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),gre=ke([Gn,_r,fre,Vp,zp,(e,t,r)=>r],(e,t,r,n,l,o)=>{var{padding:d}=l;return o?[n.height-d.bottom,d.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Rf=(e,t,r,n)=>{var l;switch(t){case"xAxis":return hre(e,r,n);case"yAxis":return gre(e,r,n);case"zAxis":return(l=sN(e,r))===null||l===void 0?void 0:l.range;case"angleAxis":return IP(e);case"radiusAxis":return RP(e,r);default:return}},JP=ke([Wr,Rf],t1),i1=ke([Wr,gd,ore,JP],bN);ke([Pf,l1,Gr],Gte);function eI(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var o1=(e,t)=>t,c1=(e,t,r)=>r,pre=ke(Up,o1,c1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(eI)),yre=ke(jp,o1,c1,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(eI)),tI=(e,t)=>({width:e.width,height:t.height}),xre=(e,t)=>{var r=typeof t.width=="number"?t.width:Sf;return{width:r,height:e.height}};ke(Gn,Bo,tI);var bre=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vre=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Ere=ke(Ti,Gn,pre,o1,c1,(e,t,r,n,l)=>{var o={},d;return r.forEach(g=>{var h=tI(t,g);d==null&&(d=bre(t,n,e));var x=n==="top"&&!l||n==="bottom"&&l;o[g.id]=d-Number(x)*h.height,d+=(x?-1:1)*h.height}),o}),wre=ke(Ai,Gn,yre,o1,c1,(e,t,r,n,l)=>{var o={},d;return r.forEach(g=>{var h=xre(t,g);d==null&&(d=vre(t,n,e));var x=n==="left"&&!l||n==="right"&&l;o[g.id]=d-Number(x)*h.width,d+=(x?-1:1)*h.width}),o}),Nre=(e,t)=>{var r=Bo(e,t);if(r!=null)return Ere(e,r.orientation,r.mirror)};ke([Gn,Bo,Nre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var l=r?.[n];return l==null?{x:e.left,y:0}:{x:e.left,y:l}}});var Sre=(e,t)=>{var r=Fo(e,t);if(r!=null)return wre(e,r.orientation,r.mirror)};ke([Gn,Fo,Sre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var l=r?.[n];return l==null?{x:0,y:e.top}:{x:l,y:e.top}}});ke(Gn,Fo,(e,t)=>{var r=typeof t.width=="number"?t.width:Sf;return{width:r,height:e.height}});var rI=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:l,type:o,dataKey:d}=r,g=Pc(e,n),h=t.map(x=>x.value);if(d&&g&&o==="category"&&l&&d7(h))return h}},NN=ke([_r,s1,Wr,Gr],rI),nI=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:l,scale:o}=r,d=Pc(e,n);if(d&&(l==="number"||o!=="auto"))return t.map(g=>g.value)}},SN=ke([_r,s1,Mf,Gr],nI);ke([_r,Lte,gd,i1,NN,SN,Rf,EN,Gr],(e,t,r,n,l,o,d,g,h)=>{if(t!=null){var x=Pc(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:l,isCategorical:x,niceTicks:g,range:d,realScaleType:r,scale:n}}});var Cre=(e,t,r,n,l,o,d,g,h)=>{if(!(t==null||n==null)){var x=Pc(e,h),{type:y,ticks:w,tickCount:C}=t,_=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,D=y==="category"&&n.bandwidth?n.bandwidth()/_:0;D=h==="angleAxis"&&o!=null&&o.length>=2?La(o[0]-o[1])*2*D:D;var k=w||l;if(k){var M=k.map((I,U)=>{var R=d?d.indexOf(I):I;return{index:U,coordinate:n(R)+D,value:I,offset:D}});return M.filter(I=>$n(I.coordinate))}return x&&g?g.map((I,U)=>({coordinate:n(I)+D,value:I,index:U,offset:D})).filter(I=>$n(I.coordinate)):n.ticks?n.ticks(C).map(I=>({coordinate:n(I)+D,value:I,offset:D})):n.domain().map((I,U)=>({coordinate:n(I)+D,value:d?d[I]:I,index:U,offset:D}))}};ke([_r,Mf,gd,i1,EN,Rf,NN,SN,Gr],Cre);var Are=(e,t,r,n,l,o,d)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var g=Pc(e,d),{tickCount:h}=t,x=0;return x=d==="angleAxis"&&n?.length>=2?La(n[0]-n[1])*2*x:x,g&&o?o.map((y,w)=>({coordinate:r(y)+x,value:y,index:w,offset:x})):r.ticks?r.ticks(h).map(y=>({coordinate:r(y)+x,value:y,offset:x})):r.domain().map((y,w)=>({coordinate:r(y)+x,value:l?l[y]:y,index:w,offset:x}))}};ke([_r,Mf,i1,Rf,NN,SN,Gr],Are);ke(Wr,i1,(e,t)=>{if(!(e==null||t==null))return Jg(Jg({},e),{},{scale:t})});var Tre=ke([Wr,gd,xN,JP],bN);ke((e,t,r)=>sN(e,r),Tre,(e,t)=>{if(!(e==null||t==null))return Jg(Jg({},e),{},{scale:t})});var Ore=ke([_r,Up,jp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),aI=e=>e.options.defaultTooltipEventType,sI=e=>e.options.validateTooltipEventTypes;function lI(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function CN(e,t){var r=aI(e),n=sI(e);return lI(t,r,n)}function _re(e){return Mt(t=>CN(t,e))}var iI=(e,t)=>{var r,n=Number(t);if(!(yi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Dre=e=>e.tooltip.settings,No={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kre={itemInteraction:{click:No,hover:No},axisInteraction:{click:No,hover:No},keyboardInteraction:No,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},oI=ja({name:"tooltip",initialState:kre,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:zr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,l=tl(e).tooltipItemPayloads.indexOf(r);l>-1&&(e.tooltipItemPayloads[l]=n)},prepare:zr()},removeTooltipEntrySettings:{reducer(e,t){var r=tl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:zr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Mre,replaceTooltipEntrySettings:Pre,removeTooltipEntrySettings:Ire,setTooltipSettingsState:Rre,setActiveMouseOverItemIndex:cI,mouseLeaveItem:Lre,mouseLeaveChart:uI,setActiveClickItemIndex:Bre,setMouseOverAxisIndex:dI,setMouseClickAxisIndex:Fre,setSyncInteraction:$E,setKeyboardInteraction:GE}=oI.actions,Ure=oI.reducer;function q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q6(Object(r),!0).forEach(function(n){jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jre(e,t,r){return(t=zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hre(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function qre(e){return e.index!=null}var mI=(e,t,r,n)=>{if(t==null)return No;var l=Hre(e,t,r);if(l==null)return No;if(l.active)return l;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(qre(l)){if(o)return Sh(Sh({},l),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Sh(Sh({},No),{},{coordinate:l.coordinate})};function $re(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Gre(e,t){var r=$re(e),n=t[0],l=t[1];if(r===void 0)return!1;var o=Math.min(n,l),d=Math.max(n,l);return r>=o&&r<=d}function Yre(e,t,r){if(r==null||t==null)return!0;var n=fn(e,t);return n==null||!_o(r)?!0:Gre(n,r)}var AN=(e,t,r,n)=>{var l=e?.index;if(l==null)return null;var o=Number(l);if(!$n(o))return l;var d=0,g=1/0;t.length>0&&(g=t.length-1);var h=Math.max(d,Math.min(o,g)),x=t[h];return x==null||Yre(x,r,n)?String(h):null},fI=(e,t,r,n,l,o,d,g)=>{if(!(o==null||g==null)){var h=d[0],x=h==null?void 0:g(h.positions,o);if(x!=null)return x;var y=l?.[Number(o)];if(y)switch(r){case"horizontal":return{x:y.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:y.coordinate}}}},hI=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var l;return r==="hover"?l=e.itemInteraction.hover.dataKey:l=e.itemInteraction.click.dataKey,l==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var d;return((d=o.settings)===null||d===void 0?void 0:d.dataKey)===l})},Lf=e=>e.options.tooltipPayloadSearcher,pd=e=>e.tooltip;function $6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function G6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$6(Object(r),!0).forEach(function(n){Xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xre(e,t,r){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zre(e,t){return e??t}var gI=(e,t,r,n,l,o,d)=>{if(!(t==null||o==null)){var{chartData:g,computedData:h,dataStartIndex:x,dataEndIndex:y}=r,w=[];return e.reduce((C,_)=>{var D,{dataDefinedOnItem:k,settings:M}=_,I=Zre(k,g),U=Array.isArray(I)?sM(I,x,y):I,R=(D=M?.dataKey)!==null&&D!==void 0?D:n,G=M?.nameKey,F;if(n&&Array.isArray(U)&&!Array.isArray(U[0])&&d==="axis"?F=OY(U,n,l):F=o(U,t,h,G),Array.isArray(F))F.forEach(L=>{var H=G6(G6({},M),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});C.push(fT({tooltipEntrySettings:H,dataKey:L.dataKey,payload:L.payload,value:fn(L.payload,L.dataKey),name:L.name}))});else{var j;C.push(fT({tooltipEntrySettings:M,dataKey:R,payload:F,value:fn(F,R),name:(j=fn(F,G))!==null&&j!==void 0?j:M?.name}))}return C},w)}},TN=ke([jn,_r,UP,Qw,Un],ZP),Qre=ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Jre=ke([Un,fd],lN),Bf=ke([Qre,jn,Jre],iN,{memoizeOptions:{resultEqualityCheck:a1}}),ene=ke([Bf],e=>e.filter(aN)),tne=ke([Bf],oN,{memoizeOptions:{resultEqualityCheck:a1}}),yd=ke([tne,Lo],cN),rne=ke([ene,Lo,jn],FP),ON=ke([yd,jn,Bf],dN),pI=ke([jn],mN),nne=ke([jn],e=>e.allowDataOverflow),yI=ke([pI,nne],pP),ane=ke([Bf],e=>e.filter(aN)),sne=ke([rne,ane,Df,DP],HP),lne=ke([sne,Lo,Un,yI],qP),ine=ke([Bf],zP),one=ke([yd,jn,ine,l1,Un],gN,{memoizeOptions:{resultEqualityCheck:n1}}),cne=ke([$P,Un,fd],hd),une=ke([cne,Un],XP),dne=ke([GP,Un,fd],hd),mne=ke([dne,Un],WP),fne=ke([YP,Un,fd],hd),hne=ke([fne,Un],KP),gne=ke([une,hne,mne],ep),pne=ke([jn,pI,yI,lne,one,gne,_r,Un],pN),Ff=ke([jn,_r,yd,ON,Df,Un,pne],yN),yne=ke([Ff,jn,TN],vN),xne=ke([jn,Ff,yne,Un],wN),xI=e=>{var t=Un(e),r=fd(e),n=!1;return Rf(e,t,r,n)},bI=ke([jn,xI],t1),vI=ke([jn,TN,xne,bI],bN),bne=ke([_r,ON,jn,Un],rI),vne=ke([_r,ON,jn,Un],nI),Ene=(e,t,r,n,l,o,d,g)=>{if(t){var{type:h}=t,x=Pc(e,g);if(n){var y=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,w=h==="category"&&n.bandwidth?n.bandwidth()/y:0;return w=g==="angleAxis"&&l!=null&&l?.length>=2?La(l[0]-l[1])*2*w:w,x&&d?d.map((C,_)=>({coordinate:n(C)+w,value:C,index:_,offset:w})):n.domain().map((C,_)=>({coordinate:n(C)+w,value:o?o[C]:C,index:_,offset:w}))}}},_i=ke([_r,jn,TN,vI,xI,bne,vne,Un],Ene),_N=ke([aI,sI,Dre],(e,t,r)=>lI(r.shared,e,t)),EI=e=>e.tooltip.settings.trigger,DN=e=>e.tooltip.settings.defaultIndex,Uf=ke([pd,_N,EI,DN],mI),af=ke([Uf,yd,If,Ff],AN),wI=ke([_i,af],iI),NI=ke([Uf],e=>{if(e)return e.dataKey}),wne=ke([Uf],e=>{if(e)return e.graphicalItemId}),SI=ke([pd,_N,EI,DN],hI),Nne=ke([Ai,Ti,_r,Gn,_i,DN,SI,Lf],fI),Sne=ke([Uf,Nne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Cne=ke([Uf],e=>e.active),Ane=ke([SI,af,Lo,If,wI,Lf,_N],gI);ke([Ane],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Y6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function X6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y6(Object(r),!0).forEach(function(n){Tne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tne(e,t,r){return(t=One(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function One(e){var t=_ne(e,"string");return typeof t=="symbol"?t:t+""}function _ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dne=()=>Mt(jn),kne=()=>{var e=Dne(),t=Mt(_i),r=Mt(vI);return mT(!e||!r?void 0:X6(X6({},e),{},{scale:r}),t)};function W6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W6(Object(r),!0).forEach(function(n){Mne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mne(e,t,r){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pne(e){var t=Ine(e,"string");return typeof t=="symbol"?t:t+""}function Ine(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rne=(e,t,r,n)=>{var l=t.find(o=>o&&o.index===r);if(l){if(e==="horizontal")return{x:l.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:l.coordinate}}return{x:0,y:0}},Lne=(e,t,r,n)=>{var l=t.find(x=>x&&x.index===r);if(l){if(e==="centric"){var o=l.coordinate,{radius:d}=n;return vu(vu(vu({},n),Tn(n.cx,n.cy,d,o)),{},{angle:o,radius:d})}var g=l.coordinate,{angle:h}=n;return vu(vu(vu({},n),Tn(n.cx,n.cy,g,h)),{},{angle:h,radius:g})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Bne(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var CI=(e,t,r,n,l)=>{var o,d=-1,g=(o=t?.length)!==null&&o!==void 0?o:0;if(g<=1||e==null)return 0;if(n==="angleAxis"&&l!=null&&Math.abs(Math.abs(l[1]-l[0])-360)<=1e-6)for(var h=0;h<g;h++){var x=h>0?r[h-1].coordinate:r[g-1].coordinate,y=r[h].coordinate,w=h>=g-1?r[0].coordinate:r[h+1].coordinate,C=void 0;if(La(y-x)!==La(w-y)){var _=[];if(La(w-y)===La(l[1]-l[0])){C=w;var D=y+l[1]-l[0];_[0]=Math.min(D,(D+x)/2),_[1]=Math.max(D,(D+x)/2)}else{C=x;var k=w+l[1]-l[0];_[0]=Math.min(y,(k+y)/2),_[1]=Math.max(y,(k+y)/2)}var M=[Math.min(y,(C+y)/2),Math.max(y,(C+y)/2)];if(e>M[0]&&e<=M[1]||e>=_[0]&&e<=_[1]){({index:d}=r[h]);break}}else{var I=Math.min(x,w),U=Math.max(x,w);if(e>(I+y)/2&&e<=(U+y)/2){({index:d}=r[h]);break}}}else if(t){for(var R=0;R<g;R++)if(R===0&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R>0&&R<g-1&&e>(t[R].coordinate+t[R-1].coordinate)/2&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R===g-1&&e>(t[R].coordinate+t[R-1].coordinate)/2){({index:d}=t[R]);break}}return d},Fne=()=>Mt(Qw),kN=(e,t)=>t,AI=(e,t,r)=>r,MN=(e,t,r,n)=>n,Une=ke(_i,e=>Dp(e,t=>t.coordinate)),PN=ke([pd,kN,AI,MN],mI),IN=ke([PN,yd,If,Ff],AN),jne=(e,t,r)=>{if(t!=null){var n=pd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},TI=ke([pd,kN,AI,MN],hI),tp=ke([Ai,Ti,_r,Gn,_i,MN,TI,Lf],fI),zne=ke([PN,tp],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),OI=ke([_i,IN],iI),Vne=ke([TI,IN,Lo,If,OI,Lf,kN],gI),Hne=ke([PN,IN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),qne=(e,t,r,n,l,o,d)=>{if(!(!e||!r||!n||!l)&&Bne(e,d)){var g=lK(e,t),h=CI(g,o,l,r,n),x=Rne(t,l,h,e);return{activeIndex:String(h),activeCoordinate:x}}},$ne=(e,t,r,n,l,o,d)=>{if(!(!e||!n||!l||!o||!r)){var g=AQ(e,r);if(g){var h=iK(g,t),x=CI(h,d,o,n,l),y=Lne(t,o,x,g);return{activeIndex:String(x),activeCoordinate:y}}}},Gne=(e,t,r,n,l,o,d,g)=>{if(!(!e||!t||!n||!l||!o))return t==="horizontal"||t==="vertical"?qne(e,t,n,l,o,d,g):$ne(e,t,r,n,l,o,d)},Yne=ke(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Xne=ke(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(el)),r=Array.from(new Set(t));return r.sort((n,l)=>n-l)},{memoizeOptions:{resultEqualityCheck:Tte}});function K6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Z6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(r),!0).forEach(function(n){Wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wne(e,t,r){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qne={},Jne={zIndexMap:Object.values(el).reduce((e,t)=>Z6(Z6({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Qne)},eae=new Set(Object.values(el));function tae(e){return eae.has(e)}var _I=ja({name:"zIndex",initialState:Jne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:zr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!tae(r)&&delete e.zIndexMap[r])},prepare:zr()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:l}=t.payload;e.zIndexMap[r]?l?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:l?void 0:n,panoramaElementId:l?n:void 0}},prepare:zr()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:zr()}}}),{registerZIndexPortal:rae,unregisterZIndexPortal:nae,registerZIndexPortalId:aae,unregisterZIndexPortalId:sae}=_I.actions,lae=_I.reducer;function jf(e){var{zIndex:t,children:r}=e,n=UK(),l=n&&t!==void 0&&t!==0,o=Po(),d=pn();N.useLayoutEffect(()=>l?(d(rae({zIndex:t})),()=>{d(nae({zIndex:t}))}):vf,[d,t,l]);var g=Mt(x=>Yne(x,t,o));if(!l)return r;if(!g)return null;var h=document.getElementById(g);return h?u2.createPortal(r,h):null}function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YE.apply(null,arguments)}function Q6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q6(Object(r),!0).forEach(function(n){iae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iae(e,t,r){return(t=oae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oae(e){var t=cae(e,"string");return typeof t=="symbol"?t:t+""}function cae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uae(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return N.isValidElement(t)?N.cloneElement(t,n):N.createElement(r,n)}function dae(e){var t,{coordinate:r,payload:n,index:l,offset:o,tooltipAxisBandSize:d,layout:g,cursor:h,tooltipEventType:x,chartName:y}=e,w=r,C=n,_=l;if(!h||!w||y!=="ScatterChart"&&x!=="axis")return null;var D,k,M;if(y==="ScatterChart")D=w,k=zZ,M=el.cursorLine;else if(y==="BarChart")D=VZ(g,w,o,d),k=_M,M=el.cursorRectangle;else if(g==="radial"&&f7(w)){var{cx:I,cy:U,radius:R,startAngle:G,endAngle:F}=kM(w);D={cx:I,cy:U,startAngle:G,endAngle:F,innerRadius:R,outerRadius:R},k=PM,M=el.cursorLine}else D={points:DQ(g,w,o)},k=Nw,M=el.cursorLine;var j=typeof h=="object"&&"className"in h?h.className:void 0,L=Ch(Ch(Ch(Ch({stroke:"#ccc",pointerEvents:"none"},o),D),rE(h)),{},{payload:C,payloadIndex:_,className:gn("recharts-tooltip-cursor",j)});return N.createElement(jf,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:M},N.createElement(uae,{cursor:h,cursorComp:k,cursorProps:L}))}function mae(e){var t=kne(),r=BK(),n=vw(),l=Fne();return t==null||r==null||n==null||l==null?null:N.createElement(dae,YE({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:l}))}var DI=N.createContext(null),fae=()=>N.useContext(DI),Qb={exports:{}},J6;function hae(){return J6||(J6=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function l(h,x,y){this.fn=h,this.context=x,this.once=y||!1}function o(h,x,y,w,C){if(typeof y!="function")throw new TypeError("The listener must be a function");var _=new l(y,w||h,C),D=r?r+x:x;return h._events[D]?h._events[D].fn?h._events[D]=[h._events[D],_]:h._events[D].push(_):(h._events[D]=_,h._eventsCount++),h}function d(h,x){--h._eventsCount===0?h._events=new n:delete h._events[x]}function g(){this._events=new n,this._eventsCount=0}g.prototype.eventNames=function(){var x=[],y,w;if(this._eventsCount===0)return x;for(w in y=this._events)t.call(y,w)&&x.push(r?w.slice(1):w);return Object.getOwnPropertySymbols?x.concat(Object.getOwnPropertySymbols(y)):x},g.prototype.listeners=function(x){var y=r?r+x:x,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var C=0,_=w.length,D=new Array(_);C<_;C++)D[C]=w[C].fn;return D},g.prototype.listenerCount=function(x){var y=r?r+x:x,w=this._events[y];return w?w.fn?1:w.length:0},g.prototype.emit=function(x,y,w,C,_,D){var k=r?r+x:x;if(!this._events[k])return!1;var M=this._events[k],I=arguments.length,U,R;if(M.fn){switch(M.once&&this.removeListener(x,M.fn,void 0,!0),I){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,y),!0;case 3:return M.fn.call(M.context,y,w),!0;case 4:return M.fn.call(M.context,y,w,C),!0;case 5:return M.fn.call(M.context,y,w,C,_),!0;case 6:return M.fn.call(M.context,y,w,C,_,D),!0}for(R=1,U=new Array(I-1);R<I;R++)U[R-1]=arguments[R];M.fn.apply(M.context,U)}else{var G=M.length,F;for(R=0;R<G;R++)switch(M[R].once&&this.removeListener(x,M[R].fn,void 0,!0),I){case 1:M[R].fn.call(M[R].context);break;case 2:M[R].fn.call(M[R].context,y);break;case 3:M[R].fn.call(M[R].context,y,w);break;case 4:M[R].fn.call(M[R].context,y,w,C);break;default:if(!U)for(F=1,U=new Array(I-1);F<I;F++)U[F-1]=arguments[F];M[R].fn.apply(M[R].context,U)}}return!0},g.prototype.on=function(x,y,w){return o(this,x,y,w,!1)},g.prototype.once=function(x,y,w){return o(this,x,y,w,!0)},g.prototype.removeListener=function(x,y,w,C){var _=r?r+x:x;if(!this._events[_])return this;if(!y)return d(this,_),this;var D=this._events[_];if(D.fn)D.fn===y&&(!C||D.once)&&(!w||D.context===w)&&d(this,_);else{for(var k=0,M=[],I=D.length;k<I;k++)(D[k].fn!==y||C&&!D[k].once||w&&D[k].context!==w)&&M.push(D[k]);M.length?this._events[_]=M.length===1?M[0]:M:d(this,_)}return this},g.prototype.removeAllListeners=function(x){var y;return x?(y=r?r+x:x,this._events[y]&&d(this,y)):(this._events=new n,this._eventsCount=0),this},g.prototype.off=g.prototype.removeListener,g.prototype.addListener=g.prototype.on,g.prefixed=r,g.EventEmitter=g,e.exports=g})(Qb)),Qb.exports}var gae=hae();const pae=Ml(gae);var sf=new pae,XE="recharts.syncEvent.tooltip",e8="recharts.syncEvent.brush";function yae(e,t){if(t){var r=Number.parseInt(t,10);if(!yi(r))return e?.[r]}}var xae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},kI=ja({name:"options",initialState:xae,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bae=kI.reducer,{createEventEmitter:vae}=kI.actions;function Eae(e){return e.tooltip.syncInteraction}var wae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MI=ja({name:"chartData",initialState:wae,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:t8,setDataStartEndIndexes:Nae,setComputedData:ime}=MI.actions,Sae=MI.reducer,Cae=["x","y"];function r8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(r),!0).forEach(function(n){Aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aae(e,t,r){return(t=Tae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tae(e){var t=Oae(e,"string");return typeof t=="symbol"?t:t+""}function Oae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ae(e,t){if(e==null)return{};var r,n,l=Dae(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function Dae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kae(){var e=Mt(Jw),t=Mt(eN),r=pn(),n=Mt(kP),l=Mt(_i),o=vw(),d=Hp(),g=Mt(h=>h.rootProps.className);N.useEffect(()=>{if(e==null)return vf;var h=(x,y,w)=>{if(t!==w&&e===x){if(n==="index"){var C;if(d&&y!==null&&y!==void 0&&(C=y.payload)!==null&&C!==void 0&&C.coordinate&&y.payload.sourceViewBox){var _=y.payload.coordinate,{x:D,y:k}=_,M=_ae(_,Cae),{x:I,y:U,width:R,height:G}=y.payload.sourceViewBox,F=Eu(Eu({},M),{},{x:d.x+(R?(D-I)/R:0)*d.width,y:d.y+(G?(k-U)/G:0)*d.height});r(Eu(Eu({},y),{},{payload:Eu(Eu({},y.payload),{},{coordinate:F})}))}else r(y);return}if(l!=null){var j;if(typeof n=="function"){var L={activeTooltipIndex:y.payload.index==null?void 0:Number(y.payload.index),isTooltipActive:y.payload.active,activeIndex:y.payload.index==null?void 0:Number(y.payload.index),activeLabel:y.payload.label,activeDataKey:y.payload.dataKey,activeCoordinate:y.payload.coordinate},H=n(l,L);j=l[H]}else n==="value"&&(j=l.find(J=>String(J.value)===y.payload.label));var{coordinate:V}=y.payload;if(j==null||y.payload.active===!1||V==null||d==null){r($E({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Q,y:Y}=V,X=Math.min(Q,d.x+d.width),he=Math.min(Y,d.y+d.height),pe={x:o==="horizontal"?j.coordinate:X,y:o==="horizontal"?he:j.coordinate},se=$E({active:y.payload.active,coordinate:pe,dataKey:y.payload.dataKey,index:String(j.index),label:y.payload.label,sourceViewBox:y.payload.sourceViewBox,graphicalItemId:y.payload.graphicalItemId});r(se)}}};return sf.on(XE,h),()=>{sf.off(XE,h)}},[g,r,t,e,n,l,o,d])}function Mae(){var e=Mt(Jw),t=Mt(eN),r=pn();N.useEffect(()=>{if(e==null)return vf;var n=(l,o,d)=>{t!==d&&e===l&&r(Nae(o))};return sf.on(e8,n),()=>{sf.off(e8,n)}},[r,t,e])}function Pae(){var e=pn();N.useEffect(()=>{e(vae())},[e]),kae(),Mae()}function Iae(e,t,r,n,l,o){var d=Mt(_=>jne(_,e,t)),g=Mt(eN),h=Mt(Jw),x=Mt(kP),y=Mt(Eae),w=y?.active,C=Hp();N.useEffect(()=>{if(!w&&h!=null&&g!=null){var _=$E({active:o,coordinate:r,dataKey:d,index:l,label:typeof n=="number"?String(n):n,sourceViewBox:C,graphicalItemId:void 0});sf.emit(XE,h,_,g)}},[w,r,d,l,n,g,h,x,o,C])}function n8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function a8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(r),!0).forEach(function(n){Rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rae(e,t,r){return(t=Lae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lae(e){var t=Bae(e,"string");return typeof t=="symbol"?t:t+""}function Bae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fae(e){return e.dataKey}function Uae(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(vZ,t)}var s8=[],jae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function WE(e){var t,r,n=Rs(e,jae),{active:l,allowEscapeViewBox:o,animationDuration:d,animationEasing:g,content:h,filterNull:x,isAnimationActive:y,offset:w,payloadUniqBy:C,position:_,reverseDirection:D,useTranslate3d:k,wrapperStyle:M,cursor:I,shared:U,trigger:R,defaultIndex:G,portal:F,axisId:j}=n,L=pn(),H=typeof G=="number"?String(G):G;N.useEffect(()=>{L(Rre({shared:U,trigger:R,axisId:j,active:l,defaultIndex:H}))},[L,U,R,j,l,H]);var V=Hp(),Q=SM(),Y=_re(U),{activeIndex:X,isActive:he}=(t=Mt(oe=>Hne(oe,Y,R,H)))!==null&&t!==void 0?t:{},pe=Mt(oe=>Vne(oe,Y,R,H)),se=Mt(oe=>OI(oe,Y,R,H)),J=Mt(oe=>zne(oe,Y,R,H)),ae=pe,Ee=fae(),be=(r=l??he)!==null&&r!==void 0?r:!1,[re,W]=_7([ae,be]),te=Y==="axis"?se:void 0;Iae(Y,R,J,te,X,be);var me=F??Ee;if(me==null||V==null||Y==null)return null;var ue=ae??s8;be||(ue=s8),x&&ue.length&&(ue=S7(ue.filter(oe=>oe.value!=null&&(oe.hide!==!0||n.includeHidden)),C,Fae));var Ne=ue.length>0,le=N.createElement(TZ,{allowEscapeViewBox:o,animationDuration:d,animationEasing:g,isAnimationActive:y,active:be,coordinate:J,hasPayload:Ne,offset:w,position:_,reverseDirection:D,useTranslate3d:k,viewBox:V,wrapperStyle:M,lastBoundingBox:re,innerRef:W,hasPortalFromProps:!!F},Uae(h,a8(a8({},n),{},{payload:ue,label:te,active:be,activeIndex:X,coordinate:J,accessibilityLayer:Q})));return N.createElement(N.Fragment,null,u2.createPortal(le,me),be&&N.createElement(mae,{cursor:I,tooltipEventType:Y,coordinate:J,payload:ue,index:X}))}var ed=e=>null;ed.displayName="Cell";function zae(e,t,r){return(t=Vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vae(e){var t=Hae(e,"string");return typeof t=="symbol"?t:t+""}function Hae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qae{constructor(t){zae(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function l8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function $ae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(r),!0).forEach(function(n){Gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gae(e,t,r){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wae={cacheSize:2e3,enableCache:!0},PI=$ae({},Wae),i8=new qae(PI.cacheSize),Kae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},o8="recharts_measurement_span";function Zae(e,t){var r=t.fontSize||"",n=t.fontFamily||"",l=t.fontWeight||"",o=t.fontStyle||"",d=t.letterSpacing||"",g=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(l,"|").concat(o,"|").concat(d,"|").concat(g)}var c8=(e,t)=>{try{var r=document.getElementById(o8);r||(r=document.createElement("span"),r.setAttribute("id",o8),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Kae,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},u8=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Xp.isSsr)return{width:0,height:0};if(!PI.enableCache)return c8(t,r);var n=Zae(t,r),l=i8.get(n);if(l)return l;var o=c8(t,r);return i8.set(n,o),o},d8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,m8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Jae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,II={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ese=Object.keys(II),Iu="NaN";function tse(e,t){return e*II[t]}class Ia{static parse(t){var r,[,n,l]=(r=Jae.exec(t))!==null&&r!==void 0?r:[];return new Ia(parseFloat(n),l??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,yi(t)&&(this.unit=""),r!==""&&!Qae.test(r)&&(this.num=NaN,this.unit=""),ese.includes(r)&&(this.num=tse(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ia(NaN,""):new Ia(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ia(NaN,""):new Ia(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ia(NaN,""):new Ia(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ia(NaN,""):new Ia(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return yi(this.num)}}function RI(e){if(e.includes(Iu))return Iu;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,l,o]=(r=d8.exec(t))!==null&&r!==void 0?r:[],d=Ia.parse(n??""),g=Ia.parse(o??""),h=l==="*"?d.multiply(g):d.divide(g);if(h.isNaN())return Iu;t=t.replace(d8,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var x,[,y,w,C]=(x=m8.exec(t))!==null&&x!==void 0?x:[],_=Ia.parse(y??""),D=Ia.parse(C??""),k=w==="+"?_.add(D):_.subtract(D);if(k.isNaN())return Iu;t=t.replace(m8,k.toString())}return t}var f8=/\(([^()]*)\)/;function rse(e){for(var t=e,r;(r=f8.exec(t))!=null;){var[,n]=r;t=t.replace(f8,RI(n))}return t}function nse(e){var t=e.replace(/\s+/g,"");return t=rse(t),t=RI(t),t}function ase(e){try{return nse(e)}catch{return Iu}}function Jb(e){var t=ase(e.slice(5,-1));return t===Iu?"":t}var sse=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lse=["dx","dy","angle","className","breakAll"];function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KE.apply(null,arguments)}function h8(e,t){if(e==null)return{};var r,n,l=ise(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LI=/[ \f\n\r\t\v\u2028\u2029]+/,BI=e=>{var{children:t,breakAll:r,style:n}=e;try{var l=[];ls(t)||(r?l=t.toString().split(""):l=t.toString().split(LI));var o=l.map(g=>({word:g,width:u8(g,n).width})),d=r?0:u8("",n).width;return{wordsWithComputedWidth:o,spaceWidth:d}}catch{return null}};function ose(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var FI=(e,t,r,n)=>e.reduce((l,o)=>{var{word:d,width:g}=o,h=l[l.length-1];if(h&&g!=null&&(t==null||n||h.width+g+r<Number(t)))h.words.push(d),h.width+=g+r;else{var x={words:[d],width:g};l.push(x)}return l},[]),UI=e=>e.reduce((t,r)=>t.width>r.width?t:r),cse="",g8=(e,t,r,n,l,o,d,g)=>{var h=e.slice(0,t),x=BI({breakAll:r,style:n,children:h+cse});if(!x)return[!1,[]];var y=FI(x.wordsWithComputedWidth,o,d,g),w=y.length>l||UI(y).width>Number(o);return[w,y]},use=(e,t,r,n,l)=>{var{maxLines:o,children:d,style:g,breakAll:h}=e,x=Dt(o),y=String(d),w=FI(t,n,r,l);if(!x||l)return w;var C=w.length>o||UI(w).width>Number(n);if(!C)return w;for(var _=0,D=y.length-1,k=0,M;_<=D&&k<=y.length-1;){var I=Math.floor((_+D)/2),U=I-1,[R,G]=g8(y,U,h,g,o,n,r,l),[F]=g8(y,I,h,g,o,n,r,l);if(!R&&!F&&(_=I+1),R&&F&&(D=I-1),!R&&F){M=G;break}k++}return M||w},p8=e=>{var t=ls(e)?[]:e.toString().split(LI);return[{words:t,width:void 0}]},dse=e=>{var{width:t,scaleToFit:r,children:n,style:l,breakAll:o,maxLines:d}=e;if((t||r)&&!Xp.isSsr){var g,h,x=BI({breakAll:o,children:n,style:l});if(x){var{wordsWithComputedWidth:y,spaceWidth:w}=x;g=y,h=w}else return p8(n);return use({breakAll:o,children:n,maxLines:d,style:l},g,h,t,!!r)}return p8(n)},jI="#808080",mse={angle:0,breakAll:!1,capHeight:"0.71em",fill:jI,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},RN=N.forwardRef((e,t)=>{var r=Rs(e,mse),{x:n,y:l,lineHeight:o,capHeight:d,fill:g,scaleToFit:h,textAnchor:x,verticalAnchor:y}=r,w=h8(r,sse),C=N.useMemo(()=>dse({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width}),[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),{dx:_,dy:D,angle:k,className:M,breakAll:I}=w,U=h8(w,lse);if(!bi(n)||!bi(l)||C.length===0)return null;var R=Number(n)+(Dt(_)?_:0),G=Number(l)+(Dt(D)?D:0);if(!$n(R)||!$n(G))return null;var F;switch(y){case"start":F=Jb("calc(".concat(d,")"));break;case"middle":F=Jb("calc(".concat((C.length-1)/2," * -").concat(o," + (").concat(d," / 2))"));break;default:F=Jb("calc(".concat(C.length-1," * -").concat(o,")"));break}var j=[];if(h){var L=C[0].width,{width:H}=w;j.push("scale(".concat(Dt(H)&&Dt(L)?H/L:1,")"))}return k&&j.push("rotate(".concat(k,", ").concat(R,", ").concat(G,")")),j.length&&(U.transform=j.join(" ")),N.createElement("text",KE({},ks(U),{ref:t,x:R,y:G,className:gn("recharts-text",M),textAnchor:x,fill:g.includes("url")?jI:g}),C.map((V,Q)=>{var Y=V.words.join(I?"":" ");return N.createElement("tspan",{x:R,dy:Q===0?F:o,key:"".concat(Y,"-").concat(Q)},Y)}))});RN.displayName="Text";var fse=["labelRef"];function hse(e,t){if(e==null)return{};var r,n,l=gse(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function gse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function y8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y8(Object(r),!0).forEach(function(n){pse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pse(e,t,r){return(t=yse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yse(e){var t=xse(e,"string");return typeof t=="symbol"?t:t+""}function xse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rp.apply(null,arguments)}var bse=N.createContext(null),vse=()=>{var e=N.useContext(bse),t=Hp();return e||fM(t)},Ese=N.createContext(null),wse=()=>{var e=N.useContext(Ese),t=Mt(LP);return e||t},Nse=e=>{var{value:t,formatter:r}=e,n=ls(e.children)?t:e.children;return typeof r=="function"?r(n):n},Sse=e=>e!=null&&typeof e=="function",Cse=(e,t)=>{var r=La(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Ase=(e,t,r,n,l)=>{var{offset:o,className:d}=e,{cx:g,cy:h,innerRadius:x,outerRadius:y,startAngle:w,endAngle:C,clockWise:_}=l,D=(x+y)/2,k=Cse(w,C),M=k>=0?1:-1,I,U;switch(t){case"insideStart":I=w+M*o,U=_;break;case"insideEnd":I=C-M*o,U=!_;break;case"end":I=C+M*o,U=_;break;default:throw new Error("Unsupported position ".concat(t))}U=k<=0?U:!U;var R=Tn(g,h,D,I),G=Tn(g,h,D,I+(U?1:-1)*359),F="M".concat(R.x,",").concat(R.y,`
    A`).concat(D,",").concat(D,",0,1,").concat(U?0:1,`,
    `).concat(G.x,",").concat(G.y),j=ls(e.id)?$m("recharts-radial-line-"):e.id;return N.createElement("text",rp({},n,{dominantBaseline:"central",className:gn("recharts-radial-bar-label",d)}),N.createElement("defs",null,N.createElement("path",{id:j,d:F})),N.createElement("textPath",{xlinkHref:"#".concat(j)},r))},Tse=(e,t,r)=>{var{cx:n,cy:l,innerRadius:o,outerRadius:d,startAngle:g,endAngle:h}=e,x=(g+h)/2;if(r==="outside"){var{x:y,y:w}=Tn(n,l,d+t,x);return{x:y,y:w,textAnchor:y>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:l,textAnchor:"middle",verticalAnchor:"end"};var C=(o+d)/2,{x:_,y:D}=Tn(n,l,C,x);return{x:_,y:D,textAnchor:"middle",verticalAnchor:"middle"}},ZE=e=>"cx"in e&&Dt(e.cx),Ose=(e,t)=>{var{parentViewBox:r,offset:n,position:l}=e,o;r!=null&&!ZE(r)&&(o=r);var{x:d,y:g,upperWidth:h,lowerWidth:x,height:y}=t,w=d,C=d+(h-x)/2,_=(w+C)/2,D=(h+x)/2,k=w+h/2,M=y>=0?1:-1,I=M*n,U=M>0?"end":"start",R=M>0?"start":"end",G=h>=0?1:-1,F=G*n,j=G>0?"end":"start",L=G>0?"start":"end";if(l==="top"){var H={x:w+h/2,y:g-I,textAnchor:"middle",verticalAnchor:U};return Sn(Sn({},H),o?{height:Math.max(g-o.y,0),width:h}:{})}if(l==="bottom"){var V={x:C+x/2,y:g+y+I,textAnchor:"middle",verticalAnchor:R};return Sn(Sn({},V),o?{height:Math.max(o.y+o.height-(g+y),0),width:x}:{})}if(l==="left"){var Q={x:_-F,y:g+y/2,textAnchor:j,verticalAnchor:"middle"};return Sn(Sn({},Q),o?{width:Math.max(Q.x-o.x,0),height:y}:{})}if(l==="right"){var Y={x:_+D+F,y:g+y/2,textAnchor:L,verticalAnchor:"middle"};return Sn(Sn({},Y),o?{width:Math.max(o.x+o.width-Y.x,0),height:y}:{})}var X=o?{width:D,height:y}:{};return l==="insideLeft"?Sn({x:_+F,y:g+y/2,textAnchor:L,verticalAnchor:"middle"},X):l==="insideRight"?Sn({x:_+D-F,y:g+y/2,textAnchor:j,verticalAnchor:"middle"},X):l==="insideTop"?Sn({x:w+h/2,y:g+I,textAnchor:"middle",verticalAnchor:R},X):l==="insideBottom"?Sn({x:C+x/2,y:g+y-I,textAnchor:"middle",verticalAnchor:U},X):l==="insideTopLeft"?Sn({x:w+F,y:g+I,textAnchor:L,verticalAnchor:R},X):l==="insideTopRight"?Sn({x:w+h-F,y:g+I,textAnchor:j,verticalAnchor:R},X):l==="insideBottomLeft"?Sn({x:C+F,y:g+y-I,textAnchor:L,verticalAnchor:U},X):l==="insideBottomRight"?Sn({x:C+x-F,y:g+y-I,textAnchor:j,verticalAnchor:U},X):l&&typeof l=="object"&&(Dt(l.x)||xi(l.x))&&(Dt(l.y)||xi(l.y))?Sn({x:d+as(l.x,D),y:g+as(l.y,y),textAnchor:"end",verticalAnchor:"end"},X):Sn({x:k,y:g+y/2,textAnchor:"middle",verticalAnchor:"middle"},X)},_se={angle:0,offset:5,zIndex:el.label,position:"middle",textBreakAll:!1};function zI(e){var t=Rs(e,_se),{viewBox:r,position:n,value:l,children:o,content:d,className:g="",textBreakAll:h,labelRef:x}=t,y=wse(),w=vse(),C=n==="center"?w:y??w,_,D,k;if(r==null?_=C:ZE(r)?_=r:_=fM(r),!_||ls(l)&&ls(o)&&!N.isValidElement(d)&&typeof d!="function")return null;var M=Sn(Sn({},t),{},{viewBox:_});if(N.isValidElement(d)){var{labelRef:I}=M,U=hse(M,fse);return N.cloneElement(d,U)}if(typeof d=="function"){if(D=N.createElement(d,M),N.isValidElement(D))return D}else D=Nse(t);var R=ks(t);if(ZE(_)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Ase(t,n,D,R,_);k=Tse(_,t.offset,t.position)}else k=Ose(t,_);return N.createElement(jf,{zIndex:t.zIndex},N.createElement(RN,rp({ref:x,className:gn("recharts-label",g)},R,k,{textAnchor:ose(R.textAnchor)?R.textAnchor:k.textAnchor,breakAll:h}),D))}zI.displayName="Label";var ev={},tv={},x8;function Dse(){return x8||(x8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(tv)),tv}var rv={},b8;function kse(){return b8||(b8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(rv)),rv}var v8;function Mse(){return v8||(v8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dse(),r=kse(),n=cw();function l(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=l})(ev)),ev}var nv,E8;function Pse(){return E8||(E8=1,nv=Mse().last),nv}var Ise=Pse();const Rse=Ml(Ise);var Lse=["valueAccessor"],Bse=["dataKey","clockWise","id","textBreakAll","zIndex"];function np(){return np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},np.apply(null,arguments)}function w8(e,t){if(e==null)return{};var r,n,l=Fse(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function Fse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Use=e=>Array.isArray(e.value)?Rse(e.value):e.value,VI=N.createContext(void 0);VI.Provider;var HI=N.createContext(void 0),jse=HI.Provider;function zse(){return N.useContext(VI)}function Vse(){return N.useContext(HI)}function rg(e){var{valueAccessor:t=Use}=e,r=w8(e,Lse),{dataKey:n,clockWise:l,id:o,textBreakAll:d,zIndex:g}=r,h=w8(r,Bse),x=zse(),y=Vse(),w=x||y;return!w||!w.length?null:N.createElement(jf,{zIndex:g??el.label},N.createElement(To,{className:"recharts-label-list"},w.map((C,_)=>{var D,k=ls(n)?t(C,_):fn(C&&C.payload,n),M=ls(o)?{}:{id:"".concat(o,"-").concat(_)};return N.createElement(zI,np({key:"label-".concat(_)},ks(C),h,M,{fill:(D=r.fill)!==null&&D!==void 0?D:C.fill,parentViewBox:C.parentViewBox,value:k,textBreakAll:d,viewBox:C.viewBox,index:_,zIndex:0}))})))}rg.displayName="LabelList";function Hse(e){var{label:t}=e;return t?t===!0?N.createElement(rg,{key:"labelList-implicit"}):N.isValidElement(t)||Sse(t)?N.createElement(rg,{key:"labelList-implicit",content:t}):typeof t=="object"?N.createElement(rg,np({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var qI=e=>e.graphicalItems.polarItems,qse=ke([Gr,kf],lN),u1=ke([qI,Wr,qse],iN),$se=ke([u1],oN),d1=ke([$se,Ww],cN),Gse=ke([d1,Wr,u1],dN);ke([d1,Wr,u1],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(l=>{var o,d=fn(n,(o=t.dataKey)!==null&&o!==void 0?o:l.dataKey);return{value:d,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:fn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var N8=()=>{},Yse=ke([d1,Wr,u1,l1,Gr],gN),Xse=ke([Wr,fN,hN,N8,Yse,N8,_r,Gr],pN),$I=ke([Wr,_r,d1,Gse,Df,Gr,Xse],yN),Wse=ke([$I,Wr,gd],vN);ke([Wr,$I,Wse,Gr],wN);var Kse={radiusAxis:{},angleAxis:{}},GI=ja({name:"polarAxis",initialState:Kse,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ome,removeRadiusAxis:cme,addAngleAxis:ume,removeAngleAxis:dme}=GI.actions,Zse=GI.reducer;function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function C8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(n){Qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qse(e,t,r){return(t=Jse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jse(e){var t=ele(e,"string");return typeof t=="symbol"?t:t+""}function ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tle=(e,t)=>t,LN=ke([qI,tle],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),rle=[],BN=(e,t,r)=>r?.length===0?rle:r,YI=ke([Ww,LN,BN],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var l;if(t?.data!=null&&t.data.length>0?l=t.data:l=n,(!l||!l.length)&&r!=null&&(l=r.map(o=>C8(C8({},t.presentationProps),o.props))),l!=null)return l}}),nle=ke([YI,LN,BN],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,l)=>{var o,d=fn(n,t.nameKey,t.name),g;return r!=null&&(o=r[l])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?g=r[l].props.fill:typeof n=="object"&&n!=null&&"fill"in n?g=n.fill:g=t.fill,{value:lM(d,t.dataKey),color:g,payload:n,type:t.legendType}})}),ale=ke([YI,LN,BN,Gn],(e,t,r,n)=>{if(!(t==null||e==null))return iie({offset:n,pieSettings:t,displayedData:e,cells:r})}),av={exports:{}},xr={};var A8;function sle(){if(A8)return xr;A8=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function D(k){if(typeof k=="object"&&k!==null){var M=k.$$typeof;switch(M){case e:switch(k=k.type,k){case r:case l:case n:case h:case x:case C:return k;default:switch(k=k&&k.$$typeof,k){case d:case g:case w:case y:return k;case o:return k;default:return M}}case t:return M}}}return xr.ContextConsumer=o,xr.ContextProvider=d,xr.Element=e,xr.ForwardRef=g,xr.Fragment=r,xr.Lazy=w,xr.Memo=y,xr.Portal=t,xr.Profiler=l,xr.StrictMode=n,xr.Suspense=h,xr.SuspenseList=x,xr.isContextConsumer=function(k){return D(k)===o},xr.isContextProvider=function(k){return D(k)===d},xr.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},xr.isForwardRef=function(k){return D(k)===g},xr.isFragment=function(k){return D(k)===r},xr.isLazy=function(k){return D(k)===w},xr.isMemo=function(k){return D(k)===y},xr.isPortal=function(k){return D(k)===t},xr.isProfiler=function(k){return D(k)===l},xr.isStrictMode=function(k){return D(k)===n},xr.isSuspense=function(k){return D(k)===h},xr.isSuspenseList=function(k){return D(k)===x},xr.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===l||k===n||k===h||k===x||typeof k=="object"&&k!==null&&(k.$$typeof===w||k.$$typeof===y||k.$$typeof===d||k.$$typeof===o||k.$$typeof===g||k.$$typeof===_||k.getModuleId!==void 0)},xr.typeOf=D,xr}var T8;function lle(){return T8||(T8=1,av.exports=sle()),av.exports}var ile=lle(),O8=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_8=null,sv=null,XI=e=>{if(e===_8&&Array.isArray(sv))return sv;var t=[];return N.Children.forEach(e,r=>{ls(r)||(ile.isFragment(r)?t=t.concat(XI(r.props.children)):t.push(r))}),sv=t,_8=e,t};function WI(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(l=>O8(l)):n=[O8(t)],XI(e).forEach(l=>{var o=qm(l,"type.displayName")||qm(l,"type.name");o&&n.indexOf(o)!==-1&&r.push(l)}),r}var lv={},D8;function ole(){return D8||(D8=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const l=r[Symbol.toStringTag];return l==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${l}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(lv)),lv}var iv,k8;function cle(){return k8||(k8=1,iv=ole().isPlainObject),iv}var ule=cle();const dle=Ml(ule);function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function P8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mle(e,t,r){return(t=fle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fle(e){var t=hle(e,"string");return typeof t=="symbol"?t:t+""}function hle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(null,arguments)}var I8=(e,t,r,n,l)=>{var o=r-n,d;return d="M ".concat(e,",").concat(t),d+="L ".concat(e+r,",").concat(t),d+="L ".concat(e+r-o/2,",").concat(t+l),d+="L ".concat(e+r-o/2-n,",").concat(t+l),d+="L ".concat(e,",").concat(t," Z"),d},gle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ple=e=>{var t=Rs(e,gle),{x:r,y:n,upperWidth:l,lowerWidth:o,height:d,className:g}=t,{animationEasing:h,animationDuration:x,animationBegin:y,isUpdateAnimationActive:w}=t,C=N.useRef(null),[_,D]=N.useState(-1),k=N.useRef(l),M=N.useRef(o),I=N.useRef(d),U=N.useRef(r),R=N.useRef(n),G=Cw(e,"trapezoid-");if(N.useEffect(()=>{if(C.current&&C.current.getTotalLength)try{var pe=C.current.getTotalLength();pe&&D(pe)}catch{}},[]),r!==+r||n!==+n||l!==+l||o!==+o||d!==+d||l===0&&o===0||d===0)return null;var F=gn("recharts-trapezoid",g);if(!w)return N.createElement("g",null,N.createElement("path",ap({},ks(t),{className:F,d:I8(r,n,l,o,d)})));var j=k.current,L=M.current,H=I.current,V=U.current,Q=R.current,Y="0px ".concat(_===-1?1:_,"px"),X="".concat(_,"px 0px"),he=CM(["strokeDasharray"],x,h);return N.createElement(Sw,{animationId:G,key:G,canBegin:_>0,duration:x,easing:h,isActive:w,begin:y},pe=>{var se=Ks(j,l,pe),J=Ks(L,o,pe),ae=Ks(H,d,pe),Ee=Ks(V,r,pe),be=Ks(Q,n,pe);C.current&&(k.current=se,M.current=J,I.current=ae,U.current=Ee,R.current=be);var re=pe>0?{transition:he,strokeDasharray:X}:{strokeDasharray:Y};return N.createElement("path",ap({},ks(t),{className:F,d:I8(Ee,be,se,J,ae),ref:C,style:P8(P8({},re),t.style)}))})},yle=["option","shapeType","propTransformer","activeClassName"];function xle(e,t){if(e==null)return{};var r,n,l=ble(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function ble(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vle(e,t,r){return(t=Ele(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ele(e){var t=wle(e,"string");return typeof t=="symbol"?t:t+""}function wle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nle(e,t){return sp(sp({},t),e)}function Sle(e,t){return e==="symbols"}function L8(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return N.createElement(_M,r);case"trapezoid":return N.createElement(ple,r);case"sector":return N.createElement(PM,r);case"symbols":if(Sle(t))return N.createElement(ow,r);break;case"curve":return N.createElement(Nw,r);default:return null}}function Cle(e){return N.isValidElement(e)?e.props:e}function Ale(e){var{option:t,shapeType:r,propTransformer:n=Nle,activeClassName:l="recharts-active-shape"}=e,o=xle(e,yle),d;if(N.isValidElement(t))d=N.cloneElement(t,sp(sp({},o),Cle(t)));else if(typeof t=="function")d=t(o,o.index);else if(dle(t)&&typeof t!="boolean"){var g=n(t,o);d=N.createElement(L8,{shapeType:r,elementProps:g})}else{var h=o;d=N.createElement(L8,{shapeType:r,elementProps:h})}return o.isActive?N.createElement(To,{className:l},d):d}var Tle=(e,t,r)=>{var n=pn();return(l,o)=>d=>{e?.(l,o,d),n(cI({activeIndex:String(o),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}},Ole=e=>{var t=pn();return(r,n)=>l=>{e?.(r,n,l),t(Lre())}},_le=(e,t,r)=>{var n=pn();return(l,o)=>d=>{e?.(l,o,d),n(Bre({activeIndex:String(o),activeDataKey:t,activeCoordinate:l.tooltipPosition,activeGraphicalItemId:r}))}};function Dle(e){var{tooltipEntrySettings:t}=e,r=pn(),n=Po(),l=N.useRef(null);return N.useLayoutEffect(()=>{n||(l.current===null?r(Mre(t)):l.current!==t&&r(Pre({prev:l.current,next:t})),l.current=t)},[t,r,n]),N.useLayoutEffect(()=>()=>{l.current&&(r(Ire(l.current)),l.current=null)},[r]),null}function kle(e){var{legendPayload:t}=e,r=pn(),n=Mt(_r),l=N.useRef(null);return N.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(l.current===null?r(JK(t)):l.current!==t&&r(eZ({prev:l.current,next:t})),l.current=t)},[r,n,t]),N.useLayoutEffect(()=>()=>{l.current&&(r(tZ(l.current)),l.current=null)},[r]),null}var ov,Mle=()=>{var[e]=N.useState(()=>$m("uid-"));return e},Ple=(ov=z9.useId)!==null&&ov!==void 0?ov:Mle;function KI(e,t){var r=Ple();return t||(e?"".concat(e,"-").concat(r):r)}var Ile=N.createContext(void 0),Rle=e=>{var{id:t,type:r,children:n}=e,l=KI("recharts-".concat(r),t);return N.createElement(Ile.Provider,{value:l},n(l))},Lle={cartesianItems:[],polarItems:[]},ZI=ja({name:"graphicalItems",initialState:Lle,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:zr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,l=tl(e).cartesianItems.indexOf(r);l>-1&&(e.cartesianItems[l]=n)},prepare:zr()},removeCartesianGraphicalItem:{reducer(e,t){var r=tl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:zr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:zr()},removePolarGraphicalItem:{reducer(e,t){var r=tl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:zr()}}}),{addCartesianGraphicalItem:mme,replaceCartesianGraphicalItem:fme,removeCartesianGraphicalItem:hme,addPolarGraphicalItem:Ble,removePolarGraphicalItem:Fle}=ZI.actions,Ule=ZI.reducer;function jle(e){var t=pn();return N.useLayoutEffect(()=>(t(Ble(e)),()=>{t(Fle(e))}),[t,e]),null}var zle=["key"],Vle=["onMouseEnter","onClick","onMouseLeave"],Hle=["id"],qle=["id"];function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){$le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $le(e,t,r){return(t=Gle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gle(e){var t=Yle(e,"string");return typeof t=="symbol"?t:t+""}function Yle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Do(){return Do=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Do.apply(null,arguments)}function m1(e,t){if(e==null)return{};var r,n,l=Xle(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function Xle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wle(e){var t=N.useMemo(()=>WI(e.children,ed),[e.children]),r=Mt(n=>nle(n,e.id,t));return r==null?null:N.createElement(kle,{legendPayload:r})}var Kle=N.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:l,strokeWidth:o,fill:d,name:g,hide:h,tooltipType:x}=e,y={dataDefinedOnItem:n.map(w=>w.tooltipPayload),positions:n.map(w=>w.tooltipPosition),settings:{stroke:l,strokeWidth:o,fill:d,dataKey:t,nameKey:r,name:lM(g,t),hide:h,type:x,color:d,unit:""}};return N.createElement(Dle,{tooltipEntrySettings:y})}),Zle=(e,t)=>e>t?"start":e<t?"end":"middle",Qle=(e,t,r)=>as(typeof t=="function"?t(e):t,r,r*.8),Jle=(e,t,r)=>{var{top:n,left:l,width:o,height:d}=t,g=DM(o,d),h=l+as(e.cx,o,o/2),x=n+as(e.cy,d,d/2),y=as(e.innerRadius,g,0),w=Qle(r,e.outerRadius,g),C=e.maxRadius||Math.sqrt(o*o+d*d)/2;return{cx:h,cy:x,innerRadius:y,outerRadius:w,maxRadius:C}},eie=(e,t)=>{var r=La(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function tie(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var rie=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var r=gn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,l=m1(t,zle);return N.createElement(Nw,Do({},l,{type:"linear",className:r}))},nie=(e,t,r)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),N.isValidElement(n)))return n;var l=gn("recharts-pie-label-text",tie(e));return N.createElement(RN,Do({},t,{alignmentBaseline:"middle",className:l}),n)};function aie(e){var{sectors:t,props:r,showLabels:n}=e,{label:l,labelLine:o,dataKey:d}=r;if(!n||!l||!t)return null;var g=$u(r),h=rE(l),x=rE(o),y=typeof l=="object"&&"offsetRadius"in l&&typeof l.offsetRadius=="number"&&l.offsetRadius||20,w=t.map((C,_)=>{var D=(C.startAngle+C.endAngle)/2,k=Tn(C.cx,C.cy,C.outerRadius+y,D),M=nn(nn(nn(nn({},g),C),{},{stroke:"none"},h),{},{index:_,textAnchor:Zle(k.x,C.cx)},k),I=nn(nn(nn(nn({},g),C),{},{fill:"none",stroke:C.fill},x),{},{index:_,points:[Tn(C.cx,C.cy,C.outerRadius,D),k],key:"line"});return N.createElement(jf,{zIndex:el.label,key:"label-".concat(C.startAngle,"-").concat(C.endAngle,"-").concat(C.midAngle,"-").concat(_)},N.createElement(To,null,o&&rie(o,I),nie(l,M,fn(C,d))))});return N.createElement(To,{className:"recharts-pie-labels"},w)}function sie(e){var{sectors:t,props:r,showLabels:n}=e,{label:l}=r;return typeof l=="object"&&l!=null&&"position"in l?N.createElement(Hse,{label:l}):N.createElement(aie,{sectors:t,props:r,showLabels:n})}function lie(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:l,shape:o,id:d}=e,g=Mt(af),h=Mt(NI),x=Mt(wne),{onMouseEnter:y,onClick:w,onMouseLeave:C}=l,_=m1(l,Vle),D=Tle(y,l.dataKey,d),k=Ole(C),M=_le(w,l.dataKey,d);return t==null||t.length===0?null:N.createElement(N.Fragment,null,t.map((I,U)=>{if(I?.startAngle===0&&I?.endAngle===0&&t.length!==1)return null;var R=x==null||x===d,G=String(U)===g&&(h==null||l.dataKey===h)&&R,F=g?n:null,j=r&&G?r:F,L=nn(nn({},I),{},{stroke:I.stroke,tabIndex:-1,[oM]:U,[cM]:l.dataKey});return N.createElement(To,Do({key:"sector-".concat(I?.startAngle,"-").concat(I?.endAngle,"-").concat(I.midAngle,"-").concat(U),tabIndex:-1,className:"recharts-pie-sector"},h7(_,I,U),{onMouseEnter:D(I,U),onMouseLeave:k(I,U),onClick:M(I,U)}),N.createElement(Ale,Do({option:o??j,index:U,shapeType:"sector",isActive:G},L)))}))}function iie(e){var t,{pieSettings:r,displayedData:n,cells:l,offset:o}=e,{cornerRadius:d,startAngle:g,endAngle:h,dataKey:x,nameKey:y,tooltipType:w}=r,C=Math.abs(r.minAngle),_=eie(g,h),D=Math.abs(_),k=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,M=n.filter(j=>fn(j,x,0)!==0).length,I=(D>=360?M:M-1)*k,U=D-M*C-I,R=n.reduce((j,L)=>{var H=fn(L,x,0);return j+(Dt(H)?H:0)},0),G;if(R>0){var F;G=n.map((j,L)=>{var H=fn(j,x,0),V=fn(j,y,L),Q=Jle(r,o,j),Y=(Dt(H)?H:0)/R,X,he=nn(nn({},j),l&&l[L]&&l[L].props);L?X=F.endAngle+La(_)*k*(H!==0?1:0):X=g;var pe=X+La(_)*((H!==0?C:0)+Y*U),se=(X+pe)/2,J=(Q.innerRadius+Q.outerRadius)/2,ae=[{name:V,value:H,payload:he,dataKey:x,type:w}],Ee=Tn(Q.cx,Q.cy,J,se);return F=nn(nn(nn(nn({},r.presentationProps),{},{percent:Y,cornerRadius:typeof d=="string"?parseFloat(d):d,name:V,tooltipPayload:ae,midAngle:se,middleRadius:J,tooltipPosition:Ee},he),Q),{},{value:H,dataKey:x,startAngle:X,endAngle:pe,payload:he,paddingAngle:La(_)*k}),F})}return G}function oie(e){var{showLabels:t,sectors:r,children:n}=e,l=N.useMemo(()=>!t||!r?[]:r.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[r,t]);return N.createElement(jse,{value:t?l:void 0},n)}function cie(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:l,isAnimationActive:o,animationBegin:d,animationDuration:g,animationEasing:h,activeShape:x,inactiveShape:y,onAnimationStart:w,onAnimationEnd:C}=t,_=Cw(t,"recharts-pie-"),D=r.current,[k,M]=N.useState(!1),I=N.useCallback(()=>{typeof C=="function"&&C(),M(!1)},[C]),U=N.useCallback(()=>{typeof w=="function"&&w(),M(!0)},[w]);return N.createElement(oie,{showLabels:!k,sectors:l},N.createElement(Sw,{animationId:_,begin:d,duration:g,isActive:o,easing:h,onAnimationStart:U,onAnimationEnd:I,key:_},R=>{var G=[],F=l&&l[0],j=F?.startAngle;return l?.forEach((L,H)=>{var V=D&&D[H],Q=H>0?qm(L,"paddingAngle",0):0;if(V){var Y=Ks(V.endAngle-V.startAngle,L.endAngle-L.startAngle,R),X=nn(nn({},L),{},{startAngle:j+Q,endAngle:j+Y+Q});G.push(X),j=X.endAngle}else{var{endAngle:he,startAngle:pe}=L,se=Ks(0,he-pe,R),J=nn(nn({},L),{},{startAngle:j+Q,endAngle:j+se+Q});G.push(J),j=J.endAngle}}),r.current=G,N.createElement(To,null,N.createElement(lie,{sectors:G,activeShape:x,inactiveShape:y,allOtherPieProps:t,shape:t.shape,id:n}))}),N.createElement(sie,{showLabels:!k,sectors:l,props:t}),t.children)}var uie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:el.area};function die(e){var{id:t}=e,r=m1(e,Hle),{hide:n,className:l,rootTabIndex:o}=e,d=N.useMemo(()=>WI(e.children,ed),[e.children]),g=Mt(y=>ale(y,t,d)),h=N.useRef(null),x=gn("recharts-pie",l);return n||g==null?(h.current=null,N.createElement(To,{tabIndex:o,className:x})):N.createElement(jf,{zIndex:e.zIndex},N.createElement(Kle,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:g,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),N.createElement(To,{tabIndex:o,className:x},N.createElement(cie,{props:nn(nn({},r),{},{sectors:g}),previousSectorsRef:h,id:t})))}function lp(e){var t=Rs(e,uie),{id:r}=t,n=m1(t,qle),l=$u(n);return N.createElement(Rle,{id:r,type:"pie"},o=>N.createElement(N.Fragment,null,N.createElement(jle,{type:"pie",id:o,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:l,maxRadius:t.maxRadius}),N.createElement(Wle,Do({},n,{id:o})),N.createElement(die,Do({},n,{id:o}))))}lp.displayName="Pie";function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function U8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mie(e,t,r){return(t=fie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fie(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gie={xAxis:{},yAxis:{},zAxis:{}},QI=ja({name:"cartesianAxis",initialState:gie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:zr()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:zr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:zr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:zr()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:zr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:zr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:zr()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:zr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:zr()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,l=e.yAxis[r];if(l){var o=l.widthHistory||[];if(o.length===3&&o[0]===o[2]&&n===o[1]&&n!==l.width&&Math.abs(n-o[0])<=1)return;var d=[...o,n].slice(-3);e.yAxis[r]=U8(U8({},e.yAxis[r]),{},{width:n,widthHistory:d})}}}}),{addXAxis:gme,replaceXAxis:pme,removeXAxis:yme,addYAxis:xme,replaceYAxis:bme,removeYAxis:vme,addZAxis:Eme,replaceZAxis:wme,removeZAxis:Nme,updateYAxisWidth:Sme}=QI.actions,pie=QI.reducer,yie=ke([Gn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),xie=ke([yie,Ai,Ti],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),bie=()=>Mt(xie),vie={},JI=ja({name:"errorBars",initialState:vie,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:l}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?l:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(l=>l.dataKey!==n.dataKey||l.direction!==n.direction))}}}),{addErrorBar:Cme,replaceErrorBar:Ame,removeErrorBar:Tme}=JI.actions,Eie=JI.reducer,cv={exports:{}},uv={};var j8;function wie(){if(j8)return uv;j8=1;var e=td();function t(h,x){return h===x&&(h!==0||1/h===1/x)||h!==h&&x!==x}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,l=e.useRef,o=e.useEffect,d=e.useMemo,g=e.useDebugValue;return uv.useSyncExternalStoreWithSelector=function(h,x,y,w,C){var _=l(null);if(_.current===null){var D={hasValue:!1,value:null};_.current=D}else D=_.current;_=d(function(){function M(F){if(!I){if(I=!0,U=F,F=w(F),C!==void 0&&D.hasValue){var j=D.value;if(C(j,F))return R=j}return R=F}if(j=R,r(U,F))return j;var L=w(F);return C!==void 0&&C(j,L)?(U=F,j):(U=F,R=L)}var I=!1,U,R,G=y===void 0?null:y;return[function(){return M(x())},G===null?void 0:function(){return M(G())}]},[x,y,w,C]);var k=n(h,_[0],_[1]);return o(function(){D.hasValue=!0,D.value=k},[k]),g(k),k},uv}var z8;function Nie(){return z8||(z8=1,cv.exports=wie()),cv.exports}Nie();function Sie(e){e()}function Cie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Sie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const l=t={callback:r,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!n||e===null||(n=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}var V8={notify(){},get:()=>[]};function Aie(e,t){let r,n=V8,l=0,o=!1;function d(k){y();const M=n.subscribe(k);let I=!1;return()=>{I||(I=!0,M(),w())}}function g(){n.notify()}function h(){D.onStateChange&&D.onStateChange()}function x(){return o}function y(){l++,r||(r=e.subscribe(h),n=Cie())}function w(){l--,r&&l===0&&(r(),r=void 0,n.clear(),n=V8)}function C(){o||(o=!0,y())}function _(){o&&(o=!1,w())}const D={addNestedSub:d,notifyNestedSubs:g,handleChangeWrapper:h,isSubscribed:x,trySubscribe:C,tryUnsubscribe:_,getListeners:()=>n};return D}var Tie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oie=Tie(),_ie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Die=_ie(),kie=()=>Oie||Die?N.useLayoutEffect:N.useEffect,Mie=kie();function H8(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Pie(e,t){if(H8(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let l=0;l<r.length;l++)if(!Object.prototype.hasOwnProperty.call(t,r[l])||!H8(e[r[l]],t[r[l]]))return!1;return!0}var Iie=Symbol.for("react-redux-context"),Rie=typeof globalThis<"u"?globalThis:{};function Lie(){if(!N.createContext)return{};const e=Rie[Iie]??=new Map;let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var Bie=Lie();function Fie(e){const{children:t,context:r,serverState:n,store:l}=e,o=N.useMemo(()=>{const h=Aie(l);return{store:l,subscription:h,getServerState:n?()=>n:void 0}},[l,n]),d=N.useMemo(()=>l.getState(),[l]);Mie(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),d!==l.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,d]);const g=r||Bie;return N.createElement(g.Provider,{value:o},t)}var Uie=Fie,jie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function zie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Vie(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(jie.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Pie(e[n],t[n]))return!1}else if(!zie(e[n],t[n]))return!1;return!0}var Hie=e=>{var{chartData:t}=e,r=pn(),n=Po();return N.useEffect(()=>n?()=>{}:(r(t8(t)),()=>{r(t8(void 0))}),[t,r,n]),null},q8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},eR=ja({name:"brush",initialState:q8,reducers:{setBrushSettings(e,t){return t.payload==null?q8:t.payload}}}),{setBrushSettings:Ome}=eR.actions,qie=eR.reducer,$ie={dots:[],areas:[],lines:[]},tR=ja({name:"referenceElements",initialState:$ie,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=tl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=tl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=tl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:_me,removeDot:Dme,addArea:kme,removeArea:Mme,addLine:Pme,removeLine:Ime}=tR.actions,Gie=tR.reducer,Yie=N.createContext(void 0),Xie=e=>{var{children:t}=e,[r]=N.useState("".concat($m("recharts"),"-clip")),n=bie();if(n==null)return null;var{x:l,y:o,width:d,height:g}=n;return N.createElement(Yie.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:l,y:o,height:g,width:d}))),t)},Wie=(e,t)=>t,FN=ke([Wie,_r,LP,Un,bI,_i,Une,Gn],Gne),UN=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},rR=Ms("mouseClick"),nR=Nf();nR.startListening({actionCreator:rR,effect:(e,t)=>{var r=e.payload,n=FN(t.getState(),UN(r));n?.activeIndex!=null&&t.dispatch(Fre({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var QE=Ms("mouseMove"),aR=Nf(),Ah=null;aR.startListening({actionCreator:QE,effect:(e,t)=>{var r=e.payload;Ah!==null&&cancelAnimationFrame(Ah);var n=UN(r);Ah=requestAnimationFrame(()=>{var l=t.getState(),o=CN(l,l.tooltip.settings.shared);if(o==="axis"){var d=FN(l,n);d?.activeIndex!=null?t.dispatch(dI({activeIndex:d.activeIndex,activeDataKey:void 0,activeCoordinate:d.activeCoordinate})):t.dispatch(uI())}Ah=null})}});var $8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},sR=ja({name:"rootProps",initialState:$8,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Kie=sR.reducer,{updateOptions:Zie}=sR.actions,lR=ja({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Qie}=lR.actions,Jie=lR.reducer,iR=Ms("keyDown"),oR=Ms("focus"),jN=Nf();jN.startListening({actionCreator:iR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var d=AN(l,yd(r),If(r),Ff(r)),g=d==null?-1:Number(d);if(!(!Number.isFinite(g)||g<0)){var h=_i(r);if(o==="Enter"){var x=tp(r,"axis","hover",String(l.index));t.dispatch(GE({active:!l.active,activeIndex:l.index,activeDataKey:l.dataKey,activeCoordinate:x}));return}var y=Ore(r),w=y==="left-to-right"?1:-1,C=o==="ArrowRight"?1:-1,_=g+C*w;if(!(h==null||_>=h.length||_<0)){var D=tp(r,"axis","hover",String(_));t.dispatch(GE({active:!0,activeIndex:_.toString(),activeDataKey:void 0,activeCoordinate:D}))}}}}}});jN.startListening({actionCreator:oR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:l}=r.tooltip;if(!l.active&&l.index==null){var o="0",d=tp(r,"axis","hover",String(o));t.dispatch(GE({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:d}))}}}});var ws=Ms("externalEvent"),cR=Nf(),dv=new Map;cR.startListening({actionCreator:ws,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var l=n.type,o=dv.get(l);o!==void 0&&cancelAnimationFrame(o);var d=requestAnimationFrame(()=>{try{var g=t.getState(),h={activeCoordinate:Sne(g),activeDataKey:NI(g),activeIndex:af(g),activeLabel:wI(g),activeTooltipIndex:af(g),isTooltipActive:Cne(g)};r(h,n)}finally{dv.delete(l)}});dv.set(l,d)}}});var eoe=ke([pd],e=>e.tooltipItemPayloads),toe=ke([eoe,Lf,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var l=e.find(g=>g.settings.dataKey===n);if(l!=null){var{positions:o}=l;if(o!=null){var d=t(o,r);return d}}}),uR=Ms("touchMove"),dR=Nf();dR.startListening({actionCreator:uR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),l=CN(n,n.tooltip.settings.shared);if(l==="axis"){var o=FN(n,UN({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(dI({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(l==="item"){var d,g=r.touches[0];if(document.elementFromPoint==null)return;var h=document.elementFromPoint(g.clientX,g.clientY);if(!h||!h.getAttribute)return;var x=h.getAttribute(oM),y=(d=h.getAttribute(cM))!==null&&d!==void 0?d:void 0,w=toe(t.getState(),x,y);t.dispatch(cI({activeDataKey:y,activeIndex:x,activeCoordinate:w}))}}}});var roe=k7({brush:qie,cartesianAxis:pie,chartData:Sae,errorBars:Eie,graphicalItems:Ule,layout:YW,legend:rZ,options:bae,polarAxis:Zse,polarOptions:Jie,referenceElements:Gie,rootProps:Kie,tooltip:Ure,zIndex:lae}),noe=function(t){return xW({reducer:roe,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([nR.middleware,aR.middleware,jN.middleware,cR.middleware,dR.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(G7({type:"raf"}))},devTools:Xp.devToolsEnabled})};function aoe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,l=Po(),o=N.useRef(null);if(l)return r;o.current==null&&(o.current=noe(t));var d=uw;return N.createElement(Uie,{context:d,store:o.current},r)}function soe(e){var{layout:t,margin:r}=e,n=pn(),l=Po();return N.useEffect(()=>{l||(n(qW(t)),n(HW(r)))},[n,l,t,r]),null}var loe=N.memo(soe,Vie);function ioe(e){var t=pn();return N.useEffect(()=>{t(Zie(e))},[t,e]),null}function G8(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",l=KI("".concat(n).concat(t)),o=pn();return N.useLayoutEffect(()=>(o(aae({zIndex:t,elementId:l,isPanorama:r})),()=>{o(sae({zIndex:t,isPanorama:r}))}),[o,t,l,r]),N.createElement("g",{tabIndex:-1,id:l})}function Y8(e){var{children:t,isPanorama:r}=e,n=Mt(Xne);if(!n||n.length===0)return t;var l=n.filter(d=>d<0),o=n.filter(d=>d>0);return N.createElement(N.Fragment,null,l.map(d=>N.createElement(G8,{key:d,zIndex:d,isPanorama:r})),t,o.map(d=>N.createElement(G8,{key:d,zIndex:d,isPanorama:r})))}var ooe=["children"];function coe(e,t){if(e==null)return{};var r,n,l=uoe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function uoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}var doe={width:"100%",height:"100%",display:"block"},moe=N.forwardRef((e,t)=>{var r=hM(),n=gM(),l=SM();if(!Oo(r)||!Oo(n))return null;var{children:o,otherAttributes:d,title:g,desc:h}=e,x,y;return d!=null&&(typeof d.tabIndex=="number"?x=d.tabIndex:x=l?0:void 0,typeof d.role=="string"?y=d.role:y=l?"application":void 0),N.createElement(tw,ip({},d,{title:g,desc:h,role:y,tabIndex:x,width:r,height:n,style:doe,ref:t}),o)}),foe=e=>{var{children:t}=e,r=Mt(Vp);if(!r)return null;var{width:n,height:l,y:o,x:d}=r;return N.createElement(tw,{width:n,height:l,x:d,y:o},t)},X8=N.forwardRef((e,t)=>{var{children:r}=e,n=coe(e,ooe),l=Po();return l?N.createElement(foe,null,N.createElement(Y8,{isPanorama:!0},r)):N.createElement(moe,ip({ref:t},n),N.createElement(Y8,{isPanorama:!1},r))});function hoe(){var e=pn(),[t,r]=N.useState(null),n=Mt(oK);return N.useEffect(()=>{if(t!=null){var l=t.getBoundingClientRect(),o=l.width/t.offsetWidth;$n(o)&&o!==n&&e(GW(o))}},[t,e,n]),r}function W8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function goe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(r),!0).forEach(function(n){poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function poe(e,t,r){return(t=yoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yoe(e){var t=xoe(e,"string");return typeof t=="symbol"?t:t+""}function xoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mc(){return Mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mc.apply(null,arguments)}var boe=()=>(Pae(),null);function op(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var voe=N.forwardRef((e,t)=>{var r,n,l=N.useRef(null),[o,d]=N.useState({containerWidth:op((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:op((n=e.style)===null||n===void 0?void 0:n.height)}),g=N.useCallback((x,y)=>{d(w=>{var C=Math.round(x),_=Math.round(y);return w.containerWidth===C&&w.containerHeight===_?w:{containerWidth:C,containerHeight:_}})},[]),h=N.useCallback(x=>{if(typeof t=="function"&&t(x),x!=null&&typeof ResizeObserver<"u"){var{width:y,height:w}=x.getBoundingClientRect();g(y,w);var C=D=>{var{width:k,height:M}=D[0].contentRect;g(k,M)},_=new ResizeObserver(C);_.observe(x),l.current=_}},[t,g]);return N.useEffect(()=>()=>{var x=l.current;x?.disconnect()},[g]),N.createElement(N.Fragment,null,N.createElement(qp,{width:o.containerWidth,height:o.containerHeight}),N.createElement("div",Mc({ref:h},e)))}),Eoe=N.forwardRef((e,t)=>{var{width:r,height:n}=e,[l,o]=N.useState({containerWidth:op(r),containerHeight:op(n)}),d=N.useCallback((h,x)=>{o(y=>{var w=Math.round(h),C=Math.round(x);return y.containerWidth===w&&y.containerHeight===C?y:{containerWidth:w,containerHeight:C}})},[]),g=N.useCallback(h=>{if(typeof t=="function"&&t(h),h!=null){var{width:x,height:y}=h.getBoundingClientRect();d(x,y)}},[t,d]);return N.createElement(N.Fragment,null,N.createElement(qp,{width:l.containerWidth,height:l.containerHeight}),N.createElement("div",Mc({ref:g},e)))}),woe=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return N.createElement(N.Fragment,null,N.createElement(qp,{width:r,height:n}),N.createElement("div",Mc({ref:t},e)))}),Noe=N.forwardRef((e,t)=>{var{width:r,height:n}=e;return xi(r)||xi(n)?N.createElement(Eoe,Mc({},e,{ref:t})):N.createElement(woe,Mc({},e,{ref:t}))});function Soe(e){return e===!0?voe:Noe}var Coe=N.forwardRef((e,t)=>{var{children:r,className:n,height:l,onClick:o,onContextMenu:d,onDoubleClick:g,onMouseDown:h,onMouseEnter:x,onMouseLeave:y,onMouseMove:w,onMouseUp:C,onTouchEnd:_,onTouchMove:D,onTouchStart:k,style:M,width:I,responsive:U,dispatchTouchEvents:R=!0}=e,G=N.useRef(null),F=pn(),[j,L]=N.useState(null),[H,V]=N.useState(null),Q=hoe(),Y=bw(),X=Y?.width>0?Y.width:I,he=Y?.height>0?Y.height:l,pe=N.useCallback(ve=>{Q(ve),typeof t=="function"&&t(ve),L(ve),V(ve),ve!=null&&(G.current=ve)},[Q,t,L,V]),se=N.useCallback(ve=>{F(rR(ve)),F(ws({handler:o,reactEvent:ve}))},[F,o]),J=N.useCallback(ve=>{F(QE(ve)),F(ws({handler:x,reactEvent:ve}))},[F,x]),ae=N.useCallback(ve=>{F(uI()),F(ws({handler:y,reactEvent:ve}))},[F,y]),Ee=N.useCallback(ve=>{F(QE(ve)),F(ws({handler:w,reactEvent:ve}))},[F,w]),be=N.useCallback(()=>{F(oR())},[F]),re=N.useCallback(ve=>{F(iR(ve.key))},[F]),W=N.useCallback(ve=>{F(ws({handler:d,reactEvent:ve}))},[F,d]),te=N.useCallback(ve=>{F(ws({handler:g,reactEvent:ve}))},[F,g]),me=N.useCallback(ve=>{F(ws({handler:h,reactEvent:ve}))},[F,h]),ue=N.useCallback(ve=>{F(ws({handler:C,reactEvent:ve}))},[F,C]),Ne=N.useCallback(ve=>{F(ws({handler:k,reactEvent:ve}))},[F,k]),le=N.useCallback(ve=>{R&&F(uR(ve)),F(ws({handler:D,reactEvent:ve}))},[F,R,D]),oe=N.useCallback(ve=>{F(ws({handler:_,reactEvent:ve}))},[F,_]),ze=Soe(U);return N.createElement(DI.Provider,{value:j},N.createElement(Yk.Provider,{value:H},N.createElement(ze,{width:X??M?.width,height:he??M?.height,className:gn("recharts-wrapper",n),style:goe({position:"relative",cursor:"default",width:X,height:he},M),onClick:se,onContextMenu:W,onDoubleClick:te,onFocus:be,onKeyDown:re,onMouseDown:me,onMouseEnter:J,onMouseLeave:ae,onMouseMove:Ee,onMouseUp:ue,onTouchEnd:oe,onTouchMove:le,onTouchStart:Ne,ref:pe},N.createElement(boe,null),r)))}),Aoe=["width","height","responsive","children","className","style","compact","title","desc"];function Toe(e,t){if(e==null)return{};var r,n,l=Ooe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function Ooe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _oe=N.forwardRef((e,t)=>{var{width:r,height:n,responsive:l,children:o,className:d,style:g,compact:h,title:x,desc:y}=e,w=Toe(e,Aoe),C=$u(w);return h?N.createElement(N.Fragment,null,N.createElement(qp,{width:r,height:n}),N.createElement(X8,{otherAttributes:C,title:x,desc:y},o)):N.createElement(Coe,{className:d,style:g,width:r,height:n,responsive:l??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(X8,{otherAttributes:C,title:x,desc:y,ref:t},N.createElement(Xie,null,o)))});function Doe(e){var t=pn();return N.useEffect(()=>{t(Qie(e))},[t,e]),null}var koe=["layout"];function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JE.apply(null,arguments)}function Moe(e,t){if(e==null)return{};var r,n,l=Poe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function Poe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ioe={top:5,right:5,bottom:5,left:5},mR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ioe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Roe=N.forwardRef(function(t,r){var n,l=Rs(t.categoricalChartProps,mR),{layout:o}=l,d=Moe(l,koe),{chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:y}=t,w={chartName:g,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:y,eventEmitter:void 0};return N.createElement(aoe,{preloadedState:{options:w},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:g},N.createElement(Hie,{chartData:l.data}),N.createElement(loe,{layout:o,margin:l.margin}),N.createElement(ioe,{baseValue:void 0,accessibilityLayer:l.accessibilityLayer,barCategoryGap:l.barCategoryGap,maxBarSize:l.maxBarSize,stackOffset:l.stackOffset,barGap:l.barGap,barSize:l.barSize,syncId:l.syncId,syncMethod:l.syncMethod,className:l.className,reverseStackOrder:l.reverseStackOrder}),N.createElement(Doe,{cx:l.cx,cy:l.cy,startAngle:l.startAngle,endAngle:l.endAngle,innerRadius:l.innerRadius,outerRadius:l.outerRadius}),N.createElement(_oe,JE({},d,{ref:r})))});function K8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,n)}return r}function Z8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K8(Object(r),!0).forEach(function(n){Loe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Loe(e,t,r){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Boe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uoe=["item"],joe=Z8(Z8({},mR),{},{layout:"centric",startAngle:0,endAngle:360}),e2=N.forwardRef((e,t)=>{var r=Rs(e,joe);return N.createElement(Roe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Uoe,tooltipPayloadSearcher:yae,categoricalChartProps:r,ref:t})});const Th=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],zoe=({data:e,loading:t})=>{if(!e)return a.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},a.createElement(An,{loading:!0}),a.createElement(An,{loading:!0}));const{totalPayments:r,totalRevenue:n,averageOrderValue:l,totalDiscount:o,paymentMethods:d=[],topCoupons:g=[]}=e,h=d.map(y=>({name:y._id,value:y.revenue,count:y.count})),x=({active:y,payload:w})=>y&&w&&w.length?a.createElement("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200"},a.createElement("p",{className:"text-sm font-semibold text-gray-900"},w[0].name),a.createElement("p",{className:"text-sm text-gray-600"},"Revenue: ",a.createElement("span",{className:"font-bold text-green-600"},Xs(w[0].value))),w[0].payload.count&&a.createElement("p",{className:"text-sm text-gray-600"},"Orders: ",a.createElement("span",{className:"font-bold"},w[0].payload.count))):null;return a.createElement("div",{className:"space-y-4"},a.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Revenue & Payments"),a.createElement("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4"},a.createElement("div",{className:"xl:col-span-1 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-1 gap-3"},a.createElement(An,{title:"Total Revenue",value:Xs(n),subtitle:`From ${br(r)} transactions`,icon:a.createElement(aD,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:t}),a.createElement(An,{title:"Total Payments",value:br(r),subtitle:"Successful transactions",icon:a.createElement(pz,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:t}),a.createElement(An,{title:"Average Order Value",value:Xs(l),subtitle:"Per transaction",icon:a.createElement(vg,{className:"w-6 h-6"}),iconColor:"text-purple-600",loading:t}),a.createElement(An,{title:"Total Discounts",value:Xs(o),subtitle:"Coupons & offers applied",icon:a.createElement(_A,{className:"w-6 h-6"}),iconColor:"text-orange-600",loading:t})),h.length>0&&a.createElement("div",{className:"xl:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},a.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-3"},"Payment Distribution"),a.createElement(EE,{width:"100%",height:240},a.createElement(e2,null,a.createElement(lp,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:w})=>`${y} (${(w*100).toFixed(0)}%)`,outerRadius:70,fill:"#8884d8",dataKey:"value"},h.map((y,w)=>a.createElement(ed,{key:`cell-${w}`,fill:Th[w%Th.length]}))),a.createElement(WE,{content:a.createElement(x,null)}),a.createElement(NM,null))),a.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2"},h.map((y,w)=>a.createElement("div",{key:y.name,className:"flex items-center justify-between text-xs p-2 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:Th[w%Th.length]}}),a.createElement("span",{className:"font-semibold text-gray-900"},y.name)),a.createElement("div",{className:"text-right"},a.createElement("p",{className:"font-bold text-gray-900"},Xs(y.value)),a.createElement("p",{className:"text-xs text-gray-500"},y.count," orders")))))))),g.length>0&&a.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},a.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-3"},"Top Performing Coupons"),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},g.map((y,w)=>a.createElement("div",{key:y._id,className:"relative p-3 rounded-lg border-2 border-dashed border-gray-200 hover:border-blue-400 hover:bg-blue-50/30 transition-all group"},a.createElement("div",{className:"flex items-center justify-between mb-2"},a.createElement("div",{className:"flex items-center gap-1.5"},a.createElement("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white font-bold px-2 py-0.5 rounded text-xs shadow-sm"},"#",w+1),a.createElement("span",{className:"font-bold text-sm text-gray-900 group-hover:text-gray-900 transition-colors truncate"},y._id)),a.createElement(_A,{className:"text-orange-500 w-4 h-4 group-hover:scale-110 transition-transform shrink-0"})),a.createElement("div",{className:"grid grid-cols-2 gap-2 text-xs"},a.createElement("div",{className:"bg-white/50 p-2 rounded-lg"},a.createElement("p",{className:"text-xs text-gray-600 mb-0.5"},"Usage Count"),a.createElement("p",{className:"font-bold text-gray-900"},br(y.usageCount))),a.createElement("div",{className:"bg-white/50 p-2 rounded-lg"},a.createElement("p",{className:"text-xs text-gray-600 mb-0.5"},"Total Discount"),a.createElement("p",{className:"font-bold text-green-600"},Xs(y.totalDiscount)))))))))},Q8={TECHNOLOGY:"#3B82F6",ENTERTAINMENT:"#EC4899",EDUCATION:"#10B981",BUSINESS:"#F59E0B",OTHER:"#6B7280"},J8={OFFLINE:"#EF4444",ONLINE:"#10B981",HYBRID:"#8B5CF6"},Voe=({data:e,enrollmentsData:t,cashTicketsData:r,loading:n})=>{if(!e)return a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},a.createElement(An,{loading:!0}));const{total:l,live:o,upcoming:d,past:g,byCategory:h={},byMode:x={}}=e,y=Object.entries(h).map(([_,D])=>({name:_,value:D})),w=Object.entries(x).map(([_,D])=>({name:_,value:D})),C=({active:_,payload:D})=>_&&D&&D.length?a.createElement("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200"},a.createElement("p",{className:"text-sm font-semibold text-gray-900"},D[0].name),a.createElement("p",{className:"text-sm text-gray-600"},"Events: ",a.createElement("span",{className:"font-bold text-gray-800"},D[0].value))):null;return a.createElement("div",{className:"space-y-4"},a.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Events Overview"),a.createElement("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4"},a.createElement("div",{className:"space-y-3"},a.createElement(An,{title:"Total Events",value:br(l),subtitle:"All time events",icon:a.createElement(TA,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:n}),a.createElement(An,{title:"Live Events",value:br(o),subtitle:"Currently ongoing",icon:a.createElement(bz,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:n}),a.createElement(An,{title:"Upcoming Events",value:br(d),subtitle:"Scheduled ahead",icon:a.createElement(Sz,{className:"w-6 h-6"}),iconColor:"text-orange-600",loading:n}),a.createElement(An,{title:"Past Events",value:br(g),subtitle:"Completed events",icon:a.createElement(gz,{className:"w-6 h-6"}),iconColor:"text-gray-600",loading:n})),y.length>0&&a.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},a.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-3"},"Events by Category"),a.createElement(EE,{width:"100%",height:220},a.createElement(e2,null,a.createElement(lp,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:D})=>`${_.slice(0,3)} (${(D*100).toFixed(0)}%)`,outerRadius:60,fill:"#8884d8",dataKey:"value"},y.map((_,D)=>a.createElement(ed,{key:`cell-${D}`,fill:Q8[_.name]||"#6B7280"}))),a.createElement(WE,{content:a.createElement(C,null)}))),a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-2"},y.map(_=>a.createElement("div",{key:_.name,className:"flex items-center gap-2 text-xs"},a.createElement("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Q8[_.name]||"#6B7280"}}),a.createElement("span",{className:"font-semibold text-gray-900 truncate"},_.name),a.createElement("span",{className:"text-gray-600 ml-auto"},_.value))))),w.length>0&&a.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},a.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-3"},"Events by Mode"),a.createElement(EE,{width:"100%",height:220},a.createElement(e2,null,a.createElement(lp,{data:w,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:D})=>`${_} (${(D*100).toFixed(0)}%)`,outerRadius:60,fill:"#8884d8",dataKey:"value"},w.map((_,D)=>a.createElement(ed,{key:`cell-${D}`,fill:J8[_.name]||"#6B7280"}))),a.createElement(WE,{content:a.createElement(C,null)}))),a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-2"},w.map(_=>a.createElement("div",{key:_.name,className:"flex items-center justify-between text-sm p-2 rounded-lg bg-gray-50"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:J8[_.name]||"#6B7280"}}),a.createElement("span",{className:"font-semibold text-gray-900"},_.name)),a.createElement("span",{className:"font-bold text-gray-900"},_.value)))))),t&&a.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4"},a.createElement(An,{title:"Total Enrollments",value:br(t.totalEnrollments),subtitle:"Online + Cash combined",icon:a.createElement(qk,{className:"w-6 h-6"}),iconColor:"text-purple-600",loading:n}),a.createElement(An,{title:"Online Enrollments",value:br(t.onlineEnrollments),subtitle:`${br(t.onlineTickets)} tickets sold`,icon:a.createElement(eE,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:n}),a.createElement(An,{title:"Cash Enrollments",value:br(t.cashEnrollments),subtitle:"Offline redemptions",icon:a.createElement(TA,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:n}),r&&a.createElement(An,{title:"Cash Tickets",value:br(r.totalMinted),subtitle:`${r.redeemed} redeemed, ${r.pending} pending`,icon:a.createElement(tE,{className:"w-6 h-6"}),iconColor:"text-orange-600",loading:n})))},Hoe=({data:e,loading:t})=>{const[r,n]=N.useState("totalRevenue"),[l,o]=N.useState("desc");if(!e||e.length===0)return a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},a.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-4"},"Admin Performance"),a.createElement("p",{className:"text-gray-500 text-center py-8"},"No admin performance data available"));const d=[...e].sort((y,w)=>{const C=y[r],_=w[r];return l==="asc"?C-_:_-C}),g=y=>{r===y?o(l==="asc"?"desc":"asc"):(n(y),o("desc"))},h=y=>({SUPER_ADMIN:"bg-purple-100 text-purple-800",ADMIN:"bg-blue-100 text-blue-800",MANAGEMENT_STAFF:"bg-green-100 text-green-800"})[y]||"bg-gray-100 text-gray-800",x=(y,w)=>w?(y/w*100).toFixed(1):0;return t?a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},a.createElement("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6 animate-pulse"}),a.createElement("div",{className:"space-y-4"},[1,2,3].map(y=>a.createElement("div",{key:y,className:"h-20 bg-gray-100 rounded animate-pulse"})))):a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},a.createElement("div",{className:"flex items-center justify-between mb-6"},a.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Admin Performance"),a.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},a.createElement(dm,{className:"text-yellow-500"}),a.createElement("span",null,"Top ",d.length," performers"))),a.createElement("div",{className:"hidden lg:block overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",null,a.createElement("tr",{className:"border-b border-gray-200"},a.createElement("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm"},"Rank"),a.createElement("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm"},"Admin"),a.createElement("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm"},"Role"),a.createElement("th",{className:"text-right py-3 px-4 font-semibold text-gray-700 text-sm cursor-pointer hover:text-gray-800",onClick:()=>g("totalTickets"),title:"Total cash tickets issued by this admin"},a.createElement("div",{className:"flex flex-col items-end"},a.createElement("span",null,"Tickets Issued ",r==="totalTickets"&&(l==="asc"?"":"")),a.createElement("span",{className:"text-xs font-normal text-gray-400"},"Cash tickets"))),a.createElement("th",{className:"text-right py-3 px-4 font-semibold text-gray-700 text-sm cursor-pointer hover:text-gray-800",onClick:()=>g("redeemedTickets"),title:"Tickets redeemed by this admin"},a.createElement("div",{className:"flex flex-col items-end"},a.createElement("span",null,"Redeemed ",r==="redeemedTickets"&&(l==="asc"?"":"")),a.createElement("span",{className:"text-xs font-normal text-gray-400"},"Tickets verified"))),a.createElement("th",{className:"text-right py-3 px-4 font-semibold text-gray-700 text-sm",title:"Pending tickets"},a.createElement("div",{className:"flex flex-col items-end"},a.createElement("span",null,"Pending"),a.createElement("span",{className:"text-xs font-normal text-gray-400"},"Tickets"))),a.createElement("th",{className:"text-right py-3 px-4 font-semibold text-gray-700 text-sm cursor-pointer hover:text-gray-800",onClick:()=>g("totalRevenue"),title:"Revenue from redeemed tickets"},a.createElement("div",{className:"flex flex-col items-end"},a.createElement("span",null,"Revenue ",r==="totalRevenue"&&(l==="asc"?"":"")),a.createElement("span",{className:"text-xs font-normal text-gray-400"},"From redemptions"))))),a.createElement("tbody",null,d.map((y,w)=>a.createElement("tr",{key:y.adminId,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"py-4 px-4"},a.createElement("div",{className:"flex items-center gap-2"},w===0&&a.createElement(dm,{className:"text-yellow-500 w-5 h-5"}),w===1&&a.createElement(dm,{className:"text-gray-400 w-5 h-5"}),w===2&&a.createElement(dm,{className:"text-orange-600 w-5 h-5"}),a.createElement("span",{className:"font-semibold text-gray-900"},"#",w+1))),a.createElement("td",{className:"py-4 px-4"},a.createElement("div",null,a.createElement("p",{className:"font-semibold text-gray-900"},y.adminName),a.createElement("p",{className:"text-xs text-gray-500"},"@",y.adminUsername))),a.createElement("td",{className:"py-4 px-4"},a.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(y.adminRole)}`},y.adminRole.replace("_"," "))),a.createElement("td",{className:"py-4 px-4 text-right"},a.createElement("span",{className:"font-semibold text-blue-600"},br(y.totalTickets))),a.createElement("td",{className:"py-4 px-4 text-right"},a.createElement("div",null,a.createElement("span",{className:"font-semibold text-green-600"},br(y.redeemedTickets)),a.createElement("p",{className:"text-xs text-gray-500"},x(y.redeemedTickets,y.totalTickets),"% rate"))),a.createElement("td",{className:"py-4 px-4 text-right"},a.createElement("span",{className:"font-semibold text-orange-600"},br(y.pendingTickets))),a.createElement("td",{className:"py-4 px-4 text-right"},a.createElement("span",{className:"font-bold text-gray-900"},Xs(y.totalRevenue)))))))),a.createElement("div",{className:"lg:hidden space-y-4"},d.map((y,w)=>a.createElement("div",{key:y.adminId,className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},a.createElement("div",{className:"flex items-start justify-between mb-3"},a.createElement("div",{className:"flex items-center gap-2"},w<3&&a.createElement(dm,{className:w===0?"text-yellow-500":w===1?"text-gray-400":"text-orange-600"}),a.createElement("div",null,a.createElement("p",{className:"font-semibold text-gray-900"},y.adminName),a.createElement("p",{className:"text-xs text-gray-500"},"@",y.adminUsername))),a.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${h(y.adminRole)}`},y.adminRole.replace("_"," "))),a.createElement("div",{className:"mb-3 p-2 bg-blue-50 rounded-lg"},a.createElement("p",{className:"text-xs text-blue-600 font-medium mb-1"},"Cash Tickets Issued"),a.createElement("p",{className:"font-bold text-blue-800 text-lg"},br(y.totalTickets))),a.createElement("div",{className:"p-2 bg-gray-50 rounded-lg"},a.createElement("p",{className:"text-xs text-gray-600 font-medium mb-2"},"Ticket Redemptions"),a.createElement("div",{className:"grid grid-cols-3 gap-2 text-sm"},a.createElement("div",null,a.createElement("p",{className:"text-xs text-gray-500"},"Redeemed"),a.createElement("p",{className:"font-semibold text-green-600"},br(y.redeemedTickets))),a.createElement("div",null,a.createElement("p",{className:"text-xs text-gray-500"},"Pending"),a.createElement("p",{className:"font-semibold text-orange-600"},br(y.pendingTickets))),a.createElement("div",null,a.createElement("p",{className:"text-xs text-gray-500"},"Rate"),a.createElement("p",{className:"font-semibold text-gray-800"},x(y.redeemedTickets,y.totalTickets),"%")))),a.createElement("div",{className:"mt-3 pt-3 border-t border-gray-100"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("span",{className:"text-gray-600 text-sm flex items-center gap-1"},a.createElement(aD,{className:"text-purple-600"})," Revenue"),a.createElement("span",{className:"font-bold text-gray-900"},Xs(y.totalRevenue))))))))},eO=({events:e,loading:t})=>{if(!e||e.length===0)return a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},a.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-4"},"Top Performing Events"),a.createElement("p",{className:"text-gray-500 text-center py-8"},"No event data available"));if(t)return a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},a.createElement("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6 animate-pulse"}),a.createElement("div",{className:"space-y-4"},[1,2,3].map(l=>a.createElement("div",{key:l,className:"h-32 bg-gray-100 rounded animate-pulse"}))));const r=l=>({TECHNOLOGY:"bg-blue-100 text-blue-800",ENTERTAINMENT:"bg-pink-100 text-pink-800",EDUCATION:"bg-green-100 text-green-800",BUSINESS:"bg-yellow-100 text-yellow-800",OTHER:"bg-gray-100 text-gray-800"})[l]||"bg-gray-100 text-gray-800",n=l=>{switch(l){case"ONLINE":return a.createElement(eE,{className:"w-4 h-4 text-green-600"});case"OFFLINE":return a.createElement(tE,{className:"w-4 h-4 text-red-600"});case"HYBRID":return a.createElement(vg,{className:"w-4 h-4 text-purple-600"});default:return a.createElement(vg,{className:"w-4 h-4 text-gray-600"})}};return a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},a.createElement("div",{className:"flex items-center justify-between mb-6"},a.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Top Performing Events"),a.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},a.createElement(_z,{className:"text-yellow-500"}),a.createElement("span",null,"Top ",e.length," events"))),a.createElement("div",{className:"space-y-4"},e.map((l,o)=>a.createElement("div",{key:l.eventId,className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200 hover:border-blue-300"},a.createElement("div",{className:"flex items-start justify-between mb-3"},a.createElement("div",{className:"flex-1"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},o<3&&a.createElement("span",{className:`
                        w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                        ${o===0?"bg-yellow-500 text-white":""}
                        ${o===1?"bg-gray-400 text-white":""}
                        ${o===2?"bg-orange-600 text-white":""}
                      `},o+1),a.createElement("h3",{className:"font-bold text-lg text-gray-900"},l.eventName)),a.createElement("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600"},a.createElement("span",{className:"flex items-center gap-1"},a.createElement(hz,{className:"w-4 h-4"}),OG(l.eventDate)),l.eventCity&&a.createElement("span",{className:"flex items-center gap-1"},a.createElement(Ez,{className:"w-4 h-4"}),l.eventCity),a.createElement("span",{className:"flex items-center gap-1"},n(l.eventMode),l.eventMode))),a.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${r(l.eventCategory)}`},l.eventCategory)),a.createElement("div",{className:"grid grid-cols-2 gap-4 mb-3"},a.createElement("div",{className:"bg-blue-50 rounded-lg p-3"},a.createElement("p",{className:"text-xs text-gray-800 font-medium mb-1"},"Total Revenue"),a.createElement("p",{className:"text-lg font-bold text-blue-900"},Xs(l.totalRevenue))),a.createElement("div",{className:"bg-green-50 rounded-lg p-3"},a.createElement("p",{className:"text-xs text-green-600 font-medium mb-1"},"Total Tickets"),a.createElement("p",{className:"text-lg font-bold text-green-900"},br(l.totalTickets)))),a.createElement("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-gray-100"},a.createElement("div",null,a.createElement("p",{className:"text-xs text-gray-600 font-medium mb-2 flex items-center gap-1"},a.createElement(eE,{className:"text-gray-800"}),"Online Sales"),a.createElement("div",{className:"space-y-1 text-sm"},a.createElement("div",{className:"flex justify-between"},a.createElement("span",{className:"text-gray-600"},"Tickets:"),a.createElement("span",{className:"font-semibold text-gray-900"},br(l.onlineTickets))),a.createElement("div",{className:"flex justify-between"},a.createElement("span",{className:"text-gray-600"},"Revenue:"),a.createElement("span",{className:"font-semibold text-gray-800"},Xs(l.onlineRevenue))))),a.createElement("div",null,a.createElement("p",{className:"text-xs text-gray-600 font-medium mb-2 flex items-center gap-1"},a.createElement(tE,{className:"text-red-600"}),"Offline Sales"),a.createElement("div",{className:"space-y-1 text-sm"},a.createElement("div",{className:"flex justify-between"},a.createElement("span",{className:"text-gray-600"},"Tickets:"),a.createElement("span",{className:"font-semibold text-gray-900"},br(l.offlineTickets))),a.createElement("div",{className:"flex justify-between"},a.createElement("span",{className:"text-gray-600"},"Revenue:"),a.createElement("span",{className:"font-semibold text-green-600"},Xs(l.offlineRevenue))))))))))};function qoe(){const[e,t]=N.useState("lifetime"),[r,n]=N.useState(null),[l,o]=N.useState(!0),[d,g]=N.useState(null),h=async()=>{o(!0);try{const C=await TG();if(C.success)n(C.data),g(new Date),console.log("[Dashboard] Data loaded successfully");else{const _=C.message||"Failed to load dashboard statistics";pt.error(_),console.error("[Dashboard] Error:",C.error),C.error&&console.error("[Dashboard] Backend Error Details:",{status:C.status,message:C.message,error:C.error})}}catch(C){pt.error("An unexpected error occurred while loading dashboard"),console.error("[Dashboard] Exception:",C)}finally{o(!1)}};N.useEffect(()=>{h()},[]);const x=()=>{pt.info("Refreshing dashboard data..."),h()},y=()=>{pt.info("Export functionality coming soon!")},w=C=>C?C[e]||C.lifetime||C:null;return a.createElement(a.Fragment,null,a.createElement("div",{className:"space-y-4"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},a.createElement("div",null,a.createElement("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 tracking-tight"},"Dashboard"),a.createElement("p",{className:"text-xs text-gray-600 mt-1"},"Comprehensive insights and analytics",d&&a.createElement("span",{className:"ml-2"}," Updated ",d.toLocaleTimeString()))),a.createElement("div",{className:"flex items-center gap-2"},a.createElement("button",{onClick:x,disabled:l,className:"flex items-center gap-1.5 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",title:"Refresh dashboard data"},a.createElement(sD,{className:`w-4 h-4 ${l?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline font-medium"},"Refresh")),a.createElement("button",{onClick:y,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-lg hover:from-gray-900 hover:to-black transition-all shadow-sm text-sm",title:"Export dashboard data"},a.createElement(Az,{className:"w-4 h-4"}),a.createElement("span",{className:"hidden sm:inline font-medium"},"Export")))),r&&a.createElement(SG,{selected:e,onChange:t}),!l&&!r&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center"},a.createElement("div",{className:"max-w-md mx-auto"},a.createElement("div",{className:"text-red-500 text-6xl mb-4"},""),a.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Failed to Load Dashboard"),a.createElement("p",{className:"text-gray-600 mb-6"},"There was an error loading the analytics data. This is likely a backend issue."),a.createElement("button",{onClick:x,className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Try Again"))),r?.payments&&a.createElement(zoe,{data:w(r.payments),loading:l}),(r?.users||r?.admins)&&a.createElement(PG,{usersData:r.users,adminsData:r.admins,loading:l}),r?.events&&a.createElement(Voe,{data:r.events,enrollmentsData:w(r.enrollments),cashTicketsData:w(r.cashTickets),loading:l}),r?.communications&&a.createElement(_G,{data:w(r.communications),loading:l}),r?.topPerformingEvents&&r.topPerformingEvents.length>0&&a.createElement(eO,{events:r.topPerformingEvents,loading:l}),r?.eventStats&&w(r.eventStats)?.length>0&&a.createElement("div",{className:"space-y-4"},a.createElement("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight"},"Events Performance (",e.replace(/([A-Z])/g," $1").trim(),")"),a.createElement(eO,{events:w(r.eventStats),loading:l})),r?.adminPerformance&&r.adminPerformance.length>0&&a.createElement(Hoe,{data:r.adminPerformance,loading:l}),a.createElement("div",{className:"text-center text-xs text-gray-500 py-6 border-t border-gray-200"},r?.generatedAt&&a.createElement("p",null,"Statistics generated at: ",new Date(r.generatedAt).toLocaleString()))))}const ia={BASE:"/web/events",DROPDOWN:"/web/events/dropdown",DELETED:"/web/events/deleted",UPDATE_EXPIRED:"/web/events/update-expired",FEATURED:"/web/events/featured"},Oh=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([r,n])=>{n!=null&&n!==""&&t.append(r,n)}),t.toString()},Cs={getAll:async(e={})=>{const t=Oh(e),r=t?`${ia.BASE}?${t}`:ia.BASE;console.log("[EventService] Fetching events with params:",e);const n=await Xe(Ge.get(r));return n.success?console.log("[EventService] Fetched events:",n.data.events?.length):console.error("[EventService] Failed to fetch events:",n.message),n},getById:async e=>{console.log("[EventService] Fetching event:",e);const t=await Xe(Ge.get(`${ia.BASE}/${e}`));return t.success?console.log("[EventService] Fetched event:",t.data.event?.name):console.error("[EventService] Failed to fetch event:",t.message),t},create:async e=>{console.log("[EventService] Creating event:",e.name);const t=await Xe(Ge.post(ia.BASE,e));return t.success?console.log("[EventService] Created event:",t.data.event?._id):console.error("[EventService] Failed to create event:",t.message),t},update:async(e,t)=>{console.log("[EventService] Updating event:",e);const r=await Xe(Ge.put(`${ia.BASE}/${e}`,t));return r.success?console.log("[EventService] Updated event:",r.data.event?.name):console.error("[EventService] Failed to update event:",r.message),r},delete:async e=>{console.log("[EventService] Deleting event:",e);const t=await Xe(Ge.delete(`${ia.BASE}/${e}`));return t.success?console.log("[EventService] Deleted event successfully"):console.error("[EventService] Failed to delete event:",t.message),t},restore:async e=>{console.log("[EventService] Restoring event:",e);const t=await Xe(Ge.post(`${ia.BASE}/${e}/restore`));return t.success?console.log("[EventService] Restored event successfully"):console.error("[EventService] Failed to restore event:",t.message),t},permanentDelete:async e=>{console.log("[EventService] Permanently deleting event:",e);const t=await Xe(Ge.delete(`${ia.BASE}/${e}/permanent`));return t.success?console.log("[EventService] Permanently deleted event successfully"):console.error("[EventService] Failed to permanently delete event:",t.message),t},getDeleted:async(e={})=>{const t=Oh(e),r=t?`${ia.DELETED}?${t}`:ia.DELETED;console.log("[EventService] Fetching deleted events");const n=await Xe(Ge.get(r));return n.success?console.log("[EventService] Fetched deleted events:",n.data.events?.length):console.error("[EventService] Failed to fetch deleted events:",n.message),n},getDropdownEvents:async(e={})=>{const t=Oh(e),r=t?`${ia.DROPDOWN}?${t}`:ia.DROPDOWN;console.log("[EventService] Fetching dropdown events with params:",e);const n=await Xe(Ge.get(r));return n.success?console.log("[EventService] Fetched events:",n.data.events?.length):console.error("[EventService] Failed to fetch events:",n.message),n},getTicketStats:async e=>{console.log("[EventService] Fetching ticket stats for event:",e);const t=await Xe(Ge.get(`${ia.BASE}/${e}/ticket-stats`));return t.success?console.log("[EventService] Fetched ticket stats"):console.error("[EventService] Failed to fetch ticket stats:",t.message),t},updateExpired:async()=>{console.log("[EventService] Updating expired events");const e=await Xe(Ge.post(ia.UPDATE_EXPIRED));return e.success?console.log("[EventService] Updated expired events:",e.data.updatedCount):console.error("[EventService] Failed to update expired events:",e.message),e},getFeaturedEvents:async(e={})=>{const t=Oh(e),r=t?`${ia.FEATURED}?${t}`:ia.FEATURED;console.log("[EventService] Fetching featured events");const n=await Xe(Ge.get(r));return n.success?console.log("[EventService] Fetched featured events:",n.data.events?.length):console.error("[EventService] Failed to fetch featured events:",n.message),n}},fR=["TECHNOLOGY","EDUCATION","MEDICAL","COMEDY","ENTERTAINMENT","BUSINESS","SPORTS","ARTS","MUSIC","FOOD","LIFESTYLE","OTHER"],hR=["ONLINE","OFFLINE","HYBRID"],$oe=[{value:"createdAt",label:"Created Date"},{value:"name",label:"Name"},{value:"startDate",label:"Start Date"},{value:"endDate",label:"End Date"},{value:"price",label:"Price"}],tO={search:"",category:"",mode:"",city:"",isLive:"",featured:"",minPrice:"",maxPrice:"",startDateFrom:"",startDateTo:"",sortBy:"createdAt",sortOrder:"desc"};function Goe(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:10,hasNextPage:!1,hasPrevPage:!1}),[o,d]=N.useState({...tO,...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),[w,C]=N.useState([]),[_,D]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[k,M]=N.useState(!1),I=N.useRef(null),U=N.useCallback(async(be=n.currentPage)=>{h(!0),y(null);try{const re={page:be,limit:n.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.category&&{category:o.category},...o.mode&&{mode:o.mode},...o.city&&{city:o.city},...o.isLive!==""&&{isLive:o.isLive},...o.featured!==""&&{featured:o.featured},...o.minPrice&&{minPrice:o.minPrice},...o.maxPrice&&{maxPrice:o.maxPrice},...o.startDateFrom&&{startDateFrom:o.startDateFrom},...o.startDateTo&&{startDateTo:o.startDateTo}},W=await Cs.getAll(re);W.success?(r(W.data.events||[]),l(W.data.pagination||n)):(y(W.message),r([]))}catch{y("Failed to fetch events"),r([])}finally{h(!1)}},[o,n.limit,n.currentPage]),R=N.useCallback(async(be=_.currentPage)=>{h(!0),y(null);try{const re=await Cs.getDeleted({page:be,limit:_.limit});re.success?(C(re.data.events||[]),D(W=>({...W,...re.data.pagination}))):(y(re.message),C([]))}catch{y("Failed to fetch deleted events"),C([])}finally{h(!1)}},[_.currentPage,_.limit]),G=N.useCallback(async be=>{try{const re=await Cs.getById(be);return re.success?{success:!0,data:re.data.event}:{success:!1,error:re.message}}catch{return{success:!1,error:"Failed to fetch event details"}}},[]),F=N.useCallback(async be=>{h(!0),y(null);try{const re=await Cs.create(be);return re.success?(await U(1),{success:!0,data:re.data}):{success:!1,error:re.message,validationErrors:re.data?.errors}}catch{return{success:!1,error:"Failed to create event"}}finally{h(!1)}},[U]),j=N.useCallback(async(be,re)=>{h(!0),y(null);try{const W=await Cs.update(be,re);return W.success?(r(te=>te.map(me=>me._id===be?{...me,...W.data.event}:me)),{success:!0,data:W.data}):{success:!1,error:W.message,validationErrors:W.data?.errors}}catch{return{success:!1,error:"Failed to update event"}}finally{h(!1)}},[]),L=N.useCallback(async be=>{h(!0),y(null);try{const re=await Cs.delete(be);return re.success?(r(W=>W.filter(te=>te._id!==be)),l(W=>({...W,totalCount:W.totalCount-1,totalPages:Math.ceil((W.totalCount-1)/W.limit)})),{success:!0}):{success:!1,error:re.message}}catch{return{success:!1,error:"Failed to delete event"}}finally{h(!1)}},[]),H=N.useCallback(async be=>{h(!0),y(null);try{const re=await Cs.restore(be);return re.success?(C(W=>W.filter(te=>te._id!==be)),D(W=>({...W,totalCount:W.totalCount-1,totalPages:Math.ceil((W.totalCount-1)/W.limit)})),{success:!0}):{success:!1,error:re.message}}catch{return{success:!1,error:"Failed to restore event"}}finally{h(!1)}},[]),V=N.useCallback(async be=>{h(!0),y(null);try{const re=await Cs.permanentDelete(be);return re.success?(C(W=>W.filter(te=>te._id!==be)),D(W=>({...W,totalCount:W.totalCount-1,totalPages:Math.ceil((W.totalCount-1)/W.limit)})),{success:!0}):{success:!1,error:re.message}}catch{return{success:!1,error:"Failed to permanently delete event"}}finally{h(!1)}},[]),Q=N.useCallback(async be=>{try{const re=await Cs.getTicketStats(be);return re.success?{success:!0,data:re.data.stats}:{success:!1,error:re.message}}catch{return{success:!1,error:"Failed to fetch ticket statistics"}}},[]),Y=N.useCallback(async()=>{h(!0),y(null);try{const be=await Cs.updateExpired();return be.success?(await U(n.currentPage),{success:!0,updatedCount:be.data.updatedCount}):{success:!1,error:be.message}}catch{return{success:!1,error:"Failed to update expired events"}}finally{h(!1)}},[U,n.currentPage]),X=N.useCallback(be=>{d(re=>({...re,...be}))},[]),he=N.useCallback(be=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{d(re=>({...re,search:be}))},300)},[]),pe=N.useCallback(()=>{d({...tO,...e})},[e]),se=N.useCallback(be=>{k?R(be):U(be)},[k,U,R]),J=N.useCallback(be=>{l(re=>({...re,limit:be})),D(re=>({...re,limit:be}))},[]),ae=N.useCallback(()=>{M(be=>!be)},[]),Ee=N.useCallback(()=>{y(null)},[]);return N.useEffect(()=>{k||U(1)},[o,k]),N.useEffect(()=>{k&&R(1)},[k]),N.useEffect(()=>()=>{I.current&&clearTimeout(I.current)},[]),{events:k?w:t,pagination:k?_:n,filters:o,isLoading:g,error:x,showDeleted:k,fetchEvents:U,fetchDeletedEvents:R,getEventById:G,createEvent:F,updateEvent:j,deleteEvent:L,restoreEvent:H,permanentDeleteEvent:V,getTicketStats:Q,updateExpiredEvents:Y,updateFilters:X,updateSearch:he,resetFilters:pe,changePage:se,changeLimit:J,toggleShowDeleted:ae,clearError:Ee}}function Kr({isOpen:e,onClose:t,title:r,children:n,size:l="md",showCloseButton:o=!0,closeOnOverlayClick:d=!0}){const g={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"},h=N.useCallback(y=>{y.key==="Escape"&&t()},[t]);if(N.useEffect(()=>(e&&(document.addEventListener("keydown",h),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",h),document.body.style.overflow="unset"}),[e,h]),!e)return null;const x=y=>{y.target===y.currentTarget&&d&&t()};return a.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:x},a.createElement("div",{className:`w-full ${g[l]} bg-white rounded-xl shadow-xl transform transition-all`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},a.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},a.createElement("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900"},r),o&&a.createElement("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal"},a.createElement(Bn,{className:"h-5 w-5"}))),a.createElement("div",{className:"px-6 py-4 max-h-[calc(100vh-200px)] overflow-y-auto"},n)))}const Yoe={UPLOAD:"/web/assets/upload",DELETE:"/web/assets",DOWNLOAD_URL:"/app/assets/download-url"},gR=async(e,t={})=>{const{folder:r="assets",onProgress:n}=t,l=new FormData;(Array.isArray(e)?e:[e]).forEach(d=>{l.append("files",d)}),r&&l.append("folder",r);try{const d=await Ge.post(Yoe.UPLOAD,l,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:g=>{if(n&&g.total){const h=Math.round(g.loaded*100/g.total);n(h)}}});return{success:!0,data:d.data.data||d.data,message:d.data.message||"Upload successful",error:null}}catch(d){return console.error("[AssetService] Upload error:",d),{success:!1,data:null,message:d.response?.data?.message||"Upload failed",error:d.response?.data?.error||d.message}}},Xoe=async(e,t={})=>{const r=await gR(e,t);if(r.success&&r.data?.uploaded?.length>0){const n=r.data.uploaded[0];return{success:!0,url:n.publicUrl,downloadUrl:n.downloadUrl,data:n,error:null}}return{success:!1,url:null,downloadUrl:null,data:null,error:r.error||"Upload failed",message:r.message}},Woe=async(e,t={})=>{const r=await gR(e,t);return r.success&&r.data?.uploaded?.length>0?{success:!0,urls:r.data.uploaded.map(n=>n.publicUrl),downloadUrls:r.data.uploaded.map(n=>n.downloadUrl),data:r.data.uploaded,totalUploaded:r.data.totalUploaded,totalFailed:r.data.totalFailed,error:null}:{success:!1,urls:[],downloadUrls:[],data:[],totalUploaded:0,totalFailed:e.length,error:r.error||"Upload failed",message:r.message}},pR=(e,t={})=>{const{allowedTypes:r=["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"],maxSize:n=10*1024*1024}=t;return e?r.length>0&&!r.includes(e.type)?{valid:!1,error:`Invalid file type. Allowed: ${r.map(o=>o.split("/")[1]).join(", ")}`}:e.size>n?{valid:!1,error:`File too large. Maximum size: ${(n/1048576).toFixed(1)}MB`}:{valid:!0,error:null}:{valid:!1,error:"No file provided"}},Koe=(e,t={})=>{const r=[],n=[];return e.forEach((l,o)=>{const d=pR(l,t);d.valid?n.push(l):r.push(`${l.name}: ${d.error}`)}),{valid:r.length===0,errors:r,validFiles:n}},Zoe=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]};function Ac({onUpload:e,value:t="",values:r=[],multiple:n=!1,accept:l,maxSize:o=10*1024*1024,folder:d="assets",disabled:g=!1,error:h,label:x,required:y=!1,placeholder:w="Drop files here or click to upload",onRemove:C,showUrlInput:_=!0,type:D="image"}){const[k,M]=N.useState(!1),[I,U]=N.useState(!1),[R,G]=N.useState(0),[F,j]=N.useState(null),[L,H]=N.useState(!1),[V,Q]=N.useState(""),Y=N.useRef(null),X=()=>{if(l)return l;switch(D){case"video":return"video/*";case"any":return"image/*,video/*";default:return"image/*"}},he=()=>{switch(D){case"video":return["video/mp4","video/webm","video/ogg","video/quicktime"];case"any":return["image/jpeg","image/png","image/gif","image/webp","image/svg+xml","video/mp4","video/webm","video/ogg","video/quicktime"];default:return["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"]}},pe=N.useCallback(le=>{le.preventDefault(),!g&&!I&&M(!0)},[g,I]),se=N.useCallback(le=>{le.preventDefault(),M(!1)},[]),J=N.useCallback(le=>{if(le.preventDefault(),M(!1),g||I)return;const oe=Array.from(le.dataTransfer.files);oe.length>0&&Ee(n?oe:[oe[0]])},[g,I,n]),ae=le=>{const oe=Array.from(le.target.files);oe.length>0&&Ee(n?oe:[oe[0]]),le.target.value=""},Ee=async le=>{j(null),G(0);const oe=he();if(n){const ze=Koe(le,{allowedTypes:oe,maxSize:o});if(!ze.valid){j(ze.errors.join(", "));return}await re(ze.validFiles)}else{const ze=pR(le[0],{allowedTypes:oe,maxSize:o});if(!ze.valid){j(ze.error);return}await be(le[0])}},be=async le=>{U(!0),G(0);try{const oe=await Xoe(le,{folder:d,onProgress:G});oe.success&&oe.url?(e(oe.url),G(100)):j(oe.message||oe.error||"Upload failed")}catch(oe){j(oe.message||"Upload failed")}finally{U(!1)}},re=async le=>{U(!0),G(0);try{const oe=await Woe(le,{folder:d,onProgress:G});oe.success&&oe.urls.length>0?(e([...r,...oe.urls]),G(100)):j(oe.message||oe.error||"Upload failed")}catch(oe){j(oe.message||"Upload failed")}finally{U(!1)}},W=()=>{if(V.trim()){if(!/^https?:\/\/.+/.test(V.trim())){j("Invalid URL format");return}e(n?[...r,V.trim()]:V.trim()),Q(""),H(!1),j(null)}},te=le=>{if(C)C(le);else if(n){const oe=r.filter((ze,ve)=>ve!==le);e(oe)}},me=()=>{e("")},ue=le=>/\.(mp4|webm|ogg|mov)(\?.*)?$/i.test(le)||D==="video",Ne=(le,oe=null)=>{const ze=ue(le);return a.createElement("div",{key:oe!==null?oe:"single",className:"relative group flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200"},ze?a.createElement("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center flex-shrink-0"},a.createElement(LU,{className:"h-6 w-6 text-gray-500"})):a.createElement("img",{src:le,alt:`Preview ${oe!==null?oe+1:""}`,className:"w-16 h-16 object-cover rounded flex-shrink-0",onError:ve=>{ve.target.style.display="none",ve.target.nextSibling?.classList.remove("hidden")}}),a.createElement("div",{className:"hidden w-16 h-16 bg-gray-200 rounded flex items-center justify-center flex-shrink-0"},a.createElement(Oc,{className:"h-6 w-6 text-gray-400"})),a.createElement("span",{className:"flex-1 text-sm text-gray-600 truncate"},le),!g&&a.createElement("button",{type:"button",onClick:()=>oe!==null?te(oe):me(),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors"},a.createElement(Bn,{className:"h-4 w-4"})))};return n&&r.length>0,a.createElement("div",{className:"space-y-2"},x&&a.createElement("label",{className:"block text-sm font-medium text-gray-700"},x,y&&a.createElement("span",{className:"text-red-500 ml-1"},"*")),!n&&t&&Ne(t),n&&r.length>0&&a.createElement("div",{className:"space-y-2 mb-3"},r.map((le,oe)=>Ne(le,oe))),(n||!t)&&a.createElement("div",{onDragOver:pe,onDragLeave:se,onDrop:J,onClick:()=>!g&&!I&&Y.current?.click(),className:`
            relative border-2 border-dashed rounded-lg p-6 text-center cursor-pointer
            transition-all duration-200
            ${k?"border-gray-800 bg-gray-50":"border-gray-300 hover:border-gray-400"}
            ${g||I?"opacity-50 cursor-not-allowed":""}
            ${h||F?"border-red-300 bg-red-50/50":""}
          `},a.createElement("input",{ref:Y,type:"file",accept:X(),multiple:n,onChange:ae,disabled:g||I,className:"hidden"}),I?a.createElement("div",{className:"space-y-3"},a.createElement(At,{className:"h-8 w-8 mx-auto text-gray-400 animate-spin"}),a.createElement("div",{className:"space-y-1"},a.createElement("p",{className:"text-sm text-gray-600"},"Uploading..."),a.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-xs mx-auto"},a.createElement("div",{className:"bg-gray-800 h-2 rounded-full transition-all duration-300",style:{width:`${R}%`}})),a.createElement("p",{className:"text-xs text-gray-500"},R,"%"))):a.createElement("div",{className:"space-y-2"},a.createElement("div",{className:"mx-auto w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center"},a.createElement(J_,{className:"h-5 w-5 text-gray-500"})),a.createElement("div",null,a.createElement("p",{className:"text-sm text-gray-600"},w),a.createElement("p",{className:"text-xs text-gray-400 mt-1"},D==="video"?"MP4, WebM, OGG":D==="any"?"Images or videos":"PNG, JPG, GIF, WebP, SVG"," ","up to ",Zoe(o))))),(h||F)&&a.createElement("div",{className:"flex items-center gap-2 text-sm text-red-500"},a.createElement(Or,{className:"h-4 w-4 flex-shrink-0"}),a.createElement("span",null,h||F)),_&&!g&&a.createElement("div",{className:"pt-2"},L?a.createElement("div",{className:"flex gap-2"},a.createElement("input",{type:"url",value:V,onChange:le=>Q(le.target.value),placeholder:"Enter URL manually",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-gray-800 outline-none",onKeyDown:le=>{le.key==="Enter"&&(le.preventDefault(),W()),le.key==="Escape"&&(H(!1),Q(""))}}),a.createElement("button",{type:"button",onClick:W,disabled:!V.trim(),className:"px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 text-sm"},a.createElement(As,{className:"h-4 w-4"})),a.createElement("button",{type:"button",onClick:()=>{H(!1),Q("")},className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors text-sm"},a.createElement(Bn,{className:"h-4 w-4"}))):a.createElement("button",{type:"button",onClick:()=>H(!0),className:"text-sm text-gray-500 hover:text-gray-700 transition-colors"},"Or enter URL manually")))}const rO=(e=null)=>({name:e?.name||"",description:e?.description||"",imageUrls:e?.imageUrls||[],thumbnail:{imageUrl:e?.thumbnail?.imageUrl||"",videoUrl:e?.thumbnail?.videoUrl||""},mode:e?.mode||"",city:e?.city||"",gmapLink:e?.gmapLink||"",category:e?.category||"",startDate:e?.startDate?nO(e.startDate):"",endDate:e?.endDate?nO(e.endDate):"",price:e?.price??"",compareAtPrice:e?.compareAtPrice??"",availableSeats:e?.availableSeats??"",usePricingTiers:e?.pricingTiers?.length>0,pricingTiers:e?.pricingTiers||[],isLive:e?.isLive??!1,featured:e?.featured??!1});function nO(e){return e?new Date(e).toISOString().slice(0,16):""}const Qoe=e=>{const t={};if(e.name.trim()?e.name.length>200&&(t.name="Name must be 200 characters or less"):t.name="Name is required",e.description.trim()?e.description.length>5e3&&(t.description="Description must be 5000 characters or less"):t.description="Description is required",e.mode||(t.mode="Mode is required"),(e.mode==="OFFLINE"||e.mode==="HYBRID")&&!e.city.trim()&&(t.city="City is required for offline or hybrid events"),e.gmapLink&&e.gmapLink.trim()){const r=/^https?:\/\/(www\.)?(google\.[a-z.]+\/maps|maps\.google\.[a-z.]+|goo\.gl\/maps|maps\.app\.goo\.gl)\/.+/i;/^https?:\/\/.+/.test(e.gmapLink.trim())?r.test(e.gmapLink.trim())||(t.gmapLink="Please provide a valid Google Maps link"):t.gmapLink="Please provide a valid URL"}if(e.category||(t.category="Category is required"),e.startDate?new Date(e.startDate)<=new Date&&(t.startDate="Start date must be in the future"):t.startDate="Start date is required",!e.endDate)t.endDate="End date is required";else if(e.startDate){const r=new Date(e.startDate);new Date(e.endDate)<=r&&(t.endDate="End date must be after start date")}if(!e.usePricingTiers)e.price===""||e.price===null||e.price===void 0?t.price="Price is required":(isNaN(e.price)||Number(e.price)<0)&&(t.price="Price must be a valid positive number"),e.compareAtPrice!==""&&e.compareAtPrice!==null&&e.compareAtPrice!==void 0&&(isNaN(e.compareAtPrice)||Number(e.compareAtPrice)<0?t.compareAtPrice="Compare at price must be a valid positive number":Number(e.compareAtPrice)<Number(e.price)&&(t.compareAtPrice="Compare at price must be greater than or equal to price"));else if(e.pricingTiers.length===0)t.pricingTiers="At least one pricing tier is required";else{const r=[];e.pricingTiers.forEach((n,l)=>{const o={};n.name?.trim()||(o.name="Tier name is required"),n.price===""||n.price===null||n.price===void 0?o.price="Tier price is required":(isNaN(n.price)||Number(n.price)<0)&&(o.price="Invalid price"),Object.keys(o).length>0&&(r[l]=o)}),r.some(n=>n)&&(t.tierErrors=r)}if(e.availableSeats!==""&&e.availableSeats!==null&&e.availableSeats!==void 0&&(isNaN(e.availableSeats)||Number(e.availableSeats)<0)&&(t.availableSeats="Available seats must be a valid positive number"),e.imageUrls.length>0){const r=/^https?:\/\/.+/;e.imageUrls.forEach((n,l)=>{n&&!r.test(n)&&(t.imageUrls||(t.imageUrls={}),t.imageUrls[l]="Invalid URL format")})}return e.thumbnail.imageUrl&&!/^https?:\/\/.+/.test(e.thumbnail.imageUrl)&&(t.thumbnailImage="Invalid thumbnail image URL"),e.thumbnail.videoUrl&&!/^https?:\/\/.+/.test(e.thumbnail.videoUrl)&&(t.thumbnailVideo="Invalid thumbnail video URL"),{isValid:Object.keys(t).length===0,errors:t}},aO=()=>({name:"",price:"",compareAtPrice:"",shortDescription:"",notes:"",ticketQuantity:1});function sO({isOpen:e,onClose:t,onSubmit:r,event:n=null,isLoading:l=!1,serverError:o=null,validationErrors:d=null}){const g=!!n,[h,x]=N.useState(rO(n)),[y,w]=N.useState({});N.useEffect(()=>{e&&(x(rO(n)),w({}))},[e,n]),N.useEffect(()=>{if(d&&Array.isArray(d)){const F={};d.forEach(j=>{j.field&&(F[j.field]=j.message)}),w(j=>({...j,...F}))}},[d]);const C=F=>{const{name:j,value:L,type:H}=F.target,V=H==="number"?L===""?"":Number(L):L;x(Q=>({...Q,[j]:V})),y[j]&&w(Q=>({...Q,[j]:null}))},_=(F,j)=>{x(H=>({...H,thumbnail:{...H.thumbnail,[F]:j}}));const L=F==="imageUrl"?"thumbnailImage":"thumbnailVideo";y[L]&&w(H=>({...H,[L]:null}))},D=F=>{x(j=>({...j,imageUrls:j.imageUrls.filter((L,H)=>H!==F)}))},k=()=>{x(F=>({...F,usePricingTiers:!F.usePricingTiers,pricingTiers:F.usePricingTiers?[]:[aO()],price:F.usePricingTiers?"":F.price,compareAtPrice:F.usePricingTiers?"":F.compareAtPrice}))},M=()=>{x(F=>({...F,pricingTiers:[...F.pricingTiers,aO()]}))},I=F=>{x(j=>({...j,pricingTiers:j.pricingTiers.filter((L,H)=>H!==F)}))},U=(F,j,L)=>{x(H=>({...H,pricingTiers:H.pricingTiers.map((V,Q)=>Q===F?{...V,[j]:j==="price"||j==="compareAtPrice"||j==="ticketQuantity"?L===""?"":Number(L):L}:V)})),y.tierErrors?.[F]?.[j]&&w(H=>{const V=[...H.tierErrors||[]];return V[F]&&delete V[F][j],{...H,tierErrors:V}})},R=async F=>{F.preventDefault();const j=Qoe(h);if(!j.isValid){w(j.errors);return}const L={name:h.name.trim(),description:h.description.trim(),mode:h.mode,category:h.category,startDate:new Date(h.startDate).toISOString(),endDate:new Date(h.endDate).toISOString()};h.city.trim()&&(L.city=h.city.trim()),h.gmapLink.trim()&&(L.gmapLink=h.gmapLink.trim()),h.imageUrls.length>0&&(L.imageUrls=h.imageUrls.filter(H=>H.trim())),(h.thumbnail.imageUrl||h.thumbnail.videoUrl)&&(L.thumbnail={},h.thumbnail.imageUrl&&(L.thumbnail.imageUrl=h.thumbnail.imageUrl.trim()),h.thumbnail.videoUrl&&(L.thumbnail.videoUrl=h.thumbnail.videoUrl.trim())),h.usePricingTiers&&h.pricingTiers.length>0?L.pricingTiers=h.pricingTiers.map(H=>({name:H.name.trim(),price:Number(H.price),...H.compareAtPrice!==""&&{compareAtPrice:Number(H.compareAtPrice)},...H.shortDescription&&{shortDescription:H.shortDescription.trim()},...H.notes&&{notes:H.notes.trim()},ticketQuantity:Number(H.ticketQuantity)||1})):(L.price=Number(h.price),h.compareAtPrice!==""&&(L.compareAtPrice=Number(h.compareAtPrice))),h.availableSeats!==""&&(L.availableSeats=Number(h.availableSeats)),L.isLive=h.isLive,L.featured=h.featured,await r(L)},G=()=>{l||t()};return a.createElement(Kr,{isOpen:e,onClose:G,title:g?"Edit Event":"Create Event",size:"2xl",closeOnOverlayClick:!l},a.createElement("form",{onSubmit:R,className:"space-y-6"},o&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},o),a.createElement("div",{className:"space-y-4"},a.createElement("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2"},"Basic Information"),a.createElement("div",null,a.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Event Name ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",id:"name",name:"name",value:h.name,onChange:C,disabled:l,maxLength:200,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter event name"}),y.name&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.name)),a.createElement("div",null,a.createElement("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1"},"Description ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("textarea",{id:"description",name:"description",value:h.description,onChange:C,disabled:l,rows:4,maxLength:5e3,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 resize-none ${y.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter event description"}),a.createElement("div",{className:"flex justify-between mt-1"},y.description?a.createElement("p",{className:"text-sm text-red-500"},y.description):a.createElement("span",null),a.createElement("span",{className:"text-xs text-gray-500"},h.description.length,"/5000"))),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{htmlFor:"mode",className:"block text-sm font-medium text-gray-700 mb-1"},"Mode ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("select",{id:"mode",name:"mode",value:h.mode,onChange:C,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.mode?"border-red-500":"border-gray-300"}`},a.createElement("option",{value:""},"Select mode"),hR.map(F=>a.createElement("option",{key:F,value:F},F))),y.mode&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.mode)),a.createElement("div",null,a.createElement("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1"},"Category ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("select",{id:"category",name:"category",value:h.category,onChange:C,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.category?"border-red-500":"border-gray-300"}`},a.createElement("option",{value:""},"Select category"),fR.map(F=>a.createElement("option",{key:F,value:F},F.charAt(0)+F.slice(1).toLowerCase()))),y.category&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.category))),(h.mode==="OFFLINE"||h.mode==="HYBRID")&&a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1"},"City ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",id:"city",name:"city",value:h.city,onChange:C,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.city?"border-red-500":"border-gray-300"}`,placeholder:"Enter city"}),y.city&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.city)),a.createElement("div",null,a.createElement("label",{htmlFor:"gmapLink",className:"block text-sm font-medium text-gray-700 mb-1"},a.createElement("span",{className:"flex items-center gap-1"},a.createElement(v2,{className:"h-4 w-4"}),"Google Maps Link")),a.createElement("input",{type:"url",id:"gmapLink",name:"gmapLink",value:h.gmapLink,onChange:C,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.gmapLink?"border-red-500":"border-gray-300"}`,placeholder:"https://maps.app.goo.gl/..."}),y.gmapLink&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.gmapLink)))),a.createElement("div",{className:"space-y-4"},a.createElement("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2"},"Date and Time"),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1"},"Start Date & Time ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"datetime-local",id:"startDate",name:"startDate",value:h.startDate,onChange:C,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.startDate?"border-red-500":"border-gray-300"}`}),y.startDate&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.startDate)),a.createElement("div",null,a.createElement("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1"},"End Date & Time ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"datetime-local",id:"endDate",name:"endDate",value:h.endDate,onChange:C,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.endDate?"border-red-500":"border-gray-300"}`}),y.endDate&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.endDate)))),a.createElement("div",{className:"space-y-4"},a.createElement("div",{className:"flex items-center justify-between border-b pb-2"},a.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Pricing"),a.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},a.createElement("input",{type:"checkbox",checked:h.usePricingTiers,onChange:k,disabled:l,className:"w-4 h-4 text-gray-800 rounded focus:ring-0"}),a.createElement("span",{className:"text-sm text-gray-600"},"Use pricing tiers"))),h.usePricingTiers?a.createElement("div",{className:"space-y-4"},y.pricingTiers&&a.createElement("p",{className:"text-sm text-red-500"},y.pricingTiers),h.pricingTiers.map((F,j)=>a.createElement("div",{key:j,className:"p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-3"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("span",{className:"font-medium text-gray-700"},"Tier ",j+1),h.pricingTiers.length>1&&a.createElement("button",{type:"button",onClick:()=>I(j),disabled:l,className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors"},a.createElement(vr,{className:"h-4 w-4"}))),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Tier Name ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:F.name,onChange:L=>U(j,"name",L.target.value),disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.tierErrors?.[j]?.name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., General Admission"}),y.tierErrors?.[j]?.name&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.tierErrors[j].name)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Price ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"number",value:F.price,onChange:L=>U(j,"price",L.target.value),disabled:l,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.tierErrors?.[j]?.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),y.tierErrors?.[j]?.price&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.tierErrors[j].price)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Compare at Price"),a.createElement("input",{type:"number",value:F.compareAtPrice,onChange:L=>U(j,"compareAtPrice",L.target.value),disabled:l,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100",placeholder:"0.00"})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Ticket Quantity"),a.createElement("input",{type:"number",value:F.ticketQuantity,onChange:L=>U(j,"ticketQuantity",L.target.value),disabled:l,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100",placeholder:"1"})),a.createElement("div",{className:"md:col-span-2"},a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Short Description"),a.createElement("input",{type:"text",value:F.shortDescription,onChange:L=>U(j,"shortDescription",L.target.value),disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100",placeholder:"Brief description of this tier"})),a.createElement("div",{className:"md:col-span-2"},a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Notes"),a.createElement("textarea",{value:F.notes,onChange:L=>U(j,"notes",L.target.value),disabled:l,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 resize-none",placeholder:"Additional notes"}))))),a.createElement("button",{type:"button",onClick:M,disabled:l,className:"flex items-center gap-2 px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},a.createElement(hn,{className:"h-4 w-4"}),"Add Pricing Tier"),a.createElement("div",{className:"w-full md:w-1/3"},a.createElement("label",{htmlFor:"availableSeats",className:"block text-sm font-medium text-gray-700 mb-1"},"Total Available Seats"),a.createElement("input",{type:"number",id:"availableSeats",name:"availableSeats",value:h.availableSeats,onChange:C,disabled:l,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.availableSeats?"border-red-500":"border-gray-300"}`,placeholder:"Unlimited"}),y.availableSeats&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.availableSeats))):a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},a.createElement("div",null,a.createElement("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1"},"Price ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"number",id:"price",name:"price",value:h.price,onChange:C,disabled:l,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),y.price&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.price)),a.createElement("div",null,a.createElement("label",{htmlFor:"compareAtPrice",className:"block text-sm font-medium text-gray-700 mb-1"},"Compare at Price"),a.createElement("input",{type:"number",id:"compareAtPrice",name:"compareAtPrice",value:h.compareAtPrice,onChange:C,disabled:l,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.compareAtPrice?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),y.compareAtPrice&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.compareAtPrice)),a.createElement("div",null,a.createElement("label",{htmlFor:"availableSeats",className:"block text-sm font-medium text-gray-700 mb-1"},"Available Seats"),a.createElement("input",{type:"number",id:"availableSeats",name:"availableSeats",value:h.availableSeats,onChange:C,disabled:l,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.availableSeats?"border-red-500":"border-gray-300"}`,placeholder:"Unlimited"}),y.availableSeats&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.availableSeats)))),a.createElement("div",{className:"space-y-4"},a.createElement("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2"},"Media"),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},a.createElement(Ac,{label:"Thumbnail Image",value:h.thumbnail.imageUrl,onUpload:F=>_("imageUrl",F),disabled:l,error:y.thumbnailImage,type:"image",folder:"events/thumbnails",placeholder:"Drop image here or click to upload"}),a.createElement(Ac,{label:"Thumbnail Video",value:h.thumbnail.videoUrl,onUpload:F=>_("videoUrl",F),disabled:l,error:y.thumbnailVideo,type:"video",folder:"events/videos",placeholder:"Drop video here or click to upload"})),a.createElement(Ac,{label:"Image Gallery",values:h.imageUrls,onUpload:F=>x(j=>({...j,imageUrls:F})),onRemove:F=>D(F),multiple:!0,disabled:l,error:y.imageUrls?"Some image URLs are invalid":null,type:"image",folder:"events/gallery",placeholder:"Drop images here or click to upload"})),a.createElement("div",{className:"space-y-4"},a.createElement("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2"},"Status"),a.createElement("div",{className:"flex flex-wrap gap-6"},a.createElement("label",{className:"flex items-center gap-3 cursor-pointer"},a.createElement("div",{className:"relative"},a.createElement("input",{type:"checkbox",checked:h.isLive,onChange:F=>x(j=>({...j,isLive:F.target.checked})),disabled:l,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-green-500 peer-disabled:opacity-50 transition-colors"}),a.createElement("div",{className:"absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow peer-checked:translate-x-5 transition-transform"})),a.createElement("div",null,a.createElement("span",{className:"text-sm font-medium text-gray-900"},"Live"),a.createElement("p",{className:"text-xs text-gray-500"},"Event is visible to users"))),a.createElement("label",{className:"flex items-center gap-3 cursor-pointer"},a.createElement("div",{className:"relative"},a.createElement("input",{type:"checkbox",checked:h.featured,onChange:F=>x(j=>({...j,featured:F.target.checked})),disabled:l,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-purple-500 peer-disabled:opacity-50 transition-colors"}),a.createElement("div",{className:"absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow peer-checked:translate-x-5 transition-transform"})),a.createElement("div",null,a.createElement("span",{className:"text-sm font-medium text-gray-900"},"Featured"),a.createElement("p",{className:"text-xs text-gray-500"},"Highlight in featured sections"))))),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:G,disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},l&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),g?"Update Event":"Create Event"))))}function bm(e){return e?new Date(e).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"N/A"}function _h(e){return e==null?"Free":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)}function Joe(e){const t={TECHNOLOGY:"bg-blue-100 text-gray-900",EDUCATION:"bg-indigo-100 text-indigo-700",MEDICAL:"bg-green-100 text-green-700",COMEDY:"bg-yellow-100 text-yellow-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",BUSINESS:"bg-gray-100 text-gray-700",SPORTS:"bg-orange-100 text-orange-700",ARTS:"bg-purple-100 text-purple-700",MUSIC:"bg-red-100 text-red-700",FOOD:"bg-amber-100 text-amber-700",LIFESTYLE:"bg-teal-100 text-teal-700",OTHER:"bg-slate-100 text-slate-700"};return t[e]||t.OTHER}function ece(e){return{ONLINE:"bg-green-100 text-green-700",OFFLINE:"bg-blue-100 text-gray-900",HYBRID:"bg-purple-100 text-purple-700"}[e]||"bg-gray-100 text-gray-700"}function tce(e){return e==="ONLINE"||e==="HYBRID"?_v:v2}function rce({isOpen:e,onClose:t,event:r}){const[n,l]=N.useState(0);if(N.useEffect(()=>{e&&r&&l(0)},[e,r]),!r)return null;const o=tce(r.mode),d=r.pricingTiers&&r.pricingTiers.length>0;return a.createElement(Kr,{isOpen:e,onClose:t,title:"Event Details",size:"2xl"},a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"flex items-start justify-between gap-4"},a.createElement("div",{className:"flex-1"},a.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-2"},r.name),a.createElement("div",{className:"flex flex-wrap items-center gap-2"},a.createElement("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Joe(r.category)}`},r.category),a.createElement("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${ece(r.mode)}`},r.mode),r.isLive?a.createElement("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700"},"Live"):a.createElement("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600"},"Not Live"),r.featured&&a.createElement("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-700"},"Featured"),r.isDeleted&&a.createElement("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-700"},"Deleted")))),(r.thumbnail?.imageUrl||r.imageUrls?.length>0)&&a.createElement("div",{className:"space-y-2"},a.createElement("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden"},r.thumbnail?.imageUrl||r.imageUrls?.length>0?a.createElement("img",{src:r.imageUrls?.[n]||r.thumbnail?.imageUrl,alt:r.name,className:"w-full h-full object-cover",onError:g=>{g.target.src="https://via.placeholder.com/800x450?text=No+Image"}}):a.createElement("div",{className:"w-full h-full flex items-center justify-center text-gray-400"},"No image available"),r.thumbnail?.videoUrl&&a.createElement("a",{href:r.thumbnail.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-3 right-3 flex items-center gap-2 px-3 py-2 bg-black/70 text-white rounded-lg hover:bg-black/80 transition-colors"},a.createElement(Z_,{className:"h-4 w-4"}),"Watch Video")),r.imageUrls&&r.imageUrls.length>1&&a.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2"},r.imageUrls.map((g,h)=>a.createElement("button",{key:h,onClick:()=>l(h),className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors ${n===h?"border-blue-500":"border-transparent"}`},a.createElement("img",{src:g,alt:`${r.name} ${h+1}`,className:"w-full h-full object-cover",onError:x=>{x.target.style.display="none"}}))))),a.createElement("div",null,a.createElement("h3",{className:"text-sm font-medium text-gray-500 mb-2"},"Description"),a.createElement("p",{className:"text-gray-700 whitespace-pre-wrap"},r.description)),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},a.createElement($r,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Date & Time")),a.createElement("div",{className:"space-y-1"},a.createElement("p",{className:"text-sm"},a.createElement("span",{className:"text-gray-500"},"Starts:")," ",a.createElement("span",{className:"text-gray-900 font-medium"},bm(r.startDate))),a.createElement("p",{className:"text-sm"},a.createElement("span",{className:"text-gray-500"},"Ends:")," ",a.createElement("span",{className:"text-gray-900 font-medium"},bm(r.endDate))))),a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},a.createElement(o,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Location")),a.createElement("p",{className:"text-gray-900 font-medium"},r.mode==="ONLINE"?"Online Event":r.city||"Location not specified"),a.createElement("p",{className:"text-sm text-gray-500 capitalize"},r.mode?.toLowerCase()," event"))),a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-3"},a.createElement(_U,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Pricing")),d?a.createElement("div",{className:"space-y-3"},r.pricingTiers.map((g,h)=>a.createElement("div",{key:h,className:"flex items-start justify-between p-3 bg-white rounded-lg border border-gray-200"},a.createElement("div",null,a.createElement("p",{className:"font-medium text-gray-900"},g.name),g.shortDescription&&a.createElement("p",{className:"text-sm text-gray-500"},g.shortDescription),g.notes&&a.createElement("p",{className:"text-xs text-gray-400 mt-1"},g.notes),g.ticketQuantity>1&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Includes ",g.ticketQuantity," tickets")),a.createElement("div",{className:"text-right"},a.createElement("p",{className:"font-semibold text-gray-900"},_h(g.price)),g.compareAtPrice&&a.createElement("p",{className:"text-sm text-gray-400 line-through"},_h(g.compareAtPrice)))))):a.createElement("div",{className:"flex items-center justify-between"},a.createElement("div",null,a.createElement("p",{className:"text-2xl font-bold text-gray-900"},_h(r.price)),r.compareAtPrice&&a.createElement("p",{className:"text-sm text-gray-400 line-through"},_h(r.compareAtPrice))))),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},a.createElement("p",{className:"text-gray-500 mb-1"},"Created By"),a.createElement("p",{className:"text-gray-900 font-medium"},r.createdBy?.name||"Unknown",r.createdBy?.email&&a.createElement("span",{className:"text-gray-500 font-normal"}," (",r.createdBy.email,")")),a.createElement("p",{className:"text-gray-500 text-xs mt-1"},bm(r.createdAt))),r.updatedBy&&a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},a.createElement("p",{className:"text-gray-500 mb-1"},"Last Updated By"),a.createElement("p",{className:"text-gray-900 font-medium"},r.updatedBy?.name||"Unknown"),a.createElement("p",{className:"text-gray-500 text-xs mt-1"},bm(r.updatedAt))),r.isDeleted&&r.deletedBy&&a.createElement("div",{className:"p-4 bg-red-50 rounded-lg"},a.createElement("p",{className:"text-red-500 mb-1"},"Deleted By"),a.createElement("p",{className:"text-red-700 font-medium"},r.deletedBy?.name||"Unknown"),a.createElement("p",{className:"text-red-500 text-xs mt-1"},bm(r.deletedAt)))),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("p",{className:"text-xs text-gray-400"},"Event ID: ",a.createElement("code",{className:"bg-gray-100 px-1 py-0.5 rounded"},r._id)))))}function nce({filters:e,onFilterChange:t,onSearchChange:r,onReset:n,showDeleted:l,onToggleDeleted:o,disabled:d=!1}){const[g,h]=N.useState(!1),[x,y]=N.useState(e.search||""),w=k=>{const M=k.target.value;y(M),r(M)},C=(k,M)=>{t({[k]:M})},_=()=>{y(""),h(!1),n()},D=e.category||e.mode||e.city||e.isLive!==""||e.featured!==""||e.minPrice||e.maxPrice||e.startDateFrom||e.startDateTo;return a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4 space-y-4"},a.createElement("div",{className:"flex flex-wrap items-center gap-3"},a.createElement("div",{className:"relative flex-1 min-w-[240px]"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.createElement("input",{type:"text",placeholder:"Search events...",value:x,onChange:w,disabled:d,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"}),x&&a.createElement("button",{onClick:()=>{y(""),r("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},a.createElement(Bn,{className:"h-4 w-4"}))),a.createElement("select",{value:e.category,onChange:k=>C("category",k.target.value),disabled:d,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},a.createElement("option",{value:""},"All Categories"),fR.map(k=>a.createElement("option",{key:k,value:k},k.charAt(0)+k.slice(1).toLowerCase()))),a.createElement("select",{value:e.mode,onChange:k=>C("mode",k.target.value),disabled:d,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},a.createElement("option",{value:""},"All Modes"),hR.map(k=>a.createElement("option",{key:k,value:k},k))),a.createElement("select",{value:e.isLive,onChange:k=>C("isLive",k.target.value),disabled:d,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},a.createElement("option",{value:""},"All Status"),a.createElement("option",{value:"true"},"Live Only"),a.createElement("option",{value:"false"},"Not Live")),a.createElement("select",{value:e.featured,onChange:k=>C("featured",k.target.value),disabled:d,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},a.createElement("option",{value:""},"All Events"),a.createElement("option",{value:"true"},"Featured Only"),a.createElement("option",{value:"false"},"Not Featured")),a.createElement("select",{value:e.sortBy,onChange:k=>C("sortBy",k.target.value),disabled:d,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},$oe.map(k=>a.createElement("option",{key:k.value,value:k.value},"Sort: ",k.label))),a.createElement("select",{value:e.sortOrder,onChange:k=>C("sortOrder",k.target.value),disabled:d,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},a.createElement("option",{value:"desc"},"Newest First"),a.createElement("option",{value:"asc"},"Oldest First")),a.createElement("button",{onClick:()=>h(!g),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${g||D?"bg-gray-100 border-gray-400 text-gray-900":"border-gray-300 text-gray-600 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),D&&a.createElement("span",{className:"flex items-center justify-center w-5 h-5 text-xs bg-gray-800 text-white rounded-full"},"!"),g?a.createElement(yU,{className:"h-4 w-4"}):a.createElement(Tl,{className:"h-4 w-4"})),(D||x)&&a.createElement("button",{onClick:_,disabled:d,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},a.createElement(ug,{className:"h-4 w-4"}),"Reset")),g&&a.createElement("div",{className:"pt-4 border-t border-gray-200 space-y-4"},a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"City"),a.createElement("input",{type:"text",placeholder:"Filter by city",value:e.city,onChange:k=>C("city",k.target.value),disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Min Price"),a.createElement("input",{type:"number",placeholder:"0",value:e.minPrice,onChange:k=>C("minPrice",k.target.value),disabled:d,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Max Price"),a.createElement("input",{type:"number",placeholder:"Any",value:e.maxPrice,onChange:k=>C("maxPrice",k.target.value),disabled:d,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})),a.createElement("div",{className:"hidden lg:block"}),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Start Date From"),a.createElement("input",{type:"date",value:e.startDateFrom,onChange:k=>C("startDateFrom",k.target.value),disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Start Date To"),a.createElement("input",{type:"date",value:e.startDateTo,onChange:k=>C("startDateTo",k.target.value),disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})))),a.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200"},a.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},a.createElement("input",{type:"checkbox",checked:l,onChange:o,disabled:d,className:"w-4 h-4 text-gray-800 rounded focus:ring-0"}),a.createElement("span",{className:"text-sm text-gray-600"},"Show deleted events")),l&&a.createElement("span",{className:"text-sm text-amber-600 bg-amber-50 px-2 py-1 rounded"},"Viewing deleted events")))}function lO(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}function ace(e,t){if(t&&t.length>0){const r=t.map(o=>o.price),n=Math.min(...r),l=Math.max(...r);return n===l?Dh(n):`${Dh(n)} - ${Dh(l)}`}return e==null?"Free":Dh(e)}function Dh(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e)}function sce(e){const t={TECHNOLOGY:"bg-blue-100 text-gray-900",EDUCATION:"bg-indigo-100 text-indigo-700",MEDICAL:"bg-green-100 text-green-700",COMEDY:"bg-yellow-100 text-yellow-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",BUSINESS:"bg-gray-100 text-gray-700",SPORTS:"bg-orange-100 text-orange-700",ARTS:"bg-purple-100 text-purple-700",MUSIC:"bg-red-100 text-red-700",FOOD:"bg-amber-100 text-amber-700",LIFESTYLE:"bg-teal-100 text-teal-700",OTHER:"bg-slate-100 text-slate-700"};return t[e]||t.OTHER}function lce({events:e,showDeleted:t,isLoading:r,canEdit:n,canDelete:l,canPermanentDelete:o,onView:d,onEdit:g,onDelete:h,onRestore:x,onPermanentDelete:y}){return r?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8"},a.createElement("div",{className:"flex items-center justify-center"},a.createElement(At,{className:"h-8 w-8 animate-spin text-gray-800"}),a.createElement("span",{className:"ml-3 text-gray-600"},"Loading events..."))):e.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8"},a.createElement("div",{className:"text-center text-gray-500"},a.createElement("p",{className:"text-lg font-medium"},"No events found"),a.createElement("p",{className:"text-sm mt-1"},t?"No deleted events to display.":"Try adjusting your filters or create a new event."))):a.createElement("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Event"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Category"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Mode"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Date"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Price"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,e.map(w=>a.createElement("tr",{key:w._id,className:`border-b border-gray-100 hover:bg-gray-50 ${w.isDeleted?"bg-red-50/50":""}`},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-4"},a.createElement("div",{className:"relative w-16 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0"},w.featured&&a.createElement("div",{className:"absolute top-0 left-0 z-10"},a.createElement("div",{className:"bg-purple-600 text-white text-[8px] font-semibold px-1.5 py-0.5 rounded-br-md shadow-sm"},"Featured")),w.thumbnail?.imageUrl||w.imageUrls?.[0]?a.createElement("img",{src:w.thumbnail?.imageUrl||w.imageUrls?.[0],alt:w.name,className:"w-full h-full object-cover",onError:C=>{C.target.style.display="none"}}):a.createElement("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs"},"No image")),a.createElement("div",{className:"min-w-0"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement("p",{className:"font-medium text-gray-900 truncate max-w-[200px]"},w.name),w.featured&&a.createElement("span",{className:"hidden sm:inline-flex px-1.5 py-0.5 rounded text-[10px] font-medium bg-purple-100 text-purple-700"},"Featured")),w.city&&a.createElement("p",{className:"text-sm text-gray-500 truncate"},w.city)))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${sce(w.category)}`},w.category)),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:"text-sm text-gray-600"},w.mode)),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"text-sm"},a.createElement("p",{className:"text-gray-900"},lO(w.startDate)),a.createElement("p",{className:"text-gray-500 text-xs"},"to ",lO(w.endDate)))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:"text-sm font-medium text-gray-900"},ace(w.price,w.pricingTiers))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex flex-col gap-1"},w.isDeleted?a.createElement("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700"},"Deleted"):w.isLive?a.createElement("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700"},"Live"):a.createElement("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"},"Not Live"))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1"},a.createElement("button",{onClick:()=>d(w),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details"},a.createElement(an,{className:"h-4 w-4"})),t?a.createElement(a.Fragment,null,n&&a.createElement("button",{onClick:()=>x(w),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Restore Event"},a.createElement(ug,{className:"h-4 w-4"})),o&&a.createElement("button",{onClick:()=>y(w),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Permanently Delete"},a.createElement(zj,{className:"h-4 w-4"}))):a.createElement(a.Fragment,null,n&&a.createElement("button",{onClick:()=>g(w),className:"p-2 text-gray-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Event"},a.createElement(ya,{className:"h-4 w-4"})),l&&a.createElement("button",{onClick:()=>h(w),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Event"},a.createElement(vr,{className:"h-4 w-4"})))))))))))}function va({isOpen:e,onClose:t,onConfirm:r,title:n="Confirm Action",message:l="Are you sure you want to proceed?",confirmText:o="Confirm",cancelText:d="Cancel",variant:g="danger",isLoading:h=!1}){const y={danger:{icon:"bg-red-100 text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:"bg-yellow-100 text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},primary:{icon:"bg-blue-100 text-gray-800",button:"bg-gray-800 hover:bg-gray-900 focus:ring-blue-500"}}[g],w=async()=>{await r()};return a.createElement(Kr,{isOpen:e,onClose:t,title:n,size:"sm",closeOnOverlayClick:!h},a.createElement("div",{className:"flex flex-col items-center text-center"},a.createElement("div",{className:`w-12 h-12 rounded-full ${y.icon} flex items-center justify-center mb-4`},a.createElement(Ep,{className:"h-6 w-6"})),a.createElement("p",{className:"text-gray-600 mb-6"},l),a.createElement("div",{className:"flex gap-3 w-full"},a.createElement("button",{onClick:t,disabled:h,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},d),a.createElement("button",{onClick:w,disabled:h,className:`flex-1 px-4 py-2 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 ${y.button} flex items-center justify-center gap-2`},h&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),o))))}function Ln({currentPage:e,totalPages:t,totalItems:r,itemsPerPage:n,onPageChange:l,itemLabel:o="items",maxVisiblePages:d=5}){if(t<=0)return null;const g=r>0?(e-1)*n+1:0,h=Math.min(e*n,r),x=k=>{const M=[];let I=Math.max(1,e-Math.floor(k/2)),U=Math.min(t,I+k-1);U-I+1<k&&(I=Math.max(1,U-k+1));for(let R=I;R<=U;R++)M.push(R);return M},y=x(d),w=x(3),C=()=>{e>1&&l(e-1)},_=()=>{e<t&&l(e+1)},D=(k,M=!1)=>a.createElement(a.Fragment,null,k[0]>1&&a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>l(1),className:`${M?"w-7 h-7 text-xs":"w-8 h-8 text-sm"} rounded-lg text-gray-600 hover:bg-gray-100 transition-all`},"1"),k[0]>2&&a.createElement("span",{className:`${M?"w-7 h-7":"w-8 h-8"} flex items-center justify-center text-gray-400 text-sm`},"...")),k.map(I=>a.createElement("button",{key:I,onClick:()=>l(I),className:`${M?"w-7 h-7 text-xs":"w-8 h-8 text-sm"} rounded-lg transition-all ${e===I?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-100"}`},I)),k[k.length-1]<t&&a.createElement(a.Fragment,null,k[k.length-1]<t-1&&a.createElement("span",{className:`${M?"w-7 h-7":"w-8 h-8"} flex items-center justify-center text-gray-400 text-sm`},"..."),a.createElement("button",{onClick:()=>l(t),className:`${M?"w-7 h-7 text-xs":"w-8 h-8 text-sm"} rounded-lg text-gray-600 hover:bg-gray-100 transition-all`},t)));return a.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200"},a.createElement("p",{className:"text-xs sm:text-sm text-gray-600 order-2 sm:order-1"},a.createElement("span",{className:"hidden sm:inline"},"Showing "),g,"-",h," of ",r," ",o),a.createElement("div",{className:"flex items-center gap-1 sm:gap-2 order-1 sm:order-2"},a.createElement("button",{onClick:C,disabled:e===1,className:`p-1.5 sm:p-2 rounded-lg transition-all ${e===1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,"aria-label":"Previous page"},a.createElement(G_,{className:"h-4 w-4 sm:h-5 sm:w-5"})),a.createElement("div",{className:"hidden sm:flex items-center gap-1"},D(y,!1)),a.createElement("div",{className:"flex sm:hidden items-center gap-1"},D(w,!0)),a.createElement("button",{onClick:_,disabled:e===t,className:`p-1.5 sm:p-2 rounded-lg transition-all ${e===t?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,"aria-label":"Next page"},a.createElement($_,{className:"h-4 w-4 sm:h-5 sm:w-5"}))))}function ice(){const{hasRole:e}=Pl(),t=e(["SUPER_ADMIN","ADMIN"]),r=e(["SUPER_ADMIN","ADMIN"]),n=e(["SUPER_ADMIN","ADMIN"]),l=e(["SUPER_ADMIN"]),{events:o,pagination:d,filters:g,isLoading:h,error:x,showDeleted:y,getEventById:w,createEvent:C,updateEvent:_,deleteEvent:D,restoreEvent:k,permanentDeleteEvent:M,getTicketStats:I,updateExpiredEvents:U,updateFilters:R,updateSearch:G,resetFilters:F,changePage:j,toggleShowDeleted:L,clearError:H}=Goe(),[V,Q]=N.useState(!1),[Y,X]=N.useState(!1),[he,pe]=N.useState(!1),[se,J]=N.useState(!1),[ae,Ee]=N.useState(!1),[be,re]=N.useState(!1),[W,te]=N.useState(null),[me,ue]=N.useState(null),[Ne,le]=N.useState(!1),[oe,ze]=N.useState(!1),[ve,Ye]=N.useState(null),[rt,Le]=N.useState(null),ye=N.useCallback(async xt=>{te(xt),ue(null),pe(!0)},[]),Ue=N.useCallback(async xt=>{le(!0);try{const Qt=await I(xt);Qt.success&&ue(Qt.data)}finally{le(!1)}},[I]),Se=N.useCallback(async xt=>{const Qt=await w(xt._id);Qt.success?(te(Qt.data),Ye(null),Le(null),X(!0)):Ye(Qt.error)},[w]),We=N.useCallback(()=>{te(null),Ye(null),Le(null),Q(!0)},[]),_e=N.useCallback(xt=>{te(xt),J(!0)},[]),et=N.useCallback(xt=>{te(xt),Ee(!0)},[]),lt=N.useCallback(xt=>{te(xt),re(!0)},[]),vt=N.useCallback(async xt=>{ze(!0),Ye(null),Le(null);try{const Qt=await C(xt);Qt.success?Q(!1):(Ye(Qt.error),Le(Qt.validationErrors))}finally{ze(!1)}},[C]),Qe=N.useCallback(async xt=>{if(W){ze(!0),Ye(null),Le(null);try{const Qt=await _(W._id,xt);Qt.success?(X(!1),te(null)):(Ye(Qt.error),Le(Qt.validationErrors))}finally{ze(!1)}}},[W,_]),st=N.useCallback(async()=>{if(W){ze(!0);try{const xt=await D(W._id);xt.success?(J(!1),te(null)):Ye(xt.error)}finally{ze(!1)}}},[W,D]),Re=N.useCallback(async()=>{if(W){ze(!0);try{const xt=await k(W._id);xt.success?(Ee(!1),te(null)):Ye(xt.error)}finally{ze(!1)}}},[W,k]),ft=N.useCallback(async()=>{if(W){ze(!0);try{const xt=await M(W._id);xt.success?(re(!1),te(null)):Ye(xt.error)}finally{ze(!1)}}},[W,M]),Zt=N.useCallback(async()=>{const xt=await U();xt.success&&xt.updatedCount>0&&console.log(`Updated ${xt.updatedCount} expired events`)},[U]);return a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Events"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Manage your events, pricing, and ticket availability")),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("button",{onClick:Zt,disabled:h,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",title:"Mark expired events as not live"},a.createElement(_l,{className:`h-4 w-4 ${h?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Update Expired")),t&&a.createElement("button",{onClick:We,className:"flex items-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-900 transition-colors"},a.createElement(hn,{className:"h-5 w-5"}),a.createElement("span",null,"Create Event")))),x&&a.createElement("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg"},a.createElement(Or,{className:"h-5 w-5 flex-shrink-0"}),a.createElement("p",{className:"flex-1"},x),a.createElement("button",{onClick:H,className:"text-red-500 hover:text-red-700 font-medium"},"Dismiss")),a.createElement(nce,{filters:g,onFilterChange:R,onSearchChange:G,onReset:F,showDeleted:y,onToggleDeleted:L,disabled:h}),a.createElement(lce,{events:o,showDeleted:y,isLoading:h,canEdit:r,canDelete:n,canPermanentDelete:l,onView:ye,onEdit:Se,onDelete:_e,onRestore:et,onPermanentDelete:lt}),d.totalPages>0&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:d.currentPage,totalPages:d.totalPages,totalItems:d.totalCount,itemsPerPage:d.limit,onPageChange:j,itemLabel:"events"})),a.createElement(sO,{isOpen:V,onClose:()=>Q(!1),onSubmit:vt,event:null,isLoading:oe,serverError:ve,validationErrors:rt}),a.createElement(sO,{isOpen:Y,onClose:()=>{X(!1),te(null)},onSubmit:Qe,event:W,isLoading:oe,serverError:ve,validationErrors:rt}),a.createElement(rce,{isOpen:he,onClose:()=>{pe(!1),te(null),ue(null)},event:W,ticketStats:me,isLoadingStats:Ne,onFetchStats:Ue}),a.createElement(va,{isOpen:se,onClose:()=>{J(!1),te(null)},onConfirm:st,title:"Delete Event",message:`Are you sure you want to delete "${W?.name}"? This event will be moved to the deleted items and can be restored later.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:oe}),a.createElement(va,{isOpen:ae,onClose:()=>{Ee(!1),te(null)},onConfirm:Re,title:"Restore Event",message:`Are you sure you want to restore "${W?.name}"? This event will be available again in the events list.`,confirmText:"Restore",cancelText:"Cancel",variant:"primary",isLoading:oe}),a.createElement(va,{isOpen:be,onClose:()=>{re(!1),te(null)},onConfirm:ft,title:"Permanently Delete Event",message:`Are you sure you want to permanently delete "${W?.name}"? This action cannot be undone and all associated data will be lost.`,confirmText:"Delete Permanently",cancelText:"Cancel",variant:"danger",isLoading:oe}))}function oce(){const[e,t]=N.useState(1),[r,n]=N.useState(""),[l,o]=N.useState(""),[d,g]=N.useState(""),h=10,x={confirmed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700"},[y,w]=N.useState([{id:1,userName:"John Doe",email:"john.doe@email.com",phone:"+91 9876543210",eventName:"Tech Conference 2025",enrollmentDate:"2025-02-15",status:"confirmed"},{id:2,userName:"Jane Smith",email:"jane.smith@email.com",phone:"+91 9876543211",eventName:"Medical Summit 2025",enrollmentDate:"2025-02-18",status:"pending"},{id:3,userName:"Mike Johnson",email:"mike.j@email.com",phone:"+91 9876543212",eventName:"Comedy Night Live",enrollmentDate:"2025-02-20",status:"confirmed"},{id:4,userName:"Sarah Wilson",email:"sarah.w@email.com",phone:"+91 9876543213",eventName:"Rock Music Festival",enrollmentDate:"2025-02-22",status:"cancelled"},{id:5,userName:"David Brown",email:"david.b@email.com",phone:"+91 9876543214",eventName:"AI Workshop 2025",enrollmentDate:"2025-02-25",status:"confirmed"},{id:6,userName:"Emily Davis",email:"emily.d@email.com",phone:"+91 9876543215",eventName:"Health Awareness Camp",enrollmentDate:"2025-02-28",status:"pending"},{id:7,userName:"Chris Martin",email:"chris.m@email.com",phone:"+91 9876543216",eventName:"Stand-up Comedy Show",enrollmentDate:"2025-03-01",status:"confirmed"},{id:8,userName:"Lisa Anderson",email:"lisa.a@email.com",phone:"+91 9876543217",eventName:"Jazz Night",enrollmentDate:"2025-03-05",status:"confirmed"},{id:9,userName:"Robert Taylor",email:"robert.t@email.com",phone:"+91 9876543218",eventName:"Tech Conference 2025",enrollmentDate:"2025-03-08",status:"pending"},{id:10,userName:"Amanda White",email:"amanda.w@email.com",phone:"+91 9876543219",eventName:"Medical Summit 2025",enrollmentDate:"2025-03-10",status:"confirmed"},{id:11,userName:"Kevin Lee",email:"kevin.l@email.com",phone:"+91 9876543220",eventName:"Rock Music Festival",enrollmentDate:"2025-03-12",status:"cancelled"},{id:12,userName:"Michelle Garcia",email:"michelle.g@email.com",phone:"+91 9876543221",eventName:"Comedy Night Live",enrollmentDate:"2025-03-15",status:"confirmed"}]),C=[...new Set(y.map(L=>L.eventName))],_=["confirmed","pending","cancelled"],D=L=>{window.confirm("Are you sure you want to delete this enrollment?")&&w(y.filter(H=>H.id!==L))},k=y.filter(L=>{const H=L.userName.toLowerCase().includes(r.toLowerCase())||L.email.toLowerCase().includes(r.toLowerCase()),V=l?L.status===l:!0,Q=d?L.eventName===d:!0;return H&&V&&Q}),M=Math.ceil(k.length/h),I=(e-1)*h,U=I+h,R=k.slice(I,U),G=(L,H)=>{L(H),t(1)},F=()=>{e>1&&t(e-1)},j=()=>{e<M&&t(e+1)};return a.createElement("div",null,a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6"},a.createElement("div",{className:"flex flex-wrap items-center gap-4"},a.createElement("div",{className:"relative w-80"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.createElement("input",{type:"text",placeholder:"Search by name or email...",value:r,onChange:L=>G(n,L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),a.createElement("select",{value:l,onChange:L=>G(o,L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white"},a.createElement("option",{value:""},"All Status"),_.map(L=>a.createElement("option",{key:L,value:L,className:"capitalize"},L.charAt(0).toUpperCase()+L.slice(1)))),a.createElement("select",{value:d,onChange:L=>G(g,L.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white"},a.createElement("option",{value:""},"All Events"),C.map(L=>a.createElement("option",{key:L,value:L},L))))),a.createElement("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"User"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Event"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Phone"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Enrollment Date"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,R.map(L=>a.createElement("tr",{key:L.id,className:"border-b border-gray-100 hover:bg-gray-50"},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",null,a.createElement("p",{className:"font-medium text-gray-900"},L.userName),a.createElement("p",{className:"text-sm text-gray-500"},L.email))),a.createElement("td",{className:"px-6 py-4 text-gray-600"},L.eventName),a.createElement("td",{className:"px-6 py-4 text-gray-600"},L.phone),a.createElement("td",{className:"px-6 py-4 text-gray-600"},L.enrollmentDate),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${x[L.status]}`},L.status)),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-2"},a.createElement("button",{className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-all",title:"View Details"},a.createElement(an,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>D(L.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete"},a.createElement(vr,{className:"h-5 w-5"})))))))),a.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200"},a.createElement("p",{className:"text-sm text-gray-600"},"Showing ",k.length>0?I+1:0," to"," ",Math.min(U,k.length)," of ",k.length," enrollments"),a.createElement("div",{className:"flex items-center gap-2"},a.createElement("button",{onClick:F,disabled:e===1,className:`p-2 rounded-lg transition-all ${e===1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`},a.createElement(G_,{className:"h-5 w-5"})),Array.from({length:M},(L,H)=>H+1).map(L=>a.createElement("button",{key:L,onClick:()=>t(L),className:`w-8 h-8 rounded-lg transition-all ${e===L?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-100"}`},L)),a.createElement("button",{onClick:j,disabled:e===M,className:`p-2 rounded-lg transition-all ${e===M?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`},a.createElement($_,{className:"h-5 w-5"}))))))}function cce(){return a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-6"},a.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Coupons"),a.createElement("p",{className:"text-gray-600"},"Manage your discount coupons here."))}const oc={LIST:"/app/auth/users",GET_BY_ID:e=>`/app/auth/users/${e}`,UPDATE:e=>`/app/auth/users/${e}`,DELETE:e=>`/app/auth/users/${e}`,RESTORE:e=>`/app/auth/users/${e}/restore`,PERMANENT_DELETE:e=>`/app/auth/users/${e}/permanent`},wu={getAll:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.search&&t.append("search",e.search),e.includeDeleted&&t.append("includeDeleted",e.includeDeleted);const r=t.toString(),n=r?`${oc.LIST}?${r}`:oc.LIST;console.log("[UserService] Fetching users with params:",e);const l=await Xe(Ge.get(n));return l.success?console.log("[UserService] Fetched users:",l.data.users?.length):console.error("[UserService] Failed to fetch users:",l.message),l},getById:async e=>{console.log("[UserService] Fetching user by ID:",e);const t=await Xe(Ge.get(oc.GET_BY_ID(e)));return t.success?console.log("[UserService] Fetched user:",t.data.user?.name):console.error("[UserService] Failed to fetch user:",t.message),t},update:async(e,t)=>{console.log("[UserService] Updating user:",e);const r=await Xe(Ge.put(oc.UPDATE(e),t));return r.success?console.log("[UserService] User updated successfully"):console.error("[UserService] Failed to update user:",r.message),r},delete:async e=>{console.log("[UserService] Soft deleting user:",e);const t=await Xe(Ge.delete(oc.DELETE(e)));return t.success?console.log("[UserService] User soft deleted successfully"):console.error("[UserService] Failed to delete user:",t.message),t},restore:async e=>{console.log("[UserService] Restoring user:",e);const t=await Xe(Ge.post(oc.RESTORE(e)));return t.success?console.log("[UserService] User restored successfully"):console.error("[UserService] Failed to restore user:",t.message),t},permanentDelete:async e=>{console.log("[UserService] Permanently deleting user:",e);const t=await Xe(Ge.delete(oc.PERMANENT_DELETE(e)));return t.success?console.log("[UserService] User permanently deleted"):console.error("[UserService] Failed to permanently delete user:",t.message),t}};function uce(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({total:0,page:1,limit:10,totalPages:0}),[o,d]=N.useState({search:"",includeDeleted:!1,...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),w=N.useCallback(async(j=n.page)=>{h(!0),y(null);try{const L={page:j,limit:n.limit,...o.search&&{search:o.search},...o.includeDeleted&&{includeDeleted:o.includeDeleted}},H=await wu.getAll(L);H.success?(r(H.data.users),l(H.data.pagination)):(y(H.message),r([]))}catch{y("Failed to fetch users"),r([])}finally{h(!1)}},[o,n.limit]),C=N.useCallback(async j=>{try{const L=await wu.getById(j);return L.success?{success:!0,data:L.data.user}:{success:!1,error:L.message}}catch{return{success:!1,error:"Failed to fetch user details"}}},[]),_=N.useCallback(async(j,L)=>{h(!0),y(null);try{const H=await wu.update(j,L);return H.success?(r(V=>V.map(Q=>Q._id===j?{...Q,...H.data.user}:Q)),{success:!0,data:H.data}):{success:!1,error:H.message,validationErrors:H.data?.errors}}catch{return{success:!1,error:"Failed to update user"}}finally{h(!1)}},[]),D=N.useCallback(async j=>{h(!0),y(null);try{const L=await wu.delete(j);return L.success?(o.includeDeleted?r(H=>H.map(V=>V._id===j?{...V,isDeleted:!0}:V)):(r(H=>H.filter(V=>V._id!==j)),l(H=>({...H,total:H.total-1,totalPages:Math.ceil((H.total-1)/H.limit)}))),{success:!0}):{success:!1,error:L.message}}catch{return{success:!1,error:"Failed to delete user"}}finally{h(!1)}},[o.includeDeleted]),k=N.useCallback(async j=>{h(!0),y(null);try{const L=await wu.restore(j);return L.success?(r(H=>H.map(V=>V._id===j?{...V,isDeleted:!1,deletedAt:null}:V)),{success:!0}):{success:!1,error:L.message}}catch{return{success:!1,error:"Failed to restore user"}}finally{h(!1)}},[]),M=N.useCallback(async j=>{h(!0),y(null);try{const L=await wu.permanentDelete(j);return L.success?(r(H=>H.filter(V=>V._id!==j)),l(H=>({...H,total:H.total-1,totalPages:Math.ceil((H.total-1)/H.limit)})),{success:!0}):{success:!1,error:L.message}}catch{return{success:!1,error:"Failed to permanently delete user"}}finally{h(!1)}},[]),I=N.useCallback(j=>{d(L=>({...L,...j}))},[]),U=N.useCallback(()=>{d({search:"",includeDeleted:!1,...e})},[e]),R=N.useCallback(j=>{w(j)},[w]),G=N.useCallback(j=>{l(L=>({...L,limit:j}))},[]),F=N.useCallback(()=>{y(null)},[]);return N.useEffect(()=>{w(1)},[o]),{users:t,pagination:n,filters:o,isLoading:g,error:x,fetchUsers:w,getUserById:C,updateUser:_,deleteUser:D,restoreUser:k,permanentDeleteUser:M,updateFilters:I,resetFilters:U,changePage:R,changeLimit:G,clearError:F}}const iO=(e=null)=>({name:e?.name||"",email:e?.email||"",phone:e?.phone||""}),dce=e=>{const t={};if(e.name.trim()?(e.name.length<2||e.name.length>100)&&(t.name="Name must be between 2 and 100 characters"):t.name="Name is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(t.email="Invalid email format"):t.email="Email is required",!e.phone.trim())t.phone="Phone is required";else{const r=e.phone.replace(/[^0-9]/g,"");(r.length<10||r.length>15)&&(t.phone="Phone must be 10-15 digits")}return{isValid:Object.keys(t).length===0,errors:t}};function mce({isOpen:e,onClose:t,onSubmit:r,user:n=null,isLoading:l=!1,serverError:o=null,validationErrors:d=null}){const[g,h]=N.useState(iO(n)),[x,y]=N.useState({});N.useEffect(()=>{e&&(h(iO(n)),y({}))},[e,n]),N.useEffect(()=>{if(d&&Array.isArray(d)){const D={};d.forEach(k=>{k.field&&(D[k.field]=k.message)}),y(k=>({...k,...D}))}},[d]);const w=D=>{const{name:k,value:M}=D.target;h(I=>({...I,[k]:M})),x[k]&&y(I=>({...I,[k]:null}))},C=async D=>{D.preventDefault();const k=dce(g);if(!k.isValid){y(k.errors);return}const M={...g};M.phone=M.phone.replace(/[^0-9]/g,""),await r(M)},_=()=>{l||t()};return a.createElement(Kr,{isOpen:e,onClose:_,title:"Edit User",size:"md",closeOnOverlayClick:!l},a.createElement("form",{onSubmit:C},o&&a.createElement("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},o),a.createElement("div",{className:"space-y-4"},a.createElement("div",null,a.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",id:"name",name:"name",value:g.name,onChange:w,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${x.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter user name"}),x.name&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},x.name)),a.createElement("div",null,a.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"email",id:"email",name:"email",value:g.email,onChange:w,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${x.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),x.email&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},x.email)),a.createElement("div",null,a.createElement("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1"},"Phone ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"tel",id:"phone",name:"phone",value:g.phone,onChange:w,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${x.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number"}),x.phone&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},x.phone))),a.createElement("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:_,disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},l&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),"Update User"))))}const mv=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",fce=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-";function hce({isOpen:e,onClose:t,user:r,isLoading:n=!1}){return!r&&!n?null:a.createElement(Kr,{isOpen:e,onClose:t,title:"User Details",size:"lg"},n?a.createElement("div",{className:"py-12 flex flex-col items-center justify-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading user details...")):r?a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-200"},a.createElement("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center shrink-0"},a.createElement("span",{className:"text-xl font-semibold text-gray-800"},r.name?.charAt(0)?.toUpperCase()||"?")),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("h3",{className:"text-lg font-semibold text-gray-900 truncate"},r.name),a.createElement("div",{className:"flex flex-wrap items-center gap-2 mt-1"},r.isDeleted&&a.createElement("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-xs font-medium flex items-center gap-1"},a.createElement(Or,{className:"h-3 w-3"}),"Deleted")))),a.createElement("div",{className:"space-y-3"},a.createElement("h4",{className:"text-sm font-medium text-gray-700"},"Contact Information"),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(cj,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Email")),a.createElement("p",{className:"text-sm font-medium text-gray-900 truncate"},r.email||"-")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(Rm,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Phone")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},r.phone||"-")))),a.createElement("div",{className:"space-y-3"},a.createElement("h4",{className:"text-sm font-medium text-gray-700"},"Activity"),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(On,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Last Login")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},r.lastLogin?mv(r.lastLogin):"Never")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement($r,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Joined")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},mv(r.createdAt))))),r.enrollments&&r.enrollments.length>0?a.createElement("div",{className:"space-y-3"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("h4",{className:"text-sm font-medium text-gray-700"},"Enrollments (",r.enrollments.length,")")),a.createElement("div",{className:"space-y-2 max-h-64 overflow-y-auto"},r.enrollments.map((l,o)=>a.createElement("div",{key:l._id||o,className:"bg-gray-50 rounded-lg p-3 flex items-center gap-3"},a.createElement("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center shrink-0"},a.createElement(SA,{className:"h-4 w-4 text-gray-800"})),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-sm font-medium text-gray-900 truncate"},l.event?.name||l.event||"Unknown Event"),a.createElement("p",{className:"text-xs text-gray-500"},"Enrolled: ",fce(l.enrolledAt))),l.certificate&&a.createElement("a",{href:l.certificate,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-800 hover:text-gray-900 hover:underline shrink-0"},"View Certificate"))))):a.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},a.createElement(SA,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),a.createElement("p",{className:"text-sm text-gray-500"},"No enrollments yet")),r.isDeleted&&r.deletedAt&&a.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 text-red-700"},a.createElement(Or,{className:"h-4 w-4 shrink-0"}),a.createElement("p",{className:"text-sm"},"This user was deleted on ",mv(r.deletedAt)))),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"},"Close"))):a.createElement("div",{className:"py-12 text-center text-gray-500"},a.createElement("p",null,"No user data available")))}function gce(){const{hasRole:e}=Pl(),{users:t,pagination:r,filters:n,isLoading:l,error:o,getUserById:d,updateUser:g,deleteUser:h,restoreUser:x,permanentDeleteUser:y,updateFilters:w,changePage:C,clearError:_}=uce(),D=e(["SUPER_ADMIN","ADMIN"]),[k,M]=N.useState(!1),[I,U]=N.useState(!1),[R,G]=N.useState(!1),[F,j]=N.useState(!1),[L,H]=N.useState(!1),[V,Q]=N.useState(null),[Y,X]=N.useState(null),[he,pe]=N.useState(!1),[se,J]=N.useState(null),[ae,Ee]=N.useState(null),[be,re]=N.useState(!1),[W,te]=N.useState("");N.useEffect(()=>{const Se=setTimeout(()=>{W!==n.search&&w({search:W})},300);return()=>clearTimeout(Se)},[W,n.search,w]);const me=async Se=>{U(!0),pe(!0),X(null);const We=await d(Se._id);We.success?X(We.data):X(Se),pe(!1)},ue=Se=>{D&&(Q(Se),J(null),Ee(null),M(!0))},Ne=async Se=>{re(!0),J(null),Ee(null);const We=await g(V._id,Se);We.success?(M(!1),Q(null)):(J(We.error),Ee(We.validationErrors)),re(!1)},le=Se=>{D&&(Q(Se),G(!0))},oe=async()=>{const Se=await h(V._id);G(!1),Q(null),Se.success||console.error("Delete failed:",Se.error)},ze=Se=>{D&&(Q(Se),j(!0))},ve=async()=>{const Se=await x(V._id);j(!1),Q(null),Se.success||console.error("Restore failed:",Se.error)},Ye=Se=>{D&&(Q(Se),H(!0))},rt=async()=>{const Se=await y(V._id);H(!1),Q(null),Se.success||console.error("Permanent delete failed:",Se.error)},Le=()=>{w({includeDeleted:!n.includeDeleted})},ye=()=>{M(!1),Q(null),J(null),Ee(null)},Ue=()=>{U(!1),X(null)};return a.createElement("div",{className:"space-y-4 sm:space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900"},"Users Management"),a.createElement("p",{className:"text-sm sm:text-base text-gray-600 mt-1"},"Manage and monitor user accounts"))),a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border border-gray-200"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4"},a.createElement("div",{className:"relative flex-1 max-w-md"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),a.createElement("input",{type:"text",placeholder:"Search by name, email, or phone...",value:W,onChange:Se=>te(Se.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:border-gray-800 outline-none text-sm"})),D&&a.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},a.createElement("input",{type:"checkbox",checked:n.includeDeleted,onChange:Le,className:"w-4 h-4 text-gray-800 border-gray-300 rounded focus:ring-0"}),a.createElement("span",{className:"text-sm text-gray-600"},"Show deleted users")))),o&&a.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-center justify-between"},a.createElement("div",{className:"flex items-center gap-2 text-red-700"},a.createElement(Ep,{className:"h-5 w-5"}),a.createElement("span",null,o)),a.createElement("button",{onClick:_,className:"text-red-700 hover:text-red-900"},"Dismiss")),a.createElement("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200"},l&&t.length===0?a.createElement("div",{className:"py-12 flex flex-col items-center justify-center"},a.createElement(At,{className:"h-8 w-8 text-blue-600 animate-spin"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading users...")):t.length===0?a.createElement("div",{className:"py-12 text-center text-gray-500"},a.createElement("p",null,"No users found"),n.search&&a.createElement("p",{className:"text-sm mt-1"},"Try adjusting your search criteria")):a.createElement(a.Fragment,null,a.createElement("div",{className:"hidden lg:block overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"User"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Phone"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Last Login"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,t.map(Se=>a.createElement("tr",{key:Se._id,className:`border-b border-gray-100 hover:bg-gray-50 transition-colors ${Se.isDeleted?"bg-red-50/50":""}`},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center flex-shrink-0"},a.createElement("span",{className:"text-white font-semibold text-sm"},Se.name?.charAt(0)?.toUpperCase()||"?")),a.createElement("div",{className:"min-w-0"},a.createElement("p",{className:"font-medium text-gray-900 truncate"},Se.name),a.createElement("p",{className:"text-sm text-gray-500 truncate"},Se.email)))),a.createElement("td",{className:"px-6 py-4 text-gray-600"},Se.phone||"-"),a.createElement("td",{className:"px-6 py-4 text-gray-600 text-sm"},Se.lastLogin?new Date(Se.lastLogin).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"Never"),a.createElement("td",{className:"px-6 py-4"},Se.isDeleted?a.createElement("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700"},"Deleted"):a.createElement("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700"},"Active")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-2"},a.createElement("button",{onClick:()=>me(Se),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-all",title:"View Details"},a.createElement(an,{className:"h-5 w-5"})),D&&a.createElement(a.Fragment,null,Se.isDeleted?a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>ze(Se),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Restore User"},a.createElement(ug,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>Ye(Se),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Permanently Delete"},a.createElement(vr,{className:"h-5 w-5"}))):a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>ue(Se),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit"},a.createElement(ya,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>le(Se),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete"},a.createElement(vr,{className:"h-5 w-5"}))))))))))),a.createElement("div",{className:"lg:hidden divide-y divide-gray-200"},t.map(Se=>a.createElement("div",{key:Se._id,className:`p-4 hover:bg-gray-50 transition-colors ${Se.isDeleted?"bg-red-50/50":""}`},a.createElement("div",{className:"flex items-start gap-3 mb-3"},a.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center flex-shrink-0"},a.createElement("span",{className:"text-white font-semibold"},Se.name?.charAt(0)?.toUpperCase()||"?")),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"font-semibold text-gray-900 truncate"},Se.name),a.createElement("p",{className:"text-sm text-gray-500 truncate"},Se.email),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},Se.phone||"No phone")),a.createElement("div",null,Se.isDeleted?a.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700"},"Deleted"):a.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700"},"Active"))),a.createElement("div",{className:"flex items-center justify-between text-sm"},a.createElement("span",{className:"text-gray-500"},"Last login:"," ",Se.lastLogin?new Date(Se.lastLogin).toLocaleDateString("en-IN",{day:"numeric",month:"short"}):"Never"),a.createElement("div",{className:"flex items-center gap-1"},a.createElement("button",{onClick:()=>me(Se),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-all",title:"View Details"},a.createElement(an,{className:"h-5 w-5"})),D&&a.createElement(a.Fragment,null,Se.isDeleted?a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>ze(Se),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Restore"},a.createElement(ug,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>Ye(Se),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Forever"},a.createElement(vr,{className:"h-5 w-5"}))):a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>ue(Se),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit"},a.createElement(ya,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>le(Se),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete"},a.createElement(vr,{className:"h-5 w-5"}))))))))),a.createElement(Ln,{currentPage:r.page,totalPages:r.totalPages,totalItems:r.total,itemsPerPage:r.limit,onPageChange:C,itemLabel:"users"}))),a.createElement(mce,{isOpen:k,onClose:ye,onSubmit:Ne,user:V,isLoading:be,serverError:se,validationErrors:ae}),a.createElement(hce,{isOpen:I,onClose:Ue,user:Y,isLoading:he}),a.createElement(va,{isOpen:R,onClose:()=>G(!1),onConfirm:oe,title:"Delete User",message:`Are you sure you want to delete "${V?.name}"? This action can be undone by restoring the user.`,confirmText:"Delete",variant:"danger",isLoading:l}),a.createElement(va,{isOpen:F,onClose:()=>j(!1),onConfirm:ve,title:"Restore User",message:`Are you sure you want to restore "${V?.name}"?`,confirmText:"Restore",variant:"primary",isLoading:l}),a.createElement(va,{isOpen:L,onClose:()=>H(!1),onConfirm:rt,title:"Permanently Delete User",message:`Are you sure you want to PERMANENTLY delete "${V?.name}"? This action CANNOT be undone and all user data will be lost forever.`,confirmText:"Delete Forever",variant:"danger",isLoading:l}))}const xl={CREATE:"/web/auth/create",LIST:"/web/auth/admins",GET_BY_ID:e=>`/web/auth/admins/${e}`,UPDATE:e=>`/web/auth/admins/${e}`,DELETE:e=>`/web/auth/admins/${e}`,GET_ALLOWED_EVENTS:e=>`/web/auth/admins/${e}/allowed-events`,UPDATE_ALLOWED_EVENTS:e=>`/web/auth/admins/${e}/allowed-events`,ADD_ALLOWED_EVENT:(e,t)=>`/web/auth/admins/${e}/allowed-events/${t}`,REMOVE_ALLOWED_EVENT:(e,t)=>`/web/auth/admins/${e}/allowed-events/${t}`},vm={create:async e=>{console.log("[AdminService] Creating admin:",e.username);const t=await Xe(Ge.post(xl.CREATE,e));return t.success?console.log("[AdminService] Admin created successfully:",t.data.admin._id):console.error("[AdminService] Failed to create admin:",t.message),t},getAll:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.status&&t.append("status",e.status),e.role&&t.append("role",e.role),e.search&&t.append("search",e.search);const r=t.toString(),n=r?`${xl.LIST}?${r}`:xl.LIST;console.log("[AdminService] Fetching admins with params:",e);const l=await Xe(Ge.get(n));return l.success?console.log("[AdminService] Fetched admins:",l.data.admins?.length):console.error("[AdminService] Failed to fetch admins:",l.message),l},getById:async e=>{console.log("[AdminService] Fetching admin by ID:",e);const t=await Xe(Ge.get(xl.GET_BY_ID(e)));return t.success?console.log("[AdminService] Fetched admin:",t.data.admin.username):console.error("[AdminService] Failed to fetch admin:",t.message),t},update:async(e,t)=>{console.log("[AdminService] Updating admin:",e);const r=await Xe(Ge.put(xl.UPDATE(e),t));return r.success?console.log("[AdminService] Admin updated successfully"):console.error("[AdminService] Failed to update admin:",r.message),r},delete:async e=>{console.log("[AdminService] Deleting admin:",e);const t=await Xe(Ge.delete(xl.DELETE(e)));return t.success?console.log("[AdminService] Admin deleted successfully"):console.error("[AdminService] Failed to delete admin:",t.message),t},getAllowedEvents:async e=>{console.log("[AdminService] Fetching allowed events for admin:",e);const t=await Xe(Ge.get(xl.GET_ALLOWED_EVENTS(e)));return t.success?console.log("[AdminService] Fetched allowed events:",t.data.allowedEvents?.length):console.error("[AdminService] Failed to fetch allowed events:",t.message),t},updateAllowedEvents:async(e,t)=>{console.log("[AdminService] Updating allowed events for admin:",e);const r=await Xe(Ge.put(xl.UPDATE_ALLOWED_EVENTS(e),{allowedEvents:t}));return r.success?console.log("[AdminService] Allowed events updated successfully"):console.error("[AdminService] Failed to update allowed events:",r.message),r},addAllowedEvent:async(e,t)=>{console.log("[AdminService] Adding event to allowed events:",t);const r=await Xe(Ge.post(xl.ADD_ALLOWED_EVENT(e,t)));return r.success?console.log("[AdminService] Event added to allowed events"):console.error("[AdminService] Failed to add event:",r.message),r},removeAllowedEvent:async(e,t)=>{console.log("[AdminService] Removing event from allowed events:",t);const r=await Xe(Ge.delete(xl.REMOVE_ALLOWED_EVENT(e,t)));return r.success?console.log("[AdminService] Event removed from allowed events"):console.error("[AdminService] Failed to remove event:",r.message),r}};function pce(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({total:0,page:1,limit:10,totalPages:0}),[o,d]=N.useState({search:"",status:"",role:"",...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),w=N.useCallback(async(F=n.page)=>{h(!0),y(null);try{const j={page:F,limit:n.limit,...o.search&&{search:o.search},...o.status&&{status:o.status},...o.role&&{role:o.role}},L=await vm.getAll(j);L.success?(r(L.data.admins),l(L.data.pagination)):(y(L.message),r([]))}catch{y("Failed to fetch admins"),r([])}finally{h(!1)}},[o,n.limit]),C=N.useCallback(async F=>{h(!0),y(null);try{const j=await vm.create(F);return j.success?(await w(1),{success:!0,data:j.data}):{success:!1,error:j.message,validationErrors:j.error}}catch{return{success:!1,error:"Failed to create admin"}}finally{h(!1)}},[w]),_=N.useCallback(async(F,j)=>{h(!0),y(null);try{const L=await vm.update(F,j);return L.success?(r(H=>H.map(V=>V._id===F?{...V,...L.data.admin}:V)),{success:!0,data:L.data}):{success:!1,error:L.message,validationErrors:L.error}}catch{return{success:!1,error:"Failed to update admin"}}finally{h(!1)}},[]),D=N.useCallback(async F=>{h(!0),y(null);try{const j=await vm.delete(F);return j.success?(r(L=>L.filter(H=>H._id!==F)),l(L=>({...L,total:L.total-1,totalPages:Math.ceil((L.total-1)/L.limit)})),{success:!0}):{success:!1,error:j.message}}catch{return{success:!1,error:"Failed to delete admin"}}finally{h(!1)}},[]),k=N.useCallback(async F=>{try{const j=await vm.getById(F);return j.success?{success:!0,data:j.data.admin}:{success:!1,error:j.message}}catch{return{success:!1,error:"Failed to fetch admin details"}}},[]),M=N.useCallback(F=>{d(j=>({...j,...F}))},[]),I=N.useCallback(()=>{d({search:"",status:"",role:"",...e})},[e]),U=N.useCallback(F=>{w(F)},[w]),R=N.useCallback(F=>{l(j=>({...j,limit:F}))},[]),G=N.useCallback(()=>{y(null)},[]);return N.useEffect(()=>{w(1)},[o]),{admins:t,pagination:n,filters:o,isLoading:g,error:x,fetchAdmins:w,createAdmin:C,updateAdmin:_,deleteAdmin:D,getAdminById:k,updateFilters:M,resetFilters:I,changePage:U,changeLimit:R,clearError:G}}function yce(e={}){const{autoFetch:t=!0,isLive:r}=e,[n,l]=N.useState([]),[o,d]=N.useState(!1),[g,h]=N.useState(null),[x,y]=N.useState(""),w=N.useRef(null),C=N.useRef({data:null,timestamp:null}),_=300*1e3,D=N.useCallback(async(U="",R=!0)=>{if(R&&!U&&C.current.data&&Date.now()-C.current.timestamp<_){l(C.current.data);return}d(!0),h(null);try{const G={};r!==void 0&&(G.isLive=r),U&&(G.search=U);const F=await Cs.getDropdownEvents(G);if(F.success){const j=F.data.events||[];l(j),U||(C.current={data:j,timestamp:Date.now()})}else h(F.message),l([])}catch{h("Failed to fetch events"),l([])}finally{d(!1)}},[r]),k=N.useCallback(U=>{if(y(U),w.current&&clearTimeout(w.current),!U.trim()){C.current.data?l(C.current.data):D("",!0);return}w.current=setTimeout(()=>{D(U,!1)},300)},[D]),M=N.useCallback(()=>{C.current={data:null,timestamp:null},D("",!1)},[D]),I=N.useCallback(()=>{h(null)},[]);return N.useEffect(()=>{t&&D("",!0)},[t,D]),N.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),{events:n,isLoading:o,error:g,searchQuery:x,fetchEvents:D,searchEvents:k,refreshEvents:M,clearError:I}}const xce=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"",oO={TECHNOLOGY:"bg-blue-100 text-gray-900",MUSIC:"bg-purple-100 text-purple-700",SPORTS:"bg-green-100 text-green-700",BUSINESS:"bg-yellow-100 text-yellow-700",EDUCATION:"bg-indigo-100 text-indigo-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",DEFAULT:"bg-gray-100 text-gray-700"};function yR({selectedIds:e=[],onChange:t,disabled:r=!1,placeholder:n="Select events...",error:l}){const[o,d]=N.useState(!1),[g,h]=N.useState(""),x=N.useRef(null),y=N.useRef(null),{events:w,isLoading:C,error:_,searchEvents:D}=yce({autoFetch:!0}),k=N.useMemo(()=>{if(!g.trim())return w;const Y=g.toLowerCase();return w.filter(X=>X.name.toLowerCase().includes(Y)||X.category?.toLowerCase().includes(Y))},[w,g]),M=N.useMemo(()=>w.filter(Y=>e.includes(Y._id)),[w,e]);N.useEffect(()=>{const Y=X=>{x.current&&!x.current.contains(X.target)&&d(!1)};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[]);const I=N.useCallback(Y=>{const X=Y.target.value;h(X),D(X)},[D]),U=N.useCallback(Y=>{if(r)return;const X=e.includes(Y)?e.filter(he=>he!==Y):[...e,Y];t(X)},[e,t,r]),R=N.useCallback((Y,X)=>{X.stopPropagation(),!r&&t(e.filter(he=>he!==Y))},[e,t,r]),G=N.useCallback(()=>{if(r)return;const Y=k.map(he=>he._id),X=[...new Set([...e,...Y])];t(X)},[k,e,t,r]),F=N.useCallback(()=>{r||t([])},[t,r]),j=N.useCallback(()=>{r||(d(!0),setTimeout(()=>y.current?.focus(),0))},[r]),L=N.useCallback(Y=>{Y.key==="Escape"&&d(!1)},[]),H=Y=>oO[Y]||oO.DEFAULT,V=l||_,Q=2;return a.createElement("div",{ref:x,className:"relative",onKeyDown:L},a.createElement("div",{onClick:j,className:`min-h-[42px] px-2 sm:px-3 py-2 border rounded-lg cursor-pointer transition-colors ${r?"bg-gray-100 cursor-not-allowed":o?"border-gray-800":V?"border-red-500":"border-gray-300 hover:border-gray-400"}`},a.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap"},M.length>0?a.createElement(a.Fragment,null,M.slice(0,Q).map(Y=>a.createElement("span",{key:Y._id,className:"inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-blue-100 text-blue-800 text-xs sm:text-sm rounded-md"},a.createElement("span",{className:"truncate max-w-[80px] sm:max-w-[120px]"},Y.name),!r&&a.createElement("button",{type:"button",onClick:X=>R(Y._id,X),className:"hover:bg-blue-200 rounded p-0.5"},a.createElement(Bn,{className:"h-3 w-3"})))),M.length>Q&&a.createElement("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-gray-100 text-gray-600 text-xs sm:text-sm rounded-md"},"+",M.length-Q," more")):a.createElement("span",{className:"text-gray-400 text-sm"},n),a.createElement(Tl,{className:`h-4 w-4 sm:h-5 sm:w-5 text-gray-400 ml-auto shrink-0 transition-transform ${o?"rotate-180":""}`}))),V&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1"},a.createElement(Or,{className:"h-3 w-3 sm:h-4 sm:w-4"}),V),o&&!r&&a.createElement("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg"},a.createElement("div",{className:"p-2 border-b border-gray-200"},a.createElement("div",{className:"relative"},a.createElement(da,{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{ref:y,type:"text",value:g,onChange:I,placeholder:"Search events...",className:"w-full pl-8 sm:pl-9 pr-4 py-2 border border-gray-300 rounded-md focus:border-gray-800 outline-none text-sm"}),C&&a.createElement(At,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 animate-spin"}))),a.createElement("div",{className:"px-2 py-1.5 border-b border-gray-200 flex items-center justify-between bg-gray-50"},a.createElement("span",{className:"text-xs text-gray-500"},e.length,"/",w.length),a.createElement("div",{className:"flex gap-2"},a.createElement("button",{type:"button",onClick:G,className:"text-xs text-gray-800 hover:text-black font-medium"},"Select all"),a.createElement("span",{className:"text-gray-300"},"|"),a.createElement("button",{type:"button",onClick:F,className:"text-xs text-red-600 hover:text-red-800 font-medium"},"Clear"))),a.createElement("div",{className:"max-h-48 sm:max-h-60 overflow-y-auto"},k.length===0?a.createElement("div",{className:"px-4 py-6 sm:py-8 text-center text-gray-500 text-sm"},C?a.createElement("div",{className:"flex flex-col items-center gap-2"},a.createElement(At,{className:"h-5 w-5 sm:h-6 sm:w-6 animate-spin"}),a.createElement("span",null,"Loading events...")):g?a.createElement("span",null,'No events found for "',g,'"'):a.createElement("span",null,"No events available")):k.map(Y=>{const X=e.includes(Y._id);return a.createElement("div",{key:Y._id,onClick:()=>U(Y._id),className:`px-2 sm:px-3 py-2 sm:py-2.5 cursor-pointer flex items-start gap-2 sm:gap-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 ${X?"bg-blue-50":""}`},a.createElement("div",{className:`shrink-0 w-4 h-4 sm:w-5 sm:h-5 rounded border-2 flex items-center justify-center mt-0.5 ${X?"bg-gray-800 border-gray-800":"border-gray-300"}`},X&&a.createElement(As,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-white"})),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap"},a.createElement("p",{className:"font-medium text-gray-900 text-sm truncate"},Y.name),Y.isLive&&a.createElement("span",{className:"shrink-0 px-1 sm:px-1.5 py-0.5 bg-green-100 text-green-700 text-xs rounded"},"Live")),a.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-1 flex-wrap"},Y.category&&a.createElement("span",{className:`px-1 sm:px-1.5 py-0.5 text-xs rounded ${H(Y.category)}`},Y.category),Y.startDate&&a.createElement("span",{className:"flex items-center gap-1 text-xs text-gray-500"},a.createElement($r,{className:"h-3 w-3"}),xce(Y.startDate)))))})),e.length>0&&a.createElement("div",{className:"px-2 sm:px-3 py-2 border-t border-gray-200 bg-gray-50"},a.createElement("p",{className:"text-xs sm:text-sm text-gray-600"},a.createElement("span",{className:"font-medium"},e.length)," event",e.length!==1?"s":""," selected"))))}const bce=[{value:"MANAGEMENT_STAFF",label:"Management Staff"},{value:"ADMIN",label:"Admin"},{value:"SUPER_ADMIN",label:"Super Admin"}],vce=[{value:"ACTIVATED",label:"Active"},{value:"DEACTIVATED",label:"Inactive"}],Ece=[{value:"events",label:"Events"},{value:"enrollments",label:"Enrollments"},{value:"payments",label:"Payments"},{value:"users",label:"Users"},{value:"coupons",label:"Coupons"}],wce=e=>!e||!Array.isArray(e)?[]:e.map(t=>typeof t=="string"?t:t._id).filter(Boolean),cO=(e=null)=>({name:e?.name||"",username:e?.username||"",email:e?.email||"",phone:e?.phone||"",password:"",role:e?.role||"MANAGEMENT_STAFF",status:e?.status||"ACTIVATED",access:e?.access||[],allowedEvents:wce(e?.allowedEvents),maxCashTicketsAllowed:e?.maxCashTicketsAllowed||""}),Nce=(e,t=!1)=>{const r={};if(e.name.trim()?(e.name.length<2||e.name.length>100)&&(r.name="Name must be between 2 and 100 characters"):r.name="Name is required",e.username.trim()?e.username.length<3||e.username.length>50?r.username="Username must be between 3 and 50 characters":/^[a-zA-Z0-9_]+$/.test(e.username)||(r.username="Username can only contain letters, numbers, and underscores"):r.username="Username is required",e.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(r.email="Invalid email format"),e.phone.trim()){const n=e.phone.replace(/[^0-9]/g,"");n.length>0&&(n.length<10||n.length>15)&&(r.phone="Phone must be 10-15 digits")}if(t||(e.password?e.password.length<8&&(r.password="Password must be at least 8 characters"):r.password="Password is required"),e.maxCashTicketsAllowed!==""&&e.maxCashTicketsAllowed!==null&&e.maxCashTicketsAllowed!==void 0){const n=parseInt(e.maxCashTicketsAllowed,10);isNaN(n)?r.maxCashTicketsAllowed="Must be a valid number":n<0&&(r.maxCashTicketsAllowed="Cannot be negative")}return{isValid:Object.keys(r).length===0,errors:r}};function Sce({isOpen:e,onClose:t,onSubmit:r,admin:n=null,isLoading:l=!1,serverError:o=null,validationErrors:d=null}){const g=!!n,[h,x]=N.useState(cO(n)),[y,w]=N.useState({}),[C,_]=N.useState(!1);N.useEffect(()=>{e&&(x(cO(n)),w({}))},[e,n]),N.useEffect(()=>{if(d&&Array.isArray(d)){const F={};d.forEach(j=>{j.field&&(F[j.field]=j.message)}),w(j=>({...j,...F}))}},[d]);const D=F=>{const{name:j,value:L}=F.target;x(H=>{const V={...H,[j]:L};return j==="role"&&L==="SUPER_ADMIN"&&(V.allowedEvents=[]),j==="role"&&(L==="ADMIN"||L==="SUPER_ADMIN")&&(V.maxCashTicketsAllowed=""),V}),y[j]&&w(H=>({...H,[j]:null}))},k=h.role!=="SUPER_ADMIN",M=h.role==="MANAGEMENT_STAFF",I=F=>{x(j=>({...j,access:j.access.includes(F)?j.access.filter(L=>L!==F):[...j.access,F]}))},U=F=>{x(j=>({...j,allowedEvents:F}))},R=async F=>{F.preventDefault();const j=Nce(h,g);if(!j.isValid){w(j.errors);return}const L={...h};L.phone=L.phone.replace(/[^0-9]/g,""),g&&!L.password&&delete L.password,g||delete L.status,L.maxCashTicketsAllowed===""||L.maxCashTicketsAllowed===null||L.maxCashTicketsAllowed===void 0?delete L.maxCashTicketsAllowed:L.maxCashTicketsAllowed=parseInt(L.maxCashTicketsAllowed,10),await r(L)},G=()=>{l||t()};return a.createElement(Kr,{isOpen:e,onClose:G,title:g?"Edit Admin":"Create New Admin",size:"xl",closeOnOverlayClick:!l},a.createElement("form",{onSubmit:R},o&&a.createElement("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},o),a.createElement("div",{className:"space-y-4"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",id:"name",name:"name",value:h.name,onChange:D,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${y.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter admin name"}),y.name&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.name)),a.createElement("div",null,a.createElement("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1"},"Username ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",id:"username",name:"username",value:h.username,onChange:D,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${y.username?"border-red-500":"border-gray-300"}`,placeholder:"Enter username"}),y.username&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.username)),a.createElement("div",null,a.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email"," ",a.createElement("span",{className:"text-gray-400 text-xs ml-1"},"(optional)")),a.createElement("input",{type:"email",id:"email",name:"email",value:h.email,onChange:D,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${y.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),y.email&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.email)),a.createElement("div",null,a.createElement("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1"},"Phone"," ",a.createElement("span",{className:"text-gray-400 text-xs ml-1"},"(optional)")),a.createElement("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:D,disabled:l,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${y.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number"}),y.phone&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.phone)),a.createElement("div",null,a.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1"},"Password ",!g&&a.createElement("span",{className:"text-red-500"},"*"),g&&a.createElement("span",{className:"text-gray-400 text-xs ml-1"},"(leave empty to keep current)")),a.createElement("div",{className:"relative"},a.createElement("input",{type:C?"text":"password",id:"password",name:"password",value:h.password,onChange:D,disabled:l,className:`w-full px-3 py-2 pr-10 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${y.password?"border-red-500":"border-gray-300"}`,placeholder:g?"New password (optional)":"Enter password"}),a.createElement("button",{type:"button",onClick:()=>_(!C),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},C?a.createElement(Y_,{className:"h-4 w-4 sm:h-5 sm:w-5"}):a.createElement(an,{className:"h-4 w-4 sm:h-5 sm:w-5"}))),y.password&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.password)),a.createElement("div",null,a.createElement("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1"},"Role"),a.createElement("select",{id:"role",name:"role",value:h.role,onChange:D,disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100 text-sm sm:text-base"},bce.map(F=>a.createElement("option",{key:F.value,value:F.value},F.label)))),g&&a.createElement("div",null,a.createElement("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{id:"status",name:"status",value:h.status,onChange:D,disabled:l,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100 text-sm sm:text-base"},vce.map(F=>a.createElement("option",{key:F.value,value:F.value},F.label)))),M&&a.createElement("div",null,a.createElement("label",{htmlFor:"maxCashTicketsAllowed",className:"block text-sm font-medium text-gray-700 mb-1"},"Max Cash Tickets Allowed"),a.createElement("input",{type:"number",id:"maxCashTicketsAllowed",name:"maxCashTicketsAllowed",value:h.maxCashTicketsAllowed,onChange:D,disabled:l,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${y.maxCashTicketsAllowed?"border-red-500":"border-gray-300"}`,placeholder:"Enter max tickets or leave empty"}),y.maxCashTicketsAllowed&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.maxCashTicketsAllowed),a.createElement("p",{className:"mt-1 text-xs text-gray-500"},"Limit the total number of cash tickets this admin can generate. Leave empty for unlimited."),a.createElement("p",{className:"text-gray-400 text-xs"},"optional, leave empty for unlimited"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Access Permissions"),a.createElement("div",{className:"flex flex-wrap gap-2"},Ece.map(F=>a.createElement("label",{key:F.value,className:`inline-flex items-center px-3 py-2 rounded-lg border cursor-pointer transition-colors ${h.access.includes(F.value)?"bg-blue-50 border-blue-500 text-gray-900":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"} ${l?"opacity-50 cursor-not-allowed":""}`},a.createElement("input",{type:"checkbox",checked:h.access.includes(F.value),onChange:()=>I(F.value),disabled:l,className:"sr-only"}),a.createElement("span",{className:"text-sm"},F.label))))),k&&a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Allowed Events",a.createElement("span",{className:"text-gray-400 text-xs ml-2 font-normal"},"(Events this admin can access)")),a.createElement(yR,{selectedIds:h.allowedEvents,onChange:U,disabled:l,placeholder:"Search and select events..."})),!k&&a.createElement("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg"},a.createElement("p",{className:"text-sm text-gray-900"},"Super Admins have access to all events by default."))),a.createElement("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:G,disabled:l,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},l&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),g?"Update Admin":"Create Admin"))))}const Cce={SUPER_ADMIN:{label:"Super Admin",color:"bg-red-100 text-red-700"},ADMIN:{label:"Admin",color:"bg-purple-100 text-purple-700"},MANAGEMENT_STAFF:{label:"Management",color:"bg-blue-100 text-blue-700"}},Ace={ACTIVATED:{label:"Active",color:"bg-green-100 text-green-700"},DEACTIVATED:{label:"Inactive",color:"bg-gray-100 text-gray-700"}},Tce=[{value:"",label:"All Roles"},{value:"SUPER_ADMIN",label:"Super Admin"},{value:"ADMIN",label:"Admin"},{value:"MANAGEMENT_STAFF",label:"Management Staff"}],Oce=[{value:"",label:"All Status"},{value:"ACTIVATED",label:"Active"},{value:"DEACTIVATED",label:"Inactive"}];function _ce(){const{admin:e}=Pl(),{admins:t,pagination:r,filters:n,isLoading:l,error:o,fetchAdmins:d,createAdmin:g,updateAdmin:h,deleteAdmin:x,updateFilters:y,changePage:w,clearError:C}=pce(),[_,D]=N.useState(!1),[k,M]=N.useState(!1),[I,U]=N.useState(null),[R,G]=N.useState(!1),[F,j]=N.useState(null),[L,H]=N.useState(null),[V,Q]=N.useState(n.search),Y=N.useCallback(oe=>{Q(oe);const ze=setTimeout(()=>{y({search:oe})},300);return()=>clearTimeout(ze)},[y]),X=N.useCallback(oe=>{y({role:oe})},[y]),he=N.useCallback(oe=>{y({status:oe})},[y]),pe=N.useCallback(()=>{U(null),j(null),H(null),D(!0)},[]),se=N.useCallback(oe=>{U(oe),j(null),H(null),D(!0)},[]),J=N.useCallback(()=>{D(!1),U(null),j(null),H(null)},[]),ae=N.useCallback(oe=>{U(oe),M(!0)},[]),Ee=N.useCallback(()=>{M(!1),U(null)},[]),be=N.useCallback(async oe=>{G(!0),j(null),H(null);try{let ze;I?ze=await h(I._id,oe):ze=await g(oe),ze.success?J():(j(ze.error),ze.validationErrors&&H(ze.validationErrors))}catch{j("An unexpected error occurred")}finally{G(!1)}},[I,g,h,J]),re=N.useCallback(async()=>{if(I){G(!0);try{const oe=await x(I._id);oe.success?Ee():alert(oe.error||"Failed to delete admin")}catch{alert("An unexpected error occurred")}finally{G(!1)}}},[I,x,Ee]),W=N.useCallback(oe=>{if(!oe)return"-";const ze=oe.replace(/\D/g,"");return ze.length===10?`+91 ${ze.slice(0,5)} ${ze.slice(5)}`:oe},[]),te=N.useCallback(oe=>Cce[oe]||{label:oe,color:"bg-gray-100 text-gray-700"},[]),me=N.useCallback(oe=>Ace[oe]||{label:oe,color:"bg-gray-100 text-gray-700"},[]),ue=N.useCallback(oe=>e?._id!==oe._id,[e]),Ne=N.useMemo(()=>{if(l||o||t.length>0)return null;const oe=n.search||n.role||n.status;return a.createElement("tr",null,a.createElement("td",{colSpan:"5",className:"px-4 sm:px-6 py-12 text-center"},a.createElement("div",{className:"flex flex-col items-center"},a.createElement(Or,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-300 mb-4"}),a.createElement("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-1"},oe?"No admins found":"No admins yet"),a.createElement("p",{className:"text-sm text-gray-500 mb-4 px-4"},oe?"Try adjusting your search or filter criteria":"Get started by creating a new admin"),!oe&&a.createElement("button",{onClick:pe,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-2 text-sm"},a.createElement(hn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Create Admin"))))},[l,o,t.length,n,pe]),le=oe=>{const ze=te(oe.role),ve=me(oe.status),Ye=e?._id===oe._id;return a.createElement("div",{key:oe._id,className:`p-4 border-b border-gray-100 ${Ye?"bg-blue-50/30":""}`},a.createElement("div",{className:"flex items-start justify-between gap-3"},a.createElement("div",{className:"flex items-center gap-3 min-w-0 flex-1"},a.createElement("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0"},a.createElement("span",{className:"text-purple-600 font-medium"},oe.name?.charAt(0)?.toUpperCase()||"?")),a.createElement("div",{className:"min-w-0 flex-1"},a.createElement("p",{className:"font-medium text-gray-900 truncate"},oe.name,Ye&&a.createElement("span",{className:"ml-2 text-xs text-blue-600"},"(You)")),a.createElement("p",{className:"text-sm text-gray-500 truncate"},"@",oe.username))),a.createElement("div",{className:"flex items-center gap-1 flex-shrink-0"},a.createElement("button",{onClick:()=>se(oe),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>ae(oe),disabled:!ue(oe),className:`p-2 rounded-lg transition-all ${ue(oe)?"text-red-600 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,title:ue(oe)?"Delete":"Can't delete your own account"},a.createElement(vr,{className:"h-4 w-4"})))),a.createElement("div",{className:"mt-3 flex flex-wrap items-center gap-2"},a.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ze.color}`},ze.label),a.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ve.color}`},ve.label),a.createElement("span",{className:"text-xs text-gray-500"},W(oe.phone)),oe.role==="MANAGEMENT_STAFF"&&oe.maxCashTicketsAllowed!=null&&a.createElement("span",{className:"text-xs text-gray-500"},"Max Tickets: ",oe.maxCashTicketsAllowed)))};return a.createElement("div",{className:"px-2 sm:px-0"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6"},a.createElement("div",null,a.createElement("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900"},"Admin Management"),a.createElement("p",{className:"text-sm text-gray-500 mt-0.5 sm:mt-1"},"Manage admin users and their permissions")),a.createElement("button",{onClick:pe,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center gap-2 text-sm sm:text-base w-full sm:w-auto"},a.createElement(hn,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Create Admin")),a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-3 sm:p-4 mb-4 sm:mb-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-3 sm:gap-4"},a.createElement("div",{className:"relative flex-1 sm:flex-none sm:w-64 lg:w-80"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),a.createElement("input",{type:"text",placeholder:"Search by name, username, or phone...",value:V,onChange:oe=>Y(oe.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none text-sm"})),a.createElement("div",{className:"flex items-center gap-2 sm:gap-4"},a.createElement("select",{value:n.role,onChange:oe=>X(oe.target.value),className:"flex-1 sm:flex-none px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white text-sm"},Tce.map(oe=>a.createElement("option",{key:oe.value,value:oe.value},oe.label))),a.createElement("select",{value:n.status,onChange:oe=>he(oe.target.value),className:"flex-1 sm:flex-none px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white text-sm"},Oce.map(oe=>a.createElement("option",{key:oe.value,value:oe.value},oe.label))),a.createElement("button",{onClick:()=>d(r.page),disabled:l,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 flex-shrink-0",title:"Refresh"},a.createElement(_l,{className:`h-4 w-4 sm:h-5 sm:w-5 ${l?"animate-spin":""}`}))))),o&&a.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 flex items-center gap-3"},a.createElement(Or,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),a.createElement("p",{className:"text-sm text-red-700 flex-1"},o),a.createElement("button",{onClick:C,className:"text-red-500 hover:text-red-700 text-sm font-medium flex-shrink-0"},"Dismiss")),a.createElement("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"hidden md:block overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Admin"),a.createElement("th",{className:"text-left px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Phone"),a.createElement("th",{className:"text-left px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Role"),a.createElement("th",{className:"text-left px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,l&&t.length===0&&a.createElement("tr",null,a.createElement("td",{colSpan:"5",className:"px-6 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-2"}),a.createElement("p",{className:"text-gray-500"},"Loading admins..."))),Ne,t.map(oe=>{const ze=te(oe.role),ve=me(oe.status),Ye=e?._id===oe._id;return a.createElement("tr",{key:oe._id,className:`border-b border-gray-100 hover:bg-gray-50 ${Ye?"bg-blue-50/30":""}`},a.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4"},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0"},a.createElement("span",{className:"text-purple-600 font-medium text-sm lg:text-base"},oe.name?.charAt(0)?.toUpperCase()||"?")),a.createElement("div",{className:"min-w-0"},a.createElement("p",{className:"font-medium text-gray-900 text-sm lg:text-base truncate"},oe.name,Ye&&a.createElement("span",{className:"ml-2 text-xs text-blue-600"},"(You)")),a.createElement("p",{className:"text-xs lg:text-sm text-gray-500 truncate"},"@",oe.username)))),a.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4 text-sm text-gray-600"},W(oe.phone)),a.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4"},a.createElement("div",{className:"flex flex-col gap-1"},a.createElement("span",{className:`px-2 lg:px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${ze.color} inline-flex items-center w-fit`},ze.label),oe.role==="MANAGEMENT_STAFF"&&oe.maxCashTicketsAllowed!=null&&a.createElement("span",{className:"text-xs text-gray-500"},"Max: ",oe.maxCashTicketsAllowed," tickets"))),a.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4"},a.createElement("span",{className:`px-2 lg:px-3 py-1 rounded-full text-xs font-medium ${ve.color}`},ve.label)),a.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1 lg:gap-2"},a.createElement("button",{onClick:()=>se(oe),className:"p-1.5 lg:p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit"},a.createElement(ya,{className:"h-4 w-4 lg:h-5 lg:w-5"})),a.createElement("button",{onClick:()=>ae(oe),disabled:!ue(oe),className:`p-1.5 lg:p-2 rounded-lg transition-all ${ue(oe)?"text-red-600 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,title:ue(oe)?"Delete":"Can't delete your own account"},a.createElement(vr,{className:"h-4 w-4 lg:h-5 lg:w-5"})))))})))),a.createElement("div",{className:"md:hidden"},l&&t.length===0&&a.createElement("div",{className:"px-4 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-2"}),a.createElement("p",{className:"text-gray-500 text-sm"},"Loading admins...")),!l&&!o&&t.length===0&&a.createElement("div",{className:"px-4 py-12 text-center"},a.createElement(Or,{className:"h-10 w-10 text-gray-300 mx-auto mb-4"}),a.createElement("h3",{className:"text-base font-medium text-gray-900 mb-1"},n.search||n.role||n.status?"No admins found":"No admins yet"),a.createElement("p",{className:"text-sm text-gray-500 mb-4"},n.search||n.role||n.status?"Try adjusting your search or filter criteria":"Get started by creating a new admin"),!(n.search||n.role||n.status)&&a.createElement("button",{onClick:pe,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors inline-flex items-center gap-2 text-sm"},a.createElement(hn,{className:"h-4 w-4"}),"Create Admin")),t.map(le)),r.totalPages>0&&a.createElement(Ln,{currentPage:r.page,totalPages:r.totalPages,totalItems:r.total,itemsPerPage:r.limit,onPageChange:w,itemLabel:"admins"})),a.createElement(Sce,{isOpen:_,onClose:J,onSubmit:be,admin:I,isLoading:R,serverError:F,validationErrors:L}),a.createElement(va,{isOpen:k,onClose:Ee,onConfirm:re,title:"Delete Admin",message:`Are you sure you want to delete "${I?.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:R}))}function Dce(){return a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-6"},a.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Payment History"),a.createElement("p",{className:"text-gray-600"},"View payment history here."))}const bl={BASE:"/web/offline-cash",ALLOWED_EVENTS:"/web/offline-cash/allowed-events",GET_BY_ID:e=>`/web/offline-cash/${e}`,DELETE:e=>`/web/offline-cash/${e}`,EVENT_ENROLLMENTS:e=>`/web/offline-cash/event/${e}/enrollments`,DIRECT_TICKET:"/web/offline-cash/direct-ticket",DIRECT_TICKET_BULK:"/web/offline-cash/direct-ticket-bulk"},wo={getAllowedEvents:async(e={})=>{const t=new URLSearchParams;e.search&&t.append("search",e.search),e.isLive!==void 0&&t.append("isLive",e.isLive);const r=t.toString(),n=r?`${bl.ALLOWED_EVENTS}?${r}`:bl.ALLOWED_EVENTS;console.log("[OfflineCashService] Fetching allowed events with params:",e);const l=await Xe(Ge.get(n));return l.success?console.log("[OfflineCashService] Fetched allowed events:",l.data.events?.length):console.error("[OfflineCashService] Failed to fetch allowed events:",l.message),l},create:async e=>{console.log("[OfflineCashService] Creating offline cash record for phone:",e.phone);const t=await Xe(Ge.post(bl.BASE,e));return t.success?console.log("[OfflineCashService] Record created successfully, link:",t.data.link):console.error("[OfflineCashService] Failed to create record:",t.message),t},getAll:async(e={})=>{const t=new URLSearchParams;e.eventId&&t.append("eventId",e.eventId),e.redeemed!==void 0&&e.redeemed!==""&&t.append("redeemed",e.redeemed),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit);const r=t.toString(),n=r?`${bl.BASE}?${r}`:bl.BASE;console.log("[OfflineCashService] Fetching offline cash records with params:",e);const l=await Xe(Ge.get(n));return l.success?console.log("[OfflineCashService] Fetched records:",l.data.records?.length):console.error("[OfflineCashService] Failed to fetch records:",l.message),l},getById:async e=>{console.log("[OfflineCashService] Fetching record by ID:",e);const t=await Xe(Ge.get(bl.GET_BY_ID(e)));return t.success?console.log("[OfflineCashService] Fetched record:",t.data._id):console.error("[OfflineCashService] Failed to fetch record:",t.message),t},delete:async e=>{console.log("[OfflineCashService] Deleting record:",e);const t=await Xe(Ge.delete(bl.DELETE(e)));return t.success?console.log("[OfflineCashService] Record deleted successfully"):console.error("[OfflineCashService] Failed to delete record:",t.message),t},getEventEnrollments:async(e,t={})=>{const r=new URLSearchParams;t.status&&r.append("status",t.status),t.page&&r.append("page",t.page),t.limit&&r.append("limit",t.limit);const n=r.toString(),l=bl.EVENT_ENROLLMENTS(e),o=n?`${l}?${n}`:l;console.log("[OfflineCashService] Fetching event enrollments:",e,t);const d=await Xe(Ge.get(o));return d.success?console.log("[OfflineCashService] Fetched enrollments:",d.data.enrollments?.length):console.error("[OfflineCashService] Failed to fetch enrollments:",d.message),d},createDirectTicket:async e=>{console.log("[OfflineCashService] Creating direct ticket for phone:",e.phone);const t=await Xe(Ge.post(bl.DIRECT_TICKET,e));return t.success?console.log("[OfflineCashService] Direct ticket created:",t.data.enrollment?.id):console.error("[OfflineCashService] Failed to create direct ticket:",t.message),t},createDirectTicketBulk:async(e,t)=>{console.log("[OfflineCashService] Creating bulk direct tickets for event:",t.eventId);const r=new FormData;r.append("file",e),r.append("eventId",t.eventId),t.priceCharged!==void 0&&t.priceCharged!==""&&r.append("priceCharged",t.priceCharged),t.notes&&r.append("notes",t.notes);try{const n=await Ge.post(bl.DIRECT_TICKET_BULK,r,{headers:{"Content-Type":"multipart/form-data"}});return console.log("[OfflineCashService] Bulk direct tickets result:",{total:n.data?.data?.summary?.total,successful:n.data?.data?.summary?.successful,rejected:n.data?.data?.summary?.rejected}),{success:!0,data:n.data.data,message:n.data.message,error:null,status:n.data.status||n.status}}catch(n){const l={success:!1,data:null,message:n.response?.data?.message||"Failed to process bulk direct tickets",error:n.response?.data?.error||n.message,status:n.response?.status||500};return console.error("[OfflineCashService] Bulk direct tickets failed:",l),l}}};function kce(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({total:0,page:1,limit:20,totalPages:0}),[o,d]=N.useState({eventId:"",redeemed:"",...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),[w,C]=N.useState([]),[_,D]=N.useState(!1),[k,M]=N.useState(null),I=N.useRef(null),U=N.useCallback(async(se="")=>{D(!0),M(null);try{const J={};se&&(J.search=se);const ae=await wo.getAllowedEvents(J);ae.success?C(ae.data.events||[]):(M(ae.message),C([]))}catch{M("Failed to fetch allowed events"),C([])}finally{D(!1)}},[]),R=N.useCallback(se=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{U(se)},300)},[U]),G=N.useCallback(async(se=n.page)=>{h(!0),y(null);try{const J={page:se,limit:n.limit,...o.eventId&&{eventId:o.eventId},...o.redeemed!==""&&{redeemed:o.redeemed}},ae=await wo.getAll(J);ae.success?(r(ae.data.records||[]),l({total:ae.data.pagination?.total||0,page:ae.data.pagination?.page||1,limit:ae.data.pagination?.limit||20,totalPages:ae.data.pagination?.pages||0})):(y(ae.message),r([]))}catch{y("Failed to fetch cash ticket records"),r([])}finally{h(!1)}},[o,n.limit]),F=N.useCallback(async se=>{h(!0),y(null);try{const J=await wo.create(se);return J.success?(await G(1),{success:!0,data:J.data}):J.status===409&&J.error?.existingLink?{success:!1,error:J.message,existingLink:J.error.existingLink,signature:J.error.signature}:{success:!1,error:J.message,validationErrors:J.error}}catch{return{success:!1,error:"Failed to create cash ticket"}}finally{h(!1)}},[G]),j=N.useCallback(async se=>{try{const J=await wo.getById(se);return J.success?{success:!0,data:J.data}:{success:!1,error:J.message}}catch{return{success:!1,error:"Failed to fetch record details"}}},[]),L=N.useCallback(async se=>{h(!0),y(null);try{const J=await wo.delete(se);return J.success?(r(ae=>ae.filter(Ee=>Ee._id!==se)),l(ae=>({...ae,total:ae.total-1,totalPages:Math.ceil((ae.total-1)/ae.limit)})),{success:!0}):{success:!1,error:J.message}}catch{return{success:!1,error:"Failed to delete record"}}finally{h(!1)}},[]),H=N.useCallback(async(se,J={})=>{try{const ae=await wo.getEventEnrollments(se,J);return ae.success?{success:!0,data:{enrollments:ae.data.enrollments||[],pagination:ae.data.pagination}}:{success:!1,error:ae.message}}catch{return{success:!1,error:"Failed to fetch enrollments"}}},[]),V=N.useCallback(se=>{d(J=>({...J,...se}))},[]),Q=N.useCallback(()=>{d({eventId:"",redeemed:"",...e})},[e]),Y=N.useCallback(se=>{G(se)},[G]),X=N.useCallback(se=>{l(J=>({...J,limit:se}))},[]),he=N.useCallback(()=>{y(null)},[]),pe=N.useCallback(()=>{M(null)},[]);return N.useEffect(()=>{G(1)},[o]),N.useEffect(()=>{U()},[U]),N.useEffect(()=>()=>{I.current&&clearTimeout(I.current)},[]),{records:t,pagination:n,filters:o,isLoading:g,error:x,allowedEvents:w,eventsLoading:_,eventsError:k,fetchRecords:G,createRecord:F,getRecordById:j,deleteRecord:L,getEventEnrollments:H,fetchAllowedEvents:U,searchEvents:R,updateFilters:V,resetFilters:Q,changePage:Y,changeLimit:X,clearError:he,clearEventsError:pe}}const Mce=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"",Pce=e=>e==null?"":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),uO={TECHNOLOGY:"bg-blue-100 text-gray-900",MUSIC:"bg-purple-100 text-purple-700",SPORTS:"bg-green-100 text-green-700",BUSINESS:"bg-yellow-100 text-yellow-700",EDUCATION:"bg-indigo-100 text-indigo-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",DEFAULT:"bg-gray-100 text-gray-700"};function zN({selectedId:e="",onChange:t,events:r=[],isLoading:n=!1,onSearch:l,disabled:o=!1,placeholder:d="Select an event...",error:g}){const[h,x]=N.useState(!1),[y,w]=N.useState(""),[C,_]=N.useState(-1),D=N.useRef(null),k=N.useRef(null),M=N.useRef(null),I=N.useMemo(()=>{if(!y.trim())return r;const V=y.toLowerCase();return r.filter(Q=>Q.name.toLowerCase().includes(V)||Q.category?.toLowerCase().includes(V))},[r,y]),U=N.useMemo(()=>r.find(V=>V._id===e),[r,e]);N.useEffect(()=>{const V=Q=>{D.current&&!D.current.contains(Q.target)&&(x(!1),w(""),_(-1))};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const R=N.useCallback(V=>{const Q=V.target.value;w(Q),_(-1),l&&l(Q)},[l]),G=N.useCallback(V=>{o||(t(V._id,V),x(!1),w(""),_(-1))},[t,o]),F=N.useCallback(V=>{V.stopPropagation(),!o&&t("",null)},[t,o]),j=N.useCallback(()=>{o||(x(!0),setTimeout(()=>k.current?.focus(),0))},[o]),L=N.useCallback(V=>{if(!h){(V.key==="Enter"||V.key===" "||V.key==="ArrowDown")&&(V.preventDefault(),x(!0));return}switch(V.key){case"Escape":x(!1),w(""),_(-1);break;case"ArrowDown":V.preventDefault(),_(Q=>Q<I.length-1?Q+1:Q);break;case"ArrowUp":V.preventDefault(),_(Q=>Q>0?Q-1:0);break;case"Enter":V.preventDefault(),C>=0&&I[C]&&G(I[C]);break}},[h,I,C,G]);N.useEffect(()=>{if(C>=0&&M.current){const V=M.current.children[C];V&&V.scrollIntoView({block:"nearest"})}},[C]);const H=V=>uO[V]||uO.DEFAULT;return a.createElement("div",{ref:D,className:"relative",onKeyDown:L},a.createElement("div",{onClick:j,className:`min-h-[42px] px-2 sm:px-3 py-2 border rounded-lg cursor-pointer transition-colors ${o?"bg-gray-100 cursor-not-allowed":h?"border-gray-800":g?"border-red-500":"border-gray-300 hover:border-gray-400"}`,tabIndex:o?-1:0,role:"combobox","aria-expanded":h,"aria-haspopup":"listbox"},a.createElement("div",{className:"flex items-center gap-2"},U?a.createElement("div",{className:"flex-1 flex items-center gap-2 min-w-0"},a.createElement("span",{className:"truncate text-sm font-medium text-gray-900"},U.name),U.isLive&&a.createElement("span",{className:"shrink-0 px-1.5 py-0.5 bg-green-100 text-green-700 text-xs rounded"},"Live"),!o&&a.createElement("button",{type:"button",onClick:F,className:"shrink-0 p-0.5 hover:bg-gray-200 rounded"},a.createElement(Bn,{className:"h-4 w-4 text-gray-500"}))):a.createElement("span",{className:"flex-1 text-gray-400 text-sm"},d),a.createElement(Tl,{className:`h-4 w-4 sm:h-5 sm:w-5 text-gray-400 shrink-0 transition-transform ${h?"rotate-180":""}`}))),g&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1"},a.createElement(Or,{className:"h-3 w-3 sm:h-4 sm:w-4"}),g),h&&!o&&a.createElement("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg"},a.createElement("div",{className:"p-2 border-b border-gray-200"},a.createElement("div",{className:"relative"},a.createElement(da,{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{ref:k,type:"text",value:y,onChange:R,placeholder:"Search events...",className:"w-full pl-8 sm:pl-9 pr-4 py-2 border border-gray-300 rounded-md focus:border-gray-800 outline-none text-sm"}),n&&a.createElement(At,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 animate-spin"}))),a.createElement("div",{className:"px-2 py-1.5 border-b border-gray-200 bg-gray-50"},a.createElement("span",{className:"text-xs text-gray-500"},I.length," event",I.length!==1?"s":""," available")),a.createElement("div",{ref:M,className:"max-h-60 sm:max-h-72 overflow-y-auto",role:"listbox"},I.length===0?a.createElement("div",{className:"px-4 py-6 sm:py-8 text-center text-gray-500 text-sm"},n?a.createElement("div",{className:"flex flex-col items-center gap-2"},a.createElement(At,{className:"h-5 w-5 sm:h-6 sm:w-6 animate-spin"}),a.createElement("span",null,"Loading events...")):y?a.createElement("span",null,'No events found for "',y,'"'):a.createElement("span",null,"No events available")):I.map((V,Q)=>{const Y=V._id===e,X=Q===C;return a.createElement("div",{key:V._id,onClick:()=>G(V),className:`px-2 sm:px-3 py-2 sm:py-3 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors ${Y?"bg-blue-50":X?"bg-gray-100":"hover:bg-gray-50"}`,role:"option","aria-selected":Y},a.createElement("div",{className:"flex items-start gap-2 sm:gap-3"},a.createElement("div",{className:`shrink-0 w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 flex items-center justify-center mt-0.5 ${Y?"bg-gray-800 border-gray-800":"border-gray-300"}`},Y&&a.createElement(As,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-white"})),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap"},a.createElement("p",{className:"font-medium text-gray-900 text-sm truncate"},V.name),V.isLive&&a.createElement("span",{className:"shrink-0 px-1 sm:px-1.5 py-0.5 bg-green-100 text-green-700 text-xs rounded"},"Live")),a.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-1 flex-wrap"},V.category&&a.createElement("span",{className:`px-1 sm:px-1.5 py-0.5 text-xs rounded ${H(V.category)}`},V.category),V.startDate&&a.createElement("span",{className:"flex items-center gap-1 text-xs text-gray-500"},a.createElement($r,{className:"h-3 w-3"}),Mce(V.startDate)),V.price!==void 0&&a.createElement("span",{className:"text-xs text-gray-600 font-medium"},Pce(V.price))))))}))))}const Ice=e=>e==null?"":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Rce=e=>{const t={};if(e.eventId||(t.eventId="Event is required"),!e.phone.trim())t.phone="Phone number is required";else{const r=e.phone.replace(/[^0-9]/g,"");(r.length<10||r.length>15)&&(t.phone="Phone must be 10-15 digits")}return!e.ticketCount||e.ticketCount<1?t.ticketCount="At least 1 ticket is required":e.ticketCount>100&&(t.ticketCount="Maximum 100 tickets allowed"),e.priceCharged&&e.priceCharged<0&&(t.priceCharged="Price cannot be negative"),{isValid:Object.keys(t).length===0,errors:t}},fv=()=>({eventId:"",phone:"",ticketCount:1,priceCharged:"",notes:""});function Lce({isOpen:e,onClose:t,onSubmit:r,isLoading:n=!1,serverError:l=null,existingLinkData:o=null,allowedEvents:d=[],eventsLoading:g=!1,onSearchEvents:h}){const[x,y]=N.useState(fv()),[w,C]=N.useState({}),[_,D]=N.useState(null),[k,M]=N.useState(null),[I,U]=N.useState(!1);N.useEffect(()=>{e&&(y(fv()),C({}),D(null),M(null),U(!1))},[e]),N.useEffect(()=>{o&&M({link:o.existingLink,isExisting:!0})},[o]);const R=N.useCallback(Q=>{const{name:Y,value:X,type:he}=Q.target;let pe=X;he==="number"&&(pe=X===""?"":Number(X)),y(se=>({...se,[Y]:pe})),w[Y]&&C(se=>({...se,[Y]:null}))},[w]),G=N.useCallback((Q,Y)=>{y(X=>({...X,eventId:Q})),D(Y),Y?.price&&y(X=>({...X,eventId:Q,priceCharged:X.priceCharged||Y.price*(X.ticketCount||1)})),w.eventId&&C(X=>({...X,eventId:null}))},[w.eventId]),F=N.useCallback(Q=>{const Y=Q.target.value===""?"":Number(Q.target.value);y(X=>{const he={...X,ticketCount:Y};return _?.price&&Y&&(he.priceCharged=_.price*Y),he}),w.ticketCount&&C(X=>({...X,ticketCount:null}))},[_,w.ticketCount]),j=N.useCallback(async()=>{if(k?.link)try{await navigator.clipboard.writeText(k.link),U(!0),setTimeout(()=>U(!1),2e3)}catch(Q){console.error("[CashTicketForm] Failed to copy:",Q)}},[k]),L=async Q=>{Q.preventDefault();const Y=Rce(x);if(!Y.isValid){C(Y.errors);return}const X={eventId:x.eventId,phone:x.phone.replace(/[^0-9]/g,""),ticketCount:Number(x.ticketCount)};x.priceCharged!==""&&x.priceCharged!==null&&(X.priceCharged=Number(x.priceCharged)),x.notes.trim()&&(X.notes=x.notes.trim());const he=await r(X);he?.success&&he.data&&M({link:he.data.link,isExisting:!1,ticketCount:he.data.ticketCount,event:he.data.event,phone:he.data.phone})},H=N.useCallback(()=>{n||t()},[n,t]),V=N.useCallback(()=>{y(fv()),D(null),M(null),U(!1),C({})},[]);return a.createElement(Kr,{isOpen:e,onClose:H,title:k?"Ticket Link Generated":"Generate Cash Ticket Link",size:"xl",closeOnOverlayClick:!n},k?a.createElement("div",{className:"space-y-4"},k.isExisting&&a.createElement("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-yellow-600 shrink-0 mt-0.5"}),a.createElement("div",null,a.createElement("p",{className:"text-sm font-medium text-yellow-800"},"Existing Link Found"),a.createElement("p",{className:"text-sm text-yellow-700 mt-0.5"},"An unredeemed ticket link already exists for this phone and event."))),!k.isExisting&&a.createElement("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg"},a.createElement("p",{className:"text-sm font-medium text-green-800"},"Success!"),a.createElement("p",{className:"text-sm text-green-700 mt-0.5"},"Cash ticket link has been generated successfully.")),k.event&&a.createElement("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1"},a.createElement("p",{className:"text-sm"},a.createElement("span",{className:"text-gray-500"},"Event:")," ",a.createElement("span",{className:"font-medium text-gray-900"},k.event.name)),a.createElement("p",{className:"text-sm"},a.createElement("span",{className:"text-gray-500"},"Phone:")," ",a.createElement("span",{className:"font-medium text-gray-900"},k.phone)),a.createElement("p",{className:"text-sm"},a.createElement("span",{className:"text-gray-500"},"Tickets:")," ",a.createElement("span",{className:"font-medium text-gray-900"},k.ticketCount))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Redemption Link"),a.createElement("div",{className:"flex gap-2"},a.createElement("input",{type:"text",value:k.link,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm text-gray-700 truncate"}),a.createElement("button",{type:"button",onClick:j,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shrink-0 ${I?"bg-green-600 text-white":"bg-gray-800 text-white hover:bg-gray-900"}`},I?a.createElement(a.Fragment,null,a.createElement(As,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline"},"Copied!")):a.createElement(a.Fragment,null,a.createElement(og,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline"},"Copy"))),a.createElement("a",{href:k.link,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2 shrink-0"},a.createElement(y2,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline"},"Open")))),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:H,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Close"),a.createElement("button",{type:"button",onClick:V,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Create Another"))):a.createElement("form",{onSubmit:L,className:"space-y-4"},l&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},l)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Event ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement(zN,{selectedId:x.eventId,onChange:G,events:d,isLoading:g,onSearch:h,disabled:n,placeholder:"Search and select an event...",error:w.eventId})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"tel",name:"phone",value:x.phone,onChange:R,disabled:n,placeholder:"Enter customer phone number",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${w.phone?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),w.phone&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},w.phone)),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Number of Tickets ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"number",name:"ticketCount",value:x.ticketCount,onChange:F,disabled:n,min:"1",max:"100",placeholder:"1",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${w.ticketCount?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),w.ticketCount&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},w.ticketCount)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Price Charged (INR) ",a.createElement("span",{className:"text-gray-400"},"(Optional)")),a.createElement("input",{type:"number",name:"priceCharged",value:x.priceCharged,onChange:R,disabled:n,min:"0",placeholder:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${w.priceCharged?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),w.priceCharged&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},w.priceCharged),_?.price&&a.createElement("p",{className:"mt-1 text-xs text-gray-500"},"Base price: ",Ice(_.price),"/ticket"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Notes ",a.createElement("span",{className:"text-gray-400"},"(Optional)")),a.createElement("textarea",{name:"notes",value:x.notes,onChange:R,disabled:n,rows:2,placeholder:"Add any notes about this transaction",className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none transition-colors resize-none ${n?"bg-gray-100":""}`})),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:H,disabled:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},n&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),"Generate Link"))))}const kh=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Bce=e=>e==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function Mh({icon:e,label:t,value:r,className:n=""}){return a.createElement("div",{className:`flex items-start gap-3 ${n}`},a.createElement("div",{className:"shrink-0 w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center"},a.createElement(e,{className:"h-4 w-4 text-gray-600"})),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-xs text-gray-500"},t),a.createElement("p",{className:"text-sm font-medium text-gray-900 break-words"},r||"-")))}function Fce({isOpen:e,onClose:t,record:r,isLoading:n=!1}){const[l,o]=N.useState(!1);N.useEffect(()=>{e||o(!1)},[e]);const d=N.useCallback(async()=>{if(r?.link)try{await navigator.clipboard.writeText(r.link),o(!0),setTimeout(()=>o(!1),2e3)}catch(g){console.error("[CashTicketDetailsModal] Failed to copy:",g)}},[r?.link]);return a.createElement(Kr,{isOpen:e,onClose:t,title:"Cash Ticket Details",size:"lg"},n?a.createElement("div",{className:"flex flex-col items-center justify-center py-12"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading details...")):r?a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ${r.redeemed?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`},r.redeemed?a.createElement(a.Fragment,null,a.createElement(Ci,{className:"h-4 w-4"}),"Redeemed"):a.createElement(a.Fragment,null,a.createElement(On,{className:"h-4 w-4"}),"Pending Redemption")),r.redeemedAt&&a.createElement("span",{className:"text-xs text-gray-500"},kh(r.redeemedAt))),a.createElement("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100"},a.createElement("div",{className:"flex items-start gap-3"},a.createElement("div",{className:"shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},a.createElement($r,{className:"h-5 w-5 text-gray-800"})),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-xs text-gray-800 font-medium"},"Event"),a.createElement("p",{className:"text-base font-semibold text-gray-900 truncate"},r.eventId?.name||"Unknown Event"),r.eventId?.startDate&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},kh(r.eventId.startDate),r.eventId?.endDate&&` - ${kh(r.eventId.endDate)}`)))),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement(Mh,{icon:Rm,label:"Phone Number",value:r.generatedFor}),a.createElement(Mh,{icon:Tu,label:"Ticket Count",value:`${r.ticketCount} ticket${r.ticketCount!==1?"s":""}`}),a.createElement(Mh,{icon:TU,label:"Price Charged",value:Bce(r.priceCharged)}),a.createElement(Mh,{icon:On,label:"Created At",value:kh(r.createdAt)})),r.generatedBy&&a.createElement("div",{className:"p-3 bg-gray-50 rounded-lg"},a.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Generated By"),a.createElement("div",{className:"flex items-center gap-2"},a.createElement("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center"},a.createElement(hi,{className:"h-4 w-4 text-gray-600"})),a.createElement("div",null,a.createElement("p",{className:"text-sm font-medium text-gray-900"},r.generatedBy.name||"Unknown"),a.createElement("p",{className:"text-xs text-gray-500"},r.generatedBy.email)))),r.notes&&a.createElement("div",{className:"p-3 bg-gray-50 rounded-lg"},a.createElement("div",{className:"flex items-center gap-2 mb-2"},a.createElement(X_,{className:"h-4 w-4 text-gray-500"}),a.createElement("p",{className:"text-xs text-gray-500 font-medium"},"Notes")),a.createElement("p",{className:"text-sm text-gray-700"},r.notes)),!r.redeemed&&r.link&&a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Redemption Link"),a.createElement("div",{className:"flex gap-2"},a.createElement("input",{type:"text",value:r.link,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm text-gray-700 truncate"}),a.createElement("button",{type:"button",onClick:d,className:`px-3 py-2 rounded-lg transition-colors flex items-center gap-1.5 shrink-0 ${l?"bg-green-600 text-white":"bg-gray-800 text-white hover:bg-gray-900"}`},l?a.createElement(a.Fragment,null,a.createElement(As,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline text-sm"},"Copied!")):a.createElement(a.Fragment,null,a.createElement(og,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline text-sm"},"Copy"))),a.createElement("a",{href:r.link,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-1.5 shrink-0"},a.createElement(y2,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline text-sm"},"Open")))),r.signature&&a.createElement("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200"},a.createElement("span",{className:"text-xs text-gray-400"},"Signature"),a.createElement("code",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded"},r.signature)),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:t,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium"},"Close"))):a.createElement("div",{className:"flex flex-col items-center justify-center py-12"},a.createElement(ko,{className:"h-12 w-12 text-gray-300"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No record data available")))}const Uce=e=>{const t={};if(e.eventId||(t.eventId="Event is required"),!e.phone.trim())t.phone="Phone number is required";else{const r=e.phone.replace(/[^0-9]/g,"");(r.length<10||r.length>15)&&(t.phone="Phone must be 10-15 digits")}return e.name.trim()?(e.name.trim().length<2||e.name.trim().length>100)&&(t.name="Name must be 2-100 characters"):t.name="Name is required",e.priceCharged!==""&&e.priceCharged<0&&(t.priceCharged="Price cannot be negative"),{isValid:Object.keys(t).length===0,errors:t}},hv=()=>({eventId:"",phone:"",name:"",priceCharged:"",notes:""});function jce({isOpen:e,onClose:t,onSubmit:r,isLoading:n=!1,serverError:l=null,allowedEvents:o=[],eventsLoading:d=!1,onSearchEvents:g}){const[h,x]=N.useState(hv()),[y,w]=N.useState({}),[C,_]=N.useState(null),[D,k]=N.useState(null);N.useEffect(()=>{e&&(x(hv()),w({}),_(null),k(null))},[e]);const M=N.useCallback(F=>{const{name:j,value:L,type:H}=F.target;let V=L;H==="number"&&(V=L===""?"":Number(L)),x(Q=>({...Q,[j]:V})),y[j]&&w(Q=>({...Q,[j]:null}))},[y]),I=N.useCallback((F,j)=>{x(L=>({...L,eventId:F})),_(j),j?.price&&x(L=>({...L,eventId:F,priceCharged:L.priceCharged||j.price})),y.eventId&&w(L=>({...L,eventId:null}))},[y.eventId]),U=async F=>{F.preventDefault();const j=Uce(h);if(!j.isValid){w(j.errors);return}const L={eventId:h.eventId,phone:h.phone.replace(/[^0-9]/g,""),name:h.name.trim()};h.priceCharged!==""&&h.priceCharged!==null&&(L.priceCharged=Number(h.priceCharged)),h.notes.trim()&&(L.notes=h.notes.trim());const H=await r(L);H?.success&&H.data&&k({enrollment:H.data.enrollment,event:H.data.event})},R=N.useCallback(()=>{n||t()},[n,t]),G=N.useCallback(()=>{x(hv()),_(null),k(null),w({})},[]);return a.createElement(Kr,{isOpen:e,onClose:R,title:D?"Direct Ticket Created":"Create Direct Ticket",size:"xl",closeOnOverlayClick:!n},D?a.createElement("div",{className:"space-y-4"},a.createElement("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg flex items-start gap-2"},a.createElement(As,{className:"h-5 w-5 text-green-600 shrink-0 mt-0.5"}),a.createElement("div",null,a.createElement("p",{className:"text-sm font-medium text-green-800"},"Success"),a.createElement("p",{className:"text-sm text-green-700 mt-0.5"},"Direct ticket created and sent via WhatsApp."))),a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg space-y-3"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement(Tu,{className:"h-5 w-5 text-gray-500"}),a.createElement("span",{className:"font-medium text-gray-900"},D.event?.name)),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement(hi,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-gray-600"},D.enrollment?.name)),a.createElement("div",{className:"flex items-center gap-2"},a.createElement(Rm,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-gray-600"},D.enrollment?.phone)))),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:R,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Close"),a.createElement("button",{type:"button",onClick:G,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Create Another"))):a.createElement("form",{onSubmit:U,className:"space-y-4"},l&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},l)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Event ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement(zN,{selectedId:h.eventId,onChange:I,events:o,isLoading:d,onSearch:g,disabled:n,placeholder:"Search and select an event...",error:y.eventId})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Attendee Name ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",name:"name",value:h.name,onChange:M,disabled:n,placeholder:"Enter attendee name",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${y.name?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),y.name&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.name)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"tel",name:"phone",value:h.phone,onChange:M,disabled:n,placeholder:"Enter phone number",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${y.phone?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),y.phone&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.phone)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Price Charged (INR) ",a.createElement("span",{className:"text-gray-400"},"(Optional)")),a.createElement("input",{type:"number",name:"priceCharged",value:h.priceCharged,onChange:M,disabled:n,min:"0",placeholder:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${y.priceCharged?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),y.priceCharged&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.priceCharged),C?.price&&a.createElement("p",{className:"mt-1 text-xs text-gray-500"},"Event base price: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(C.price))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Notes ",a.createElement("span",{className:"text-gray-400"},"(Optional)")),a.createElement("textarea",{name:"notes",value:h.notes,onChange:M,disabled:n,rows:2,maxLength:500,placeholder:"Add any notes",className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none transition-colors resize-none ${n?"bg-gray-100":""}`})),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:R,disabled:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},n&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),"Create Ticket"))))}const zce=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(2))+" "+r[n]},Vce=e=>{const t={};return e.eventId||(t.eventId="Event is required"),e.file||(t.file="Excel file is required"),e.priceCharged!==""&&e.priceCharged<0&&(t.priceCharged="Price cannot be negative"),{isValid:Object.keys(t).length===0,errors:t}},gv=()=>({eventId:"",file:null,priceCharged:"",notes:""}),Hce=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"],qce=".xlsx,.xls,.csv";function $ce({isOpen:e,onClose:t,onSubmit:r,isLoading:n=!1,serverError:l=null,allowedEvents:o=[],eventsLoading:d=!1,onSearchEvents:g}){const[h,x]=N.useState(gv()),[y,w]=N.useState({}),[C,_]=N.useState(null),[D,k]=N.useState(null),[M,I]=N.useState(!1),U=N.useRef(null);N.useEffect(()=>{e&&(x(gv()),w({}),_(null),k(null),I(!1))},[e]);const R=N.useCallback(J=>{const{name:ae,value:Ee,type:be}=J.target;let re=Ee;be==="number"&&(re=Ee===""?"":Number(Ee)),x(W=>({...W,[ae]:re})),y[ae]&&w(W=>({...W,[ae]:null}))},[y]),G=N.useCallback((J,ae)=>{x(Ee=>({...Ee,eventId:J})),_(ae),ae?.price&&x(Ee=>({...Ee,eventId:J,priceCharged:Ee.priceCharged||ae.price})),y.eventId&&w(Ee=>({...Ee,eventId:null}))},[y.eventId]),F=J=>Hce.includes(J.type)||J.name.endsWith(".xlsx")||J.name.endsWith(".xls")||J.name.endsWith(".csv"),j=N.useCallback(J=>{if(J){if(!F(J)){w(ae=>({...ae,file:"Invalid file type. Please upload an Excel file (.xlsx, .xls) or CSV."}));return}if(J.size>10*1024*1024){w(ae=>({...ae,file:"File size exceeds 10MB limit."}));return}x(ae=>({...ae,file:J})),w(ae=>({...ae,file:null}))}},[]),L=J=>{const ae=J.target.files?.[0];j(ae),J.target.value=""},H=J=>{J.preventDefault(),n||I(!0)},V=J=>{J.preventDefault(),I(!1)},Q=J=>{if(J.preventDefault(),I(!1),n)return;const ae=J.dataTransfer.files?.[0];j(ae)},Y=()=>{x(J=>({...J,file:null}))},X=async J=>{J.preventDefault();const ae=Vce(h);if(!ae.isValid){w(ae.errors);return}const Ee={eventId:h.eventId};h.priceCharged!==""&&h.priceCharged!==null&&(Ee.priceCharged=Number(h.priceCharged)),h.notes.trim()&&(Ee.notes=h.notes.trim());const be=await r(h.file,Ee);be?.success&&be.data&&k(be.data)},he=()=>{if(D?.rejectionFile?.base64)try{const J=atob(D.rejectionFile.base64),ae=new Array(J.length);for(let te=0;te<J.length;te++)ae[te]=J.charCodeAt(te);const Ee=new Uint8Array(ae),be=new Blob([Ee],{type:D.rejectionFile.mimeType}),re=window.URL.createObjectURL(be),W=document.createElement("a");W.href=re,W.download=D.rejectionFile.filename,document.body.appendChild(W),W.click(),document.body.removeChild(W),window.URL.revokeObjectURL(re)}catch(J){console.error("[DirectTicketBulk] Failed to download rejections:",J)}},pe=N.useCallback(()=>{n||t()},[n,t]),se=N.useCallback(()=>{x(gv()),_(null),k(null),w({})},[]);return a.createElement(Kr,{isOpen:e,onClose:pe,title:D?"Bulk Upload Complete":"Bulk Direct Ticket Upload",size:"xl",closeOnOverlayClick:!n},D?a.createElement("div",{className:"space-y-4"},a.createElement("div",{className:"grid grid-cols-3 gap-3"},a.createElement("div",{className:"p-3 bg-gray-50 rounded-lg text-center"},a.createElement("div",{className:"text-2xl font-bold text-gray-900"},D.summary?.total||0),a.createElement("div",{className:"text-xs text-gray-500"},"Total")),a.createElement("div",{className:"p-3 bg-green-50 rounded-lg text-center"},a.createElement("div",{className:"text-2xl font-bold text-green-700"},D.summary?.successful||0),a.createElement("div",{className:"text-xs text-green-600"},"Successful")),a.createElement("div",{className:"p-3 bg-red-50 rounded-lg text-center"},a.createElement("div",{className:"text-2xl font-bold text-red-700"},D.summary?.rejected||0),a.createElement("div",{className:"text-xs text-red-600"},"Rejected"))),D.event&&a.createElement("div",{className:"p-3 bg-gray-50 rounded-lg flex items-center gap-2"},a.createElement(Ov,{className:"h-5 w-5 text-gray-500"}),a.createElement("span",{className:"font-medium text-gray-900"},D.event.name)),D.successful?.length>0&&a.createElement("div",{className:"space-y-2"},a.createElement("div",{className:"flex items-center gap-2 text-sm font-medium text-green-700"},a.createElement(p2,{className:"h-4 w-4"}),"Successful (",D.successful.length,")"),a.createElement("div",{className:"max-h-32 overflow-y-auto border border-gray-200 rounded-lg"},a.createElement("table",{className:"w-full text-sm"},a.createElement("thead",{className:"bg-gray-50 sticky top-0"},a.createElement("tr",null,a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500"},"Row"),a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500"},"Phone"),a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500"},"Name"))),a.createElement("tbody",{className:"divide-y divide-gray-100"},D.successful.slice(0,50).map((J,ae)=>a.createElement("tr",{key:ae,className:"hover:bg-gray-50"},a.createElement("td",{className:"px-3 py-1.5 text-gray-600"},J.rowNumber),a.createElement("td",{className:"px-3 py-1.5 text-gray-900"},J.phone),a.createElement("td",{className:"px-3 py-1.5 text-gray-900"},J.name))),D.successful.length>50&&a.createElement("tr",null,a.createElement("td",{colSpan:3,className:"px-3 py-2 text-center text-gray-500 text-xs"},"... and ",D.successful.length-50," more")))))),D.rejected?.length>0&&a.createElement("div",{className:"space-y-2"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("div",{className:"flex items-center gap-2 text-sm font-medium text-red-700"},a.createElement(ko,{className:"h-4 w-4"}),"Rejected (",D.rejected.length,")"),D.rejectionFile&&a.createElement("button",{type:"button",onClick:he,className:"flex items-center gap-1 px-2 py-1 text-xs text-gray-600 bg-gray-100 hover:bg-gray-200 rounded transition-colors"},a.createElement(kU,{className:"h-3 w-3"}),"Download")),a.createElement("div",{className:"max-h-32 overflow-y-auto border border-gray-200 rounded-lg"},a.createElement("table",{className:"w-full text-sm"},a.createElement("thead",{className:"bg-gray-50 sticky top-0"},a.createElement("tr",null,a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500"},"Row"),a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500"},"Phone"),a.createElement("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500"},"Reason"))),a.createElement("tbody",{className:"divide-y divide-gray-100"},D.rejected.slice(0,20).map((J,ae)=>a.createElement("tr",{key:ae,className:"hover:bg-gray-50"},a.createElement("td",{className:"px-3 py-1.5 text-gray-600"},J.rowNumber),a.createElement("td",{className:"px-3 py-1.5 text-gray-900"},J.phone||"-"),a.createElement("td",{className:"px-3 py-1.5 text-red-600 text-xs"},J.reason))),D.rejected.length>20&&a.createElement("tr",null,a.createElement("td",{colSpan:3,className:"px-3 py-2 text-center text-gray-500 text-xs"},"... and ",D.rejected.length-20," more (download for full list)")))))),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:pe,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Close"),a.createElement("button",{type:"button",onClick:se,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Upload Another"))):a.createElement("form",{onSubmit:X,className:"space-y-4"},l&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},l)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Event ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement(zN,{selectedId:h.eventId,onChange:G,events:o,isLoading:d,onSearch:g,disabled:n,placeholder:"Search and select an event...",error:y.eventId})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Excel File ",a.createElement("span",{className:"text-red-500"},"*")),h.file?a.createElement("div",{className:"flex items-center gap-3 p-3 bg-gray-50 border border-gray-200 rounded-lg"},a.createElement(Ov,{className:"h-8 w-8 text-green-600 shrink-0"}),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-sm font-medium text-gray-900 truncate"},h.file.name),a.createElement("p",{className:"text-xs text-gray-500"},zce(h.file.size))),a.createElement("button",{type:"button",onClick:Y,disabled:n,className:"p-1 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded transition-colors disabled:opacity-50"},a.createElement(Bn,{className:"h-4 w-4"}))):a.createElement("div",{onDragOver:H,onDragLeave:V,onDrop:Q,onClick:()=>!n&&U.current?.click(),className:`
                  relative border-2 border-dashed rounded-lg p-6 text-center cursor-pointer
                  transition-all duration-200
                  ${M?"border-gray-800 bg-gray-50":"border-gray-300 hover:border-gray-400"}
                  ${n?"opacity-50 cursor-not-allowed":""}
                  ${y.file?"border-red-300 bg-red-50/50":""}
                `},a.createElement("input",{ref:U,type:"file",accept:qce,onChange:L,disabled:n,className:"hidden"}),a.createElement("div",{className:"space-y-2"},a.createElement("div",{className:"mx-auto w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center"},a.createElement(J_,{className:"h-5 w-5 text-gray-500"})),a.createElement("div",null,a.createElement("p",{className:"text-sm text-gray-600"},"Drop Excel file here or click to upload"),a.createElement("p",{className:"text-xs text-gray-400 mt-1"},"XLSX, XLS, or CSV (max 10MB)")))),y.file&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.file),a.createElement("div",{className:"mt-2 text-xs text-gray-500 space-y-1"},a.createElement("p",null,"Excel should have columns: ",a.createElement("span",{className:"font-medium"},"phone")," and ",a.createElement("span",{className:"font-medium"},"name")),a.createElement("p",{className:"text-gray-400"},"Column order doesn't matter. Accepts: Phone, phone number, Name, full name, etc."))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Price Charged Per Ticket (INR) ",a.createElement("span",{className:"text-gray-400"},"(Optional)")),a.createElement("input",{type:"number",name:"priceCharged",value:h.priceCharged,onChange:R,disabled:n,min:"0",placeholder:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${y.priceCharged?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),y.priceCharged&&a.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},y.priceCharged),C?.price&&a.createElement("p",{className:"mt-1 text-xs text-gray-500"},"Event base price: ",new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(C.price))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Notes ",a.createElement("span",{className:"text-gray-400"},"(Optional, applies to all)")),a.createElement("textarea",{name:"notes",value:h.notes,onChange:R,disabled:n,rows:2,maxLength:500,placeholder:"Add notes for all tickets",className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none transition-colors resize-none ${n?"bg-gray-100":""}`})),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:pe,disabled:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},n&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),"Upload & Process"))))}const dO=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",mO=e=>e==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Ph={redeemed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700"};function Gce(){const{admin:e}=Pl(),{records:t,pagination:r,filters:n,isLoading:l,error:o,allowedEvents:d,eventsLoading:g,fetchRecords:h,createRecord:x,getRecordById:y,deleteRecord:w,searchEvents:C,updateFilters:_,changePage:D,clearError:k}=kce(),M=N.useMemo(()=>e?.role==="ADMIN"||e?.role==="SUPER_ADMIN",[e?.role]),I=N.useMemo(()=>e?.role==="MANAGEMENT_STAFF"?t.filter(Ze=>Ze.generatedBy?._id===e._id):t,[t,e?.role,e?._id]),[U,R]=N.useState(!1),[G,F]=N.useState(!1),[j,L]=N.useState(!1),[H,V]=N.useState(!1),[Q,Y]=N.useState(!1),[X,he]=N.useState(null),[pe,se]=N.useState(!1),[J,ae]=N.useState(!1),[Ee,be]=N.useState(null),[re,W]=N.useState(null),[te,me]=N.useState(!1),[ue,Ne]=N.useState(null),[le,oe]=N.useState(!1),[ze,ve]=N.useState(null),[Ye,rt]=N.useState(null),[Le,ye]=N.useState(!1),[Ue,Se]=N.useState(n.eventId||""),[We,_e]=N.useState(n.redeemed||""),et=N.useCallback(()=>{be(null),W(null),R(!0)},[]),lt=N.useCallback(()=>{R(!1),be(null),W(null)},[]),vt=N.useCallback(()=>{Ne(null),V(!0)},[]),Qe=N.useCallback(()=>{V(!1),Ne(null)},[]),st=N.useCallback(async Ze=>{me(!0),Ne(null);try{const Bt=await wo.createDirectTicket(Ze);return Bt.success?(console.log("[CashTickets] Direct ticket created:",Bt.data?.enrollment?.id),h(1),{success:!0,data:Bt.data}):(console.error("[CashTickets] Direct ticket failed:",Bt.message),Ne(Bt.message||"Failed to create direct ticket"),{success:!1})}catch(Bt){return console.error("[CashTickets] Direct ticket error:",Bt),Ne("An unexpected error occurred"),{success:!1}}finally{me(!1)}},[h]),Re=N.useCallback(()=>{ve(null),Y(!0)},[]),ft=N.useCallback(()=>{Y(!1),ve(null)},[]),Zt=N.useCallback(async(Ze,Bt)=>{oe(!0),ve(null);try{const Yr=await wo.createDirectTicketBulk(Ze,Bt);return Yr.success?(console.log("[CashTickets] Bulk direct tickets processed:",Yr.data?.summary),h(1),{success:!0,data:Yr.data}):(console.error("[CashTickets] Bulk direct tickets failed:",Yr.message),ve(Yr.message||"Failed to process bulk upload"),{success:!1})}catch(Yr){return console.error("[CashTickets] Bulk direct tickets error:",Yr),ve("An unexpected error occurred"),{success:!1}}finally{oe(!1)}},[h]),xt=N.useCallback(async Ze=>{ae(!0),be(null),W(null);try{const Bt=await x(Ze);return Bt.success?Bt:Bt.existingLink?(W({existingLink:Bt.existingLink,signature:Bt.signature}),{success:!1}):(be(Bt.error||"Failed to create cash ticket"),{success:!1})}catch{return be("An unexpected error occurred"),{success:!1}}finally{ae(!1)}},[x]),Qt=N.useCallback(async Ze=>{he(Ze),F(!0),se(!0);try{const Bt=await y(Ze._id);Bt.success&&he(Bt.data)}catch(Bt){console.error("[CashTickets] Failed to fetch details:",Bt)}finally{se(!1)}},[y]),Dr=N.useCallback(()=>{F(!1),he(null)},[]),fr=N.useCallback(Ze=>{he(Ze),L(!0)},[]),Xn=N.useCallback(()=>{L(!1),he(null)},[]),aa=N.useCallback(async()=>{if(X){ae(!0);try{const Ze=await w(X._id);Ze.success?Xn():alert(Ze.error||"Failed to delete record")}catch{alert("An unexpected error occurred")}finally{ae(!1)}}},[X,w,Xn]),wa=N.useCallback(async(Ze,Bt)=>{try{await navigator.clipboard.writeText(Ze),rt(Bt),setTimeout(()=>rt(null),2e3)}catch(Yr){console.error("[CashTickets] Failed to copy:",Yr)}},[]),zt=N.useCallback(()=>{_({eventId:Ue,redeemed:We}),ye(!1)},[Ue,We,_]),ge=N.useCallback(()=>{Se(""),_e(""),_({eventId:"",redeemed:""}),ye(!1)},[_]),tt=N.useCallback(()=>{h(r.page)},[h,r.page]),nt=N.useMemo(()=>n.eventId||n.redeemed!=="",[n]),Ct=N.useMemo(()=>I.reduce((Ze,Bt)=>Ze+(Bt.ticketCount||0),0),[I]),hr=N.useMemo(()=>e?.role==="MANAGEMENT_STAFF"&&e?.maxCashTicketsAllowed!=null,[e?.role,e?.maxCashTicketsAllowed]),sa=N.useMemo(()=>hr?Math.min(100,Ct/e.maxCashTicketsAllowed*100):0,[hr,Ct,e?.maxCashTicketsAllowed]),ln=sa>=80,gt=Ct>=e?.maxCashTicketsAllowed;return a.createElement("div",{className:"space-y-4 sm:space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"Cash Tickets"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Generate and manage offline cash payment ticket links")),a.createElement("div",{className:"flex flex-wrap items-center gap-2"},a.createElement("button",{onClick:et,disabled:gt,className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-colors font-medium ${gt?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-900"}`,title:gt?"Ticket limit reached":"Generate new ticket link"},a.createElement(hn,{className:"h-5 w-5"}),a.createElement("span",{className:"hidden sm:inline"},"Generate Link"),a.createElement("span",{className:"sm:hidden"},"Link")),a.createElement("button",{onClick:vt,disabled:gt,className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-colors font-medium ${gt?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-700 text-white hover:bg-gray-800"}`,title:gt?"Ticket limit reached":"Create direct ticket"},a.createElement(Wj,{className:"h-5 w-5"}),a.createElement("span",{className:"hidden sm:inline"},"Direct Ticket"),a.createElement("span",{className:"sm:hidden"},"Direct")),a.createElement("button",{onClick:Re,disabled:gt,className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-colors font-medium ${gt?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-600 text-white hover:bg-gray-700"}`,title:gt?"Ticket limit reached":"Bulk upload direct tickets"},a.createElement(Ov,{className:"h-5 w-5"}),a.createElement("span",{className:"hidden sm:inline"},"Direct Ticket Bulk"),a.createElement("span",{className:"sm:hidden"},"Bulk")))),hr&&a.createElement("div",{className:`p-4 rounded-xl border ${gt?"bg-red-50 border-red-200":ln?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},a.createElement("div",{className:"flex-1"},a.createElement("div",{className:"flex items-center gap-2 mb-2"},a.createElement(Tu,{className:`h-5 w-5 ${gt?"text-red-600":ln?"text-yellow-600":"text-gray-800"}`}),a.createElement("h3",{className:`font-medium ${gt?"text-red-800":ln?"text-yellow-800":"text-blue-800"}`},"Ticket Generation Limit")),a.createElement("p",{className:`text-sm ${gt?"text-red-700":ln?"text-yellow-700":"text-blue-700"}`},gt?a.createElement(a.Fragment,null,"You have reached your maximum ticket limit. Contact your administrator to increase your limit."):a.createElement(a.Fragment,null,"You have created"," ",a.createElement("span",{className:"font-semibold"},Ct," of ",e.maxCashTicketsAllowed)," ","tickets (",e.maxCashTicketsAllowed-Ct," remaining)"))),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"text-right"},a.createElement("div",{className:`text-2xl font-bold ${gt?"text-red-700":ln?"text-yellow-700":"text-blue-700"}`},Ct),a.createElement("div",{className:`text-xs ${gt?"text-red-600":ln?"text-yellow-600":"text-gray-800"}`},"of ",e.maxCashTicketsAllowed)))),a.createElement("div",{className:"mt-3"},a.createElement("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden"},a.createElement("div",{className:`h-full transition-all duration-300 ${gt?"bg-red-600":ln?"bg-yellow-500":"bg-blue-600"}`,style:{width:`${sa}%`}})))),o&&a.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("div",{className:"flex-1"},a.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading records"),a.createElement("p",{className:"text-sm text-red-700 mt-0.5"},o)),a.createElement("button",{onClick:k,className:"shrink-0 text-red-600 hover:text-red-800"},"")),a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},a.createElement("button",{onClick:()=>ye(!Le),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${nt?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),nt&&a.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(n.eventId?1:0)+(n.redeemed!==""?1:0)),a.createElement(Tl,{className:`h-4 w-4 transition-transform ${Le?"rotate-180":""}`})),a.createElement("button",{onClick:tt,disabled:l,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},a.createElement(_l,{className:`h-4 w-4 ${l?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Refresh")),a.createElement("div",{className:"ml-auto text-sm text-gray-500"},r.total," record",r.total!==1?"s":""," total")),Le&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Event"),a.createElement("select",{value:Ue,onChange:Ze=>Se(Ze.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Events"),d.map(Ze=>a.createElement("option",{key:Ze._id,value:Ze._id},Ze.name)))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{value:We,onChange:Ze=>_e(Ze.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Status"),a.createElement("option",{value:"false"},"Pending"),a.createElement("option",{value:"true"},"Redeemed"))),a.createElement("div",{className:"flex items-end gap-2 sm:col-span-2 lg:col-span-1"},a.createElement("button",{onClick:zt,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),a.createElement("button",{onClick:ge,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),a.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Event"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Phone"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Details"),M&&a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Created By"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,l&&I.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:M?6:5,className:"px-6 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading records..."))):I.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:M?6:5,className:"px-6 py-12 text-center"},a.createElement(Tu,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No records found"),a.createElement("button",{onClick:et,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Generate your first ticket link"))):I.map(Ze=>a.createElement("tr",{key:Ze._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center shrink-0"},a.createElement($r,{className:"h-4 w-4 text-gray-800"})),a.createElement("span",{className:"font-medium text-gray-900 truncate max-w-[200px]"},Ze.eventId?.name||"Unknown Event"))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-2 text-gray-600"},a.createElement(Rm,{className:"h-4 w-4 text-gray-400"}),Ze.generatedFor)),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex flex-col"},a.createElement("span",{className:"text-gray-900 font-medium"},Ze.ticketCount," x ",mO(Ze.priceCharged)),a.createElement("span",{className:"text-xs text-gray-500 mt-0.5"},dO(Ze.createdAt)))),M&&a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex flex-col"},a.createElement("span",{className:"text-gray-900 font-medium"},Ze.generatedBy?.name||"-"),(Ze.generatedBy?.email||Ze.generatedBy?.phone)&&a.createElement("span",{className:"text-xs text-gray-500 mt-0.5"},Ze.generatedBy?.email||Ze.generatedBy?.phone))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Ze.redeemed?Ph.redeemed:Ph.pending}`},Ze.redeemed?"Redeemed":"Pending")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1"},!Ze.redeemed&&Ze.link&&a.createElement("button",{onClick:()=>wa(Ze.link,Ze._id),className:`p-2 rounded-lg transition-colors ${Ye===Ze._id?"text-green-600 bg-green-50":"text-gray-600 hover:bg-gray-100"}`,title:"Copy link"},Ye===Ze._id?a.createElement(As,{className:"h-4 w-4"}):a.createElement(og,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Qt(Ze),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},a.createElement(an,{className:"h-4 w-4"})),!Ze.redeemed&&a.createElement("button",{onClick:()=>fr(Ze),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},a.createElement(vr,{className:"h-4 w-4"}))))))))),r.totalPages>0&&a.createElement(Ln,{currentPage:r.page,totalPages:r.totalPages,totalItems:r.total,itemsPerPage:r.limit,onPageChange:D,itemLabel:"records"})),a.createElement("div",{className:"md:hidden space-y-4"},l&&I.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading records...")):I.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(Tu,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No records found"),a.createElement("button",{onClick:et,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Generate your first ticket link")):a.createElement(a.Fragment,null,I.map(Ze=>a.createElement("div",{key:Ze._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},a.createElement("div",{className:"flex items-start justify-between gap-3"},a.createElement("div",{className:"flex items-center gap-2 min-w-0"},a.createElement("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center shrink-0"},a.createElement($r,{className:"h-5 w-5 text-gray-800"})),a.createElement("div",{className:"min-w-0"},a.createElement("p",{className:"font-medium text-gray-900 truncate"},Ze.eventId?.name||"Unknown Event"),a.createElement("p",{className:"text-xs text-gray-500"},dO(Ze.createdAt)))),a.createElement("span",{className:`shrink-0 px-2.5 py-1 rounded-full text-xs font-medium ${Ze.redeemed?Ph.redeemed:Ph.pending}`},Ze.redeemed?"Redeemed":"Pending")),a.createElement("div",{className:"grid grid-cols-2 gap-3 text-sm"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement(Rm,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-gray-600"},Ze.generatedFor)),a.createElement("div",{className:"flex items-center gap-2"},a.createElement(Tu,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-gray-600"},Ze.ticketCount," x ",mO(Ze.priceCharged)))),M&&a.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100"},a.createElement("span",{className:"text-sm text-gray-500"},"Created By"),a.createElement("div",{className:"flex flex-col items-end"},a.createElement("span",{className:"text-sm font-medium text-gray-900"},Ze.generatedBy?.name||"-"),(Ze.generatedBy?.email||Ze.generatedBy?.phone)&&a.createElement("span",{className:"text-xs text-gray-500"},Ze.generatedBy?.email||Ze.generatedBy?.phone))),a.createElement("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-100"},!Ze.redeemed&&Ze.link&&a.createElement("button",{onClick:()=>wa(Ze.link,Ze._id),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${Ye===Ze._id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},Ye===Ze._id?a.createElement(a.Fragment,null,a.createElement(As,{className:"h-4 w-4"}),"Copied!"):a.createElement(a.Fragment,null,a.createElement(og,{className:"h-4 w-4"}),"Copy Link")),a.createElement("button",{onClick:()=>Qt(Ze),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},a.createElement(an,{className:"h-4 w-4"}),"Details"),!Ze.redeemed&&a.createElement("button",{onClick:()=>fr(Ze),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},a.createElement(vr,{className:"h-4 w-4"}))))),r.totalPages>0&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:r.page,totalPages:r.totalPages,totalItems:r.total,itemsPerPage:r.limit,onPageChange:D,itemLabel:"records"})))),a.createElement(Lce,{isOpen:U,onClose:lt,onSubmit:xt,isLoading:J,serverError:Ee,existingLinkData:re,allowedEvents:d,eventsLoading:g,onSearchEvents:C}),a.createElement(Fce,{isOpen:G,onClose:Dr,record:X,isLoading:pe}),a.createElement(va,{isOpen:j,onClose:Xn,onConfirm:aa,title:"Delete Cash Ticket",message:`Are you sure you want to delete this cash ticket for ${X?.generatedFor}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:J}),a.createElement(jce,{isOpen:H,onClose:Qe,onSubmit:st,isLoading:te,serverError:ue,allowedEvents:d,eventsLoading:g,onSearchEvents:C}),a.createElement($ce,{isOpen:Q,onClose:ft,onSubmit:Zt,isLoading:le,serverError:ze,allowedEvents:d,eventsLoading:g,onSearchEvents:C}))}const Gs={BASE:"/web/vouchers",GET_BY_ID:e=>`/web/vouchers/${e}`,UPDATE:e=>`/web/vouchers/${e}`,DELETE:e=>`/web/vouchers/${e}`,ENABLE:e=>`/web/vouchers/${e}/enable`,DISABLE:e=>`/web/vouchers/${e}/disable`,DELETED:"/web/vouchers/deleted",RESTORE:e=>`/web/vouchers/${e}/restore`,PERMANENT_DELETE:e=>`/web/vouchers/${e}/permanent`},cc={create:async e=>{console.log("[VoucherService] Creating voucher with code:",e.code);const t=await Xe(Ge.post(Gs.BASE,e));return t.success?console.log("[VoucherService] Voucher created successfully:",t.data.voucher?._id):console.error("[VoucherService] Failed to create voucher:",t.message),t},getAll:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.isActive!==void 0&&e.isActive!==""&&t.append("isActive",e.isActive),e.search&&t.append("search",e.search);const r=t.toString(),n=r?`${Gs.BASE}?${r}`:Gs.BASE;console.log("[VoucherService] Fetching vouchers with params:",e);const l=await Xe(Ge.get(n));return l.success?console.log("[VoucherService] Fetched vouchers:",l.data.vouchers?.length):console.error("[VoucherService] Failed to fetch vouchers:",l.message),l},getById:async e=>{console.log("[VoucherService] Fetching voucher by ID:",e);const t=await Xe(Ge.get(Gs.GET_BY_ID(e)));return t.success?console.log("[VoucherService] Fetched voucher:",t.data.voucher?._id):console.error("[VoucherService] Failed to fetch voucher:",t.message),t},update:async(e,t)=>{console.log("[VoucherService] Updating voucher:",e);const r=await Xe(Ge.put(Gs.UPDATE(e),t));return r.success?console.log("[VoucherService] Voucher updated successfully"):console.error("[VoucherService] Failed to update voucher:",r.message),r},enable:async e=>{console.log("[VoucherService] Enabling voucher:",e);const t=await Xe(Ge.post(Gs.ENABLE(e)));return t.success?console.log("[VoucherService] Voucher enabled successfully"):console.error("[VoucherService] Failed to enable voucher:",t.message),t},disable:async e=>{console.log("[VoucherService] Disabling voucher:",e);const t=await Xe(Ge.post(Gs.DISABLE(e)));return t.success?console.log("[VoucherService] Voucher disabled successfully"):console.error("[VoucherService] Failed to disable voucher:",t.message),t},delete:async e=>{console.log("[VoucherService] Deleting voucher:",e);const t=await Xe(Ge.delete(Gs.DELETE(e)));return t.success?console.log("[VoucherService] Voucher deleted successfully"):console.error("[VoucherService] Failed to delete voucher:",t.message),t},getDeleted:async()=>{console.log("[VoucherService] Fetching deleted vouchers");const e=await Xe(Ge.get(Gs.DELETED));return e.success?console.log("[VoucherService] Fetched deleted vouchers:",e.data.vouchers?.length):console.error("[VoucherService] Failed to fetch deleted vouchers:",e.message),e},restore:async e=>{console.log("[VoucherService] Restoring voucher:",e);const t=await Xe(Ge.post(Gs.RESTORE(e)));return t.success?console.log("[VoucherService] Voucher restored successfully"):console.error("[VoucherService] Failed to restore voucher:",t.message),t},permanentDelete:async e=>{console.log("[VoucherService] Permanently deleting voucher:",e);const t=await Xe(Ge.delete(Gs.PERMANENT_DELETE(e)));return t.success?console.log("[VoucherService] Voucher permanently deleted"):console.error("[VoucherService] Failed to permanently delete voucher:",t.message),t}};function Yce(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,d]=N.useState({search:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),w=N.useRef(null),C=N.useCallback(async(H=n.currentPage)=>{h(!0),y(null);try{const V={page:H,limit:n.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.isActive!==""&&{isActive:o.isActive}},Q=await cc.getAll(V);Q.success?(r(Q.data.vouchers||[]),l({currentPage:Q.data.pagination?.currentPage||1,totalPages:Q.data.pagination?.totalPages||0,totalCount:Q.data.pagination?.totalCount||0,limit:Q.data.pagination?.limit||10})):(y(Q.message),r([]))}catch{y("Failed to fetch vouchers"),r([])}finally{h(!1)}},[o,n.limit]),_=N.useCallback(async H=>{try{const V=await cc.create(H);return V.success?(await C(1),{success:!0,data:V.data}):{success:!1,error:V.message,validationErrors:V.error}}catch{return{success:!1,error:"Failed to create voucher"}}},[C]),D=N.useCallback(async H=>{try{const V=await cc.getById(H);return V.success?{success:!0,data:V.data.voucher}:{success:!1,error:V.message}}catch{return{success:!1,error:"Failed to fetch voucher details"}}},[]),k=N.useCallback(async(H,V)=>{try{const Q=await cc.update(H,V);return Q.success?(r(Y=>Y.map(X=>X._id===H?{...X,...Q.data.voucher}:X)),{success:!0,data:Q.data}):{success:!1,error:Q.message,validationErrors:Q.error}}catch{return{success:!1,error:"Failed to update voucher"}}},[]),M=N.useCallback(async(H,V)=>{try{const Q=V?await cc.disable(H):await cc.enable(H);return Q.success?(r(Y=>Y.map(X=>X._id===H?{...X,isActive:!V}:X)),{success:!0}):{success:!1,error:Q.message}}catch{return{success:!1,error:"Failed to update voucher status"}}},[]),I=N.useCallback(async H=>{try{const V=await cc.delete(H);return V.success?(r(Q=>Q.filter(Y=>Y._id!==H)),l(Q=>({...Q,totalCount:Q.totalCount-1,totalPages:Math.ceil((Q.totalCount-1)/Q.limit)})),{success:!0}):{success:!1,error:V.message}}catch{return{success:!1,error:"Failed to delete voucher"}}},[]),U=N.useCallback(H=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{d(V=>({...V,search:H}))},300)},[]),R=N.useCallback(H=>{d(V=>({...V,...H}))},[]),G=N.useCallback(()=>{d({search:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),F=N.useCallback(H=>{C(H)},[C]),j=N.useCallback(H=>{l(V=>({...V,limit:H}))},[]),L=N.useCallback(()=>{y(null)},[]);return N.useEffect(()=>{C(1)},[o]),N.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),{vouchers:t,pagination:n,filters:o,isLoading:g,error:x,fetchVouchers:C,createVoucher:_,getVoucherById:D,updateVoucher:k,toggleVoucherStatus:M,deleteVoucher:I,searchVouchers:U,updateFilters:R,resetFilters:G,changePage:F,changeLimit:j,clearError:L}}const fO=()=>({title:"",description:"",code:"",maxUsage:"",events:[],isActive:!0});function Xce({isOpen:e,onClose:t,onSubmit:r,isLoading:n=!1,serverError:l=null,voucherToEdit:o=null}){const[d,g]=N.useState(fO()),[h,x]=N.useState({}),y=!!o;N.useEffect(()=>{e&&(g(o?{title:o.title||"",description:o.description||"",code:o.code||"",maxUsage:o.maxUsage?.toString()||"",events:o.events?.map(M=>M._id||M)||[],isActive:o.isActive??!0}:fO()),x({}))},[e,o]);const w=M=>{const I={};if(M.title.trim()?M.title.length>100&&(I.title="Title must be less than 100 characters"):I.title="Title is required",M.description.trim()?M.description.length>500&&(I.description="Description must be less than 500 characters"):I.description="Description is required",M.code.trim()?/^[A-Z0-9_-]+$/i.test(M.code)?M.code.length>20&&(I.code="Code must be less than 20 characters"):I.code="Code can only contain letters, numbers, hyphens, and underscores":I.code="Voucher code is required",!M.maxUsage)I.maxUsage="Maximum usage is required";else{const U=parseInt(M.maxUsage,10);isNaN(U)||U<1?I.maxUsage="Maximum usage must be at least 1":U>1e6&&(I.maxUsage="Maximum usage cannot exceed 1,000,000")}return{isValid:Object.keys(I).length===0,errors:I}},C=(M,I)=>{g(U=>({...U,[M]:I})),h[M]&&x(U=>{const R={...U};return delete R[M],R})},_=M=>{C("code",M.toUpperCase())},D=M=>{C("events",M)},k=async M=>{M.preventDefault();const{isValid:I,errors:U}=w(d);if(!I){x(U);return}const R={title:d.title.trim(),description:d.description.trim(),code:d.code.trim().toUpperCase(),maxUsage:parseInt(d.maxUsage,10),isActive:d.isActive};d.events.length>0&&(R.events=d.events),(await r(R))?.success&&t()};return a.createElement(Kr,{isOpen:e,onClose:t,title:y?"Edit Voucher":"Create Voucher",size:"lg"},a.createElement("form",{onSubmit:k,className:"space-y-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:d.title,onChange:M=>C("title",M.target.value),placeholder:"e.g., Festival Food Court Discount",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.title?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.title&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.title)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("textarea",{value:d.description,onChange:M=>C("description",M.target.value),placeholder:"e.g., Get Rs.200 off at the food court for first 1500 buyers",rows:3,disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${h.description?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.description&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.description)),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Voucher Code ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:d.code,onChange:M=>_(M.target.value),placeholder:"e.g., FESTIVAL200",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none font-mono uppercase transition-colors ${h.code?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.code&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.code)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Maximum Usage ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"number",value:d.maxUsage,onChange:M=>C("maxUsage",M.target.value),placeholder:"e.g., 1500",min:"1",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.maxUsage?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.maxUsage&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.maxUsage))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Linked Events",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement(yR,{selectedIds:d.events,onChange:D,disabled:n,placeholder:"Select events to link this voucher..."}),a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Leave empty to make the voucher available for all events")),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:d.isActive,onChange:M=>C("isActive",M.target.checked),disabled:n,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-800"})),a.createElement("span",{className:"text-sm text-gray-700"},d.isActive?"Active":"Disabled")),l&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},l)),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:t,disabled:n,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},n?a.createElement(a.Fragment,null,a.createElement(At,{className:"h-4 w-4 animate-spin"}),a.createElement("span",null,y?"Updating...":"Creating...")):a.createElement("span",null,y?"Update Voucher":"Create Voucher")))))}const hO=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Wce=(e,t)=>t?Math.min(Math.round(e/t*100),100):0,Kce=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";function Zce({isOpen:e,onClose:t,voucher:r,isLoading:n=!1}){if(!r&&!n)return null;const l=r?Wce(r.usageCount||0,r.maxUsage):0;return a.createElement(Kr,{isOpen:e,onClose:t,title:"Voucher Details",size:"lg"},n?a.createElement("div",{className:"py-12 flex flex-col items-center justify-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading voucher details...")):r?a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"flex items-start justify-between gap-4 pb-4 border-b border-gray-200"},a.createElement("div",null,a.createElement("h3",{className:"text-lg font-semibold text-gray-900"},r.title),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},r.description)),a.createElement("span",{className:`shrink-0 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1.5 ${r.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},r.isActive?a.createElement(Ci,{className:"h-4 w-4"}):a.createElement(ko,{className:"h-4 w-4"}),r.isActive?"Active":"Disabled")),a.createElement("div",{className:"bg-blue-50 rounded-lg p-4"},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},a.createElement(Lm,{className:"h-5 w-5 text-gray-800"})),a.createElement("div",null,a.createElement("p",{className:"text-xs text-gray-800 font-medium uppercase"},"Voucher Code"),a.createElement("p",{className:"text-xl font-bold text-blue-900 font-mono tracking-wider"},r.code)))),a.createElement("div",null,a.createElement("div",{className:"flex items-center justify-between mb-2"},a.createElement("span",{className:"text-sm font-medium text-gray-700"},"Usage Progress"),a.createElement("span",{className:"text-sm text-gray-500"},r.usageCount||0," / ",r.maxUsage," claimed")),a.createElement("div",{className:"w-full bg-gray-200 rounded-full h-3"},a.createElement("div",{className:`h-3 rounded-full transition-all ${Kce(l)}`,style:{width:`${l}%`}})),a.createElement("p",{className:"text-xs text-gray-500 mt-1"},l,"% used (",r.maxUsage-(r.usageCount||0)," remaining)")),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(x2,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Maximum Usage")),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},r.maxUsage?.toLocaleString("en-IN"))),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(ff,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Times Used")),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},(r.usageCount||0).toLocaleString("en-IN"))),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(On,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Created")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},hO(r.createdAt))),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(On,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Last Updated")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},hO(r.updatedAt)))),r.createdBy&&a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(hi,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Created By")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},r.createdBy.name||r.createdBy.email),r.createdBy.email&&r.createdBy.name&&a.createElement("p",{className:"text-xs text-gray-500"},r.createdBy.email)),r.events&&r.events.length>0&&a.createElement("div",null,a.createElement("div",{className:"flex items-center gap-2 mb-2"},a.createElement($r,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-sm font-medium text-gray-700"},"Linked Events")),a.createElement("div",{className:"flex flex-wrap gap-2"},r.events.map(o=>a.createElement("span",{key:o._id||o,className:"px-3 py-1.5 bg-blue-100 text-gray-900 rounded-full text-sm font-medium"},o.name||o)))),r.claimedPhones&&r.claimedPhones.length>0&&a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("p",{className:"text-sm text-gray-500"},a.createElement("span",{className:"font-medium"},r.claimedPhones.length)," phone number",r.claimedPhones.length!==1?"s":""," have claimed this voucher")),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"},"Close"))):a.createElement("div",{className:"py-12 text-center text-gray-500"},a.createElement("p",null,"No voucher data available")))}const gO=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",pO=(e,t)=>t?Math.min(Math.round(e/t*100),100):0,yO=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500",Ih={active:"bg-green-100 text-green-700",disabled:"bg-gray-100 text-gray-600"};function Qce(){const{vouchers:e,pagination:t,filters:r,isLoading:n,error:l,fetchVouchers:o,createVoucher:d,getVoucherById:g,updateVoucher:h,toggleVoucherStatus:x,deleteVoucher:y,searchVouchers:w,updateFilters:C,resetFilters:_,changePage:D,clearError:k}=Yce(),[M,I]=N.useState(!1),[U,R]=N.useState(!1),[G,F]=N.useState(!1),[j,L]=N.useState(null),[H,V]=N.useState(null),[Q,Y]=N.useState(!1),[X,he]=N.useState(!1),[pe,se]=N.useState(null),[J,ae]=N.useState(!1),[Ee,be]=N.useState(r.search||""),[re,W]=N.useState(r.isActive||""),te=N.useCallback(()=>{se(null),V(null),I(!0)},[]),me=N.useCallback(async _e=>{se(null),Y(!0);try{const et=await g(_e._id);et.success?(V(et.data),I(!0)):alert(et.error||"Failed to load voucher details")}catch{alert("An unexpected error occurred")}finally{Y(!1)}},[g]),ue=N.useCallback(()=>{I(!1),se(null),V(null)},[]),Ne=N.useCallback(async _e=>{he(!0),se(null);try{let et;return H?et=await h(H._id,_e):et=await d(_e),et.success?et:(se(et.error||"Failed to save voucher"),{success:!1})}catch{return se("An unexpected error occurred"),{success:!1}}finally{he(!1)}},[d,h,H]),le=N.useCallback(async _e=>{L(_e),R(!0),Y(!0);try{const et=await g(_e._id);et.success&&L(et.data)}catch(et){console.error("[Vouchers] Failed to fetch details:",et)}finally{Y(!1)}},[g]),oe=N.useCallback(()=>{R(!1),L(null)},[]),ze=N.useCallback(async _e=>{he(!0);try{const et=await x(_e._id,_e.isActive);et.success||alert(et.error||"Failed to update voucher status")}catch{alert("An unexpected error occurred")}finally{he(!1)}},[x]),ve=N.useCallback(_e=>{L(_e),F(!0)},[]),Ye=N.useCallback(()=>{F(!1),L(null)},[]),rt=N.useCallback(async()=>{if(j){he(!0);try{const _e=await y(j._id);_e.success?Ye():alert(_e.error||"Failed to delete voucher")}catch{alert("An unexpected error occurred")}finally{he(!1)}}},[j,y,Ye]),Le=N.useCallback(_e=>{const et=_e.target.value;be(et),w(et)},[w]),ye=N.useCallback(()=>{C({search:Ee,isActive:re}),ae(!1)},[Ee,re,C]),Ue=N.useCallback(()=>{be(""),W(""),_(),ae(!1)},[_]),Se=N.useCallback(()=>{o(t.currentPage)},[o,t.currentPage]),We=N.useMemo(()=>r.search||r.isActive!=="",[r]);return a.createElement("div",{className:"space-y-4 sm:space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"Vouchers"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Create and manage discount vouchers")),a.createElement("button",{onClick:te,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},a.createElement(hn,{className:"h-5 w-5"}),a.createElement("span",null,"Create Voucher"))),l&&a.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("div",{className:"flex-1"},a.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading vouchers"),a.createElement("p",{className:"text-sm text-red-700 mt-0.5"},l)),a.createElement("button",{onClick:k,className:"shrink-0 text-red-600 hover:text-red-800"},"")),a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},a.createElement("div",{className:"relative flex-1 max-w-md"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{type:"text",value:Ee,onChange:Le,placeholder:"Search vouchers...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),a.createElement("button",{onClick:()=>ae(!J),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${We?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),We&&a.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(r.search?1:0)+(r.isActive!==""?1:0)),a.createElement(Tl,{className:`h-4 w-4 transition-transform ${J?"rotate-180":""}`})),a.createElement("button",{onClick:Se,disabled:n,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},a.createElement(_l,{className:`h-4 w-4 ${n?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Refresh")),a.createElement("div",{className:"ml-auto text-sm text-gray-500"},t.totalCount," voucher",t.totalCount!==1?"s":""," total")),J&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{value:re,onChange:_e=>W(_e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Status"),a.createElement("option",{value:"true"},"Active"),a.createElement("option",{value:"false"},"Disabled"))),a.createElement("div",{className:"flex items-end gap-2 sm:col-span-1 lg:col-span-2"},a.createElement("button",{onClick:ye,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),a.createElement("button",{onClick:Ue,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),a.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Code"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Title"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Usage"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Events"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Created"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,n&&e.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading vouchers..."))):e.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},a.createElement(Lm,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No vouchers found"),a.createElement("button",{onClick:te,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first voucher"))):e.map(_e=>{const et=pO(_e.usageCount||0,_e.maxUsage);return a.createElement("tr",{key:_e._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-700 rounded font-mono text-sm font-medium"},_e.code)),a.createElement("td",{className:"px-6 py-4"},a.createElement("p",{className:"font-medium text-gray-900 truncate max-w-[200px]"},_e.title)),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"w-32"},a.createElement("div",{className:"flex items-center justify-between text-xs mb-1"},a.createElement("span",{className:"text-gray-600"},_e.usageCount||0," / ",_e.maxUsage),a.createElement("span",{className:"text-gray-400"},et,"%")),a.createElement("div",{className:"w-full bg-gray-200 rounded-full h-1.5"},a.createElement("div",{className:`h-1.5 rounded-full ${yO(et)}`,style:{width:`${et}%`}})))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${_e.isActive?Ih.active:Ih.disabled}`},_e.isActive?"Active":"Disabled")),a.createElement("td",{className:"px-6 py-4"},_e.events&&_e.events.length>0?a.createElement("div",{className:"flex items-center gap-1"},a.createElement($r,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-sm text-gray-600"},_e.events.length," event",_e.events.length!==1?"s":"")):a.createElement("span",{className:"text-sm text-gray-400"},"All events")),a.createElement("td",{className:"px-6 py-4 text-sm text-gray-500"},gO(_e.createdAt)),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1"},a.createElement("button",{onClick:()=>ze(_e),disabled:X,className:`p-2 rounded-lg transition-colors ${_e.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:_e.isActive?"Disable voucher":"Enable voucher"},_e.isActive?a.createElement(fi,{className:"h-5 w-5"}):a.createElement(Dl,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>le(_e),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},a.createElement(an,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>me(_e),disabled:Q,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit voucher"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>ve(_e),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},a.createElement(vr,{className:"h-4 w-4"})))))})))),t.totalPages>0&&a.createElement(Ln,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:D,itemLabel:"vouchers"})),a.createElement("div",{className:"md:hidden space-y-4"},n&&e.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading vouchers...")):e.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(Lm,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No vouchers found"),a.createElement("button",{onClick:te,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first voucher")):a.createElement(a.Fragment,null,e.map(_e=>{const et=pO(_e.usageCount||0,_e.maxUsage);return a.createElement("div",{key:_e._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},a.createElement("div",{className:"flex items-start justify-between gap-3"},a.createElement("div",{className:"min-w-0"},a.createElement("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded font-mono text-sm font-medium"},_e.code),a.createElement("p",{className:"font-medium text-gray-900 mt-2 truncate"},_e.title),a.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},gO(_e.createdAt))),a.createElement("span",{className:`shrink-0 px-2.5 py-1 rounded-full text-xs font-medium ${_e.isActive?Ih.active:Ih.disabled}`},_e.isActive?"Active":"Disabled")),a.createElement("div",null,a.createElement("div",{className:"flex items-center justify-between text-xs mb-1"},a.createElement("span",{className:"text-gray-600"},_e.usageCount||0," / ",_e.maxUsage," claimed"),a.createElement("span",{className:"text-gray-400"},et,"%")),a.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},a.createElement("div",{className:`h-2 rounded-full ${yO(et)}`,style:{width:`${et}%`}}))),_e.events&&_e.events.length>0&&a.createElement("div",{className:"flex items-center gap-1 text-sm text-gray-600"},a.createElement($r,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",null,_e.events.length," event",_e.events.length!==1?"s":"")),a.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},a.createElement("button",{onClick:()=>ze(_e),disabled:X,className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${_e.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},_e.isActive?a.createElement(a.Fragment,null,a.createElement(fi,{className:"h-4 w-4"}),"On"):a.createElement(a.Fragment,null,a.createElement(Dl,{className:"h-4 w-4"}),"Off")),a.createElement("button",{onClick:()=>le(_e),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},a.createElement(an,{className:"h-4 w-4"}),"Details"),a.createElement("button",{onClick:()=>me(_e),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>ve(_e),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},a.createElement(vr,{className:"h-4 w-4"}))))}),t.totalPages>0&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:D,itemLabel:"vouchers"})))),a.createElement(Xce,{isOpen:M,onClose:ue,onSubmit:Ne,isLoading:X,serverError:pe,voucherToEdit:H}),a.createElement(Zce,{isOpen:U,onClose:oe,voucher:j,isLoading:Q}),a.createElement(va,{isOpen:G,onClose:Ye,onConfirm:rt,title:"Delete Voucher",message:`Are you sure you want to delete the voucher "${j?.code}"? This action can be undone by restoring from deleted vouchers.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:X}))}const Ja={BASE:"/web/sessions",GET_BY_ID:e=>`/web/sessions/${e}`,UPDATE:e=>`/web/sessions/${e}`,DELETE:e=>`/web/sessions/${e}`,TOGGLE_LIVE:e=>`/web/sessions/${e}/toggle-live`,DELETED:"/web/sessions/deleted",RESTORE:e=>`/web/sessions/${e}/restore`,PERMANENT_DELETE:e=>`/web/sessions/${e}/permanent`,BOOKINGS:"/web/sessions/bookings",UPDATE_BOOKING:e=>`/web/sessions/bookings/${e}`},fo={create:async e=>{console.log("[SessionService] Creating session:",e.title);const t=await Xe(Ge.post(Ja.BASE,e));return t.success?console.log("[SessionService] Session created successfully:",t.data.session?._id):console.error("[SessionService] Failed to create session:",t.message),t},getAll:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.isLive!==void 0&&e.isLive!==""&&t.append("isLive",e.isLive),e.sessionType&&t.append("sessionType",e.sessionType),e.search&&t.append("search",e.search);const r=t.toString(),n=r?`${Ja.BASE}?${r}`:Ja.BASE;console.log("[SessionService] Fetching sessions with params:",e);const l=await Xe(Ge.get(n));return l.success?console.log("[SessionService] Fetched sessions:",l.data.sessions?.length):console.error("[SessionService] Failed to fetch sessions:",l.message),l},getById:async e=>{console.log("[SessionService] Fetching session by ID:",e);const t=await Xe(Ge.get(Ja.GET_BY_ID(e)));return t.success?console.log("[SessionService] Fetched session:",t.data.session?._id):console.error("[SessionService] Failed to fetch session:",t.message),t},update:async(e,t)=>{console.log("[SessionService] Updating session:",e);const r=await Xe(Ge.put(Ja.UPDATE(e),t));return r.success?console.log("[SessionService] Session updated successfully"):console.error("[SessionService] Failed to update session:",r.message),r},toggleLive:async e=>{console.log("[SessionService] Toggling session live status:",e);const t=await Xe(Ge.patch(Ja.TOGGLE_LIVE(e)));return t.success?console.log("[SessionService] Session live status toggled successfully"):console.error("[SessionService] Failed to toggle session live status:",t.message),t},delete:async e=>{console.log("[SessionService] Deleting session:",e);const t=await Xe(Ge.delete(Ja.DELETE(e)));return t.success?console.log("[SessionService] Session deleted successfully"):console.error("[SessionService] Failed to delete session:",t.message),t},getDeleted:async()=>{console.log("[SessionService] Fetching deleted sessions");const e=await Xe(Ge.get(Ja.DELETED));return e.success?console.log("[SessionService] Fetched deleted sessions:",e.data.sessions?.length):console.error("[SessionService] Failed to fetch deleted sessions:",e.message),e},restore:async e=>{console.log("[SessionService] Restoring session:",e);const t=await Xe(Ge.post(Ja.RESTORE(e)));return t.success?console.log("[SessionService] Session restored successfully"):console.error("[SessionService] Failed to restore session:",t.message),t},permanentDelete:async e=>{console.log("[SessionService] Permanently deleting session:",e);const t=await Xe(Ge.delete(Ja.PERMANENT_DELETE(e)));return t.success?console.log("[SessionService] Session permanently deleted"):console.error("[SessionService] Failed to permanently delete session:",t.message),t},getBookings:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.status&&t.append("status",e.status),e.sessionId&&t.append("sessionId",e.sessionId);const r=t.toString(),n=r?`${Ja.BOOKINGS}?${r}`:Ja.BOOKINGS;console.log("[SessionService] Fetching bookings with params:",e);const l=await Xe(Ge.get(n));return l.success?console.log("[SessionService] Fetched bookings:",l.data.bookings?.length):console.error("[SessionService] Failed to fetch bookings:",l.message),l},updateBooking:async(e,t)=>{console.log("[SessionService] Updating booking:",e,"with status:",t.status);const r=await Xe(Ge.put(Ja.UPDATE_BOOKING(e),t));return r.success?console.log("[SessionService] Booking updated successfully"):console.error("[SessionService] Failed to update booking:",r.message),r}};function Jce(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,d]=N.useState({search:"",isLive:"",sessionType:"",category:"",sortBy:"createdAt",sortOrder:"desc",...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),[w,C]=N.useState([]),[_,D]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[k,M]=N.useState({status:"",sessionId:""}),[I,U]=N.useState(!1),[R,G]=N.useState(null),F=N.useRef(null),j=N.useCallback(async(ue=n.currentPage)=>{h(!0),y(null);try{const Ne={page:ue,limit:n.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.isLive!==""&&{isLive:o.isLive},...o.sessionType&&{sessionType:o.sessionType},...o.category&&{category:o.category}};console.log("[useSessions] Fetching sessions with params:",Ne);const le=await fo.getAll(Ne);le.success?(r(le.data.sessions||[]),l({currentPage:le.data.pagination?.currentPage||1,totalPages:le.data.pagination?.totalPages||0,totalCount:le.data.pagination?.totalCount||0,limit:le.data.pagination?.limit||10})):(y(le.message),r([]))}catch{y("Failed to fetch sessions"),r([])}finally{h(!1)}},[o,n.limit]),L=N.useCallback(async ue=>{try{const Ne=await fo.create(ue);return Ne.success?(await j(1),{success:!0,data:Ne.data}):{success:!1,error:Ne.message,validationErrors:Ne.error}}catch{return{success:!1,error:"Failed to create session"}}},[j]),H=N.useCallback(async ue=>{try{const Ne=await fo.getById(ue);return Ne.success?{success:!0,data:Ne.data.session}:{success:!1,error:Ne.message}}catch{return{success:!1,error:"Failed to fetch session details"}}},[]),V=N.useCallback(async(ue,Ne)=>{try{const le=await fo.update(ue,Ne);return le.success?(r(oe=>oe.map(ze=>ze._id===ue?{...ze,...le.data.session}:ze)),{success:!0,data:le.data}):{success:!1,error:le.message,validationErrors:le.error}}catch{return{success:!1,error:"Failed to update session"}}},[]),Q=N.useCallback(async(ue,Ne)=>{try{const le=await fo.toggleLive(ue);return le.success?(r(oe=>oe.map(ze=>ze._id===ue?{...ze,isLive:!Ne}:ze)),{success:!0}):{success:!1,error:le.message}}catch{return{success:!1,error:"Failed to update session status"}}},[]),Y=N.useCallback(async ue=>{try{const Ne=await fo.delete(ue);return Ne.success?(r(le=>le.filter(oe=>oe._id!==ue)),l(le=>({...le,totalCount:le.totalCount-1,totalPages:Math.ceil((le.totalCount-1)/le.limit)})),{success:!0}):{success:!1,error:Ne.message}}catch{return{success:!1,error:"Failed to delete session"}}},[]),X=N.useCallback(ue=>{F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{d(Ne=>({...Ne,search:ue}))},300)},[]),he=N.useCallback(ue=>{d(Ne=>({...Ne,...ue}))},[]),pe=N.useCallback(()=>{d({search:"",isLive:"",sessionType:"",category:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),se=N.useCallback(ue=>{j(ue)},[j]),J=N.useCallback(ue=>{l(Ne=>({...Ne,limit:ue}))},[]),ae=N.useCallback(()=>{y(null)},[]),Ee=N.useCallback(async(ue=_.currentPage)=>{U(!0),G(null);try{const Ne={page:ue,limit:_.limit,...k.status&&{status:k.status},...k.sessionId&&{sessionId:k.sessionId}};console.log("[useSessions] Fetching bookings with params:",Ne);const le=await fo.getBookings(Ne);le.success?(C(le.data.bookings||[]),D({currentPage:le.data.pagination?.currentPage||1,totalPages:le.data.pagination?.totalPages||0,totalCount:le.data.pagination?.totalCount||0,limit:le.data.pagination?.limit||10}),console.log("[useSessions] Fetched bookings:",le.data.bookings?.length)):(console.error("[useSessions] Failed to fetch bookings:",le.message),G(le.message||"Failed to fetch bookings"),C([]))}catch(Ne){console.error("[useSessions] Error fetching bookings:",Ne),G("Failed to fetch bookings"),C([])}finally{U(!1)}},[k,_.limit]),be=N.useCallback(async(ue,Ne)=>{try{console.log("[useSessions] Updating booking:",ue,"with data:",Ne);const le=await fo.updateBooking(ue,Ne);return le.success?(console.log("[useSessions] Booking updated successfully"),C(oe=>oe.map(ze=>ze._id===ue?{...ze,...le.data.booking}:ze)),{success:!0,data:le.data}):(console.error("[useSessions] Failed to update booking:",le.message),{success:!1,error:le.message})}catch(le){return console.error("[useSessions] Error updating booking:",le),{success:!1,error:"Failed to update booking"}}},[]),re=N.useCallback(ue=>{M(Ne=>({...Ne,...ue}))},[]),W=N.useCallback(()=>{M({status:"",sessionId:""})},[]),te=N.useCallback(ue=>{Ee(ue)},[Ee]),me=N.useCallback(()=>{G(null)},[]);return N.useEffect(()=>{j(1)},[o]),N.useEffect(()=>()=>{F.current&&clearTimeout(F.current)},[]),{sessions:t,pagination:n,filters:o,isLoading:g,error:x,fetchSessions:j,createSession:L,getSessionById:H,updateSession:V,toggleSessionLive:Q,deleteSession:Y,searchSessions:X,updateFilters:he,resetFilters:pe,changePage:se,changeLimit:J,clearError:ae,bookings:w,bookingPagination:_,bookingFilters:k,isLoadingBookings:I,bookingError:R,fetchBookings:Ee,updateBooking:be,updateBookingFilters:re,resetBookingFilters:W,changeBookingPage:te,clearBookingError:me}}const eue=[{value:"therapeutic",label:"Therapeutic"},{value:"mental_wellness",label:"Mental Wellness"},{value:"career",label:"Career"},{value:"relationships",label:"Relationships"},{value:"lifestyle",label:"Lifestyle"},{value:"other",label:"Other"}],xO=()=>({title:"",shortDescription:"",longDescription:"",price:"",compareAtPrice:"",duration:"",sessionType:"OTO",category:"mental_wellness",isLive:!1,host:"",hostEmail:"",hostPhone:"",availableSlots:"",calendlyLink:"",sessionDate:"",imageUrl:"",tags:[]});function tue({isOpen:e,onClose:t,onSubmit:r,isLoading:n=!1,serverError:l=null,sessionToEdit:o=null}){const[d,g]=N.useState(xO()),[h,x]=N.useState({}),y=!!o,[w,C]=N.useState("");N.useEffect(()=>{e&&(g(o?{title:o.title||"",shortDescription:o.shortDescription||"",longDescription:o.longDescription||"",price:o.price?.toString()||"",compareAtPrice:o.compareAtPrice?.toString()||"",duration:o.duration?.toString()||"",sessionType:o.sessionType||"OTO",category:o.category||"mental_wellness",isLive:o.isLive??!1,host:o.host||"",hostEmail:o.hostEmail||"",hostPhone:o.hostPhone||"",availableSlots:o.availableSlots?.toString()||"",calendlyLink:o.calendlyLink||"",sessionDate:o.sessionDate?new Date(o.sessionDate).toISOString().slice(0,16):"",imageUrl:o.imageUrl||"",tags:o.tags||[]}:xO()),x({}),C(""))},[e,o]);const _=M=>{const I={};if(M.title.trim()?M.title.length>200&&(I.title="Title must be less than 200 characters"):I.title="Title is required",M.shortDescription.trim()?M.shortDescription.length>500&&(I.shortDescription="Short description must be less than 500 characters"):I.shortDescription="Short description is required",M.longDescription.trim()?M.longDescription.length>5e3&&(I.longDescription="Long description must be less than 5000 characters"):I.longDescription="Long description is required",!M.price)I.price="Price is required";else{const U=parseFloat(M.price);(isNaN(U)||U<0)&&(I.price="Price must be a positive number")}if(M.compareAtPrice){const U=parseFloat(M.compareAtPrice),R=parseFloat(M.price);isNaN(U)||U<0?I.compareAtPrice="Compare at price must be a positive number":!isNaN(R)&&U<R&&(I.compareAtPrice="Compare at price must be greater than or equal to price")}if(!M.duration)I.duration="Duration is required";else{const U=parseInt(M.duration,10);isNaN(U)||U<1?I.duration="Duration must be at least 1 minute":U>480&&(I.duration="Duration cannot exceed 480 minutes (8 hours)")}if(M.host.trim()?M.host.length>100&&(I.host="Host name must be less than 100 characters"):I.host="Host name is required",M.hostEmail&&M.hostEmail.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M.hostEmail.trim())||(I.hostEmail="Please provide a valid email address")),M.hostPhone&&M.hostPhone.trim()&&(/^[\d\s+\-()]+$/.test(M.hostPhone.trim())?M.hostPhone.trim().length<10&&(I.hostPhone="Phone number must be at least 10 digits"):I.hostPhone="Please provide a valid phone number"),M.sessionType==="OTM"&&M.availableSlots){const U=parseInt(M.availableSlots,10);(isNaN(U)||U<1)&&(I.availableSlots="Available slots must be at least 1")}return M.calendlyLink.trim()?/^https?:\/\/.+/.test(M.calendlyLink)||(I.calendlyLink="Please provide a valid URL"):I.calendlyLink="Calendly link is required",M.imageUrl&&!/^https?:\/\/.+/.test(M.imageUrl)&&(I.imageUrl="Please provide a valid image URL"),{isValid:Object.keys(I).length===0,errors:I}},D=(M,I)=>{g(U=>({...U,[M]:I})),h[M]&&x(U=>{const R={...U};return delete R[M],R})},k=async M=>{M.preventDefault();const{isValid:I,errors:U}=_(d);if(!I){x(U);return}const R={title:d.title.trim(),shortDescription:d.shortDescription.trim(),longDescription:d.longDescription.trim(),price:parseFloat(d.price),duration:parseInt(d.duration,10),sessionType:d.sessionType,category:d.category,isLive:d.isLive,host:d.host.trim()};d.compareAtPrice&&(R.compareAtPrice=parseFloat(d.compareAtPrice)),d.availableSlots&&(R.availableSlots=parseInt(d.availableSlots,10)),R.calendlyLink=d.calendlyLink.trim(),d.sessionDate&&(R.sessionDate=new Date(d.sessionDate).toISOString()),d.imageUrl.trim()&&(R.imageUrl=d.imageUrl.trim()),d.hostEmail.trim()&&(R.hostEmail=d.hostEmail.trim()),d.hostPhone.trim()&&(R.hostPhone=d.hostPhone.trim()),d.tags.length>0&&(R.tags=d.tags),(await r(R))?.success&&t()};return a.createElement(Kr,{isOpen:e,onClose:t,title:y?"Edit Session":"Create Session",size:"xl"},a.createElement("form",{onSubmit:k,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:d.title,onChange:M=>D("title",M.target.value),placeholder:"e.g., One-on-One Career Coaching",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.title?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.title&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.title)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Short Description ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("textarea",{value:d.shortDescription,onChange:M=>D("shortDescription",M.target.value),placeholder:"Brief overview of the session...",rows:2,disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${h.shortDescription?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.shortDescription&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.shortDescription)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Long Description ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("textarea",{value:d.longDescription,onChange:M=>D("longDescription",M.target.value),placeholder:"Detailed description of what participants will learn...",rows:4,disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${h.longDescription?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.longDescription&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.longDescription)),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Price () ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"number",value:d.price,onChange:M=>D("price",M.target.value),placeholder:"e.g., 999",min:"0",step:"0.01",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.price?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.price&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.price)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Compare at Price ()"),a.createElement("input",{type:"number",value:d.compareAtPrice,onChange:M=>D("compareAtPrice",M.target.value),placeholder:"e.g., 1499",min:"0",step:"0.01",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.compareAtPrice?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.compareAtPrice&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.compareAtPrice)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Duration (mins) ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"number",value:d.duration,onChange:M=>D("duration",M.target.value),placeholder:"e.g., 60",min:"1",max:"480",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.duration?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.duration&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.duration))),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Session Type ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("select",{value:d.sessionType,onChange:M=>D("sessionType",M.target.value),disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${n?"bg-gray-100":""}`},a.createElement("option",{value:"OTO"},"One-to-One (OTO)"),a.createElement("option",{value:"OTM"},"One-to-Many (OTM)"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Category ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("select",{value:d.category,onChange:M=>D("category",M.target.value),disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${n?"bg-gray-100":""}`},eue.map(M=>a.createElement("option",{key:M.value,value:M.value},M.label))))),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Host Name ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:d.host,onChange:M=>D("host",M.target.value),placeholder:"e.g., John Doe",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.host?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.host&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.host)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Host Email",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement("input",{type:"email",value:d.hostEmail,onChange:M=>D("hostEmail",M.target.value),placeholder:"host@example.com",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.hostEmail?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.hostEmail&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.hostEmail)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Host Phone",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement("input",{type:"tel",value:d.hostPhone,onChange:M=>D("hostPhone",M.target.value),placeholder:"+91 9876543210",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.hostPhone?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.hostPhone&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.hostPhone))),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Available Slots",d.sessionType==="OTM"&&a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(for group sessions)")),a.createElement("input",{type:"number",value:d.availableSlots,onChange:M=>D("availableSlots",M.target.value),placeholder:d.sessionType==="OTO"?"1":"e.g., 50",min:"1",disabled:n||d.sessionType==="OTO",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.availableSlots?"border-red-500":"border-gray-300"} ${n||d.sessionType==="OTO"?"bg-gray-100":""}`}),h.availableSlots&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.availableSlots),d.sessionType==="OTO"&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Fixed to 1 for one-to-one sessions")),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Session Date",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement("input",{type:"datetime-local",value:d.sessionDate,onChange:M=>D("sessionDate",M.target.value),disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${n?"bg-gray-100":""}`}))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Calendly Link ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"url",value:d.calendlyLink,onChange:M=>D("calendlyLink",M.target.value),placeholder:"https://calendly.com/your-link",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.calendlyLink?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.calendlyLink&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.calendlyLink)),a.createElement(Ac,{label:"Session Image",value:d.imageUrl,onUpload:M=>D("imageUrl",M),disabled:n,error:h.imageUrl,type:"image",folder:"sessions",placeholder:"Drop image here or click to upload"}),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Tags",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement("div",{className:"flex gap-2"},a.createElement("input",{type:"text",value:w,onChange:M=>C(M.target.value),onKeyDown:M=>{if(M.key==="Enter"){M.preventDefault();const I=w.trim().toLowerCase();I&&!d.tags.includes(I)&&(D("tags",[...d.tags,I]),C(""))}},placeholder:"Type a tag and press Enter",disabled:n,className:`flex-1 px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${n?"bg-gray-100":""}`}),a.createElement("button",{type:"button",onClick:()=>{const M=w.trim().toLowerCase();M&&!d.tags.includes(M)&&(D("tags",[...d.tags,M]),C(""))},disabled:n||!w.trim(),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50"},a.createElement(hn,{className:"h-4 w-4"}))),d.tags.length>0&&a.createElement("div",{className:"flex flex-wrap gap-2 mt-2"},d.tags.map((M,I)=>a.createElement("span",{key:I,className:"inline-flex items-center gap-1 px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full text-sm"},M,a.createElement("button",{type:"button",onClick:()=>{D("tags",d.tags.filter((U,R)=>R!==I))},disabled:n,className:"text-gray-500 hover:text-gray-700"},a.createElement(Bn,{className:"h-3 w-3"})))))),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:d.isLive,onChange:M=>D("isLive",M.target.checked),disabled:n,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),a.createElement("span",{className:"text-sm text-gray-700"},d.isLive?"Live (Available for booking)":"Not Live")),l&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},l)),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200 sticky bottom-0 bg-white"},a.createElement("button",{type:"button",onClick:t,disabled:n,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},n?a.createElement(a.Fragment,null,a.createElement(At,{className:"h-4 w-4 animate-spin"}),a.createElement("span",null,y?"Updating...":"Creating...")):a.createElement("span",null,y?"Update Session":"Create Session")))))}const pv=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",bO=e=>e==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),rue=e=>{if(!e)return"-";if(e<60)return`${e} min`;const t=Math.floor(e/60),r=e%60;return r>0?`${t}h ${r}m`:`${t}h`},nue=(e,t)=>t?Math.min(Math.round(e/t*100),100):0,aue=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";function sue({isOpen:e,onClose:t,session:r,isLoading:n=!1}){if(!r&&!n)return null;const l=r?.bookedSlots||0,o=r?.availableSlots,d=nue(l,o),g=r?.discountPercent||0;return a.createElement(Kr,{isOpen:e,onClose:t,title:"Session Details",size:"lg"},n?a.createElement("div",{className:"py-12 flex flex-col items-center justify-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading session details...")):r?a.createElement("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2"},a.createElement("div",{className:"flex items-start justify-between gap-4 pb-4 border-b border-gray-200"},a.createElement("div",{className:"flex-1"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r.sessionType==="OTO"?"bg-purple-100 text-purple-700":"bg-blue-100 text-gray-900"}`},r.sessionType==="OTO"?"One-to-One":"One-to-Many")),a.createElement("h3",{className:"text-lg font-semibold text-gray-900"},r.title),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},r.shortDescription)),a.createElement("span",{className:`shrink-0 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1.5 ${r.isLive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},r.isLive?a.createElement(Ci,{className:"h-4 w-4"}):a.createElement(ko,{className:"h-4 w-4"}),r.isLive?"Live":"Not Live")),r.imageUrl&&a.createElement("div",{className:"rounded-lg overflow-hidden bg-gray-100"},a.createElement("img",{src:r.imageUrl,alt:r.title,className:"w-full h-48 object-cover",onError:h=>{h.target.style.display="none"}})),a.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},a.createElement(WU,{className:"h-5 w-5 text-gray-800"})),a.createElement("div",null,a.createElement("p",{className:"text-xs text-gray-800 font-medium uppercase"},"Price"),a.createElement("div",{className:"flex items-center gap-2"},a.createElement("p",{className:"text-2xl font-bold text-blue-900"},bO(r.price)),r.compareAtPrice&&r.compareAtPrice>r.price&&a.createElement("p",{className:"text-sm text-gray-500 line-through"},bO(r.compareAtPrice))))),g>0&&a.createElement("div",{className:"flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full"},a.createElement(hj,{className:"h-4 w-4"}),a.createElement("span",{className:"font-semibold"},g,"% OFF")))),a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-2"},"Description"),a.createElement("p",{className:"text-sm text-gray-600 whitespace-pre-wrap"},r.longDescription)),r.sessionType==="OTM"&&o&&a.createElement("div",null,a.createElement("div",{className:"flex items-center justify-between mb-2"},a.createElement("span",{className:"text-sm font-medium text-gray-700"},"Booking Progress"),a.createElement("span",{className:"text-sm text-gray-500"},l," / ",o," booked")),a.createElement("div",{className:"w-full bg-gray-200 rounded-full h-3"},a.createElement("div",{className:`h-3 rounded-full transition-all ${aue(d)}`,style:{width:`${d}%`}})),a.createElement("p",{className:"text-xs text-gray-500 mt-1"},d,"% filled (",o-l," slots remaining)")),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(On,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Duration")),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},rue(r.duration))),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(hi,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Host")),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},r.host)),r.sessionDate&&a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement($r,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Session Date")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},pv(r.sessionDate))),o&&a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(ff,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},r.sessionType==="OTO"?"Slot":"Available Slots")),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},o-l," remaining")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(On,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Created")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},pv(r.createdAt))),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(On,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Last Updated")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},pv(r.updatedAt)))),r.calendlyLink&&a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(ej,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Booking Link")),a.createElement("a",{href:r.calendlyLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-800 hover:text-black hover:underline break-all"},r.calendlyLink)),r.createdBy&&a.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(hi,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Created By")),a.createElement("p",{className:"text-sm font-medium text-gray-900"},r.createdBy.name||r.createdBy.email),r.createdBy.email&&r.createdBy.name&&a.createElement("p",{className:"text-xs text-gray-500"},r.createdBy.email)),a.createElement("div",{className:"pt-4 border-t border-gray-200 sticky bottom-0 bg-white"},a.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"},"Close"))):a.createElement("div",{className:"py-12 text-center text-gray-500"},a.createElement("p",null,"No session data available")))}const Em=e=>e==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),vO=e=>{if(!e)return"-";if(e<60)return`${e}m`;const t=Math.floor(e/60),r=e%60;return r>0?`${t}h ${r}m`:`${t}h`},lue=(e,t)=>t?Math.min(Math.round(e/t*100),100):0,iue=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500",Rh={live:"bg-green-100 text-green-700",notLive:"bg-gray-100 text-gray-600"},EO={OTO:"bg-purple-100 text-purple-700",OTM:"bg-gray-100 text-gray-700"},wO=[{value:"therapeutic",label:"Therapeutic"},{value:"mental_wellness",label:"Mental Wellness"},{value:"career",label:"Career"},{value:"relationships",label:"Relationships"},{value:"lifestyle",label:"Lifestyle"},{value:"other",label:"Other"}],NO={therapeutic:"bg-blue-100 text-blue-700",mental_wellness:"bg-green-100 text-green-700",career:"bg-amber-100 text-amber-700",relationships:"bg-pink-100 text-pink-700",lifestyle:"bg-indigo-100 text-indigo-700",other:"bg-gray-100 text-gray-700"},Lh={pending:{color:"bg-amber-100 text-amber-700",label:"Pending"},confirmed:{color:"bg-blue-100 text-blue-700",label:"Confirmed"},completed:{color:"bg-green-100 text-green-700",label:"Completed"},cancelled:{color:"bg-red-100 text-red-700",label:"Cancelled"},no_show:{color:"bg-gray-100 text-gray-700",label:"No Show"}},SO=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",oue=e=>e?new Date(e).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";function cue(){const{sessions:e,pagination:t,filters:r,isLoading:n,error:l,fetchSessions:o,createSession:d,getSessionById:g,updateSession:h,toggleSessionLive:x,deleteSession:y,searchSessions:w,updateFilters:C,resetFilters:_,changePage:D,clearError:k,bookings:M,bookingPagination:I,bookingFilters:U,isLoadingBookings:R,bookingError:G,fetchBookings:F,updateBooking:j,updateBookingFilters:L,resetBookingFilters:H,changeBookingPage:V,clearBookingError:Q}=Jce(),[Y,X]=N.useState(!1),[he,pe]=N.useState(!1),[se,J]=N.useState(!1),[ae,Ee]=N.useState(null),[be,re]=N.useState(null),[W,te]=N.useState(!1),[me,ue]=N.useState(!1),[Ne,le]=N.useState(null),[oe,ze]=N.useState("sessions"),[ve,Ye]=N.useState(!1),[rt,Le]=N.useState(r.search||""),[ye,Ue]=N.useState(r.isLive||""),[Se,We]=N.useState(r.sessionType||""),[_e,et]=N.useState(r.category||""),[lt,vt]=N.useState(U.status||""),[Qe,st]=N.useState(U.sessionId||""),[Re,ft]=N.useState(null),[Zt,xt]=N.useState(!1),Qt=N.useCallback(()=>{le(null),re(null),X(!0)},[]),Dr=N.useCallback(async Be=>{le(null),te(!0);try{const Et=await g(Be._id);Et.success?(re(Et.data),X(!0)):alert(Et.error||"Failed to load session details")}catch{alert("An unexpected error occurred")}finally{te(!1)}},[g]),fr=N.useCallback(()=>{X(!1),le(null),re(null)},[]),Xn=N.useCallback(async Be=>{ue(!0),le(null);try{let Et;return be?Et=await h(be._id,Be):Et=await d(Be),Et.success?Et:(le(Et.error||"Failed to save session"),{success:!1})}catch{return le("An unexpected error occurred"),{success:!1}}finally{ue(!1)}},[d,h,be]),aa=N.useCallback(async Be=>{Ee(Be),pe(!0),te(!0);try{const Et=await g(Be._id);Et.success&&Ee(Et.data)}catch(Et){console.error("[Sessions] Failed to fetch details:",Et)}finally{te(!1)}},[g]),wa=N.useCallback(()=>{pe(!1),Ee(null)},[]),zt=N.useCallback(async Be=>{ue(!0);try{const Et=await x(Be._id,Be.isLive);Et.success||alert(Et.error||"Failed to update session status")}catch{alert("An unexpected error occurred")}finally{ue(!1)}},[x]),ge=N.useCallback(Be=>{Ee(Be),J(!0)},[]),tt=N.useCallback(()=>{J(!1),Ee(null)},[]),nt=N.useCallback(async()=>{if(ae){ue(!0);try{const Be=await y(ae._id);Be.success?tt():alert(Be.error||"Failed to delete session")}catch{alert("An unexpected error occurred")}finally{ue(!1)}}},[ae,y,tt]),Ct=N.useCallback(Be=>{const Et=Be.target.value;Le(Et),w(Et)},[w]),hr=N.useCallback(()=>{C({search:rt,isLive:ye,sessionType:Se,category:_e}),Ye(!1)},[rt,ye,Se,_e,C]),sa=N.useCallback(()=>{Le(""),Ue(""),We(""),et(""),_(),Ye(!1)},[_]),ln=N.useCallback(()=>{L({status:lt,sessionId:Qe}),Ye(!1)},[lt,Qe,L]),gt=N.useCallback(()=>{vt(""),st(""),H(),Ye(!1)},[H]),Ze=N.useCallback(async(Be,Et)=>{xt(!0);try{const Wn=await j(Be,{status:Et});Wn.success||alert(Wn.error||"Failed to update booking status")}catch(Wn){console.error("[Sessions] Error updating booking:",Wn),alert("An unexpected error occurred")}finally{xt(!1),ft(null)}},[j]),Bt=N.useCallback(()=>{oe==="sessions"?o(t.currentPage):F(I.currentPage)},[oe,o,F,t.currentPage,I.currentPage]),Yr=N.useMemo(()=>r.search||r.isLive!==""||r.sessionType||r.category,[r]),Zr=N.useMemo(()=>U.status||U.sessionId,[U]);return N.useEffect(()=>{oe==="bookings"&&F(1)},[oe]),N.useEffect(()=>{oe==="bookings"&&F(1)},[U]),a.createElement("div",{className:"space-y-4 sm:space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"Sessions"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Create and manage coaching sessions and bookings")),oe==="sessions"&&a.createElement("button",{onClick:Qt,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},a.createElement(hn,{className:"h-5 w-5"}),a.createElement("span",null,"Create Session"))),a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement("div",{className:"flex border-b border-gray-200"},a.createElement("button",{onClick:()=>ze("sessions"),className:`flex-1 sm:flex-none px-6 py-3 text-sm font-medium transition-colors relative ${oe==="sessions"?"text-gray-900":"text-gray-500 hover:text-gray-700"}`},a.createElement("div",{className:"flex items-center justify-center gap-2"},a.createElement(ui,{className:"h-4 w-4"}),a.createElement("span",null,"Sessions"),a.createElement("span",{className:"px-2 py-0.5 text-xs bg-gray-100 rounded-full"},t.totalCount)),oe==="sessions"&&a.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-800"})),a.createElement("button",{onClick:()=>ze("bookings"),className:`flex-1 sm:flex-none px-6 py-3 text-sm font-medium transition-colors relative ${oe==="bookings"?"text-gray-900":"text-gray-500 hover:text-gray-700"}`},a.createElement("div",{className:"flex items-center justify-center gap-2"},a.createElement(oU,{className:"h-4 w-4"}),a.createElement("span",null,"Bookings"),a.createElement("span",{className:"px-2 py-0.5 text-xs bg-gray-100 rounded-full"},I.totalCount)),oe==="bookings"&&a.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-800"})))),(l||G)&&a.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("div",{className:"flex-1"},a.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading ",l?"sessions":"bookings"),a.createElement("p",{className:"text-sm text-red-700 mt-0.5"},l||G)),a.createElement("button",{onClick:l?k:Q,className:"shrink-0 text-red-600 hover:text-red-800"},"")),a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},oe==="sessions"?a.createElement(a.Fragment,null,a.createElement("div",{className:"relative flex-1 max-w-md"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{type:"text",value:rt,onChange:Ct,placeholder:"Search sessions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),a.createElement("button",{onClick:()=>Ye(!ve),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Yr?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),Yr&&a.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(r.search?1:0)+(r.isLive!==""?1:0)+(r.sessionType?1:0)+(r.category?1:0)),a.createElement(Tl,{className:`h-4 w-4 transition-transform ${ve?"rotate-180":""}`}))):a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>Ye(!ve),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Zr?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),Zr&&a.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(U.status?1:0)+(U.sessionId?1:0)),a.createElement(Tl,{className:`h-4 w-4 transition-transform ${ve?"rotate-180":""}`}))),a.createElement("button",{onClick:Bt,disabled:n||R,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},a.createElement(_l,{className:`h-4 w-4 ${n||R?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Refresh")),a.createElement("div",{className:"ml-auto text-sm text-gray-500"},oe==="sessions"?a.createElement(a.Fragment,null,t.totalCount," session",t.totalCount!==1?"s":""," total"):a.createElement(a.Fragment,null,I.totalCount," booking",I.totalCount!==1?"s":""," total"))),ve&&oe==="sessions"&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{value:ye,onChange:Be=>Ue(Be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Status"),a.createElement("option",{value:"true"},"Live"),a.createElement("option",{value:"false"},"Not Live"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Session Type"),a.createElement("select",{value:Se,onChange:Be=>We(Be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Types"),a.createElement("option",{value:"OTO"},"One-to-One (OTO)"),a.createElement("option",{value:"OTM"},"One-to-Many (OTM)"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Category"),a.createElement("select",{value:_e,onChange:Be=>et(Be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Categories"),wO.map(Be=>a.createElement("option",{key:Be.value,value:Be.value},Be.label)))),a.createElement("div",{className:"flex items-end gap-2 sm:col-span-2"},a.createElement("button",{onClick:hr,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),a.createElement("button",{onClick:sa,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset")))),ve&&oe==="bookings"&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Booking Status"),a.createElement("select",{value:lt,onChange:Be=>vt(Be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Status"),a.createElement("option",{value:"pending"},"Pending"),a.createElement("option",{value:"confirmed"},"Confirmed"),a.createElement("option",{value:"completed"},"Completed"),a.createElement("option",{value:"cancelled"},"Cancelled"),a.createElement("option",{value:"no_show"},"No Show"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Session"),a.createElement("select",{value:Qe,onChange:Be=>st(Be.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Sessions"),e.map(Be=>a.createElement("option",{key:Be._id,value:Be._id},Be.title)))),a.createElement("div",{className:"flex items-end gap-2 sm:col-span-2"},a.createElement("button",{onClick:ln,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),a.createElement("button",{onClick:gt,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),oe==="sessions"&&a.createElement(a.Fragment,null,a.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Session"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Type"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Category"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Price"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Duration"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Host"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,n&&e.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:8,className:"px-6 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading sessions..."))):e.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:8,className:"px-6 py-12 text-center"},a.createElement(ui,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No sessions found"),a.createElement("button",{onClick:Qt,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first session"))):e.map(Be=>a.createElement("tr",{key:Be._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"max-w-[200px]"},a.createElement("p",{className:"font-medium text-gray-900 truncate"},Be.title),a.createElement("p",{className:"text-xs text-gray-500 truncate mt-0.5"},Be.shortDescription))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${EO[Be.sessionType]}`},Be.sessionType==="OTO"?"OTO":"OTM")),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${NO[Be.category]||NO.other}`},wO.find(Et=>Et.value===Be.category)?.label||"Other")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-1"},a.createElement("span",{className:"font-semibold text-gray-900"},Em(Be.price)),Be.compareAtPrice&&Be.compareAtPrice>Be.price&&a.createElement("span",{className:"text-xs text-gray-400 line-through"},Em(Be.compareAtPrice)))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-1 text-gray-600"},a.createElement(On,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm"},vO(Be.duration)))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement("div",{className:"w-7 h-7 bg-gray-200 rounded-full flex items-center justify-center"},a.createElement(hi,{className:"h-4 w-4 text-gray-500"})),a.createElement("span",{className:"text-sm text-gray-700 truncate max-w-[100px]"},Be.host))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Be.isLive?Rh.live:Rh.notLive}`},Be.isLive?"Live":"Not Live")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1"},a.createElement("button",{onClick:()=>zt(Be),disabled:me,className:`p-2 rounded-lg transition-colors ${Be.isLive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:Be.isLive?"Set Not Live":"Set Live"},Be.isLive?a.createElement(fi,{className:"h-5 w-5"}):a.createElement(Dl,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>aa(Be),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},a.createElement(an,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Dr(Be),disabled:W,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit session"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>ge(Be),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},a.createElement(vr,{className:"h-4 w-4"}))))))))),t.totalPages>0&&a.createElement(Ln,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:D,itemLabel:"sessions"})),a.createElement("div",{className:"md:hidden space-y-4"},n&&e.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading sessions...")):e.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(ui,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No sessions found"),a.createElement("button",{onClick:Qt,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first session")):a.createElement(a.Fragment,null,e.map(Be=>{const Et=lue(Be.bookedSlots||0,Be.availableSlots);return a.createElement("div",{key:Be._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},a.createElement("div",{className:"flex items-start justify-between gap-3"},a.createElement("div",{className:"min-w-0 flex-1"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${EO[Be.sessionType]}`},Be.sessionType),a.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Be.isLive?Rh.live:Rh.notLive}`},Be.isLive?"Live":"Not Live")),a.createElement("p",{className:"font-medium text-gray-900 truncate"},Be.title),a.createElement("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-2"},Be.shortDescription))),a.createElement("div",{className:"grid grid-cols-3 gap-2 text-center"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Price"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Em(Be.price))),a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Duration"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},vO(Be.duration))),a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Host"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm truncate"},Be.host))),Be.sessionType==="OTM"&&Be.availableSlots&&a.createElement("div",null,a.createElement("div",{className:"flex items-center justify-between text-xs mb-1"},a.createElement("span",{className:"text-gray-600"},Be.bookedSlots||0," / ",Be.availableSlots," booked"),a.createElement("span",{className:"text-gray-400"},Et,"%")),a.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},a.createElement("div",{className:`h-2 rounded-full ${iue(Et)}`,style:{width:`${Et}%`}}))),a.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},a.createElement("button",{onClick:()=>zt(Be),disabled:me,className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${Be.isLive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},Be.isLive?a.createElement(a.Fragment,null,a.createElement(fi,{className:"h-4 w-4"}),"Live"):a.createElement(a.Fragment,null,a.createElement(Dl,{className:"h-4 w-4"}),"Off")),a.createElement("button",{onClick:()=>aa(Be),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},a.createElement(an,{className:"h-4 w-4"}),"Details"),a.createElement("button",{onClick:()=>Dr(Be),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>ge(Be),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},a.createElement(vr,{className:"h-4 w-4"}))))}),t.totalPages>0&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:D,itemLabel:"sessions"}))))),oe==="bookings"&&a.createElement(a.Fragment,null,a.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"User"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Session"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Scheduled Date"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Amount"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Booked On"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,R&&M.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading bookings..."))):M.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},a.createElement(lh,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No bookings found"))):M.map(Be=>a.createElement("tr",{key:Be._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center"},a.createElement(hi,{className:"h-4 w-4 text-gray-500"})),a.createElement("div",{className:"min-w-0"},a.createElement("p",{className:"font-medium text-gray-900 truncate max-w-[150px]"},Be.userId?.name||"Unknown User"),a.createElement("p",{className:"text-xs text-gray-500 truncate max-w-[150px]"},Be.userId?.email||"-")))),a.createElement("td",{className:"px-6 py-4"},a.createElement("p",{className:"font-medium text-gray-900 truncate max-w-[180px]"},Be.sessionId?.title||"Unknown Session"),a.createElement("p",{className:"text-xs text-gray-500"},Be.sessionId?.sessionType||"-")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-1 text-gray-600"},a.createElement($r,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm"},oue(Be.scheduledSlot)))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:"font-semibold text-gray-900"},Em(Be.amountPaid))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Lh[Be.status]?.color||"bg-gray-100 text-gray-700"}`},Lh[Be.status]?.label||Be.status)),a.createElement("td",{className:"px-6 py-4 text-sm text-gray-500"},SO(Be.createdAt)),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1"},Be.status==="pending"&&a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>Ze(Be._id,"confirmed"),disabled:Zt,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Confirm"},a.createElement(As,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Ze(Be._id,"cancelled"),disabled:Zt,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Cancel"},a.createElement(Bn,{className:"h-4 w-4"}))),Be.status==="confirmed"&&a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>Ze(Be._id,"completed"),disabled:Zt,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Mark Completed"},a.createElement(As,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Ze(Be._id,"no_show"),disabled:Zt,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"No Show"},a.createElement(lh,{className:"h-4 w-4"})))))))))),I.totalPages>0&&a.createElement(Ln,{currentPage:I.currentPage,totalPages:I.totalPages,totalItems:I.totalCount,itemsPerPage:I.limit,onPageChange:V,itemLabel:"bookings"})),a.createElement("div",{className:"md:hidden space-y-4"},R&&M.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading bookings...")):M.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(lh,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No bookings found")):a.createElement(a.Fragment,null,M.map(Be=>a.createElement("div",{key:Be._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},a.createElement("div",{className:"flex items-start justify-between gap-3"},a.createElement("div",{className:"min-w-0 flex-1"},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Lh[Be.status]?.color||"bg-gray-100 text-gray-700"}`},Lh[Be.status]?.label||Be.status)),a.createElement("p",{className:"font-medium text-gray-900 truncate"},Be.userId?.name||"Unknown User"),a.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},Be.userId?.email||"-"))),a.createElement("div",{className:"p-2 bg-gray-50 rounded-lg"},a.createElement("p",{className:"text-xs text-gray-500"},"Session"),a.createElement("p",{className:"font-medium text-gray-900 text-sm truncate"},Be.sessionId?.title||"Unknown Session")),a.createElement("div",{className:"grid grid-cols-2 gap-2 text-center"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Scheduled"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},SO(Be.scheduledSlot))),a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Amount"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Em(Be.amountPaid)))),(Be.status==="pending"||Be.status==="confirmed")&&a.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},Be.status==="pending"&&a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>Ze(Be._id,"confirmed"),disabled:Zt,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors"},a.createElement(As,{className:"h-4 w-4"}),"Confirm"),a.createElement("button",{onClick:()=>Ze(Be._id,"cancelled"),disabled:Zt,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200 transition-colors"},a.createElement(Bn,{className:"h-4 w-4"}),"Cancel")),Be.status==="confirmed"&&a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>Ze(Be._id,"completed"),disabled:Zt,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors"},a.createElement(As,{className:"h-4 w-4"}),"Complete"),a.createElement("button",{onClick:()=>Ze(Be._id,"no_show"),disabled:Zt,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},a.createElement(lh,{className:"h-4 w-4"}),"No Show"))))),I.totalPages>0&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:I.currentPage,totalPages:I.totalPages,totalItems:I.totalCount,itemsPerPage:I.limit,onPageChange:V,itemLabel:"bookings"}))))),a.createElement(tue,{isOpen:Y,onClose:fr,onSubmit:Xn,isLoading:me,serverError:Ne,sessionToEdit:be}),a.createElement(sue,{isOpen:he,onClose:wa,session:ae,isLoading:W}),a.createElement(va,{isOpen:se,onClose:tt,onConfirm:nt,title:"Delete Session",message:`Are you sure you want to delete the session "${ae?.title}"? This action can be undone by restoring from deleted sessions.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:me}))}const wm={BASE:"/web/sos/quizzes",GET_BY_ID:e=>`/web/sos/quizzes/${e}`,UPDATE:e=>`/web/sos/quizzes/${e}`,DELETE:e=>`/web/sos/quizzes/${e}`},Nm={getAll:async(e={})=>{const{page:t=1,limit:r=10,sortBy:n="createdAt",sortOrder:l="desc",programId:o="",dayNumber:d="",isActive:g=""}=e,h=new URLSearchParams;h.append("page",t.toString()),h.append("limit",r.toString()),h.append("sortBy",n),h.append("sortOrder",l),o&&h.append("programId",o),d&&h.append("dayNumber",d.toString()),g!==""&&h.append("isActive",g);const x=`${wm.BASE}?${h.toString()}`;return console.log("[SOSQuizService] Fetching quizzes:",x),Xe(Ge.get(x))},getById:async e=>e?(console.log("[SOSQuizService] Fetching quiz:",e),Xe(Ge.get(wm.GET_BY_ID(e)))):(console.error("[SOSQuizService] getById: No ID provided"),{success:!1,error:"Quiz ID is required"}),create:async e=>(console.log("[SOSQuizService] Creating quiz:",e.title,"for program:",e.programId,"day:",e.dayNumber),e.programId?e.dayNumber?Xe(Ge.post(wm.BASE,e)):(console.error("[SOSQuizService] create: No dayNumber provided"),{success:!1,error:"Day number is required"}):(console.error("[SOSQuizService] create: No programId provided"),{success:!1,error:"Program ID is required"})),update:async(e,t)=>{if(!e)return console.error("[SOSQuizService] update: No ID provided"),{success:!1,error:"Quiz ID is required"};console.log("[SOSQuizService] Updating quiz:",e);const{programId:r,dayNumber:n,...l}=t;return(r||n)&&console.warn("[SOSQuizService] Ignoring programId and dayNumber in update - these cannot be changed"),Xe(Ge.put(wm.UPDATE(e),l))},delete:async e=>e?(console.log("[SOSQuizService] Deleting quiz:",e),Xe(Ge.delete(wm.DELETE(e)))):(console.error("[SOSQuizService] delete: No ID provided"),{success:!1,error:"Quiz ID is required"}),buildQuestion:e=>{const{questionText:t,questionType:r,options:n=[],points:l=5}=e,o={questionText:t,questionType:r,points:l};return(r==="scale"||r==="single-choice"||r==="multiple-choice")&&(o.options=n.map((d,g)=>({text:d.text,value:d.value??g+1}))),o}};function uue(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,d]=N.useState({programId:"",dayNumber:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),w=N.useRef(null),C=N.useCallback(async(L=n.currentPage)=>{h(!0),y(null);try{const H={page:L,limit:n.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.programId&&{programId:o.programId},...o.dayNumber&&{dayNumber:o.dayNumber},...o.isActive!==""&&{isActive:o.isActive}};console.log("[useSOSQuizzes] Fetching quizzes with params:",H);const V=await Nm.getAll(H);V.success?(r(V.data.quizzes||[]),l({currentPage:V.data.pagination?.currentPage||1,totalPages:V.data.pagination?.totalPages||0,totalCount:V.data.pagination?.totalCount||0,limit:V.data.pagination?.limit||10}),console.log("[useSOSQuizzes] Fetched quizzes:",V.data.quizzes?.length)):(console.error("[useSOSQuizzes] Failed to fetch quizzes:",V.message),y(V.message||"Failed to fetch quizzes"),r([]))}catch(H){console.error("[useSOSQuizzes] Error fetching quizzes:",H),y("Failed to fetch quizzes"),r([])}finally{h(!1)}},[o,n.limit]),_=N.useCallback(async L=>{try{console.log("[useSOSQuizzes] Creating quiz:",L.title,"for program:",L.programId);const H=await Nm.create(L);return H.success?(console.log("[useSOSQuizzes] Quiz created successfully"),await C(1),{success:!0,data:H.data}):(console.error("[useSOSQuizzes] Failed to create quiz:",H.message),{success:!1,error:H.message,validationErrors:H.error})}catch(H){return console.error("[useSOSQuizzes] Error creating quiz:",H),{success:!1,error:"Failed to create quiz"}}},[C]),D=N.useCallback(async L=>{try{console.log("[useSOSQuizzes] Fetching quiz by ID:",L);const H=await Nm.getById(L);return H.success?{success:!0,data:H.data.quiz}:(console.error("[useSOSQuizzes] Failed to fetch quiz:",H.message),{success:!1,error:H.message})}catch(H){return console.error("[useSOSQuizzes] Error fetching quiz:",H),{success:!1,error:"Failed to fetch quiz details"}}},[]),k=N.useCallback(async(L,H)=>{try{console.log("[useSOSQuizzes] Updating quiz:",L);const V=await Nm.update(L,H);return V.success?(console.log("[useSOSQuizzes] Quiz updated successfully"),r(Q=>Q.map(Y=>Y._id===L?{...Y,...V.data.quiz}:Y)),{success:!0,data:V.data}):(console.error("[useSOSQuizzes] Failed to update quiz:",V.message),{success:!1,error:V.message,validationErrors:V.error})}catch(V){return console.error("[useSOSQuizzes] Error updating quiz:",V),{success:!1,error:"Failed to update quiz"}}},[]),M=N.useCallback(async L=>{try{console.log("[useSOSQuizzes] Deleting quiz:",L);const H=await Nm.delete(L);return H.success?(console.log("[useSOSQuizzes] Quiz deleted successfully"),r(V=>V.filter(Q=>Q._id!==L)),l(V=>({...V,totalCount:V.totalCount-1,totalPages:Math.ceil((V.totalCount-1)/V.limit)})),{success:!0}):(console.error("[useSOSQuizzes] Failed to delete quiz:",H.message),{success:!1,error:H.message})}catch(H){return console.error("[useSOSQuizzes] Error deleting quiz:",H),{success:!1,error:"Failed to delete quiz"}}},[]),I=N.useCallback(L=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{d(H=>({...H,programId:L}))},300)},[]),U=N.useCallback(L=>{d(H=>({...H,...L}))},[]),R=N.useCallback(()=>{d({programId:"",dayNumber:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),G=N.useCallback(L=>{C(L)},[C]),F=N.useCallback(L=>{l(H=>({...H,limit:L}))},[]),j=N.useCallback(()=>{y(null)},[]);return N.useEffect(()=>{C(1)},[o]),N.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),{quizzes:t,pagination:n,filters:o,isLoading:g,error:x,fetchQuizzes:C,createQuiz:_,getQuizById:D,updateQuiz:k,deleteQuiz:M,filterByProgram:I,updateFilters:U,resetFilters:R,changePage:G,changeLimit:F,clearError:j}}const ho={BASE:"/web/sos/programs",GET_BY_ID:e=>`/web/sos/programs/${e}`,UPDATE:e=>`/web/sos/programs/${e}`,DELETE:e=>`/web/sos/programs/${e}`,TOGGLE_STATUS:e=>`/web/sos/programs/${e}/toggle-status`,STATS:e=>`/web/sos/programs/${e}/stats`,QUIZZES:e=>`/web/sos/programs/${e}/quizzes`},go={getAll:async(e={})=>{const{page:t=1,limit:r=10,sortBy:n="createdAt",sortOrder:l="desc",type:o="",isActive:d="",search:g=""}=e,h=new URLSearchParams;h.append("page",t.toString()),h.append("limit",r.toString()),h.append("sortBy",n),h.append("sortOrder",l),o&&h.append("type",o),d!==""&&h.append("isActive",d),g&&h.append("search",g);const x=`${ho.BASE}?${h.toString()}`;return console.log("[SOSProgramService] Fetching programs:",x),Xe(Ge.get(x))},getById:async e=>e?(console.log("[SOSProgramService] Fetching program:",e),Xe(Ge.get(ho.GET_BY_ID(e)))):(console.error("[SOSProgramService] getById: No ID provided"),{success:!1,error:"Program ID is required"}),create:async e=>(console.log("[SOSProgramService] Creating program:",e.title),Xe(Ge.post(ho.BASE,e))),update:async(e,t)=>e?(console.log("[SOSProgramService] Updating program:",e),Xe(Ge.put(ho.UPDATE(e),t))):(console.error("[SOSProgramService] update: No ID provided"),{success:!1,error:"Program ID is required"}),delete:async e=>e?(console.log("[SOSProgramService] Deleting program:",e),Xe(Ge.delete(ho.DELETE(e)))):(console.error("[SOSProgramService] delete: No ID provided"),{success:!1,error:"Program ID is required"}),toggleStatus:async e=>e?(console.log("[SOSProgramService] Toggling status for program:",e),Xe(Ge.patch(ho.TOGGLE_STATUS(e)))):(console.error("[SOSProgramService] toggleStatus: No ID provided"),{success:!1,error:"Program ID is required"}),getStats:async e=>e?(console.log("[SOSProgramService] Fetching stats for program:",e),Xe(Ge.get(ho.STATS(e)))):(console.error("[SOSProgramService] getStats: No ID provided"),{success:!1,error:"Program ID is required"}),getQuizzes:async e=>e?(console.log("[SOSProgramService] Fetching quizzes for program:",e),Xe(Ge.get(ho.QUIZZES(e)))):(console.error("[SOSProgramService] getQuizzes: No ID provided"),{success:!1,error:"Program ID is required"})};function due(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,d]=N.useState({search:"",type:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),w=N.useRef(null),C=N.useCallback(async(Q=n.currentPage)=>{h(!0),y(null);try{const Y={page:Q,limit:n.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.type&&{type:o.type},...o.isActive!==""&&{isActive:o.isActive}};console.log("[useSOSPrograms] Fetching programs with params:",Y);const X=await go.getAll(Y);X.success?(r(X.data.programs||[]),l({currentPage:X.data.pagination?.currentPage||1,totalPages:X.data.pagination?.totalPages||0,totalCount:X.data.pagination?.totalCount||0,limit:X.data.pagination?.limit||10}),console.log("[useSOSPrograms] Fetched programs:",X.data.programs?.length)):(console.error("[useSOSPrograms] Failed to fetch programs:",X.message),y(X.message||"Failed to fetch programs"),r([]))}catch(Y){console.error("[useSOSPrograms] Error fetching programs:",Y),y("Failed to fetch programs"),r([])}finally{h(!1)}},[o,n.limit]),_=N.useCallback(async Q=>{try{console.log("[useSOSPrograms] Creating program:",Q.title);const Y=await go.create(Q);return Y.success?(console.log("[useSOSPrograms] Program created successfully"),await C(1),{success:!0,data:Y.data}):(console.error("[useSOSPrograms] Failed to create program:",Y.message),{success:!1,error:Y.message,validationErrors:Y.error})}catch(Y){return console.error("[useSOSPrograms] Error creating program:",Y),{success:!1,error:"Failed to create program"}}},[C]),D=N.useCallback(async Q=>{try{console.log("[useSOSPrograms] Fetching program by ID:",Q);const Y=await go.getById(Q);return Y.success?{success:!0,data:Y.data.program}:(console.error("[useSOSPrograms] Failed to fetch program:",Y.message),{success:!1,error:Y.message})}catch(Y){return console.error("[useSOSPrograms] Error fetching program:",Y),{success:!1,error:"Failed to fetch program details"}}},[]),k=N.useCallback(async Q=>{try{console.log("[useSOSPrograms] Fetching stats for program:",Q);const Y=await go.getStats(Q);return Y.success?{success:!0,data:Y.data}:(console.error("[useSOSPrograms] Failed to fetch program stats:",Y.message),{success:!1,error:Y.message})}catch(Y){return console.error("[useSOSPrograms] Error fetching program stats:",Y),{success:!1,error:"Failed to fetch program statistics"}}},[]),M=N.useCallback(async Q=>{try{console.log("[useSOSPrograms] Fetching quizzes for program:",Q);const Y=await go.getQuizzes(Q);return Y.success?{success:!0,data:Y.data}:(console.error("[useSOSPrograms] Failed to fetch program quizzes:",Y.message),{success:!1,error:Y.message})}catch(Y){return console.error("[useSOSPrograms] Error fetching program quizzes:",Y),{success:!1,error:"Failed to fetch program quizzes"}}},[]),I=N.useCallback(async(Q,Y)=>{try{console.log("[useSOSPrograms] Updating program:",Q);const X=await go.update(Q,Y);return X.success?(console.log("[useSOSPrograms] Program updated successfully"),r(he=>he.map(pe=>pe._id===Q?{...pe,...X.data.program}:pe)),{success:!0,data:X.data}):(console.error("[useSOSPrograms] Failed to update program:",X.message),{success:!1,error:X.message,validationErrors:X.error})}catch(X){return console.error("[useSOSPrograms] Error updating program:",X),{success:!1,error:"Failed to update program"}}},[]),U=N.useCallback(async(Q,Y)=>{try{console.log("[useSOSPrograms] Toggling status for program:",Q);const X=await go.toggleStatus(Q);return X.success?(console.log("[useSOSPrograms] Program status toggled successfully"),r(he=>he.map(pe=>pe._id===Q?{...pe,isActive:!Y}:pe)),{success:!0}):(console.error("[useSOSPrograms] Failed to toggle program status:",X.message),{success:!1,error:X.message})}catch(X){return console.error("[useSOSPrograms] Error toggling program status:",X),{success:!1,error:"Failed to update program status"}}},[]),R=N.useCallback(async Q=>{try{console.log("[useSOSPrograms] Deleting program:",Q);const Y=await go.delete(Q);return Y.success?(console.log("[useSOSPrograms] Program deleted successfully"),r(X=>X.filter(he=>he._id!==Q)),l(X=>({...X,totalCount:X.totalCount-1,totalPages:Math.ceil((X.totalCount-1)/X.limit)})),{success:!0}):(console.error("[useSOSPrograms] Failed to delete program:",Y.message),{success:!1,error:Y.message})}catch(Y){return console.error("[useSOSPrograms] Error deleting program:",Y),{success:!1,error:"Failed to delete program"}}},[]),G=N.useCallback(Q=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{d(Y=>({...Y,search:Q}))},300)},[]),F=N.useCallback(Q=>{d(Y=>({...Y,...Q}))},[]),j=N.useCallback(()=>{d({search:"",type:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),L=N.useCallback(Q=>{C(Q)},[C]),H=N.useCallback(Q=>{l(Y=>({...Y,limit:Q}))},[]),V=N.useCallback(()=>{y(null)},[]);return N.useEffect(()=>{C(1)},[o]),N.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),{programs:t,pagination:n,filters:o,isLoading:g,error:x,fetchPrograms:C,createProgram:_,getProgramById:D,getProgramStats:k,getProgramQuizzes:M,updateProgram:I,toggleProgramStatus:U,deleteProgram:R,searchPrograms:G,updateFilters:F,resetFilters:j,changePage:L,changeLimit:H,clearError:V}}const CO=()=>({programId:"",dayNumber:"",title:"",description:"",questions:[],isActive:!0}),mue=()=>({questionText:"",questionType:"single-choice",options:[{text:"",value:1},{text:"",value:2}],points:5}),fue=[{value:"scale",label:"Scale (1-5)",description:"Rating scale from 1 to 5"},{value:"single-choice",label:"Single Choice",description:"Choose one option"},{value:"multiple-choice",label:"Multiple Choice",description:"Select multiple options"},{value:"boolean",label:"Yes/No",description:"True or false question"},{value:"text",label:"Text",description:"Free text response"}];function hue({isOpen:e,onClose:t,onSubmit:r,isLoading:n=!1,serverError:l=null,quizToEdit:o=null,programs:d=[],selectedProgram:g=null}){const[h,x]=N.useState(CO()),[y,w]=N.useState({}),[C,_]=N.useState("basic"),D=!!o,k=d.find(V=>V._id===h.programId)||g;N.useEffect(()=>{e&&(x(o?{programId:o.programId?._id||o.programId||"",dayNumber:o.dayNumber?.toString()||"",title:o.title||"",description:o.description||"",questions:o.questions?.map(V=>({questionText:V.questionText||"",questionType:V.questionType||"single-choice",options:V.options||[{text:"",value:1},{text:"",value:2}],points:V.points||5}))||[],isActive:o.isActive??!0}:{...CO(),programId:g?._id||""}),w({}),_("basic"))},[e,o,g]);const M=V=>{const Q={};if(!D&&!V.programId&&(Q.programId="Please select a program"),!D)if(!V.dayNumber)Q.dayNumber="Day number is required";else{const Y=parseInt(V.dayNumber,10);isNaN(Y)||Y<1?Q.dayNumber="Day number must be at least 1":k&&Y>k.durationDays&&(Q.dayNumber=`Day number cannot exceed program duration (${k.durationDays} days)`)}if(V.title.trim()?V.title.length>200&&(Q.title="Title must be less than 200 characters"):Q.title="Title is required",V.questions.length===0)Q.questions="At least one question is required";else{const Y=[];V.questions.forEach((X,he)=>{const pe={};X.questionText.trim()||(pe.questionText="Question text is required"),(X.questionType==="scale"||X.questionType==="single-choice"||X.questionType==="multiple-choice")&&X.options&&(X.options.some(J=>!J.text.trim())&&(pe.options="All options must have text"),X.options.length<2&&(pe.options="At least 2 options are required")),Object.keys(pe).length>0&&(Y[he]=pe)}),(Y.length>0||Object.keys(Y).some(X=>Y[X]))&&(Q.questionErrors=Y)}return{isValid:Object.keys(Q).length===0,errors:Q}},I=(V,Q)=>{x(Y=>({...Y,[V]:Q})),y[V]&&w(Y=>{const X={...Y};return delete X[V],X})},U=()=>{x(V=>({...V,questions:[...V.questions,mue()]}))},R=V=>{x(Q=>({...Q,questions:Q.questions.filter((Y,X)=>X!==V)}))},G=(V,Q,Y)=>{x(X=>({...X,questions:X.questions.map((he,pe)=>{if(pe!==V)return he;const se={...he,[Q]:Y};return Q==="questionType"&&(Y==="scale"?se.options=[{text:"Very Bad",value:1},{text:"Bad",value:2},{text:"Neutral",value:3},{text:"Good",value:4},{text:"Very Good",value:5}]:Y==="single-choice"||Y==="multiple-choice"?se.options=[{text:"",value:1},{text:"",value:2}]:(Y==="boolean"||Y==="text")&&(se.options=[])),se})}))},F=V=>{x(Q=>({...Q,questions:Q.questions.map((Y,X)=>X!==V?Y:{...Y,options:[...Y.options,{text:"",value:Y.options.length+1}]})}))},j=(V,Q)=>{x(Y=>({...Y,questions:Y.questions.map((X,he)=>he!==V?X:{...X,options:X.options.filter((pe,se)=>se!==Q).map((pe,se)=>({...pe,value:se+1}))})}))},L=(V,Q,Y)=>{x(X=>({...X,questions:X.questions.map((he,pe)=>pe!==V?he:{...he,options:he.options.map((se,J)=>J!==Q?se:{...se,text:Y})})}))},H=async V=>{V.preventDefault();const{isValid:Q,errors:Y}=M(h);if(!Q){w(Y),(Y.questions||Y.questionErrors)&&_("questions");return}const X={title:h.title.trim(),description:h.description.trim(),questions:h.questions.map(pe=>({questionText:pe.questionText.trim(),questionType:pe.questionType,points:pe.points,...pe.questionType==="scale"||pe.questionType==="single-choice"||pe.questionType==="multiple-choice"?{options:pe.options.map(se=>({text:se.text.trim(),value:se.value}))}:{}})),isActive:h.isActive};D||(X.programId=h.programId,X.dayNumber=parseInt(h.dayNumber,10)),console.log("[SOSQuizForm] Submitting data:",X),(await r(X))?.success&&t()};return a.createElement(Kr,{isOpen:e,onClose:t,title:D?"Edit SOS Quiz":"Create SOS Quiz",size:"xl"},a.createElement("form",{onSubmit:H,className:"space-y-4"},a.createElement("div",{className:"flex border-b border-gray-200"},a.createElement("button",{type:"button",onClick:()=>_("basic"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${C==="basic"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700"}`},"Basic Info"),a.createElement("button",{type:"button",onClick:()=>_("questions"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${C==="questions"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700"}`},"Questions (",h.questions.length,")")),a.createElement("div",{className:"max-h-[60vh] overflow-y-auto pr-2"},C==="basic"?a.createElement("div",{className:"space-y-4"},!D&&a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Program ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("select",{value:h.programId,onChange:V=>I("programId",V.target.value),disabled:n||g,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${y.programId?"border-red-500":"border-gray-300"} ${n||g?"bg-gray-100":""}`},a.createElement("option",{value:""},"Select a program"),d.map(V=>a.createElement("option",{key:V._id,value:V._id},V.title," (",V.durationDays," days)"))),y.programId&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},y.programId)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Day Number ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"number",value:h.dayNumber,onChange:V=>I("dayNumber",V.target.value),placeholder:"e.g., 1",min:"1",max:k?.durationDays||365,disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${y.dayNumber?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),y.dayNumber&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},y.dayNumber),k&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Program duration: ",k.durationDays," days"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Quiz Title ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:h.title,onChange:V=>I("title",V.target.value),placeholder:"e.g., Day 1: Introduction to Mindfulness",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${y.title?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),y.title&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},y.title)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement("textarea",{value:h.description,onChange:V=>I("description",V.target.value),placeholder:"Brief description of this day's activities...",rows:3,disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors border-gray-300 ${n?"bg-gray-100":""}`})),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:h.isActive,onChange:V=>I("isActive",V.target.checked),disabled:n,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),a.createElement("span",{className:"text-sm text-gray-700"},h.isActive?"Active":"Inactive"))):a.createElement("div",{className:"space-y-4"},y.questions&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg"},a.createElement("p",{className:"text-sm text-red-700"},y.questions)),h.questions.length===0?a.createElement("div",{className:"p-8 text-center border-2 border-dashed border-gray-200 rounded-lg"},a.createElement("p",{className:"text-gray-500 mb-3"},"No questions added yet"),a.createElement("button",{type:"button",onClick:U,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},a.createElement(hn,{className:"h-4 w-4"}),"Add Question")):a.createElement(a.Fragment,null,h.questions.map((V,Q)=>a.createElement("div",{key:Q,className:"p-4 border border-gray-200 rounded-lg space-y-3"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement(vp,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"font-medium text-gray-700"},"Question ",Q+1)),a.createElement("button",{type:"button",onClick:()=>R(Q),className:"p-1 text-red-500 hover:bg-red-50 rounded"},a.createElement(vr,{className:"h-4 w-4"}))),a.createElement("div",null,a.createElement("input",{type:"text",value:V.questionText,onChange:Y=>G(Q,"questionText",Y.target.value),placeholder:"Enter your question...",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${y.questionErrors?.[Q]?.questionText?"border-red-500":"border-gray-300"}`}),y.questionErrors?.[Q]?.questionText&&a.createElement("p",{className:"text-red-600 text-xs mt-1"},y.questionErrors[Q].questionText)),a.createElement("div",{className:"grid grid-cols-2 gap-3"},a.createElement("div",null,a.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Type"),a.createElement("select",{value:V.questionType,onChange:Y=>G(Q,"questionType",Y.target.value),disabled:n,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},fue.map(Y=>a.createElement("option",{key:Y.value,value:Y.value},Y.label)))),a.createElement("div",null,a.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Points"),a.createElement("input",{type:"number",value:V.points,onChange:Y=>G(Q,"points",parseInt(Y.target.value)||0),min:"0",max:"100",disabled:n,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:border-gray-800 outline-none"}))),(V.questionType==="scale"||V.questionType==="single-choice"||V.questionType==="multiple-choice")&&a.createElement("div",{className:"space-y-2"},a.createElement("label",{className:"block text-xs font-medium text-gray-600"},"Options"),V.options.map((Y,X)=>a.createElement("div",{key:X,className:"flex items-center gap-2"},a.createElement("span",{className:"text-xs text-gray-400 w-6"},X+1,"."),a.createElement("input",{type:"text",value:Y.text,onChange:he=>L(Q,X,he.target.value),placeholder:`Option ${X+1}`,disabled:n||V.questionType==="scale",className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:border-gray-800 outline-none"}),(V.questionType==="single-choice"||V.questionType==="multiple-choice")&&V.options.length>2&&a.createElement("button",{type:"button",onClick:()=>j(Q,X),className:"p-1 text-red-500 hover:bg-red-50 rounded"},a.createElement(vr,{className:"h-3 w-3"})))),(V.questionType==="single-choice"||V.questionType==="multiple-choice")&&a.createElement("button",{type:"button",onClick:()=>F(Q),className:"text-xs text-gray-600 hover:text-gray-800 flex items-center gap-1"},a.createElement(hn,{className:"h-3 w-3"}),"Add Option"),y.questionErrors?.[Q]?.options&&a.createElement("p",{className:"text-red-600 text-xs"},y.questionErrors[Q].options)))),a.createElement("button",{type:"button",onClick:U,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors flex items-center justify-center gap-2"},a.createElement(hn,{className:"h-4 w-4"}),"Add Question")))),l&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},l)),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:t,disabled:n,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},n?a.createElement(a.Fragment,null,a.createElement(At,{className:"h-4 w-4 animate-spin"}),a.createElement("span",null,D?"Updating...":"Creating...")):a.createElement("span",null,D?"Update Quiz":"Create Quiz")))))}const AO=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",gue={scale:"Scale (1-5)","single-choice":"Single Choice","multiple-choice":"Multiple Choice",boolean:"Yes/No",text:"Text Response"},pue={scale:zu,"single-choice":b2,"multiple-choice":Dj,boolean:Dl,text:Rj};function yue({isOpen:e,onClose:t,quiz:r,isLoading:n=!1}){if(!e)return null;const l=r?.questions?.reduce((o,d)=>o+(d.points||0),0)||0;return a.createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto"},a.createElement("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),a.createElement("div",{className:"relative min-h-full flex items-center justify-center p-4"},a.createElement("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},a.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200"},a.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Quiz Details"),a.createElement("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},a.createElement(Bn,{className:"h-5 w-5"}))),a.createElement("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},n?a.createElement("div",{className:"flex flex-col items-center justify-center py-12"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading quiz details...")):r?a.createElement("div",{className:"space-y-6"},a.createElement("div",null,a.createElement("div",{className:"flex items-center gap-2 mb-2"},a.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${r.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},r.isActive?"Active":"Inactive"),r.dayNumber&&a.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"},"Day ",r.dayNumber)),a.createElement("h3",{className:"text-xl font-semibold text-gray-900"},r.title)),r.programId&&a.createElement("div",{className:"p-3 bg-gray-50 rounded-lg"},a.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Program"),a.createElement("p",{className:"font-medium text-gray-900"},r.programId.title||r.programId)),r.description&&a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-1"},"Description"),a.createElement("p",{className:"text-gray-600 whitespace-pre-wrap"},r.description)),a.createElement("div",{className:"grid grid-cols-3 gap-4"},a.createElement("div",{className:"bg-blue-50 rounded-lg p-4 text-center"},a.createElement(Gh,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-blue-700"},r.questions?.length||r.questionCount||0),a.createElement("p",{className:"text-xs text-blue-600"},"Questions")),a.createElement("div",{className:"bg-amber-50 rounded-lg p-4 text-center"},a.createElement(zu,{className:"h-5 w-5 text-amber-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-amber-700"},l),a.createElement("p",{className:"text-xs text-amber-600"},"Total Points")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},a.createElement($r,{className:"h-5 w-5 text-gray-500 mx-auto mb-1"}),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},"Day ",r.dayNumber||"-"),a.createElement("p",{className:"text-xs text-gray-500"},"Program Day"))),r.questions&&r.questions.length>0&&a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2"},a.createElement(Gh,{className:"h-4 w-4"}),"Questions"),a.createElement("div",{className:"space-y-3"},r.questions.map((o,d)=>{const g=pue[o.questionType]||Gh;return a.createElement("div",{key:d,className:"p-3 border border-gray-200 rounded-lg"},a.createElement("div",{className:"flex items-start gap-3"},a.createElement("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600"},d+1),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-gray-900 font-medium"},o.questionText),a.createElement("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500"},a.createElement("span",{className:"flex items-center gap-1"},a.createElement(g,{className:"h-3 w-3"}),gue[o.questionType]||o.questionType),a.createElement("span",{className:"flex items-center gap-1"},a.createElement(zu,{className:"h-3 w-3"}),o.points," pts")),o.options&&o.options.length>0&&a.createElement("div",{className:"mt-2 space-y-1"},o.options.map((h,x)=>a.createElement("div",{key:x,className:"flex items-center gap-2 text-sm text-gray-600"},a.createElement("span",{className:`w-4 h-4 border border-gray-300 flex-shrink-0 ${o.questionType==="multiple-choice"?"rounded":"rounded-full"}`}),a.createElement("span",null,h.text,o.questionType==="scale"&&a.createElement("span",{className:"text-gray-400 ml-1"},"(",h.value,")"))))),o.questionType==="boolean"&&a.createElement("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-600"},a.createElement("span",{className:"flex items-center gap-1"},a.createElement(Ci,{className:"h-4 w-4 text-green-500"}),"Yes"),a.createElement("span",{className:"flex items-center gap-1"},a.createElement(ko,{className:"h-4 w-4 text-red-500"}),"No")),o.questionType==="text"&&a.createElement("div",{className:"mt-2 text-sm text-gray-500 italic"},"Free text response"))))}))),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500"},a.createElement("span",null,"Created: ",AO(r.createdAt)),r.updatedAt&&r.updatedAt!==r.createdAt&&a.createElement("span",null,"Updated: ",AO(r.updatedAt))))):a.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500"},a.createElement("p",null,"No quiz data available"))),a.createElement("div",{className:"p-4 border-t border-gray-200 bg-gray-50"},a.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},"Close")))))}const TO=()=>({title:"",description:"",type:"ISOS",durationDays:"",imageUrl:"",isActive:!1}),OO=[{value:"GSOS",label:"General SOS (GSOS)",description:"Single day quick programs"},{value:"ISOS",label:"Intensive SOS (ISOS)",description:"Multi-day structured programs (7D, 15D, 30D)"}];function xue({isOpen:e,onClose:t,onSubmit:r,isLoading:n=!1,serverError:l=null,programToEdit:o=null}){const[d,g]=N.useState(TO()),[h,x]=N.useState({}),y=!!o;N.useEffect(()=>{e&&(g(o?{title:o.title||"",description:o.description||"",type:o.type||"ISOS",durationDays:o.durationDays?.toString()||"",imageUrl:o.imageUrl||"",isActive:o.isActive??!1}:TO()),x({}))},[e,o]);const w=D=>{const k={};if(D.title.trim()?D.title.length>200&&(k.title="Title must be less than 200 characters"):k.title="Title is required",D.description.trim()?D.description.length>2e3&&(k.description="Description must be less than 2000 characters"):k.description="Description is required",!D.durationDays)k.durationDays="Duration is required";else{const M=parseInt(D.durationDays,10);isNaN(M)||M<1?k.durationDays="Duration must be at least 1 day":M>365&&(k.durationDays="Duration cannot exceed 365 days"),D.type==="GSOS"&&M!==1&&(k.durationDays="General SOS programs should be 1 day")}return D.imageUrl&&!/^https?:\/\/.+/.test(D.imageUrl)&&(k.imageUrl="Please provide a valid image URL"),{isValid:Object.keys(k).length===0,errors:k}},C=(D,k)=>{g(M=>{const I={...M,[D]:k};return D==="type"&&k==="GSOS"&&(I.durationDays="1"),I}),h[D]&&x(M=>{const I={...M};return delete I[D],I})},_=async D=>{D.preventDefault();const{isValid:k,errors:M}=w(d);if(!k){x(M);return}const I={title:d.title.trim(),description:d.description.trim(),type:d.type,durationDays:parseInt(d.durationDays,10),isActive:d.isActive};d.imageUrl.trim()&&(I.imageUrl=d.imageUrl.trim()),console.log("[SOSProgramForm] Submitting data:",I),(await r(I))?.success&&t()};return a.createElement(Kr,{isOpen:e,onClose:t,title:y?"Edit SOS Program":"Create SOS Program",size:"lg"},a.createElement("form",{onSubmit:_,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Program Title ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:d.title,onChange:D=>C("title",D.target.value),placeholder:"e.g., 7-Day Anxiety Relief Program",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.title?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.title&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.title)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("textarea",{value:d.description,onChange:D=>C("description",D.target.value),placeholder:"Describe what participants will achieve through this program...",rows:4,disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${h.description?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.description&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.description)),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Program Type ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("select",{value:d.type,onChange:D=>C("type",D.target.value),disabled:n||y,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${n||y?"bg-gray-100":""}`},OO.map(D=>a.createElement("option",{key:D.value,value:D.value},D.label))),y&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Type cannot be changed after creation"),a.createElement("p",{className:"text-xs text-gray-500 mt-1"},OO.find(D=>D.value===d.type)?.description)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Duration (Days) ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"number",value:d.durationDays,onChange:D=>C("durationDays",D.target.value),placeholder:"e.g., 7",min:"1",max:"365",disabled:n||y||d.type==="GSOS",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.durationDays?"border-red-500":"border-gray-300"} ${n||y||d.type==="GSOS"?"bg-gray-100":""}`}),h.durationDays&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.durationDays),y&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Duration cannot be changed after creation"),d.type==="GSOS"&&!y&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Fixed to 1 day for General SOS"))),a.createElement(Ac,{label:"Program Image",value:d.imageUrl,onUpload:D=>C("imageUrl",D),disabled:n,error:h.imageUrl,type:"image",folder:"sos-programs",placeholder:"Drop image here or click to upload"}),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:d.isActive,onChange:D=>C("isActive",D.target.checked),disabled:n,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),a.createElement("span",{className:"text-sm text-gray-700"},d.isActive?"Active (Visible to users)":"Inactive")),l&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},l)),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200 sticky bottom-0 bg-white"},a.createElement("button",{type:"button",onClick:t,disabled:n,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},n?a.createElement(a.Fragment,null,a.createElement(At,{className:"h-4 w-4 animate-spin"}),a.createElement("span",null,y?"Updating...":"Creating...")):a.createElement("span",null,y?"Update Program":"Create Program")))))}const yv=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",bue={GSOS:"bg-blue-100 text-blue-700",ISOS:"bg-purple-100 text-purple-700"},_O={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-600"};function vue({isOpen:e,onClose:t,program:r,isLoading:n=!1,onFetchStats:l}){const[o,d]=N.useState(null),[g,h]=N.useState(!1),[x,y]=N.useState(null);return N.useEffect(()=>{(async()=>{if(!(!e||!r?._id||!l)){h(!0),y(null);try{const C=await l(r._id);C.success?d(C.data.stats):y(C.error||"Failed to load statistics")}catch(C){console.error("[SOSProgramDetailsModal] Error fetching stats:",C),y("Failed to load statistics")}finally{h(!1)}}})()},[e,r?._id,l]),N.useEffect(()=>{e||(d(null),y(null))},[e]),e?a.createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto"},a.createElement("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),a.createElement("div",{className:"relative min-h-full flex items-center justify-center p-4"},a.createElement("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},a.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200"},a.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Program Details"),a.createElement("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},a.createElement(Bn,{className:"h-5 w-5"}))),a.createElement("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},n?a.createElement("div",{className:"flex flex-col items-center justify-center py-12"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading program details...")):r?a.createElement("div",{className:"space-y-6"},a.createElement("div",null,a.createElement("div",{className:"flex items-center gap-2 mb-2"},a.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${bue[r.type]}`},r.type==="GSOS"?"General SOS":"Intensive SOS"),a.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${r.isActive?_O.active:_O.inactive}`},r.isActive?"Active":"Inactive")),a.createElement("h3",{className:"text-xl font-semibold text-gray-900"},r.title)),r.description&&a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-1"},"Description"),a.createElement("p",{className:"text-gray-600 whitespace-pre-wrap"},r.description)),a.createElement("div",{className:"grid grid-cols-2 gap-4"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},a.createElement($r,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm"},"Duration")),a.createElement("p",{className:"font-semibold text-gray-900"},r.durationDays," ",r.durationDays===1?"Day":"Days")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},a.createElement(On,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm"},"Created")),a.createElement("p",{className:"font-semibold text-gray-900"},yv(r.createdAt)))),a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2"},a.createElement(wl,{className:"h-4 w-4"}),"Statistics"),g?a.createElement("div",{className:"flex items-center justify-center py-8 bg-gray-50 rounded-lg"},a.createElement(At,{className:"h-6 w-6 text-gray-400 animate-spin"}),a.createElement("span",{className:"ml-2 text-sm text-gray-500"},"Loading statistics...")):x?a.createElement("div",{className:"p-4 bg-red-50 rounded-lg text-sm text-red-600"},x):o?a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},a.createElement("div",{className:"bg-blue-50 rounded-lg p-3 text-center"},a.createElement(ff,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-blue-700"},o.totalEnrolled||0),a.createElement("p",{className:"text-xs text-blue-600"},"Total Enrolled")),a.createElement("div",{className:"bg-amber-50 rounded-lg p-3 text-center"},a.createElement(On,{className:"h-5 w-5 text-amber-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-amber-700"},o.inProgress||0),a.createElement("p",{className:"text-xs text-amber-600"},"In Progress")),a.createElement("div",{className:"bg-green-50 rounded-lg p-3 text-center"},a.createElement(p2,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-green-700"},o.completed||0),a.createElement("p",{className:"text-xs text-green-600"},"Completed")),a.createElement("div",{className:"bg-red-50 rounded-lg p-3 text-center"},a.createElement(ko,{className:"h-5 w-5 text-red-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-red-700"},o.abandoned||0),a.createElement("p",{className:"text-xs text-red-600"},"Abandoned"))):a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-gray-500 text-center"},"No statistics available"),o&&a.createElement("div",{className:"grid grid-cols-3 gap-3 mt-3"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},a.createElement(Q_,{className:"h-4 w-4 text-gray-500 mx-auto mb-1"}),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},o.completionRate||0,"%"),a.createElement("p",{className:"text-xs text-gray-500"},"Completion Rate")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},a.createElement(X_,{className:"h-4 w-4 text-gray-500 mx-auto mb-1"}),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},o.quizCount||0,"/",r.durationDays),a.createElement("p",{className:"text-xs text-gray-500"},"Quizzes Created")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},a.createElement(zu,{className:"h-4 w-4 text-gray-500 mx-auto mb-1"}),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},o.averageScore?.toFixed(1)||"-"),a.createElement("p",{className:"text-xs text-gray-500"},"Avg. Score")))),r.imageUrl&&a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-2"},"Program Image"),a.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 aspect-video"},a.createElement("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.parentElement.innerHTML='<div class="flex items-center justify-center h-full text-gray-400 text-sm">Failed to load image</div>'}}))),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500"},a.createElement("span",null,"Created: ",yv(r.createdAt)),r.updatedAt&&r.updatedAt!==r.createdAt&&a.createElement("span",null,"Updated: ",yv(r.updatedAt)),r.createdBy?.name&&a.createElement("span",null,"By: ",r.createdBy.name)))):a.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500"},a.createElement("p",null,"No program data available"))),a.createElement("div",{className:"p-4 border-t border-gray-200 bg-gray-50"},a.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},"Close"))))):null}const po={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-600"},DO={GSOS:"bg-blue-100 text-blue-700",ISOS:"bg-purple-100 text-purple-700"};function Eue(){const[e,t]=N.useState("quizzes"),{quizzes:r,pagination:n,filters:l,isLoading:o,error:d,fetchQuizzes:g,createQuiz:h,getQuizById:x,updateQuiz:y,deleteQuiz:w,filterByProgram:C,updateFilters:_,resetFilters:D,changePage:k,clearError:M}=uue(),{programs:I,pagination:U,filters:R,isLoading:G,error:F,fetchPrograms:j,createProgram:L,getProgramById:H,getProgramStats:V,updateProgram:Q,toggleProgramStatus:Y,deleteProgram:X,searchPrograms:he,updateFilters:pe,resetFilters:se,changePage:J,clearError:ae}=due(),[Ee,be]=N.useState(!1),[re,W]=N.useState(!1),[te,me]=N.useState(!1),[ue,Ne]=N.useState(null),[le,oe]=N.useState(null),[ze,ve]=N.useState(!1),[Ye,rt]=N.useState(!1),[Le,ye]=N.useState(!1),[Ue,Se]=N.useState(!1),[We,_e]=N.useState(null),[et,lt]=N.useState(null),[vt,Qe]=N.useState(!1),[st,Re]=N.useState(!1),[ft,Zt]=N.useState(null),[xt,Qt]=N.useState(!1),[Dr,fr]=N.useState(l.programId||""),[Xn,aa]=N.useState(l.isActive||""),[wa,zt]=N.useState(!1),[ge,tt]=N.useState(R.search||""),[nt,Ct]=N.useState(R.type||""),[hr,sa]=N.useState(R.isActive||"");N.useEffect(()=>{j(1)},[]);const ln=N.useCallback(()=>{Zt(null),oe(null),be(!0)},[]),gt=N.useCallback(async Fe=>{Zt(null),ve(!0);try{const dt=await x(Fe._id);dt.success?(oe(dt.data),be(!0)):alert(dt.error||"Failed to load quiz details")}catch(dt){console.error("[Quizes] Failed to load quiz for edit:",dt),alert("An unexpected error occurred")}finally{ve(!1)}},[x]),Ze=N.useCallback(()=>{be(!1),Zt(null),oe(null)},[]),Bt=N.useCallback(async Fe=>{Re(!0),Zt(null);try{let dt;return le?dt=await y(le._id,Fe):dt=await h(Fe),dt.success?dt:(Zt(dt.error||"Failed to save quiz"),{success:!1})}catch(dt){return console.error("[Quizes] Form submission error:",dt),Zt("An unexpected error occurred"),{success:!1}}finally{Re(!1)}},[h,y,le]),Yr=N.useCallback(async Fe=>{Ne(Fe),W(!0),ve(!0);try{const dt=await x(Fe._id);dt.success&&Ne(dt.data)}catch(dt){console.error("[Quizes] Failed to fetch details:",dt)}finally{ve(!1)}},[x]),Zr=N.useCallback(()=>{W(!1),Ne(null)},[]),Be=N.useCallback(Fe=>{Ne(Fe),me(!0)},[]),Et=N.useCallback(()=>{me(!1),Ne(null)},[]),Wn=N.useCallback(async()=>{if(ue){Re(!0);try{const Fe=await w(ue._id);Fe.success?Et():alert(Fe.error||"Failed to delete quiz")}catch(Fe){console.error("[Quizes] Delete error:",Fe),alert("An unexpected error occurred")}finally{Re(!1)}}},[ue,w,Et]),os=N.useCallback(()=>{_({programId:Dr,isActive:Xn}),Qt(!1)},[Dr,Xn,_]),Na=N.useCallback(()=>{fr(""),aa(""),D(),Qt(!1)},[D]),Lc=N.useCallback(()=>{g(n.currentPage)},[g,n.currentPage]),Sa=N.useCallback(()=>{Zt(null),lt(null),rt(!0)},[]),Il=N.useCallback(async Fe=>{Zt(null),Qe(!0);try{const dt=await H(Fe._id);dt.success?(lt(dt.data),rt(!0)):alert(dt.error||"Failed to load program details")}catch(dt){console.error("[Quizes] Failed to load program for edit:",dt),alert("An unexpected error occurred")}finally{Qe(!1)}},[H]),yn=N.useCallback(()=>{rt(!1),Zt(null),lt(null)},[]),za=N.useCallback(async Fe=>{Re(!0),Zt(null);try{let dt;return et?dt=await Q(et._id,Fe):dt=await L(Fe),dt.success?dt:(Zt(dt.error||"Failed to save program"),{success:!1})}catch(dt){return console.error("[Quizes] Form submission error:",dt),Zt("An unexpected error occurred"),{success:!1}}finally{Re(!1)}},[L,Q,et]),zn=N.useCallback(async Fe=>{_e(Fe),ye(!0),Qe(!0);try{const dt=await H(Fe._id);dt.success&&_e(dt.data)}catch(dt){console.error("[Quizes] Failed to fetch program details:",dt)}finally{Qe(!1)}},[H]),it=N.useCallback(()=>{ye(!1),_e(null)},[]),Vn=N.useCallback(async Fe=>{Re(!0);try{const dt=await Y(Fe._id,Fe.isActive);dt.success||alert(dt.error||"Failed to update program status")}catch(dt){console.error("[Quizes] Toggle status error:",dt),alert("An unexpected error occurred")}finally{Re(!1)}},[Y]),Fr=N.useCallback(Fe=>{_e(Fe),Se(!0)},[]),Jt=N.useCallback(()=>{Se(!1),_e(null)},[]),ma=N.useCallback(async()=>{if(We){Re(!0);try{const Fe=await X(We._id);Fe.success?Jt():alert(Fe.error||"Failed to delete program")}catch(Fe){console.error("[Quizes] Delete error:",Fe),alert("An unexpected error occurred")}finally{Re(!1)}}},[We,X,Jt]),il=N.useCallback(Fe=>{const dt=Fe.target.value;tt(dt),he(dt)},[he]),Di=N.useCallback(()=>{pe({search:ge,type:nt,isActive:hr}),zt(!1)},[ge,nt,hr,pe]),Ca=N.useCallback(()=>{tt(""),Ct(""),sa(""),se(),zt(!1)},[se]),Bc=N.useCallback(()=>{j(U.currentPage)},[j,U.currentPage]),ol=N.useMemo(()=>l.programId||l.isActive!=="",[l]),Kn=N.useMemo(()=>R.search||R.type||R.isActive!=="",[R]),kr=N.useCallback(Fe=>Fe?typeof Fe=="object"&&Fe.title?Fe.title:I.find(Ar=>Ar._id===Fe)?.title||Fe:"-",[I]),Wt=N.useCallback(Fe=>Fe.questions?.reduce((dt,Ar)=>dt+(Ar.points||0),0)||Fe.totalPoints||0,[]);return a.createElement("div",{className:"space-y-4 sm:space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"SOS Management"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Manage SOS programs and their daily quizzes")),a.createElement("button",{onClick:e==="quizzes"?ln:Sa,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},a.createElement(hn,{className:"h-5 w-5"}),a.createElement("span",null,e==="quizzes"?"Create Quiz":"Create Program"))),a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement("div",{className:"border-b border-gray-200"},a.createElement("nav",{className:"flex -mb-px"},a.createElement("button",{onClick:()=>t("programs"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${e==="programs"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},a.createElement(Lu,{className:"h-4 w-4 inline-block mr-2"}),"Programs (",U.totalCount||0,")"),a.createElement("button",{onClick:()=>t("quizzes"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${e==="quizzes"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},a.createElement(Yh,{className:"h-4 w-4 inline-block mr-2"}),"Quizzes (",n.totalCount||0,")")))),(e==="quizzes"?d:F)&&a.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("div",{className:"flex-1"},a.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading ",e==="quizzes"?"quizzes":"programs"),a.createElement("p",{className:"text-sm text-red-700 mt-0.5"},e==="quizzes"?d:F)),a.createElement("button",{onClick:e==="quizzes"?M:ae,className:"shrink-0 text-red-600 hover:text-red-800"},"")),e==="programs"&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},a.createElement("div",{className:"relative flex-1 max-w-md"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{type:"text",value:ge,onChange:il,placeholder:"Search programs...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),a.createElement("button",{onClick:()=>zt(!wa),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Kn?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),Kn&&a.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(R.search?1:0)+(R.type?1:0)+(R.isActive!==""?1:0)),a.createElement(Tl,{className:`h-4 w-4 transition-transform ${wa?"rotate-180":""}`})),a.createElement("button",{onClick:Bc,disabled:G,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},a.createElement(_l,{className:`h-4 w-4 ${G?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Refresh")),a.createElement("div",{className:"ml-auto text-sm text-gray-500"},U.totalCount," program",U.totalCount!==1?"s":""," total")),wa&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Type"),a.createElement("select",{value:nt,onChange:Fe=>Ct(Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Types"),a.createElement("option",{value:"GSOS"},"General SOS (GSOS)"),a.createElement("option",{value:"ISOS"},"Intensive SOS (ISOS)"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{value:hr,onChange:Fe=>sa(Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Status"),a.createElement("option",{value:"true"},"Active"),a.createElement("option",{value:"false"},"Inactive"))),a.createElement("div",{className:"flex items-end gap-2 sm:col-span-2"},a.createElement("button",{onClick:Di,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),a.createElement("button",{onClick:Ca,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),a.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Program"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Type"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Duration"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,G&&I.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:5,className:"px-6 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading programs..."))):I.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:5,className:"px-6 py-12 text-center"},a.createElement(Lu,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No programs found"),a.createElement("button",{onClick:Sa,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first program"))):I.map(Fe=>a.createElement("tr",{key:Fe._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"max-w-[300px]"},a.createElement("p",{className:"font-medium text-gray-900 truncate"},Fe.title),Fe.description&&a.createElement("p",{className:"text-xs text-gray-500 truncate mt-0.5"},Fe.description))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${DO[Fe.type]}`},Fe.type==="GSOS"?"General":"Intensive")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-2 text-gray-600"},a.createElement($r,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm"},Fe.durationDays," ",Fe.durationDays===1?"day":"days"))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Fe.isActive?po.active:po.inactive}`},Fe.isActive?"Active":"Inactive")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1"},a.createElement("button",{onClick:()=>Vn(Fe),disabled:st,className:`p-2 rounded-lg transition-colors ${Fe.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:Fe.isActive?"Set Inactive":"Set Active"},Fe.isActive?a.createElement(fi,{className:"h-5 w-5"}):a.createElement(Dl,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>zn(Fe),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},a.createElement(an,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Il(Fe),disabled:vt,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit program"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Fr(Fe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},a.createElement(vr,{className:"h-4 w-4"}))))))))),U.totalPages>0&&a.createElement(Ln,{currentPage:U.currentPage,totalPages:U.totalPages,totalItems:U.totalCount,itemsPerPage:U.limit,onPageChange:J,itemLabel:"programs"})),a.createElement("div",{className:"md:hidden space-y-4"},G&&I.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading programs...")):I.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(Lu,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No programs found"),a.createElement("button",{onClick:Sa,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first program")):a.createElement(a.Fragment,null,I.map(Fe=>a.createElement("div",{key:Fe._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},a.createElement("div",{className:"flex items-start justify-between gap-3"},a.createElement("div",{className:"min-w-0 flex-1"},a.createElement("div",{className:"flex items-center gap-2 flex-wrap mb-1"},a.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${DO[Fe.type]}`},Fe.type),a.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Fe.isActive?po.active:po.inactive}`},Fe.isActive?"Active":"Inactive")),a.createElement("p",{className:"font-medium text-gray-900 truncate"},Fe.title))),a.createElement("div",{className:"grid grid-cols-2 gap-2 text-center"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Duration"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Fe.durationDays," days")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Type"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Fe.type==="GSOS"?"General":"Intensive"))),a.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},a.createElement("button",{onClick:()=>Vn(Fe),disabled:st,className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${Fe.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},Fe.isActive?a.createElement(a.Fragment,null,a.createElement(fi,{className:"h-4 w-4"}),"Active"):a.createElement(a.Fragment,null,a.createElement(Dl,{className:"h-4 w-4"}),"Inactive")),a.createElement("button",{onClick:()=>zn(Fe),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},a.createElement(an,{className:"h-4 w-4"}),"Details"),a.createElement("button",{onClick:()=>Il(Fe),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Fr(Fe),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},a.createElement(vr,{className:"h-4 w-4"}))))),U.totalPages>0&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:U.currentPage,totalPages:U.totalPages,totalItems:U.totalCount,itemsPerPage:U.limit,onPageChange:J,itemLabel:"programs"}))))),e==="quizzes"&&a.createElement(a.Fragment,null,a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},a.createElement("div",{className:"relative flex-1 max-w-md"},a.createElement("select",{value:Dr,onChange:Fe=>{fr(Fe.target.value),C(Fe.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Programs"),I.map(Fe=>a.createElement("option",{key:Fe._id,value:Fe._id},Fe.title," (",Fe.durationDays," days)")))),a.createElement("button",{onClick:()=>Qt(!xt),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${ol?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),ol&&a.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(l.programId?1:0)+(l.isActive!==""?1:0)),a.createElement(Tl,{className:`h-4 w-4 transition-transform ${xt?"rotate-180":""}`})),a.createElement("button",{onClick:Lc,disabled:o,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},a.createElement(_l,{className:`h-4 w-4 ${o?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Refresh")),a.createElement("div",{className:"ml-auto text-sm text-gray-500"},n.totalCount," quiz",n.totalCount!==1?"zes":""," total")),xt&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{value:Xn,onChange:Fe=>aa(Fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Status"),a.createElement("option",{value:"true"},"Active"),a.createElement("option",{value:"false"},"Inactive"))),a.createElement("div",{className:"flex items-end gap-2 sm:col-span-2 lg:col-span-3"},a.createElement("button",{onClick:os,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),a.createElement("button",{onClick:Na,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),a.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Quiz"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Program"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Day"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Questions"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Points"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,o&&r.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading quizzes..."))):r.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},a.createElement(Yh,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No quizzes found"),a.createElement("button",{onClick:ln,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first quiz"))):r.map(Fe=>a.createElement("tr",{key:Fe._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"max-w-[200px]"},a.createElement("p",{className:"font-medium text-gray-900 truncate"},Fe.title),Fe.description&&a.createElement("p",{className:"text-xs text-gray-500 truncate mt-0.5"},Fe.description))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:"text-sm text-gray-700 truncate max-w-[150px] block"},kr(Fe.programId))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-1.5 text-gray-600"},a.createElement($r,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Day ",Fe.dayNumber||"-"))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-1.5"},a.createElement(Gh,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-sm text-gray-700"},Fe.questions?.length||Fe.questionCount||0))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-1.5"},a.createElement(zu,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"text-sm text-gray-700"},Wt(Fe)))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Fe.isActive?po.active:po.inactive}`},Fe.isActive?"Active":"Inactive")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1"},a.createElement("button",{onClick:()=>Yr(Fe),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},a.createElement(an,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>gt(Fe),disabled:ze,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit quiz"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Be(Fe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},a.createElement(vr,{className:"h-4 w-4"}))))))))),n.totalPages>0&&a.createElement(Ln,{currentPage:n.currentPage,totalPages:n.totalPages,totalItems:n.totalCount,itemsPerPage:n.limit,onPageChange:k,itemLabel:"quizzes"})),a.createElement("div",{className:"md:hidden space-y-4"},o&&r.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading quizzes...")):r.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(Yh,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No quizzes found"),a.createElement("button",{onClick:ln,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first quiz")):a.createElement(a.Fragment,null,r.map(Fe=>a.createElement("div",{key:Fe._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},a.createElement("div",{className:"flex items-start justify-between gap-3"},a.createElement("div",{className:"min-w-0 flex-1"},a.createElement("div",{className:"flex items-center gap-2 flex-wrap mb-1"},a.createElement("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700"},"Day ",Fe.dayNumber||"-"),a.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Fe.isActive?po.active:po.inactive}`},Fe.isActive?"Active":"Inactive")),a.createElement("p",{className:"font-medium text-gray-900 truncate"},Fe.title),a.createElement("p",{className:"text-xs text-gray-500 mt-0.5 truncate"},kr(Fe.programId)))),a.createElement("div",{className:"grid grid-cols-2 gap-2 text-center"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Questions"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Fe.questions?.length||Fe.questionCount||0)),a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("p",{className:"text-xs text-gray-500"},"Total Points"),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Wt(Fe)))),a.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},a.createElement("button",{onClick:()=>Yr(Fe),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},a.createElement(an,{className:"h-4 w-4"}),"Details"),a.createElement("button",{onClick:()=>gt(Fe),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Be(Fe),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},a.createElement(vr,{className:"h-4 w-4"}))))),n.totalPages>0&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:n.currentPage,totalPages:n.totalPages,totalItems:n.totalCount,itemsPerPage:n.limit,onPageChange:k,itemLabel:"quizzes"}))))),a.createElement(hue,{isOpen:Ee,onClose:Ze,onSubmit:Bt,isLoading:st,serverError:ft,quizToEdit:le,programs:I}),a.createElement(yue,{isOpen:re,onClose:Zr,quiz:ue,isLoading:ze}),a.createElement(va,{isOpen:te,onClose:Et,onConfirm:Wn,title:"Delete Quiz",message:`Are you sure you want to delete the quiz "${ue?.title}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:st}),a.createElement(xue,{isOpen:Ye,onClose:yn,onSubmit:za,isLoading:st,serverError:ft,programToEdit:et}),a.createElement(vue,{isOpen:Le,onClose:it,program:We,isLoading:vt,onFetchStats:V}),a.createElement(va,{isOpen:Ue,onClose:Jt,onConfirm:ma,title:"Delete Program",message:`Are you sure you want to delete the program "${We?.title}"? This will also affect all associated quizzes and user progress.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:st}))}const yo={BASE:"/web/challenges",GET_BY_ID:e=>`/web/challenges/${e}`,UPDATE:e=>`/web/challenges/${e}`,DELETE:e=>`/web/challenges/${e}`,TOGGLE_STATUS:e=>`/web/challenges/${e}/toggle-status`,STATS:e=>`/web/challenges/${e}/stats`,PARTICIPANTS:e=>`/web/challenges/${e}/participants`},xo={getAll:async(e={})=>{const{page:t=1,limit:r=10,sortBy:n="createdAt",sortOrder:l="desc",isActive:o="",search:d="",category:g="",difficulty:h=""}=e,x=new URLSearchParams;x.append("page",t.toString()),x.append("limit",r.toString()),x.append("sortBy",n),x.append("sortOrder",l),o!==""&&x.append("isActive",o),d&&x.append("search",d),g&&x.append("category",g),h&&x.append("difficulty",h);const y=`${yo.BASE}?${x.toString()}`;return console.log("[ChallengeService] Fetching challenges:",y),Xe(Ge.get(y))},getById:async e=>e?(console.log("[ChallengeService] Fetching challenge:",e),Xe(Ge.get(yo.GET_BY_ID(e)))):(console.error("[ChallengeService] getById: No ID provided"),{success:!1,error:"Challenge ID is required"}),create:async e=>(console.log("[ChallengeService] Creating challenge:",e.title),!e.tasks||e.tasks.length===0?(console.error("[ChallengeService] create: No tasks provided"),{success:!1,error:"At least one task is required"}):Xe(Ge.post(yo.BASE,e))),update:async(e,t)=>e?(console.log("[ChallengeService] Updating challenge:",e),Xe(Ge.put(yo.UPDATE(e),t))):(console.error("[ChallengeService] update: No ID provided"),{success:!1,error:"Challenge ID is required"}),delete:async e=>e?(console.log("[ChallengeService] Deleting challenge:",e),Xe(Ge.delete(yo.DELETE(e)))):(console.error("[ChallengeService] delete: No ID provided"),{success:!1,error:"Challenge ID is required"}),toggleStatus:async e=>e?(console.log("[ChallengeService] Toggling status for challenge:",e),Xe(Ge.patch(yo.TOGGLE_STATUS(e)))):(console.error("[ChallengeService] toggleStatus: No ID provided"),{success:!1,error:"Challenge ID is required"}),getStats:async e=>e?(console.log("[ChallengeService] Fetching stats for challenge:",e),Xe(Ge.get(yo.STATS(e)))):(console.error("[ChallengeService] getStats: No ID provided"),{success:!1,error:"Challenge ID is required"}),getParticipants:async(e,t={})=>{if(!e)return console.error("[ChallengeService] getParticipants: No ID provided"),{success:!1,error:"Challenge ID is required"};const{page:r=1,limit:n=10,status:l=""}=t,o=new URLSearchParams;o.append("page",r.toString()),o.append("limit",n.toString()),l&&o.append("status",l);const d=`${yo.PARTICIPANTS(e)}?${o.toString()}`;return console.log("[ChallengeService] Fetching participants:",d),Xe(Ge.get(d))},buildTask:e=>{const{title:t,description:r=""}=e;return{title:t,description:r}}};function wue(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,d]=N.useState({search:"",isActive:"",category:"",difficulty:"",sortBy:"createdAt",sortOrder:"desc",...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),w=N.useRef(null),C=N.useCallback(async(Q=n.currentPage)=>{h(!0),y(null);try{const Y={page:Q,limit:n.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.isActive!==""&&{isActive:o.isActive},...o.category&&{category:o.category},...o.difficulty&&{difficulty:o.difficulty}};console.log("[useChallenges] Fetching challenges with params:",Y);const X=await xo.getAll(Y);X.success?(r(X.data.challenges||[]),l({currentPage:X.data.pagination?.currentPage||1,totalPages:X.data.pagination?.totalPages||0,totalCount:X.data.pagination?.totalCount||0,limit:X.data.pagination?.limit||10}),console.log("[useChallenges] Fetched challenges:",X.data.challenges?.length)):(console.error("[useChallenges] Failed to fetch challenges:",X.message),y(X.message||"Failed to fetch challenges"),r([]))}catch(Y){console.error("[useChallenges] Error fetching challenges:",Y),y("Failed to fetch challenges"),r([])}finally{h(!1)}},[o,n.limit]),_=N.useCallback(async Q=>{try{console.log("[useChallenges] Creating challenge:",Q.title);const Y=await xo.create(Q);return Y.success?(console.log("[useChallenges] Challenge created successfully"),await C(1),{success:!0,data:Y.data}):(console.error("[useChallenges] Failed to create challenge:",Y.message),{success:!1,error:Y.message,validationErrors:Y.error})}catch(Y){return console.error("[useChallenges] Error creating challenge:",Y),{success:!1,error:"Failed to create challenge"}}},[C]),D=N.useCallback(async Q=>{try{console.log("[useChallenges] Fetching challenge by ID:",Q);const Y=await xo.getById(Q);return Y.success?{success:!0,data:Y.data.challenge}:(console.error("[useChallenges] Failed to fetch challenge:",Y.message),{success:!1,error:Y.message})}catch(Y){return console.error("[useChallenges] Error fetching challenge:",Y),{success:!1,error:"Failed to fetch challenge details"}}},[]),k=N.useCallback(async Q=>{try{console.log("[useChallenges] Fetching stats for challenge:",Q);const Y=await xo.getStats(Q);return Y.success?{success:!0,data:Y.data}:(console.error("[useChallenges] Failed to fetch challenge stats:",Y.message),{success:!1,error:Y.message})}catch(Y){return console.error("[useChallenges] Error fetching challenge stats:",Y),{success:!1,error:"Failed to fetch challenge statistics"}}},[]),M=N.useCallback(async(Q,Y={})=>{try{console.log("[useChallenges] Fetching participants for challenge:",Q);const X=await xo.getParticipants(Q,Y);return X.success?{success:!0,data:X.data}:(console.error("[useChallenges] Failed to fetch participants:",X.message),{success:!1,error:X.message})}catch(X){return console.error("[useChallenges] Error fetching participants:",X),{success:!1,error:"Failed to fetch challenge participants"}}},[]),I=N.useCallback(async(Q,Y)=>{try{console.log("[useChallenges] Updating challenge:",Q);const X=await xo.update(Q,Y);return X.success?(console.log("[useChallenges] Challenge updated successfully"),r(he=>he.map(pe=>pe._id===Q?{...pe,...X.data.challenge}:pe)),{success:!0,data:X.data}):(console.error("[useChallenges] Failed to update challenge:",X.message),{success:!1,error:X.message,validationErrors:X.error})}catch(X){return console.error("[useChallenges] Error updating challenge:",X),{success:!1,error:"Failed to update challenge"}}},[]),U=N.useCallback(async(Q,Y)=>{try{console.log("[useChallenges] Toggling status for challenge:",Q);const X=await xo.toggleStatus(Q);return X.success?(console.log("[useChallenges] Challenge status toggled successfully"),r(he=>he.map(pe=>pe._id===Q?{...pe,isActive:!Y}:pe)),{success:!0}):(console.error("[useChallenges] Failed to toggle challenge status:",X.message),{success:!1,error:X.message})}catch(X){return console.error("[useChallenges] Error toggling challenge status:",X),{success:!1,error:"Failed to update challenge status"}}},[]),R=N.useCallback(async Q=>{try{console.log("[useChallenges] Deleting challenge:",Q);const Y=await xo.delete(Q);return Y.success?(console.log("[useChallenges] Challenge deleted successfully"),r(X=>X.filter(he=>he._id!==Q)),l(X=>({...X,totalCount:X.totalCount-1,totalPages:Math.ceil((X.totalCount-1)/X.limit)})),{success:!0}):(console.error("[useChallenges] Failed to delete challenge:",Y.message),{success:!1,error:Y.message})}catch(Y){return console.error("[useChallenges] Error deleting challenge:",Y),{success:!1,error:"Failed to delete challenge"}}},[]),G=N.useCallback(Q=>{w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{d(Y=>({...Y,search:Q}))},300)},[]),F=N.useCallback(Q=>{d(Y=>({...Y,...Q}))},[]),j=N.useCallback(()=>{d({search:"",isActive:"",category:"",difficulty:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),L=N.useCallback(Q=>{C(Q)},[C]),H=N.useCallback(Q=>{l(Y=>({...Y,limit:Q}))},[]),V=N.useCallback(()=>{y(null)},[]);return N.useEffect(()=>{C(1)},[o]),N.useEffect(()=>()=>{w.current&&clearTimeout(w.current)},[]),{challenges:t,pagination:n,filters:o,isLoading:g,error:x,fetchChallenges:C,createChallenge:_,getChallengeById:D,getChallengeStats:k,getChallengeParticipants:M,updateChallenge:I,toggleChallengeStatus:U,deleteChallenge:R,searchChallenges:G,updateFilters:F,resetFilters:j,changePage:L,changeLimit:H,clearError:V}}const Nue=[{value:"health",label:"Health"},{value:"fitness",label:"Fitness"},{value:"mindfulness",label:"Mindfulness"},{value:"productivity",label:"Productivity"},{value:"social",label:"Social"},{value:"creativity",label:"Creativity"},{value:"learning",label:"Learning"},{value:"wellness",label:"Wellness"},{value:"habit",label:"Habit"},{value:"other",label:"Other"}],Sue=[{value:"easy",label:"Easy",description:"Suitable for beginners"},{value:"medium",label:"Medium",description:"Moderate effort required"},{value:"hard",label:"Hard",description:"Challenging for experienced users"}],kO=()=>({title:"",description:"",category:"",difficulty:"medium",tasks:[],durationDays:"",imageUrl:"",isActive:!1}),Cue=()=>({title:"",description:""});function Aue({isOpen:e,onClose:t,onSubmit:r,isLoading:n=!1,serverError:l=null,challengeToEdit:o=null}){const[d,g]=N.useState(kO()),[h,x]=N.useState({}),[y,w]=N.useState("basic"),C=!!o;N.useEffect(()=>{e&&(g(o?{title:o.title||"",description:o.description||"",category:o.category||"",difficulty:o.difficulty||"medium",tasks:o.tasks?.map(R=>({title:R.title||"",description:R.description||""}))||[],durationDays:o.durationDays?.toString()||"",imageUrl:o.imageUrl||"",isActive:o.isActive??!1}:kO()),x({}),w("basic"))},[e,o]);const _=R=>{const G={};if(R.title.trim()?R.title.length>200&&(G.title="Title must be less than 200 characters"):G.title="Title is required",R.description.trim()?R.description.length>2e3&&(G.description="Description must be less than 2000 characters"):G.description="Description is required",R.category||(G.category="Category is required"),R.durationDays){const F=parseInt(R.durationDays,10);isNaN(F)||F<1?G.durationDays="Duration must be at least 1 day":F>365&&(G.durationDays="Duration cannot exceed 365 days")}if(R.imageUrl&&!/^https?:\/\/.+/.test(R.imageUrl)&&(G.imageUrl="Please provide a valid image URL"),R.tasks.length===0)G.tasks="At least one task is required";else{const F=[];R.tasks.forEach((j,L)=>{const H={};j.title.trim()||(H.title="Task title is required"),Object.keys(H).length>0&&(F[L]=H)}),(F.length>0||Object.keys(F).some(j=>F[j]))&&(G.taskErrors=F)}return{isValid:Object.keys(G).length===0,errors:G}},D=(R,G)=>{g(F=>({...F,[R]:G})),h[R]&&x(F=>{const j={...F};return delete j[R],j})},k=()=>{g(R=>({...R,tasks:[...R.tasks,Cue()]}))},M=R=>{g(G=>({...G,tasks:G.tasks.filter((F,j)=>j!==R)}))},I=(R,G,F)=>{g(j=>({...j,tasks:j.tasks.map((L,H)=>H!==R?L:{...L,[G]:F})}))},U=async R=>{R.preventDefault();const{isValid:G,errors:F}=_(d);if(!G){x(F),(F.tasks||F.taskErrors)&&w("tasks");return}const j={title:d.title.trim(),description:d.description.trim(),category:d.category,difficulty:d.difficulty,tasks:d.tasks.map((H,V)=>({title:H.title.trim(),description:H.description.trim(),order:V})),isActive:d.isActive};d.durationDays&&(j.durationDays=parseInt(d.durationDays,10)),d.imageUrl.trim()&&(j.imageUrl=d.imageUrl.trim()),console.log("[ChallengeForm] Submitting data:",j),(await r(j))?.success&&t()};return a.createElement(Kr,{isOpen:e,onClose:t,title:C?"Edit Challenge":"Create Challenge",size:"xl"},a.createElement("form",{onSubmit:U,className:"space-y-4"},a.createElement("div",{className:"flex border-b border-gray-200"},a.createElement("button",{type:"button",onClick:()=>w("basic"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${y==="basic"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700"}`},"Basic Info"),a.createElement("button",{type:"button",onClick:()=>w("tasks"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${y==="tasks"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700"}`},"Tasks (",d.tasks.length,")")),a.createElement("div",{className:"max-h-[60vh] overflow-y-auto pr-2"},y==="basic"?a.createElement("div",{className:"space-y-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Challenge Title ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:d.title,onChange:R=>D("title",R.target.value),placeholder:"e.g., 30-Day Fitness Challenge",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.title?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.title&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.title)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("textarea",{value:d.description,onChange:R=>D("description",R.target.value),placeholder:"Describe what participants will achieve through this challenge...",rows:4,disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${h.description?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.description&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.description)),a.createElement("div",{className:"grid grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Category ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("select",{value:d.category,onChange:R=>D("category",R.target.value),disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.category?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`},a.createElement("option",{value:""},"Select a category"),Nue.map(R=>a.createElement("option",{key:R.value,value:R.value},R.label))),h.category&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.category)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Difficulty"),a.createElement("select",{value:d.difficulty,onChange:R=>D("difficulty",R.target.value),disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${n?"bg-gray-100":""}`},Sue.map(R=>a.createElement("option",{key:R.value,value:R.value},R.label))))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Duration (Days)",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement("input",{type:"number",value:d.durationDays,onChange:R=>D("durationDays",R.target.value),placeholder:"e.g., 30",min:"1",max:"365",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.durationDays?"border-red-500":"border-gray-300"} ${n?"bg-gray-100":""}`}),h.durationDays&&a.createElement("p",{className:"text-red-600 text-sm mt-1"},h.durationDays),a.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Duration of the challenge in days. Leave empty for no time limit.")),a.createElement(Ac,{label:"Challenge Image",value:d.imageUrl,onUpload:R=>D("imageUrl",R),disabled:n,error:h.imageUrl,type:"image",folder:"challenges",placeholder:"Drop image here or click to upload"}),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:d.isActive,onChange:R=>D("isActive",R.target.checked),disabled:n,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),a.createElement("span",{className:"text-sm text-gray-700"},d.isActive?"Active (Visible to users)":"Inactive"))):a.createElement("div",{className:"space-y-4"},h.tasks&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg"},a.createElement("p",{className:"text-sm text-red-700"},h.tasks)),d.tasks.length===0?a.createElement("div",{className:"p-8 text-center border-2 border-dashed border-gray-200 rounded-lg"},a.createElement("p",{className:"text-gray-500 mb-3"},"No tasks added yet"),a.createElement("button",{type:"button",onClick:k,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},a.createElement(hn,{className:"h-4 w-4"}),"Add Task")):a.createElement(a.Fragment,null,d.tasks.map((R,G)=>a.createElement("div",{key:G,className:"p-4 border border-gray-200 rounded-lg space-y-3"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement(vp,{className:"h-4 w-4 text-gray-400"}),a.createElement("span",{className:"font-medium text-gray-700"},"Task ",G+1)),a.createElement("button",{type:"button",onClick:()=>M(G),className:"p-1 text-red-500 hover:bg-red-50 rounded"},a.createElement(vr,{className:"h-4 w-4"}))),a.createElement("div",null,a.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Title ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:R.title,onChange:F=>I(G,"title",F.target.value),placeholder:"e.g., Do 20 pushups",disabled:n,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.taskErrors?.[G]?.title?"border-red-500":"border-gray-300"}`}),h.taskErrors?.[G]?.title&&a.createElement("p",{className:"text-red-600 text-xs mt-1"},h.taskErrors[G].title)),a.createElement("div",null,a.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Description",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement("textarea",{value:R.description,onChange:F=>I(G,"description",F.target.value),placeholder:"Additional details about this task...",rows:2,disabled:n,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none resize-none transition-colors"})))),a.createElement("button",{type:"button",onClick:k,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors flex items-center justify-center gap-2"},a.createElement(hn,{className:"h-4 w-4"}),"Add Task")))),l&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("p",{className:"text-sm text-red-700"},l)),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:t,disabled:n,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},n?a.createElement(a.Fragment,null,a.createElement(At,{className:"h-4 w-4 animate-spin"}),a.createElement("span",null,C?"Updating...":"Creating...")):a.createElement("span",null,C?"Update Challenge":"Create Challenge")))))}const MO=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"-",xv={easy:{color:"bg-green-100 text-green-700",label:"Easy"},medium:{color:"bg-amber-100 text-amber-700",label:"Medium"},hard:{color:"bg-red-100 text-red-700",label:"Hard"}},PO=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-";function Tue({isOpen:e,onClose:t,challenge:r,isLoading:n=!1,onFetchStats:l}){const[o,d]=N.useState(null),[g,h]=N.useState(!1),[x,y]=N.useState(null);return N.useEffect(()=>{(async()=>{if(!(!e||!r?._id||!l)){h(!0),y(null);try{const C=await l(r._id);C.success?d(C.data.stats||C.data):y(C.error||"Failed to load statistics")}catch(C){console.error("[ChallengeDetailsModal] Error fetching stats:",C),y("Failed to load statistics")}finally{h(!1)}}})()},[e,r?._id,l]),N.useEffect(()=>{e||(d(null),y(null))},[e]),e?a.createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto"},a.createElement("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),a.createElement("div",{className:"relative min-h-full flex items-center justify-center p-4"},a.createElement("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},a.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200"},a.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Challenge Details"),a.createElement("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},a.createElement(Bn,{className:"h-5 w-5"}))),a.createElement("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},n?a.createElement("div",{className:"flex flex-col items-center justify-center py-12"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading challenge details...")):r?a.createElement("div",{className:"space-y-6"},a.createElement("div",null,a.createElement("div",{className:"flex items-center gap-2 mb-2"},a.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${r.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},r.isActive?"Active":"Inactive"),r.category&&a.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"},MO(r.category)),r.difficulty&&a.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${xv[r.difficulty]?.color||"bg-gray-100 text-gray-700"}`},xv[r.difficulty]?.label||r.difficulty),r.durationDays&&a.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700"},r.durationDays," Days")),a.createElement("h3",{className:"text-xl font-semibold text-gray-900"},r.title)),r.description&&a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-1"},"Description"),a.createElement("p",{className:"text-gray-600 whitespace-pre-wrap"},r.description)),a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4"},a.createElement("div",{className:"bg-blue-50 rounded-lg p-4 text-center"},a.createElement(cg,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-blue-700"},r.tasks?.length||0),a.createElement("p",{className:"text-xs text-blue-600"},"Tasks")),a.createElement("div",{className:"bg-purple-50 rounded-lg p-4 text-center"},a.createElement(Lm,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),a.createElement("p",{className:"text-lg font-semibold text-purple-700"},MO(r.category)),a.createElement("p",{className:"text-xs text-purple-600"},"Category")),a.createElement("div",{className:"bg-amber-50 rounded-lg p-4 text-center"},a.createElement(eD,{className:"h-5 w-5 text-amber-600 mx-auto mb-1"}),a.createElement("p",{className:"text-lg font-semibold text-amber-700"},xv[r.difficulty]?.label||"Medium"),a.createElement("p",{className:"text-xs text-amber-600"},"Difficulty")),a.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},a.createElement($r,{className:"h-5 w-5 text-gray-500 mx-auto mb-1"}),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},r.durationDays?`${r.durationDays}d`:"No Limit"),a.createElement("p",{className:"text-xs text-gray-500"},"Duration"))),r.tasks&&r.tasks.length>0&&a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2"},a.createElement(cg,{className:"h-4 w-4"}),"Tasks (",r.tasks.length,")"),a.createElement("div",{className:"space-y-2"},r.tasks.map((w,C)=>a.createElement("div",{key:C,className:"p-3 border border-gray-200 rounded-lg"},a.createElement("div",{className:"flex items-start gap-3"},a.createElement("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600"},C+1),a.createElement("div",null,a.createElement("p",{className:"font-medium text-gray-900"},w.title),w.description&&a.createElement("p",{className:"text-sm text-gray-500 mt-1"},w.description))))))),a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2"},a.createElement(wl,{className:"h-4 w-4"}),"Statistics"),g?a.createElement("div",{className:"flex items-center justify-center py-8 bg-gray-50 rounded-lg"},a.createElement(At,{className:"h-6 w-6 text-gray-400 animate-spin"}),a.createElement("span",{className:"ml-2 text-sm text-gray-500"},"Loading statistics...")):x?a.createElement("div",{className:"p-4 bg-red-50 rounded-lg text-sm text-red-600"},x):o?a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},a.createElement("div",{className:"bg-blue-50 rounded-lg p-3 text-center"},a.createElement(ff,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-blue-700"},o.totalParticipants||0),a.createElement("p",{className:"text-xs text-blue-600"},"Participants")),a.createElement("div",{className:"bg-amber-50 rounded-lg p-3 text-center"},a.createElement(On,{className:"h-5 w-5 text-amber-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-amber-700"},o.activeParticipants||0),a.createElement("p",{className:"text-xs text-amber-600"},"Active")),a.createElement("div",{className:"bg-green-50 rounded-lg p-3 text-center"},a.createElement(p2,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-green-700"},o.completedParticipants||0),a.createElement("p",{className:"text-xs text-green-600"},"Completed")),a.createElement("div",{className:"bg-purple-50 rounded-lg p-3 text-center"},a.createElement(zu,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),a.createElement("p",{className:"text-2xl font-bold text-purple-700"},o.averageTasksCompleted||0),a.createElement("p",{className:"text-xs text-purple-600"},"Avg. Tasks Done"))):a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-gray-500 text-center"},"No statistics available")),r.imageUrl&&a.createElement("div",null,a.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-2"},"Challenge Image"),a.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 aspect-video"},a.createElement("img",{src:r.imageUrl,alt:r.title,className:"w-full h-full object-cover",onError:w=>{w.target.style.display="none",w.target.parentElement.innerHTML='<div class="flex items-center justify-center h-full text-gray-400 text-sm">Failed to load image</div>'}}))),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500"},a.createElement("span",null,"Created: ",PO(r.createdAt)),r.updatedAt&&r.updatedAt!==r.createdAt&&a.createElement("span",null,"Updated: ",PO(r.updatedAt)),r.createdBy?.name&&a.createElement("span",null,"By: ",r.createdBy.name)))):a.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500"},a.createElement("p",null,"No challenge data available"))),a.createElement("div",{className:"p-4 border-t border-gray-200 bg-gray-50"},a.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},"Close"))))):null}const IO=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"-",Oue=[{value:"health",label:"Health"},{value:"fitness",label:"Fitness"},{value:"mindfulness",label:"Mindfulness"},{value:"productivity",label:"Productivity"},{value:"social",label:"Social"},{value:"creativity",label:"Creativity"},{value:"learning",label:"Learning"},{value:"wellness",label:"Wellness"},{value:"habit",label:"Habit"},{value:"other",label:"Other"}],Bh={easy:{color:"bg-green-100 text-green-700",label:"Easy"},medium:{color:"bg-amber-100 text-amber-700",label:"Medium"},hard:{color:"bg-red-100 text-red-700",label:"Hard"}},Fh={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-600"};function _ue(){const{challenges:e,pagination:t,filters:r,isLoading:n,error:l,fetchChallenges:o,createChallenge:d,getChallengeById:g,getChallengeStats:h,updateChallenge:x,toggleChallengeStatus:y,deleteChallenge:w,searchChallenges:C,updateFilters:_,resetFilters:D,changePage:k,clearError:M}=wue(),[I,U]=N.useState(!1),[R,G]=N.useState(!1),[F,j]=N.useState(!1),[L,H]=N.useState(null),[V,Q]=N.useState(null),[Y,X]=N.useState(!1),[he,pe]=N.useState(!1),[se,J]=N.useState(null),[ae,Ee]=N.useState(!1),[be,re]=N.useState(r.search||""),[W,te]=N.useState(r.isActive||""),[me,ue]=N.useState(r.category||""),[Ne,le]=N.useState(r.difficulty||""),oe=N.useCallback(()=>{J(null),Q(null),U(!0)},[]),ze=N.useCallback(async Re=>{J(null),X(!0);try{const ft=await g(Re._id);ft.success?(Q(ft.data),U(!0)):alert(ft.error||"Failed to load challenge details")}catch(ft){console.error("[Challenges] Failed to load challenge for edit:",ft),alert("An unexpected error occurred")}finally{X(!1)}},[g]),ve=N.useCallback(()=>{U(!1),J(null),Q(null)},[]),Ye=N.useCallback(async Re=>{pe(!0),J(null);try{let ft;return V?ft=await x(V._id,Re):ft=await d(Re),ft.success?ft:(J(ft.error||"Failed to save challenge"),{success:!1})}catch(ft){return console.error("[Challenges] Form submission error:",ft),J("An unexpected error occurred"),{success:!1}}finally{pe(!1)}},[d,x,V]),rt=N.useCallback(async Re=>{H(Re),G(!0),X(!0);try{const ft=await g(Re._id);ft.success&&H(ft.data)}catch(ft){console.error("[Challenges] Failed to fetch details:",ft)}finally{X(!1)}},[g]),Le=N.useCallback(()=>{G(!1),H(null)},[]),ye=N.useCallback(async Re=>{pe(!0);try{const ft=await y(Re._id,Re.isActive);ft.success||alert(ft.error||"Failed to update challenge status")}catch(ft){console.error("[Challenges] Toggle status error:",ft),alert("An unexpected error occurred")}finally{pe(!1)}},[y]),Ue=N.useCallback(Re=>{H(Re),j(!0)},[]),Se=N.useCallback(()=>{j(!1),H(null)},[]),We=N.useCallback(async()=>{if(L){pe(!0);try{const Re=await w(L._id);Re.success?Se():alert(Re.error||"Failed to delete challenge")}catch(Re){console.error("[Challenges] Delete error:",Re),alert("An unexpected error occurred")}finally{pe(!1)}}},[L,w,Se]),_e=N.useCallback(Re=>{const ft=Re.target.value;re(ft),C(ft)},[C]),et=N.useCallback(()=>{_({search:be,isActive:W,category:me,difficulty:Ne}),Ee(!1)},[be,W,me,Ne,_]),lt=N.useCallback(()=>{re(""),te(""),ue(""),le(""),D(),Ee(!1)},[D]),vt=N.useCallback(()=>{o(t.currentPage)},[o,t.currentPage]),Qe=N.useMemo(()=>r.search||r.isActive!==""||r.category||r.difficulty,[r]),st=N.useMemo(()=>{let Re=0;return r.search&&Re++,r.isActive!==""&&Re++,r.category&&Re++,r.difficulty&&Re++,Re},[r]);return a.createElement("div",{className:"space-y-4 sm:space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"Challenges"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Create and manage task-based challenges for users")),a.createElement("button",{onClick:oe,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},a.createElement(hn,{className:"h-5 w-5"}),a.createElement("span",null,"Create Challenge"))),l&&a.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},a.createElement(Or,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),a.createElement("div",{className:"flex-1"},a.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading challenges"),a.createElement("p",{className:"text-sm text-red-700 mt-0.5"},l)),a.createElement("button",{onClick:M,className:"shrink-0 text-red-600 hover:text-red-800"},"")),a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},a.createElement("div",{className:"relative flex-1 max-w-md"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{type:"text",value:be,onChange:_e,placeholder:"Search challenges...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),a.createElement("button",{onClick:()=>Ee(!ae),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Qe?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),Qe&&a.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},st),a.createElement(Tl,{className:`h-4 w-4 transition-transform ${ae?"rotate-180":""}`})),a.createElement("button",{onClick:vt,disabled:n,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},a.createElement(_l,{className:`h-4 w-4 ${n?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Refresh")),a.createElement("div",{className:"ml-auto text-sm text-gray-500"},t.totalCount," challenge",t.totalCount!==1?"s":""," total")),ae&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Category"),a.createElement("select",{value:me,onChange:Re=>ue(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Categories"),Oue.map(Re=>a.createElement("option",{key:Re.value,value:Re.value},Re.label)))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Difficulty"),a.createElement("select",{value:Ne,onChange:Re=>le(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Difficulties"),a.createElement("option",{value:"easy"},"Easy"),a.createElement("option",{value:"medium"},"Medium"),a.createElement("option",{value:"hard"},"Hard"))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),a.createElement("select",{value:W,onChange:Re=>te(Re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},a.createElement("option",{value:""},"All Status"),a.createElement("option",{value:"true"},"Active"),a.createElement("option",{value:"false"},"Inactive"))),a.createElement("div",{className:"flex items-end gap-2"},a.createElement("button",{onClick:et,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),a.createElement("button",{onClick:lt,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),a.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},a.createElement("div",{className:"overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Challenge"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Tasks"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Category"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Difficulty"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Duration"),a.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),a.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),a.createElement("tbody",null,n&&e.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading challenges..."))):e.length===0?a.createElement("tr",null,a.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},a.createElement(Lu,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No challenges found"),a.createElement("button",{onClick:oe,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first challenge"))):e.map(Re=>a.createElement("tr",{key:Re._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"max-w-[300px]"},a.createElement("p",{className:"font-medium text-gray-900 truncate"},Re.title),Re.description&&a.createElement("p",{className:"text-xs text-gray-500 truncate mt-0.5"},Re.description))),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-2 text-gray-600"},a.createElement(cg,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm"},Re.tasks?.length||Re.taskCount||0," tasks"))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"},a.createElement(Lm,{className:"h-3 w-3"}),IO(Re.category))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${Bh[Re.difficulty]?.color||"bg-gray-100 text-gray-700"}`},a.createElement(eD,{className:"h-3 w-3"}),Bh[Re.difficulty]?.label||"Medium")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center gap-2 text-gray-600"},a.createElement($r,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm"},Re.durationDays?`${Re.durationDays} days`:"No limit"))),a.createElement("td",{className:"px-6 py-4"},a.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Re.isActive?Fh.active:Fh.inactive}`},Re.isActive?"Active":"Inactive")),a.createElement("td",{className:"px-6 py-4"},a.createElement("div",{className:"flex items-center justify-end gap-1"},a.createElement("button",{onClick:()=>ye(Re),disabled:he,className:`p-2 rounded-lg transition-colors ${Re.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:Re.isActive?"Set Inactive":"Set Active"},Re.isActive?a.createElement(fi,{className:"h-5 w-5"}):a.createElement(Dl,{className:"h-5 w-5"})),a.createElement("button",{onClick:()=>rt(Re),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},a.createElement(an,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>ze(Re),disabled:Y,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit challenge"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Ue(Re),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},a.createElement(vr,{className:"h-4 w-4"}))))))))),t.totalPages>0&&a.createElement(Ln,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:k,itemLabel:"challenges"})),a.createElement("div",{className:"md:hidden space-y-4"},n&&e.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(At,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading challenges...")):e.length===0?a.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},a.createElement(Lu,{className:"h-12 w-12 text-gray-300 mx-auto"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No challenges found"),a.createElement("button",{onClick:oe,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first challenge")):a.createElement(a.Fragment,null,e.map(Re=>a.createElement("div",{key:Re._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},a.createElement("div",{className:"flex items-start justify-between gap-3"},a.createElement("div",{className:"min-w-0 flex-1"},a.createElement("div",{className:"flex items-center gap-2 flex-wrap mb-1"},a.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Re.isActive?Fh.active:Fh.inactive}`},Re.isActive?"Active":"Inactive"),Re.category&&a.createElement("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700"},IO(Re.category)),Re.difficulty&&a.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Bh[Re.difficulty]?.color||"bg-gray-100 text-gray-700"}`},Bh[Re.difficulty]?.label||"Medium"),Re.durationDays&&a.createElement("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700"},Re.durationDays," days")),a.createElement("p",{className:"font-medium text-gray-900 truncate"},Re.title),Re.description&&a.createElement("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-2"},Re.description))),a.createElement("div",{className:"grid grid-cols-2 gap-2 text-center"},a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("div",{className:"flex items-center justify-center gap-1 text-gray-500"},a.createElement(cg,{className:"h-3 w-3"}),a.createElement("p",{className:"text-xs"},"Tasks")),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Re.tasks?.length||Re.taskCount||0)),a.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},a.createElement("div",{className:"flex items-center justify-center gap-1 text-gray-500"},a.createElement($r,{className:"h-3 w-3"}),a.createElement("p",{className:"text-xs"},"Duration")),a.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Re.durationDays?`${Re.durationDays}d`:"No limit"))),a.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},a.createElement("button",{onClick:()=>ye(Re),disabled:he,className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${Re.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},Re.isActive?a.createElement(a.Fragment,null,a.createElement(fi,{className:"h-4 w-4"}),"Active"):a.createElement(a.Fragment,null,a.createElement(Dl,{className:"h-4 w-4"}),"Inactive")),a.createElement("button",{onClick:()=>rt(Re),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},a.createElement(an,{className:"h-4 w-4"}),"Details"),a.createElement("button",{onClick:()=>ze(Re),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},a.createElement(ya,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>Ue(Re),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},a.createElement(vr,{className:"h-4 w-4"}))))),t.totalPages>0&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:k,itemLabel:"challenges"})))),a.createElement(Aue,{isOpen:I,onClose:ve,onSubmit:Ye,isLoading:he,serverError:se,challengeToEdit:V}),a.createElement(Tue,{isOpen:R,onClose:Le,challenge:L,isLoading:Y,onFetchStats:h}),a.createElement(va,{isOpen:F,onClose:Se,onConfirm:We,title:"Delete Challenge",message:`Are you sure you want to delete the challenge "${L?.title}"? This will also affect all participant progress.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:he}))}const Nu={BASE:"/web/polls",BY_EVENT:"/web/polls/event"},Su={create:async e=>{console.log("[PollService] Creating poll for event:",e.eventId);const t=await Xe(Ge.post(Nu.BASE,e));return t.success?console.log("[PollService] Created poll:",t.data?._id):console.error("[PollService] Failed to create poll:",t.message),t},getByEventId:async e=>{console.log("[PollService] Fetching poll for event:",e);const t=await Xe(Ge.get(`${Nu.BY_EVENT}/${e}`));return t.success?console.log("[PollService] Fetched poll:",t.data?._id):console.error("[PollService] Failed to fetch poll:",t.message),t},update:async(e,t)=>{console.log("[PollService] Updating poll:",e);const r=await Xe(Ge.put(`${Nu.BASE}/${e}`,t));return r.success?console.log("[PollService] Updated poll successfully"):console.error("[PollService] Failed to update poll:",r.message),r},delete:async e=>{console.log("[PollService] Deleting poll:",e);const t=await Xe(Ge.delete(`${Nu.BASE}/${e}`));return t.success?console.log("[PollService] Deleted poll successfully"):console.error("[PollService] Failed to delete poll:",t.message),t},getStats:async e=>{console.log("[PollService] Fetching stats for poll:",e);const t=await Xe(Ge.get(`${Nu.BASE}/${e}/stats`));return t.success?console.log("[PollService] Fetched poll stats, total submissions:",t.data?.totalSubmissions):console.error("[PollService] Failed to fetch poll stats:",t.message),t},notifyUsers:async e=>{console.log("[PollService] Sending notification for poll:",e);const t=await Xe(Ge.post(`${Nu.BASE}/${e}/notify`));return t.success?console.log("[PollService] Notification sent, success:",t.data?.successCount,"failed:",t.data?.failureCount):console.error("[PollService] Failed to send notification:",t.message),t}},RO=(e=null)=>({questions:e?.questions?.length>0?e.questions.map(t=>({questionText:t.questionText||"",options:t.options?.length>0?[...t.options]:["",""]})):[{questionText:"",options:["",""]}],isActive:e?.isActive??!0}),Due=e=>{const t={};if(!e.questions||e.questions.length===0)return t.questions="At least one question is required",{isValid:!1,errors:t};const r=[];return e.questions.forEach((n,l)=>{const o={};n.questionText?.trim()?n.questionText.length>500&&(o.questionText="Question text must be 500 characters or less"):o.questionText="Question text is required";const d=n.options?.filter(h=>h?.trim())||[];d.length<2&&(o.options="At least 2 options are required"),new Set(d.map(h=>h.trim().toLowerCase())).size!==d.length&&(o.options="Options must be unique"),Object.keys(o).length>0&&(r[l]=o)}),r.some(n=>n)&&(t.questionErrors=r),{isValid:Object.keys(t).length===0,errors:t}};function LO({isOpen:e,onClose:t,onSubmit:r,poll:n=null,event:l=null,isLoading:o=!1,serverError:d=null}){const g=!!n,[h,x]=N.useState(RO(n)),[y,w]=N.useState({});N.useEffect(()=>{e&&(x(RO(n)),w({}),console.log("[PollForm] Form initialized:",{isEditMode:g,poll:n}))},[e,n]);const C=(F,j)=>{x(L=>({...L,questions:L.questions.map((H,V)=>V===F?{...H,questionText:j}:H)})),y.questionErrors?.[F]?.questionText&&w(L=>{const H={...L};return H.questionErrors?.[F]&&delete H.questionErrors[F].questionText,H})},_=(F,j,L)=>{x(H=>({...H,questions:H.questions.map((V,Q)=>Q===F?{...V,options:V.options.map((Y,X)=>X===j?L:Y)}:V)})),y.questionErrors?.[F]?.options&&w(H=>{const V={...H};return V.questionErrors?.[F]&&delete V.questionErrors[F].options,V})},D=F=>{x(j=>({...j,questions:j.questions.map((L,H)=>H===F?{...L,options:[...L.options,""]}:L)}))},k=(F,j)=>{x(L=>({...L,questions:L.questions.map((H,V)=>V===F?{...H,options:H.options.filter((Q,Y)=>Y!==j)}:H)}))},M=()=>{x(F=>({...F,questions:[...F.questions,{questionText:"",options:["",""]}]}))},I=F=>{x(j=>({...j,questions:j.questions.filter((L,H)=>H!==F)}))},U=()=>{x(F=>({...F,isActive:!F.isActive}))},R=async F=>{F.preventDefault();const j=Due(h);if(!j.isValid){w(j.errors),console.log("[PollForm] Validation failed:",j.errors);return}const L={questions:h.questions.map(H=>({questionText:H.questionText.trim(),options:H.options.filter(V=>V?.trim()).map(V=>V.trim())}))};!g&&l?L.eventId=l._id:g&&(L.isActive=h.isActive),console.log("[PollForm] Submitting:",L),await r(L)},G=()=>{o||t()};return a.createElement(Kr,{isOpen:e,onClose:G,title:g?"Edit Poll":"Create Poll",size:"2xl",closeOnOverlayClick:!o},a.createElement("form",{onSubmit:R,className:"space-y-6"},l&&a.createElement("div",{className:"p-3 bg-blue-50 border border-blue-200 text-blue-800 rounded-lg"},a.createElement("p",{className:"text-sm"},a.createElement("span",{className:"font-medium"},"Event:")," ",l.name)),d&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},d),y.questions&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},y.questions),a.createElement("div",{className:"space-y-4"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Questions"),a.createElement("span",{className:"text-sm text-gray-500"},h.questions.length," question(s)")),h.questions.map((F,j)=>a.createElement("div",{key:j,className:"p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-4"},a.createElement("div",{className:"flex items-start gap-3"},a.createElement("div",{className:"flex items-center gap-2 text-gray-400 mt-2"},a.createElement(vp,{className:"h-4 w-4"}),a.createElement("span",{className:"font-medium text-sm text-gray-500"},"Q",j+1)),a.createElement("div",{className:"flex-1"},a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Question Text ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("input",{type:"text",value:F.questionText,onChange:L=>C(j,L.target.value),disabled:o,maxLength:500,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.questionErrors?.[j]?.questionText?"border-red-500":"border-gray-300"}`,placeholder:"Enter your question"}),y.questionErrors?.[j]?.questionText&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.questionErrors[j].questionText)),h.questions.length>1&&a.createElement("button",{type:"button",onClick:()=>I(j),disabled:o,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors mt-6",title:"Remove question"},a.createElement(vr,{className:"h-4 w-4"}))),a.createElement("div",{className:"ml-10 space-y-2"},a.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Options ",a.createElement("span",{className:"text-red-500"},"*"),a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(min 2)")),y.questionErrors?.[j]?.options&&a.createElement("p",{className:"text-sm text-red-500"},y.questionErrors[j].options),F.options.map((L,H)=>a.createElement("div",{key:H,className:"flex items-center gap-2"},a.createElement("span",{className:"text-sm text-gray-400 w-6"},H+1,"."),a.createElement("input",{type:"text",value:L,onChange:V=>_(j,H,V.target.value),disabled:o,maxLength:200,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100",placeholder:`Option ${H+1}`}),F.options.length>2&&a.createElement("button",{type:"button",onClick:()=>k(j,H),disabled:o,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Remove option"},a.createElement(vr,{className:"h-4 w-4"})))),a.createElement("button",{type:"button",onClick:()=>D(j),disabled:o||F.options.length>=10,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},a.createElement(hn,{className:"h-3 w-3"}),"Add Option")))),a.createElement("button",{type:"button",onClick:M,disabled:o||h.questions.length>=20,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 text-gray-600 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors disabled:opacity-50"},a.createElement(hn,{className:"h-4 w-4"}),"Add Question")),g&&a.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",null,a.createElement("p",{className:"font-medium text-gray-900"},"Poll Status"),a.createElement("p",{className:"text-sm text-gray-500"},h.isActive?"Poll is accepting submissions":"Poll is closed for submissions")),a.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:h.isActive,onChange:U,disabled:o,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}))),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:G,disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},o&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),g?"Update Poll":"Create Poll"))))}function kue(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}function Mue(e){return e==="ONLINE"||e==="HYBRID"?_v:v2}function Pue(e){const t={TECHNOLOGY:"bg-blue-100 text-blue-700",EDUCATION:"bg-indigo-100 text-indigo-700",MEDICAL:"bg-green-100 text-green-700",COMEDY:"bg-yellow-100 text-yellow-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",BUSINESS:"bg-gray-100 text-gray-700",SPORTS:"bg-orange-100 text-orange-700",ARTS:"bg-purple-100 text-purple-700",MUSIC:"bg-red-100 text-red-700",FOOD:"bg-amber-100 text-amber-700",LIFESTYLE:"bg-teal-100 text-teal-700",OTHER:"bg-slate-100 text-slate-700"};return t[e]||t.OTHER}function Iue({event:e,poll:t,isLoadingPoll:r=!1,isNotifying:n=!1,canEdit:l=!0,canDelete:o=!0,onCreatePoll:d,onEditPoll:g,onDeletePoll:h,onViewStats:x,onViewPoll:y,onNotifyUsers:w}){const C=!!t,_=Mue(e.mode);return a.createElement("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden flex flex-col"},a.createElement("div",{className:"relative h-36 bg-gradient-to-br from-gray-100 to-gray-200"},e.thumbnail?.imageUrl||e.imageUrls?.[0]?a.createElement("img",{src:e.thumbnail?.imageUrl||e.imageUrls?.[0],alt:e.name,className:"w-full h-full object-cover",onError:D=>{D.target.style.display="none"}}):a.createElement("div",{className:"w-full h-full flex items-center justify-center bg-linear-to-br from-gray-50 to-gray-100"},a.createElement($r,{className:"h-12 w-12 text-gray-300"})),a.createElement("div",{className:"absolute top-2 right-2"},r?a.createElement("span",{className:"px-2.5 py-1 text-xs font-medium bg-white/90 text-gray-600 rounded-full shadow-sm animate-pulse"},"Loading..."):C?a.createElement("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full shadow-sm ${t.isActive?"bg-green-500 text-white":"bg-gray-500 text-white"}`},t.isActive?"Poll Active":"Poll Closed"):a.createElement("span",{className:"px-2.5 py-1 text-xs font-semibold bg-yellow-500 text-white rounded-full shadow-sm"},"No Poll")),a.createElement("div",{className:"absolute top-2 left-2"},a.createElement("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full shadow-sm ${e.isLive?"bg-green-500 text-white":"bg-gray-500 text-white"}`},e.isLive?"Live":"Not Live"))),a.createElement("div",{className:"p-4 flex-1 flex flex-col"},a.createElement("div",{className:"mb-3"},a.createElement("h3",{className:"font-semibold text-gray-900 line-clamp-1 text-base",title:e.name},e.name),a.createElement("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap"},a.createElement("span",{className:`px-2 py-0.5 text-xs font-medium rounded-md ${Pue(e.category)}`},e.category),a.createElement("span",{className:"text-xs text-gray-500 flex items-center gap-1"},a.createElement(_,{className:"h-3 w-3"}),e.mode))),a.createElement("div",{className:"space-y-2 mb-4"},a.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},a.createElement($r,{className:"h-4 w-4 text-gray-400 shrink-0"}),a.createElement("span",null,kue(e.startDate))),C&&a.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},a.createElement(Dv,{className:"h-4 w-4 text-gray-400 shrink-0"}),a.createElement("span",null,t.questions?.length||0," question",t.questions?.length!==1?"s":""))),a.createElement("div",{className:"mt-auto pt-3 border-t border-gray-100"},C?a.createElement("div",{className:"space-y-2"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement("button",{onClick:()=>y(e,t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"View Poll"},a.createElement(an,{className:"h-4 w-4"}),"View"),a.createElement("button",{onClick:()=>x(e,t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors",title:"View Statistics"},a.createElement(wl,{className:"h-4 w-4"}),"Stats")),(l||o)&&a.createElement("div",{className:"flex items-center gap-2"},l&&a.createElement("button",{onClick:()=>g(e,t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",title:"Edit Poll"},a.createElement(K_,{className:"h-4 w-4"}),"Edit"),o&&a.createElement("button",{onClick:()=>h(e,t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",title:"Delete Poll"},a.createElement(vr,{className:"h-4 w-4"}),"Delete")),l&&a.createElement("button",{onClick:()=>w(e,t),disabled:n,className:"w-full flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-amber-700 bg-amber-50 hover:bg-amber-100 rounded-lg transition-colors border border-amber-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Send push notification to enrolled users"},a.createElement(ig,{className:`h-4 w-4 ${n?"animate-pulse":""}`}),n?"Sending...":"Notify Users")):l&&a.createElement("button",{onClick:()=>d(e),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 rounded-lg transition-colors"},a.createElement(hn,{className:"h-4 w-4"}),"Create Poll"))))}function BO(e){return e?new Date(e).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"N/A"}function Rue({isOpen:e,onClose:t,poll:r,event:n}){return r?a.createElement(Kr,{isOpen:e,onClose:t,title:"Poll Details",size:"2xl"},a.createElement("div",{className:"space-y-6"},n&&a.createElement("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200"},a.createElement("div",{className:"flex items-start gap-3"},a.createElement($r,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.createElement("div",null,a.createElement("p",{className:"font-medium text-blue-900"},n.name),a.createElement("p",{className:"text-sm text-blue-700 mt-1"},n.category,"  ",n.mode)))),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},a.createElement(Ci,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Status")),a.createElement("span",{className:`inline-flex px-2 py-1 text-sm font-medium rounded-full ${r.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},r.isActive?"Active":"Closed")),a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},a.createElement(Dv,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Questions")),a.createElement("p",{className:"text-lg font-bold text-gray-900"},r.questions?.length||0)),a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},a.createElement(On,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Created")),a.createElement("p",{className:"text-sm text-gray-900"},BO(r.createdAt)))),a.createElement("div",{className:"space-y-4"},a.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Questions & Options"),r.questions?.length===0?a.createElement("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-lg text-center"},a.createElement(Dv,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),a.createElement("p",{className:"text-gray-600 font-medium"},"No questions"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"This poll has no questions configured.")):r.questions?.map((l,o)=>a.createElement("div",{key:o,className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm"},a.createElement("div",{className:"flex items-start gap-3 mb-3"},a.createElement("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-100 text-gray-600 font-semibold text-sm rounded-lg"},o+1),a.createElement("h4",{className:"font-medium text-gray-900 pt-1"},l.questionText)),a.createElement("div",{className:"ml-11 space-y-2"},a.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2"},"Options (",l.options?.length||0,")"),l.options?.map((d,g)=>a.createElement("div",{key:g,className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg"},a.createElement("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-white border border-gray-200 text-gray-500 text-xs font-medium rounded-full"},String.fromCharCode(65+g)),a.createElement("span",{className:"text-sm text-gray-700"},d))))))),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("p",{className:"text-xs text-gray-400"},"Poll ID: ",a.createElement("code",{className:"bg-gray-100 px-1 py-0.5 rounded"},r._id)),r.updatedAt&&r.updatedAt!==r.createdAt&&a.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Last updated: ",BO(r.updatedAt))),a.createElement("div",{className:"flex justify-end pt-4 border-t border-gray-200"},a.createElement("button",{onClick:t,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Close")))):null}function Lue({percentage:e,color:t="blue"}){const r={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500",pink:"bg-pink-500",cyan:"bg-cyan-500",indigo:"bg-indigo-500",amber:"bg-amber-500"};return a.createElement("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden"},a.createElement("div",{className:`h-full ${r[t]||r.blue} rounded-full transition-all duration-500 ease-out`,style:{width:`${Math.min(100,e)}%`}}))}const Bue=e=>{const t=["blue","green","purple","orange","pink","cyan","indigo","amber"];return t[e%t.length]};function Fue({isOpen:e,onClose:t,poll:r,stats:n,isLoading:l=!1,error:o=null,onFetchStats:d}){return N.useEffect(()=>{e&&r&&d&&(console.log("[PollStatsModal] Fetching stats for poll:",r._id),d(r._id))},[e,r,d]),r?a.createElement(Kr,{isOpen:e,onClose:t,title:"Poll Statistics",size:"2xl"},a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",{className:"flex items-center justify-between mb-2"},a.createElement("h3",{className:"font-semibold text-gray-900"},"Poll Overview"),a.createElement("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},r.isActive?"Active":"Closed")),a.createElement("p",{className:"text-sm text-gray-600"},r.questions?.length||0," question(s)")),o&&a.createElement("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg"},a.createElement("p",{className:"text-sm"},o)),l&&a.createElement("div",{className:"flex flex-col items-center justify-center py-12"},a.createElement(At,{className:"h-8 w-8 animate-spin text-gray-400"}),a.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading statistics...")),!l&&n&&a.createElement(a.Fragment,null,a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},a.createElement("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200"},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"p-2 bg-blue-100 rounded-lg"},a.createElement(ff,{className:"h-5 w-5 text-blue-600"})),a.createElement("div",null,a.createElement("p",{className:"text-2xl font-bold text-blue-900"},n.totalSubmissions||0),a.createElement("p",{className:"text-sm text-blue-700"},"Total Submissions")))),a.createElement("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200"},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"p-2 bg-green-100 rounded-lg"},a.createElement(Ci,{className:"h-5 w-5 text-green-600"})),a.createElement("div",null,a.createElement("p",{className:"text-2xl font-bold text-green-900"},n.questions?.length||0),a.createElement("p",{className:"text-sm text-green-700"},"Questions")))),a.createElement("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200"},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"p-2 bg-purple-100 rounded-lg"},a.createElement(wl,{className:"h-5 w-5 text-purple-600"})),a.createElement("div",null,a.createElement("p",{className:"text-2xl font-bold text-purple-900"},n.questions?.reduce((g,h)=>g+(h.options?.length||0),0)||0),a.createElement("p",{className:"text-sm text-purple-700"},"Total Options"))))),n.totalSubmissions===0&&a.createElement("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-lg text-center"},a.createElement(wl,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),a.createElement("p",{className:"text-gray-600 font-medium"},"No submissions yet"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Statistics will appear once users start submitting their answers.")),n.totalSubmissions>0&&n.questions?.map((g,h)=>a.createElement("div",{key:h,className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm"},a.createElement("div",{className:"flex items-start gap-3 mb-4"},a.createElement("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-100 text-gray-600 font-semibold text-sm rounded-lg"},h+1),a.createElement("h4",{className:"font-medium text-gray-900 pt-1"},g.questionText)),a.createElement("div",{className:"space-y-3 ml-11"},g.options?.map((x,y)=>a.createElement("div",{key:y,className:"space-y-1"},a.createElement("div",{className:"flex items-center justify-between"},a.createElement("span",{className:"text-sm text-gray-700"},x.optionText),a.createElement("div",{className:"flex items-center gap-2"},a.createElement("span",{className:"text-sm font-medium text-gray-900"},x.count||0),a.createElement("span",{className:"text-sm text-gray-500"},"(",(x.percentage||0).toFixed(1),"%)"))),a.createElement(Lue,{percentage:x.percentage||0,color:Bue(y)}))))))),!l&&!n&&!o&&a.createElement("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-lg text-center"},a.createElement(wl,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),a.createElement("p",{className:"text-gray-600 font-medium"},"No statistics available"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Statistics could not be loaded for this poll.")),a.createElement("div",{className:"flex justify-end pt-4 border-t border-gray-200"},a.createElement("button",{onClick:t,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Close")))):null}function Uue(){const{hasRole:e}=Pl(),t=e(["SUPER_ADMIN","ADMIN"]),r=e(["SUPER_ADMIN","ADMIN"]),n=e(["SUPER_ADMIN","ADMIN"]),[l,o]=N.useState([]),[d,g]=N.useState({currentPage:1,totalPages:0,totalCount:0,limit:12}),[h,x]=N.useState(!1),[y,w]=N.useState(null),[C,_]=N.useState({}),[D,k]=N.useState({}),[M,I]=N.useState({}),[U,R]=N.useState(""),[G,F]=N.useState(!1),[j,L]=N.useState("all"),[H,V]=N.useState("grid"),[Q,Y]=N.useState(!1),[X,he]=N.useState(!1),[pe,se]=N.useState(!1),[J,ae]=N.useState(!1),[Ee,be]=N.useState(!1),[re,W]=N.useState(null),[te,me]=N.useState(null),[ue,Ne]=N.useState(null),[le,oe]=N.useState(!1),[ze,ve]=N.useState(null),[Ye,rt]=N.useState(!1),[Le,ye]=N.useState(null),[Ue,Se]=N.useState(null),We=N.useRef(null),_e=N.useCallback(async(ge=1)=>{x(!0),w(null);try{const tt={page:ge,limit:d.limit,sortBy:"createdAt",sortOrder:"desc"};U.trim()&&(tt.search=U.trim()),console.log("[Polls] Fetching events with params:",tt);const nt=await Cs.getAll(tt);if(nt.success){o(nt.data.events||[]),g({currentPage:nt.data.pagination?.currentPage||1,totalPages:nt.data.pagination?.totalPages||0,totalCount:nt.data.pagination?.totalCount||0,limit:nt.data.pagination?.limit||12});const Ct=(nt.data.events||[]).map(hr=>hr._id);et(Ct)}else w(nt.message||"Failed to fetch events"),console.error("[Polls] Failed to fetch events:",nt.message)}catch(tt){w("An unexpected error occurred"),console.error("[Polls] Error fetching events:",tt)}finally{x(!1)}},[U,d.limit]),et=N.useCallback(async ge=>{const tt=ge.map(async nt=>{if(C[nt]===void 0){k(Ct=>({...Ct,[nt]:!0}));try{const Ct=await Su.getByEventId(nt);Ct.success?_(hr=>({...hr,[nt]:Ct.data})):_(hr=>({...hr,[nt]:null}))}catch(Ct){console.error(`[Polls] Error fetching poll for event ${nt}:`,Ct),_(hr=>({...hr,[nt]:null}))}finally{k(Ct=>({...Ct,[nt]:!1}))}}});await Promise.all(tt)},[C]);N.useEffect(()=>{_e(1)},[]);const lt=N.useCallback(ge=>{R(ge),We.current&&clearTimeout(We.current),We.current=setTimeout(()=>{_e(1)},300)},[_e]),vt=N.useCallback(ge=>{_e(ge),window.scrollTo({top:0,behavior:"smooth"})},[_e]),Qe=N.useCallback(()=>{_({}),_e(d.currentPage)},[_e,d.currentPage]),st=l.filter(ge=>{if(j==="all")return!0;const tt=C[ge._id]!==null&&C[ge._id]!==void 0;return j==="with-poll"?tt:j==="without-poll"?!tt:!0}),Re=N.useCallback(ge=>{W(ge),me(null),ye(null),Y(!0),console.log("[Polls] Opening create modal for event:",ge.name)},[]),ft=N.useCallback((ge,tt)=>{W(ge),me(tt),ye(null),he(!0),console.log("[Polls] Opening edit modal for poll:",tt._id)},[]),Zt=N.useCallback((ge,tt)=>{W(ge),me(tt),se(!0),console.log("[Polls] Opening details modal for poll:",tt._id)},[]),xt=N.useCallback((ge,tt)=>{W(ge),me(tt),Ne(null),ve(null),ae(!0),console.log("[Polls] Opening stats modal for poll:",tt._id)},[]),Qt=N.useCallback(async ge=>{oe(!0),ve(null);try{const tt=await Su.getStats(ge);tt.success?Ne(tt.data):ve(tt.message||"Failed to fetch statistics")}catch(tt){ve("An unexpected error occurred"),console.error("[Polls] Error fetching stats:",tt)}finally{oe(!1)}},[]),Dr=N.useCallback((ge,tt)=>{W(ge),me(tt),be(!0),console.log("[Polls] Opening delete dialog for poll:",tt._id)},[]),fr=N.useCallback(async(ge,tt)=>{if(tt?._id){I(nt=>({...nt,[tt._id]:!0})),Se(null),w(null);try{console.log("[Polls] Sending notification for poll:",tt._id);const nt=await Su.notifyUsers(tt._id);if(nt.success){const{successCount:Ct,failureCount:hr,message:sa}=nt.data||{};Se(sa||`Notification sent to ${Ct} user${Ct!==1?"s":""}${hr>0?` (${hr} failed)`:""}`),console.log("[Polls] Notification sent successfully")}else w(nt.message||"Failed to send notification"),console.error("[Polls] Failed to send notification:",nt.message)}catch(nt){w("An unexpected error occurred while sending notification"),console.error("[Polls] Error sending notification:",nt)}finally{I(nt=>({...nt,[tt._id]:!1}))}}},[]),Xn=N.useCallback(async ge=>{rt(!0),ye(null);try{console.log("[Polls] Creating poll:",ge);const tt=await Su.create(ge);tt.success?(Y(!1),_(nt=>({...nt,[ge.eventId]:tt.data})),console.log("[Polls] Poll created successfully")):(ye(tt.message||"Failed to create poll"),console.error("[Polls] Failed to create poll:",tt.message))}catch(tt){ye("An unexpected error occurred"),console.error("[Polls] Error creating poll:",tt)}finally{rt(!1)}},[]),aa=N.useCallback(async ge=>{if(te){rt(!0),ye(null);try{console.log("[Polls] Updating poll:",te._id,ge);const tt=await Su.update(te._id,ge);tt.success?(he(!1),re&&_(nt=>({...nt,[re._id]:tt.data})),W(null),me(null),console.log("[Polls] Poll updated successfully")):(ye(tt.message||"Failed to update poll"),console.error("[Polls] Failed to update poll:",tt.message))}catch(tt){ye("An unexpected error occurred"),console.error("[Polls] Error updating poll:",tt)}finally{rt(!1)}}},[te,re]),wa=N.useCallback(async()=>{if(te){rt(!0);try{console.log("[Polls] Deleting poll:",te._id);const ge=await Su.delete(te._id);ge.success?(be(!1),re&&_(tt=>({...tt,[re._id]:null})),W(null),me(null),console.log("[Polls] Poll deleted successfully")):(w(ge.message||"Failed to delete poll"),console.error("[Polls] Failed to delete poll:",ge.message))}catch(ge){w("An unexpected error occurred"),console.error("[Polls] Error deleting poll:",ge)}finally{rt(!1)}}},[te,re]),zt=N.useCallback(()=>w(null),[]);return a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Polls"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Create and manage polls for your events")),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("button",{onClick:Qe,disabled:h,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",title:"Refresh events and polls"},a.createElement(_l,{className:`h-4 w-4 ${h?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Refresh")),a.createElement("div",{className:"flex items-center bg-white border border-gray-300 rounded-lg overflow-hidden"},a.createElement("button",{onClick:()=>V("grid"),className:`p-2 transition-colors ${H==="grid"?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50"}`,title:"Grid view"},a.createElement(W_,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>V("list"),className:`p-2 transition-colors ${H==="list"?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50"}`,title:"List view"},a.createElement(b2,{className:"h-4 w-4"}))))),y&&a.createElement("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg"},a.createElement(Or,{className:"h-5 w-5 shrink-0"}),a.createElement("p",{className:"flex-1"},y),a.createElement("button",{onClick:zt,className:"text-red-500 hover:text-red-700 font-medium"},"Dismiss")),Ue&&a.createElement("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg"},a.createElement(ig,{className:"h-5 w-5 shrink-0"}),a.createElement("p",{className:"flex-1"},Ue),a.createElement("button",{onClick:()=>Se(null),className:"text-green-500 hover:text-green-700 font-medium"},"Dismiss")),a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},a.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},a.createElement("div",{className:"flex-1 relative"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{type:"text",value:U,onChange:ge=>lt(ge.target.value),placeholder:"Search events...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"}),U&&a.createElement("button",{onClick:()=>{R(""),_e(1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},a.createElement(Bn,{className:"h-4 w-4"}))),a.createElement("button",{onClick:()=>F(!G),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${G||j!=="all"?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",null,"Filters"),j!=="all"&&a.createElement("span",{className:"w-2 h-2 bg-white rounded-full"}))),G&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},a.createElement("div",{className:"flex flex-wrap items-center gap-3"},a.createElement("span",{className:"text-sm text-gray-500"},"Poll Status:"),a.createElement("div",{className:"flex gap-2"},[{value:"all",label:"All Events"},{value:"with-poll",label:"With Poll"},{value:"without-poll",label:"Without Poll"}].map(ge=>a.createElement("button",{key:ge.value,onClick:()=>L(ge.value),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${j===ge.value?"bg-gray-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},ge.label))),j!=="all"&&a.createElement("button",{onClick:()=>L("all"),className:"text-sm text-gray-500 hover:text-gray-700"},"Reset")))),h&&l.length===0?a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},[...Array(8)].map((ge,tt)=>a.createElement("div",{key:tt,className:"bg-white rounded-xl border border-gray-200 overflow-hidden animate-pulse"},a.createElement("div",{className:"h-32 bg-gray-200"}),a.createElement("div",{className:"p-4 space-y-3"},a.createElement("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.createElement("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),a.createElement("div",{className:"h-8 bg-gray-200 rounded"}))))):st.length===0?a.createElement("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center"},a.createElement("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},a.createElement(da,{className:"h-8 w-8 text-gray-400"})),a.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"No events found"),a.createElement("p",{className:"text-gray-500 max-w-md mx-auto"},U||j!=="all"?"Try adjusting your search or filter criteria.":"Create an event first to add polls.")):H==="grid"?a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},st.map(ge=>a.createElement(Iue,{key:ge._id,event:ge,poll:C[ge._id],isLoadingPoll:D[ge._id],isNotifying:M[C[ge._id]?._id],canEdit:r,canDelete:n,onCreatePoll:Re,onEditPoll:ft,onDeletePoll:Dr,onViewStats:xt,onViewPoll:Zt,onNotifyUsers:fr}))):a.createElement("div",{className:"space-y-3"},st.map(ge=>a.createElement("div",{key:ge._id,className:"bg-white rounded-xl border border-gray-200 p-4 flex items-center gap-4"},a.createElement("div",{className:"shrink-0 w-20 h-20 rounded-lg overflow-hidden bg-gray-100"},ge.thumbnail?.imageUrl||ge.imageUrls?.[0]?a.createElement("img",{src:ge.thumbnail?.imageUrl||ge.imageUrls?.[0],alt:ge.name,className:"w-full h-full object-cover"}):a.createElement("div",{className:"w-full h-full flex items-center justify-center"},a.createElement("span",{className:"text-gray-300 text-2xl"},"E"))),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("h3",{className:"font-semibold text-gray-900 truncate"},ge.name),a.createElement("p",{className:"text-sm text-gray-500"},ge.category,"  ",ge.mode),a.createElement("div",{className:"flex items-center gap-2 mt-1"},C[ge._id]?a.createElement("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${C[ge._id].isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},C[ge._id].isActive?"Poll Active":"Poll Closed"):a.createElement("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700"},"No Poll"))),a.createElement("div",{className:"flex items-center gap-2"},C[ge._id]?a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>xt(ge,C[ge._id]),className:"px-3 py-1.5 text-sm text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors"},"Stats"),r&&a.createElement(a.Fragment,null,a.createElement("button",{onClick:()=>ft(ge,C[ge._id]),className:"px-3 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"},"Edit"),a.createElement("button",{onClick:()=>fr(ge,C[ge._id]),disabled:M[C[ge._id]?._id],className:"flex items-center gap-1 px-3 py-1.5 text-sm text-amber-600 bg-amber-50 hover:bg-amber-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Send push notification to enrolled users"},a.createElement(ig,{className:`h-4 w-4 ${M[C[ge._id]?._id]?"animate-pulse":""}`}),M[C[ge._id]?._id]?"Sending...":"Notify")),n&&a.createElement("button",{onClick:()=>Dr(ge,C[ge._id]),className:"px-3 py-1.5 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors"},"Delete")):t&&a.createElement("button",{onClick:()=>Re(ge),className:"px-3 py-1.5 text-sm text-white bg-gray-800 hover:bg-gray-900 rounded-lg transition-colors"},"Create Poll"))))),d.totalPages>1&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:d.currentPage,totalPages:d.totalPages,totalItems:d.totalCount,itemsPerPage:d.limit,onPageChange:vt,itemLabel:"events"})),a.createElement(LO,{isOpen:Q,onClose:()=>{Y(!1),W(null)},onSubmit:Xn,poll:null,event:re,isLoading:Ye,serverError:Le}),a.createElement(LO,{isOpen:X,onClose:()=>{he(!1),W(null),me(null)},onSubmit:aa,poll:te,event:re,isLoading:Ye,serverError:Le}),a.createElement(Rue,{isOpen:pe,onClose:()=>{se(!1),W(null),me(null)},poll:te,event:re}),a.createElement(Fue,{isOpen:J,onClose:()=>{ae(!1),W(null),me(null),Ne(null)},poll:te,stats:ue,isLoading:le,error:ze,onFetchStats:Qt}),a.createElement(va,{isOpen:Ee,onClose:()=>{be(!1),W(null),me(null)},onConfirm:wa,title:"Delete Poll",message:`Are you sure you want to delete the poll for "${re?.name}"? This will also delete all associated submissions. This action cannot be undone.`,confirmText:"Delete Poll",cancelText:"Cancel",variant:"danger",isLoading:Ye}))}const Es={BASE:"/web/stories",STATS:"/web/stories/stats",TTL_OPTIONS:"/web/stories/ttl-options",REORDER:"/web/stories/reorder"},vl={create:async e=>(console.log("[StoryService] Creating story"),Xe(Ge.post(Es.BASE,e))),getAll:async(e={})=>{console.log("[StoryService] Fetching stories:",e);const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.includeExpired!==void 0&&t.append("includeExpired",e.includeExpired);const r=`${Es.BASE}?${t.toString()}`;return Xe(Ge.get(r))},getById:async e=>(console.log("[StoryService] Fetching story:",e),Xe(Ge.get(`${Es.BASE}/${e}`))),update:async(e,t)=>(console.log("[StoryService] Updating story:",e),Xe(Ge.put(`${Es.BASE}/${e}`,t))),toggleActive:async e=>(console.log("[StoryService] Toggling story status:",e),Xe(Ge.patch(`${Es.BASE}/${e}/toggle`))),delete:async(e,t=!1)=>{console.log("[StoryService] Deleting story:",e);const r=t?`${Es.BASE}/${e}?deleteMedia=true`:`${Es.BASE}/${e}`;return Xe(Ge.delete(r))},permanentDelete:async(e,t=!0)=>{console.log("[StoryService] Permanently deleting story:",e);const r=t?`${Es.BASE}/${e}/permanent`:`${Es.BASE}/${e}/permanent?deleteMedia=false`;return Xe(Ge.delete(r))},reorder:async e=>(console.log("[StoryService] Reordering stories"),Xe(Ge.put(Es.REORDER,{order:e}))),getStats:async()=>(console.log("[StoryService] Fetching story stats"),Xe(Ge.get(Es.STATS))),getTtlOptions:async()=>(console.log("[StoryService] Fetching TTL options"),Xe(Ge.get(Es.TTL_OPTIONS)))},xR=[{value:"1_hour",label:"1 hour"},{value:"6_hours",label:"6 hours"},{value:"12_hours",label:"12 hours"},{value:"1_day",label:"1 day"},{value:"3_days",label:"3 days"},{value:"7_days",label:"7 days"},{value:"30_days",label:"30 days"},{value:"forever",label:"Forever"}],jue=[{value:"image",label:"Image"},{value:"video",label:"Video"}],zue=[{value:"createdAt",label:"Created Date"},{value:"displayOrder",label:"Display Order"},{value:"viewCount",label:"View Count"},{value:"expiresAt",label:"Expiry Date"}],FO={search:"",mediaType:"",isActive:"",includeExpired:!1,sortBy:"displayOrder",sortOrder:"asc"};function Vue(e={}){const[t,r]=N.useState([]),[n,l]=N.useState({page:1,totalPages:0,total:0,limit:20}),[o,d]=N.useState({...FO,...e}),[g,h]=N.useState(!1),[x,y]=N.useState(null),[w,C]=N.useState(null),[_,D]=N.useState(!1),[k,M]=N.useState(xR),I=N.useRef(null),U=N.useCallback(async(re=n.page)=>{console.log("[useStoriesManagement] Fetching stories"),h(!0),y(null);try{const W={page:re,limit:n.limit,includeExpired:o.includeExpired},te=await vl.getAll(W);if(te.success){let me=te.data.stories||[];if(o.mediaType&&(me=me.filter(ue=>ue.mediaType===o.mediaType)),o.isActive!==""){const ue=o.isActive==="true";me=me.filter(Ne=>Ne.isActive===ue)}if(o.search){const ue=o.search.toLowerCase();me=me.filter(Ne=>Ne.title?.toLowerCase().includes(ue)||Ne.mediaType?.toLowerCase().includes(ue))}me.sort((ue,Ne)=>{const le=ue[o.sortBy],oe=Ne[o.sortBy],ze=o.sortOrder==="asc"?1:-1;return typeof le=="string"?le.localeCompare(oe)*ze:le instanceof Date||o.sortBy.includes("At")?(new Date(le)-new Date(oe))*ze:((le||0)-(oe||0))*ze}),r(me),l(ue=>({...ue,...te.data.pagination}))}else y(te.message),r([])}catch(W){console.error("[useStoriesManagement] Error fetching stories:",W),y("Failed to fetch stories"),r([])}finally{h(!1)}},[o,n.limit,n.page]),R=N.useCallback(async()=>{console.log("[useStoriesManagement] Fetching stats"),D(!0);try{const re=await vl.getStats();re.success&&C(re.data)}catch(re){console.error("[useStoriesManagement] Error fetching stats:",re)}finally{D(!1)}},[]),G=N.useCallback(async()=>{try{const re=await vl.getTtlOptions();re.success&&re.data.options&&M(re.data.options)}catch(re){console.error("[useStoriesManagement] Error fetching TTL options:",re)}},[]),F=N.useCallback(async re=>{try{const W=await vl.getById(re);return W.success?{success:!0,data:W.data}:{success:!1,error:W.message}}catch{return{success:!1,error:"Failed to fetch story details"}}},[]),j=N.useCallback(async re=>{console.log("[useStoriesManagement] Creating story"),h(!0),y(null);try{const W=await vl.create(re);return W.success?(await U(1),await R(),{success:!0,data:W.data}):{success:!1,error:W.message,validationErrors:W.data?.errors}}catch{return{success:!1,error:"Failed to create story"}}finally{h(!1)}},[U,R]),L=N.useCallback(async(re,W)=>{console.log("[useStoriesManagement] Updating story:",re),h(!0),y(null);try{const te=await vl.update(re,W);return te.success?(r(me=>me.map(ue=>ue._id===re?{...ue,...te.data}:ue)),{success:!0,data:te.data}):{success:!1,error:te.message,validationErrors:te.data?.errors}}catch{return{success:!1,error:"Failed to update story"}}finally{h(!1)}},[]),H=N.useCallback(async re=>{console.log("[useStoriesManagement] Toggling story status:",re);try{const W=await vl.toggleActive(re);return W.success?(r(te=>te.map(me=>me._id===re?{...me,isActive:W.data.isActive}:me)),{success:!0,data:W.data}):{success:!1,error:W.message}}catch{return{success:!1,error:"Failed to toggle story status"}}},[]),V=N.useCallback(async(re,W=!1)=>{console.log("[useStoriesManagement] Deleting story:",re),h(!0),y(null);try{const te=await vl.delete(re,W);return te.success?(r(me=>me.filter(ue=>ue._id!==re)),l(me=>({...me,total:me.total-1,totalPages:Math.ceil((me.total-1)/me.limit)})),await R(),{success:!0}):{success:!1,error:te.message}}catch{return{success:!1,error:"Failed to delete story"}}finally{h(!1)}},[R]),Q=N.useCallback(async(re,W=!0)=>{console.log("[useStoriesManagement] Permanently deleting story:",re),h(!0),y(null);try{const te=await vl.permanentDelete(re,W);return te.success?(r(me=>me.filter(ue=>ue._id!==re)),l(me=>({...me,total:me.total-1,totalPages:Math.ceil((me.total-1)/me.limit)})),await R(),{success:!0}):{success:!1,error:te.message}}catch{return{success:!1,error:"Failed to permanently delete story"}}finally{h(!1)}},[R]),Y=N.useCallback(async re=>{console.log("[useStoriesManagement] Reordering stories");try{const W=await vl.reorder(re);return W.success?(r(te=>{const me=new Map(re.map(ue=>[ue.storyId,ue.displayOrder]));return[...te].map(ue=>({...ue,displayOrder:me.get(ue._id)??ue.displayOrder})).sort((ue,Ne)=>ue.displayOrder-Ne.displayOrder)}),{success:!0}):{success:!1,error:W.message}}catch{return{success:!1,error:"Failed to reorder stories"}}},[]),X=N.useCallback(re=>{d(W=>({...W,...re}))},[]),he=N.useCallback(re=>{I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{d(W=>({...W,search:re}))},300)},[]),pe=N.useCallback(()=>{d({...FO,...e})},[e]),se=N.useCallback(re=>{U(re)},[U]),J=N.useCallback(re=>{l(W=>({...W,limit:re}))},[]),ae=N.useCallback(()=>{d(re=>({...re,includeExpired:!re.includeExpired}))},[]),Ee=N.useCallback(()=>{y(null)},[]),be=N.useCallback(()=>{U(1),R()},[U,R]);return N.useEffect(()=>{U(1)},[o]),N.useEffect(()=>{R(),G()},[R,G]),N.useEffect(()=>()=>{I.current&&clearTimeout(I.current)},[]),{stories:t,pagination:n,filters:o,isLoading:g,error:x,stats:w,isLoadingStats:_,ttlOptions:k,fetchStories:U,fetchStats:R,getStoryById:F,createStory:j,updateStory:L,toggleStoryActive:H,deleteStory:V,permanentDeleteStory:Q,reorderStories:Y,updateFilters:X,updateSearch:he,resetFilters:pe,toggleIncludeExpired:ae,changePage:se,changeLimit:J,clearError:Ee,refresh:be}}const UO=(e=null)=>({mediaUrl:e?.mediaUrl||"",mediaType:e?.mediaType||"image",title:e?.title||"",cloudinaryPublicId:e?.cloudinaryPublicId||"",ttl:e?.ttl||"1_day",displayOrder:e?.displayOrder??0,isActive:e?.isActive??!0}),Hue=(e,t=!1)=>{const r={};if(e.mediaUrl?.trim()?/^https?:\/\/.+/.test(e.mediaUrl)||(r.mediaUrl="Invalid media URL"):r.mediaUrl="Media is required",e.mediaType?["image","video"].includes(e.mediaType)||(r.mediaType="Invalid media type"):r.mediaType="Media type is required",e.title&&e.title.length>500&&(r.title="Title must be 500 characters or less"),e.ttl||(r.ttl="Time to live is required"),e.displayOrder!==void 0&&e.displayOrder!==""){const n=parseInt(e.displayOrder,10);(isNaN(n)||n<0)&&(r.displayOrder="Display order must be a non-negative number")}return{isValid:Object.keys(r).length===0,errors:r}},que=e=>e&&/\.(mp4|webm|ogg|mov|avi)(\?.*)?$/i.test(e)?"video":"image",$ue=e=>{if(!e||!e.includes("cloudinary.com"))return"";const t=e.match(/\/upload\/(?:v\d+\/)?(.+?)(?:\.[^.]+)?$/);return t?t[1]:""};function jO({isOpen:e,onClose:t,onSubmit:r,story:n=null,ttlOptions:l=xR,isLoading:o=!1,serverError:d=null}){const g=!!n,[h,x]=N.useState(UO(n)),[y,w]=N.useState({});N.useEffect(()=>{e&&(x(UO(n)),w({}),console.log("[StoryForm] Form initialized:",{isEditMode:g,story:n?._id}))},[e,n]);const C=(I,U)=>{x(R=>({...R,[I]:U})),y[I]&&w(R=>{const G={...R};return delete G[I],G})},_=I=>{const U=que(I),R=$ue(I);x(G=>({...G,mediaUrl:I,mediaType:U,cloudinaryPublicId:R})),y.mediaUrl&&w(G=>{const F={...G};return delete F.mediaUrl,F})},D=()=>{x(I=>({...I,isActive:!I.isActive}))},k=async I=>{I.preventDefault();const U=Hue(h,g);if(!U.isValid){w(U.errors),console.log("[StoryForm] Validation failed:",U.errors);return}const R={mediaUrl:h.mediaUrl.trim(),mediaType:h.mediaType,ttl:h.ttl,displayOrder:parseInt(h.displayOrder,10)||0};h.title?.trim()&&(R.title=h.title.trim()),h.cloudinaryPublicId&&(R.cloudinaryPublicId=h.cloudinaryPublicId),g&&(R.isActive=h.isActive),console.log("[StoryForm] Submitting:",{isEditMode:g,storyId:n?._id}),await r(R)},M=()=>{o||t()};return a.createElement(Kr,{isOpen:e,onClose:M,title:g?"Edit Story":"Create Story",size:"xl",closeOnOverlayClick:!o},a.createElement("form",{onSubmit:k,className:"space-y-6"},d&&a.createElement("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},d),a.createElement("div",null,a.createElement(Ac,{label:"Media",required:!0,value:h.mediaUrl,onUpload:_,folder:"stories",type:"any",maxSize:50*1024*1024,placeholder:"Upload image or video for story",error:y.mediaUrl,disabled:o,showUrlInput:!0})),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Media Type ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("div",{className:"flex gap-3"},a.createElement("button",{type:"button",onClick:()=>C("mediaType","image"),disabled:o,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg border-2 transition-all ${h.mediaType==="image"?"border-gray-800 bg-gray-800 text-white":"border-gray-300 text-gray-600 hover:border-gray-400"} disabled:opacity-50`},a.createElement(Oc,{className:"h-5 w-5"}),a.createElement("span",{className:"font-medium"},"Image")),a.createElement("button",{type:"button",onClick:()=>C("mediaType","video"),disabled:o,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg border-2 transition-all ${h.mediaType==="video"?"border-gray-800 bg-gray-800 text-white":"border-gray-300 text-gray-600 hover:border-gray-400"} disabled:opacity-50`},a.createElement(ui,{className:"h-5 w-5"}),a.createElement("span",{className:"font-medium"},"Video"))),y.mediaType&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.mediaType)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title / Caption",a.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),a.createElement("textarea",{value:h.title,onChange:I=>C("title",I.target.value),disabled:o,maxLength:500,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none disabled:bg-gray-100 ${y.title?"border-red-500":"border-gray-300"}`,placeholder:"Add a caption for this story..."}),a.createElement("div",{className:"flex justify-between mt-1"},y.title?a.createElement("p",{className:"text-sm text-red-500"},y.title):a.createElement("span",null),a.createElement("span",{className:"text-xs text-gray-400"},h.title.length,"/500"))),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},a.createElement(On,{className:"inline h-4 w-4 mr-1"}),"Time to Live ",a.createElement("span",{className:"text-red-500"},"*")),a.createElement("select",{value:h.ttl,onChange:I=>C("ttl",I.target.value),disabled:o,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.ttl?"border-red-500":"border-gray-300"}`},l.map(I=>a.createElement("option",{key:I.value,value:I.value},I.label))),y.ttl&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.ttl)),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},a.createElement(x2,{className:"inline h-4 w-4 mr-1"}),"Display Order"),a.createElement("input",{type:"number",value:h.displayOrder,onChange:I=>C("displayOrder",I.target.value),disabled:o,min:0,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${y.displayOrder?"border-red-500":"border-gray-300"}`,placeholder:"0"}),y.displayOrder&&a.createElement("p",{className:"mt-1 text-sm text-red-500"},y.displayOrder),a.createElement("p",{className:"mt-1 text-xs text-gray-400"},"Lower numbers appear first"))),g&&a.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",null,a.createElement("p",{className:"font-medium text-gray-900"},"Story Status"),a.createElement("p",{className:"text-sm text-gray-500"},h.isActive?"Story is visible to users":"Story is hidden from users")),a.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:h.isActive,onChange:D,disabled:o,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}))),a.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},a.createElement("button",{type:"button",onClick:M,disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),a.createElement("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},o&&a.createElement(At,{className:"h-4 w-4 animate-spin"}),g?"Update Story":"Create Story"))))}function Gue(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function Yue(e){if(!e)return"N/A";const n=new Date(e)-new Date;if(n<0)return"Expired";const l=Math.floor(n/(1e3*60*60)),o=Math.floor(l/24);return o>0?`${o}d ${l%24}h left`:l>0?`${l}h left`:`${Math.floor(n/(1e3*60))}m left`}function Xue(e){return{"1_hour":"1 hour","6_hours":"6 hours","12_hours":"12 hours","1_day":"1 day","3_days":"3 days","7_days":"7 days","30_days":"30 days",forever:"Forever"}[e]||e}function Wue(e,t){return t==="forever"||!e?!1:new Date(e)<new Date}function Kue({story:e,canEdit:t=!0,canDelete:r=!0,isToggling:n=!1,onView:l,onEdit:o,onDelete:d,onToggleActive:g,draggable:h=!1,dragHandleProps:x={}}){const y=Wue(e.expiresAt,e.ttl),w=e.mediaType==="video";return a.createElement("div",{className:`bg-white rounded-xl border shadow-sm hover:shadow-md transition-all overflow-hidden flex flex-col ${y?"border-orange-200 bg-orange-50/30":"border-gray-200"}`},a.createElement("div",{className:"relative h-48 sm:h-56 bg-gradient-to-br from-gray-100 to-gray-200"},w?a.createElement("div",{className:"w-full h-full relative"},a.createElement("video",{src:e.mediaUrl,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata",onError:C=>{C.target.style.display="none",C.target.nextElementSibling?.classList.remove("hidden")}}),a.createElement("div",{className:"hidden w-full h-full flex items-center justify-center bg-gray-100"},a.createElement(ui,{className:"h-12 w-12 text-gray-300"})),a.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20"},a.createElement("div",{className:"w-14 h-14 rounded-full bg-white/90 flex items-center justify-center shadow-lg"},a.createElement(Z_,{className:"h-6 w-6 text-gray-800 ml-1"})))):a.createElement(a.Fragment,null,a.createElement("img",{src:e.mediaUrl,alt:e.title||"Story",className:"w-full h-full object-cover",onError:C=>{C.target.style.display="none",C.target.nextElementSibling?.classList.remove("hidden")}}),a.createElement("div",{className:"hidden w-full h-full flex items-center justify-center bg-gray-100"},a.createElement(Oc,{className:"h-12 w-12 text-gray-300"}))),h&&a.createElement("div",{...x,className:"absolute top-2 left-2 p-1.5 bg-white/90 rounded-lg shadow-sm cursor-grab active:cursor-grabbing"},a.createElement(vp,{className:"h-4 w-4 text-gray-500"})),a.createElement("div",{className:"absolute top-2 right-2 flex flex-col gap-1"},a.createElement("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full shadow-sm ${e.isActive?"bg-green-500 text-white":"bg-gray-500 text-white"}`},e.isActive?"Active":"Inactive"),y&&a.createElement("span",{className:"px-2.5 py-1 text-xs font-semibold rounded-full shadow-sm bg-orange-500 text-white flex items-center gap-1"},a.createElement(Ep,{className:"h-3 w-3"}),"Expired")),a.createElement("div",{className:"absolute bottom-2 left-2"},a.createElement("span",{className:"px-2.5 py-1 text-xs font-medium bg-black/60 text-white rounded-full flex items-center gap-1"},w?a.createElement(ui,{className:"h-3 w-3"}):a.createElement(Oc,{className:"h-3 w-3"}),e.mediaType)),a.createElement("div",{className:"absolute bottom-2 right-2"},a.createElement("span",{className:"px-2.5 py-1 text-xs font-medium bg-black/60 text-white rounded-full flex items-center gap-1"},a.createElement(an,{className:"h-3 w-3"}),e.viewCount||0))),a.createElement("div",{className:"p-4 flex-1 flex flex-col"},e.title&&a.createElement("h3",{className:"font-semibold text-gray-900 line-clamp-2 text-sm mb-2",title:e.title},e.title),a.createElement("div",{className:"space-y-1.5 mb-3 text-xs text-gray-500"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement(On,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"}),a.createElement("span",null,"TTL: ",Xue(e.ttl))),e.ttl!=="forever"&&e.expiresAt&&a.createElement("div",{className:"flex items-center gap-2"},a.createElement(On,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"}),a.createElement("span",{className:y?"text-orange-600 font-medium":""},y?"Expired":Yue(e.expiresAt))),a.createElement("div",{className:"flex items-center gap-2 text-gray-400"},a.createElement("span",null,"Created: ",Gue(e.createdAt))),a.createElement("div",{className:"flex items-center gap-2 text-gray-400"},a.createElement("span",null,"Order: #",e.displayOrder))),a.createElement("div",{className:"mt-auto pt-3 border-t border-gray-100 space-y-2"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement("button",{onClick:()=>l(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"View Story"},a.createElement(an,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline"},"View")),t&&a.createElement("button",{onClick:()=>o(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",title:"Edit Story"},a.createElement(K_,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline"},"Edit")),r&&a.createElement("button",{onClick:()=>d(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",title:"Delete Story"},a.createElement(vr,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline"},"Delete"))),t&&a.createElement("button",{onClick:()=>g(e),disabled:n,className:`w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-colors border disabled:opacity-50 ${e.isActive?"text-orange-600 bg-orange-50 hover:bg-orange-100 border-orange-200":"text-green-600 bg-green-50 hover:bg-green-100 border-green-200"}`,title:e.isActive?"Deactivate Story":"Activate Story"},e.isActive?a.createElement(a.Fragment,null,a.createElement(fi,{className:"h-4 w-4"}),n?"Processing...":"Deactivate"):a.createElement(a.Fragment,null,a.createElement(Dl,{className:"h-4 w-4"}),n?"Processing...":"Activate")))))}function zO(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function Zue(e){if(!e)return"N/A";const n=new Date(e)-new Date;if(n<0)return"Expired";const l=Math.floor(n/(1e3*60*60)),o=Math.floor(l/24);if(o>0)return`${o} day${o>1?"s":""} ${l%24} hour${l%24!==1?"s":""} remaining`;if(l>0)return`${l} hour${l!==1?"s":""} remaining`;const d=Math.floor(n/(1e3*60));return`${d} minute${d!==1?"s":""} remaining`}function Que(e){return{"1_hour":"1 hour","6_hours":"6 hours","12_hours":"12 hours","1_day":"1 day","3_days":"3 days","7_days":"7 days","30_days":"30 days",forever:"Forever"}[e]||e}function Jue(e,t){return t==="forever"||!e?!1:new Date(e)<new Date}function Uh({label:e,value:t,icon:r,variant:n="default"}){const l={default:"bg-gray-50 border-gray-200 text-gray-600",success:"bg-green-50 border-green-200 text-green-600",warning:"bg-orange-50 border-orange-200 text-orange-600",danger:"bg-red-50 border-red-200 text-red-600",info:"bg-blue-50 border-blue-200 text-blue-600"};return a.createElement("div",{className:`p-3 rounded-lg border ${l[n]}`},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement(r,{className:"h-4 w-4"}),a.createElement("span",{className:"text-xs font-medium uppercase tracking-wide"},e)),a.createElement("p",{className:"text-lg font-semibold text-gray-900"},t))}function ede({isOpen:e,onClose:t,story:r}){if(!r)return null;const n=Jue(r.expiresAt,r.ttl),l=r.mediaType==="video";return a.createElement(Kr,{isOpen:e,onClose:t,title:"Story Details",size:"2xl"},a.createElement("div",{className:"space-y-6"},n&&a.createElement("div",{className:"p-3 bg-orange-50 border border-orange-200 text-orange-700 rounded-lg flex items-center gap-2"},a.createElement(Ep,{className:"h-5 w-5 shrink-0"}),a.createElement("span",{className:"font-medium"},"This story has expired")),a.createElement("div",{className:"relative rounded-xl overflow-hidden bg-gray-100"},l?a.createElement("div",{className:"relative aspect-[9/16] sm:aspect-video max-h-96 mx-auto bg-black"},a.createElement("video",{src:r.mediaUrl,controls:!0,className:"w-full h-full object-contain",preload:"metadata"},"Your browser does not support the video tag.")):a.createElement("div",{className:"relative max-h-96 flex items-center justify-center bg-gray-900"},a.createElement("img",{src:r.mediaUrl,alt:r.title||"Story",className:"max-h-96 w-auto object-contain",onError:o=>{o.target.src="",o.target.alt="Failed to load image"}})),a.createElement("a",{href:r.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 p-2 bg-white/90 rounded-lg shadow-sm hover:bg-white transition-colors",title:"Open in new tab"},a.createElement(y2,{className:"h-4 w-4 text-gray-600"}))),r.title&&a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("p",{className:"text-sm font-medium text-gray-500 mb-1"},"Caption"),a.createElement("p",{className:"text-gray-900 whitespace-pre-wrap"},r.title)),a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},a.createElement(Uh,{label:"Status",value:r.isActive?"Active":"Inactive",icon:r.isActive?Ci:ko,variant:r.isActive?"success":"default"}),a.createElement(Uh,{label:"Views",value:r.viewCount||0,icon:an,variant:"info"}),a.createElement(Uh,{label:"Type",value:r.mediaType,icon:l?ui:Oc,variant:"default"}),a.createElement(Uh,{label:"Order",value:`#${r.displayOrder}`,icon:x2,variant:"default"})),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},a.createElement(On,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Time to Live")),a.createElement("p",{className:"text-gray-900 font-semibold"},Que(r.ttl))),a.createElement("div",{className:`p-4 rounded-lg border ${n?"bg-orange-50 border-orange-200":"bg-gray-50 border-gray-200"}`},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},a.createElement(On,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},n?"Expired":"Expires")),a.createElement("p",{className:`font-semibold ${n?"text-orange-700":"text-gray-900"}`},r.ttl==="forever"?"Never":n?zO(r.expiresAt):Zue(r.expiresAt))),a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},a.createElement($r,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Created")),a.createElement("p",{className:"text-gray-900 font-semibold"},zO(r.createdAt))),r.createdBy&&a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},a.createElement(hi,{className:"h-4 w-4"}),a.createElement("span",{className:"text-sm font-medium"},"Created By")),a.createElement("p",{className:"text-gray-900 font-semibold"},typeof r.createdBy=="object"?r.createdBy.name||r.createdBy.username:r.createdBy))),a.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},a.createElement("p",{className:"text-sm font-medium text-gray-500 mb-3"},"Technical Details"),a.createElement("div",{className:"space-y-2 text-sm"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1"},a.createElement("span",{className:"text-gray-500 shrink-0 sm:w-32"},"Story ID:"),a.createElement("code",{className:"text-gray-700 bg-gray-200 px-2 py-0.5 rounded text-xs break-all"},r._id)),r.cloudinaryPublicId&&a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1"},a.createElement("span",{className:"text-gray-500 shrink-0 sm:w-32"},"Public ID:"),a.createElement("code",{className:"text-gray-700 bg-gray-200 px-2 py-0.5 rounded text-xs break-all"},r.cloudinaryPublicId)),a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1"},a.createElement("span",{className:"text-gray-500 shrink-0 sm:w-32"},"Media URL:"),a.createElement("a",{href:r.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs break-all"},r.mediaUrl)))),a.createElement("div",{className:"pt-4 border-t border-gray-200"},a.createElement("button",{onClick:t,className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Close"))))}function tde({filters:e,onFilterChange:t,onSearchChange:r,onReset:n,includeExpired:l=!1,onToggleExpired:o,disabled:d=!1}){const[g,h]=N.useState(!1),x=e.search||e.mediaType||e.isActive!==""||l||e.sortBy!=="displayOrder"||e.sortOrder!=="asc",y=k=>{r(k.target.value)},w=k=>{t({mediaType:k===e.mediaType?"":k})},C=k=>{t({isActive:k===e.isActive?"":k})},_=(k,M)=>{t({[k]:M})},D=()=>{n(),h(!1)};return a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},a.createElement("div",{className:"flex flex-col sm:flex-row gap-3"},a.createElement("div",{className:"flex-1 relative"},a.createElement(da,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.createElement("input",{type:"text",value:e.search,onChange:y,disabled:d,placeholder:"Search stories by title...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:opacity-50 disabled:bg-gray-100"}),e.search&&a.createElement("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600"},a.createElement(Bn,{className:"h-4 w-4"}))),a.createElement("button",{onClick:()=>h(!g),disabled:d,className:`flex items-center justify-center gap-2 px-4 py-2.5 border rounded-lg transition-colors whitespace-nowrap ${g||x?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"} disabled:opacity-50`},a.createElement(Ol,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline"},"Filters"),x&&a.createElement("span",{className:"w-2 h-2 rounded-full bg-white"}))),g&&a.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-4"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Media Type"),a.createElement("div",{className:"flex flex-wrap gap-2"},jue.map(k=>a.createElement("button",{key:k.value,onClick:()=>w(k.value),disabled:d,className:`flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-lg transition-colors ${e.mediaType===k.value?"bg-gray-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} disabled:opacity-50`},k.value==="image"?a.createElement(Oc,{className:"h-3.5 w-3.5"}):a.createElement(ui,{className:"h-3.5 w-3.5"}),k.label)))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Status"),a.createElement("div",{className:"flex flex-wrap gap-2"},a.createElement("button",{onClick:()=>C("true"),disabled:d,className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${e.isActive==="true"?"bg-green-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} disabled:opacity-50`},"Active"),a.createElement("button",{onClick:()=>C("false"),disabled:d,className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${e.isActive==="false"?"bg-gray-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} disabled:opacity-50`},"Inactive"))),a.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement(On,{className:"h-4 w-4 text-gray-500"}),a.createElement("span",{className:"text-sm font-medium text-gray-700"},"Include Expired Stories")),a.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},a.createElement("input",{type:"checkbox",checked:l,onChange:o,disabled:d,className:"sr-only peer"}),a.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-800 peer-disabled:opacity-50"}))),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},a.createElement(Oj,{className:"inline h-4 w-4 mr-1"}),"Sort By"),a.createElement("select",{value:e.sortBy,onChange:k=>_("sortBy",k.target.value),disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:opacity-50"},zue.map(k=>a.createElement("option",{key:k.value,value:k.value},k.label)))),a.createElement("div",null,a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Order"),a.createElement("select",{value:e.sortOrder,onChange:k=>_("sortOrder",k.target.value),disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:opacity-50"},a.createElement("option",{value:"asc"},"Ascending"),a.createElement("option",{value:"desc"},"Descending")))),x&&a.createElement("button",{onClick:D,disabled:d,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 transition-colors disabled:opacity-50"},a.createElement(Bn,{className:"h-4 w-4"}),"Reset all filters")))}function bv({label:e,value:t,icon:r,color:n="gray",description:l}){const o={gray:"bg-gray-50 border-gray-200 text-gray-600",blue:"bg-blue-50 border-blue-200 text-blue-600",green:"bg-green-50 border-green-200 text-green-600",orange:"bg-orange-50 border-orange-200 text-orange-600",red:"bg-red-50 border-red-200 text-red-600",purple:"bg-purple-50 border-purple-200 text-purple-600"};return a.createElement("div",{className:`p-4 rounded-xl border ${o[n]}`},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:`p-2 rounded-lg ${o[n]}`},a.createElement(r,{className:"h-5 w-5"})),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500"},e),a.createElement("p",{className:"text-2xl font-bold text-gray-900"},t),l&&a.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},l))))}function rde({isOpen:e,onClose:t,stats:r,isLoading:n=!1}){return a.createElement(Kr,{isOpen:e,onClose:t,title:"Story Statistics",size:"xl"},n?a.createElement("div",{className:"flex flex-col items-center justify-center py-12"},a.createElement(At,{className:"h-8 w-8 text-gray-400 animate-spin mb-3"}),a.createElement("p",{className:"text-gray-500"},"Loading statistics...")):r?a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"p-4 bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl text-white"},a.createElement("div",{className:"flex items-center gap-3 mb-4"},a.createElement(wl,{className:"h-6 w-6"}),a.createElement("h3",{className:"text-lg font-semibold"},"Overview")),a.createElement("div",{className:"grid grid-cols-2 gap-4"},a.createElement("div",null,a.createElement("p",{className:"text-gray-400 text-sm"},"Total Stories"),a.createElement("p",{className:"text-3xl font-bold"},r.totalStories||0)),a.createElement("div",null,a.createElement("p",{className:"text-gray-400 text-sm"},"Total Views"),a.createElement("p",{className:"text-3xl font-bold"},r.totalViews||0)))),a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},a.createElement(bv,{label:"Active Stories",value:r.activeStories||0,icon:Ci,color:"green",description:"Currently visible to users"}),a.createElement(bv,{label:"Inactive Stories",value:r.inactiveStories||0,icon:ko,color:"gray",description:"Hidden from users"}),a.createElement(bv,{label:"Expired Stories",value:r.expiredStories||0,icon:On,color:"orange",description:"Past their TTL"})),a.createElement("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-xl"},a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"p-2 bg-purple-100 rounded-lg"},a.createElement(Q_,{className:"h-5 w-5 text-purple-600"})),a.createElement("div",null,a.createElement("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Average Views per Story"),a.createElement("p",{className:"text-2xl font-bold text-gray-900"},r.averageViews?r.averageViews.toFixed(1):"0")))),a.createElement("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200"},a.createElement("h4",{className:"font-semibold text-gray-900 mb-3"},"Summary"),a.createElement("ul",{className:"space-y-2 text-sm text-gray-600"},a.createElement("li",{className:"flex items-center gap-2"},a.createElement("span",{className:"w-2 h-2 rounded-full bg-green-500"}),r.activeStories||0," stories are currently active and visible"),a.createElement("li",{className:"flex items-center gap-2"},a.createElement("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),r.expiredStories||0," stories have expired based on their TTL"),a.createElement("li",{className:"flex items-center gap-2"},a.createElement("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),r.inactiveStories||0," stories are manually deactivated"),a.createElement("li",{className:"flex items-center gap-2"},a.createElement("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Stories have been viewed ",r.totalViews||0," times in total")))):a.createElement("div",{className:"flex flex-col items-center justify-center py-12"},a.createElement(wl,{className:"h-12 w-12 text-gray-300 mb-3"}),a.createElement("p",{className:"text-gray-500"},"No statistics available")),a.createElement("div",{className:"pt-4 mt-6 border-t border-gray-200"},a.createElement("button",{onClick:t,className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Close")))}function nde(){const{hasRole:e}=Pl(),t=e(["SUPER_ADMIN","ADMIN"]),r=e(["SUPER_ADMIN","ADMIN"]),n=e(["SUPER_ADMIN","ADMIN"]),{stories:l,pagination:o,filters:d,isLoading:g,error:h,stats:x,isLoadingStats:y,ttlOptions:w,createStory:C,updateStory:_,toggleStoryActive:D,deleteStory:k,updateFilters:M,updateSearch:I,resetFilters:U,toggleIncludeExpired:R,changePage:G,clearError:F,refresh:j}=Vue(),[L,H]=N.useState("grid"),[V,Q]=N.useState(!1),[Y,X]=N.useState(!1),[he,pe]=N.useState(!1),[se,J]=N.useState(!1),[ae,Ee]=N.useState(!1),[be,re]=N.useState(null),[W,te]=N.useState(!1),[me,ue]=N.useState(!1),[Ne,le]=N.useState(null),[oe,ze]=N.useState({}),[ve,Ye]=N.useState(null),rt=N.useCallback(()=>{re(null),le(null),Q(!0),console.log("[Stories] Opening create modal")},[]),Le=N.useCallback(st=>{re(st),le(null),X(!0),console.log("[Stories] Opening edit modal for story:",st._id)},[]),ye=N.useCallback(st=>{re(st),pe(!0),console.log("[Stories] Opening details modal for story:",st._id)},[]),Ue=N.useCallback(()=>{J(!0),console.log("[Stories] Opening stats modal")},[]),Se=N.useCallback(st=>{re(st),te(!1),Ee(!0),console.log("[Stories] Opening delete dialog for story:",st._id)},[]),We=N.useCallback(async st=>{ze(Re=>({...Re,[st._id]:!0}));try{const Re=await D(st._id);Re.success&&(Ye(`Story ${Re.data.isActive?"activated":"deactivated"} successfully`),setTimeout(()=>Ye(null),3e3))}finally{ze(Re=>({...Re,[st._id]:!1}))}},[D]),_e=N.useCallback(async st=>{ue(!0),le(null);try{console.log("[Stories] Creating story");const Re=await C(st);Re.success?(Q(!1),Ye("Story created successfully"),setTimeout(()=>Ye(null),3e3),console.log("[Stories] Story created successfully")):(le(Re.error||"Failed to create story"),console.error("[Stories] Failed to create story:",Re.error))}catch(Re){le("An unexpected error occurred"),console.error("[Stories] Error creating story:",Re)}finally{ue(!1)}},[C]),et=N.useCallback(async st=>{if(be){ue(!0),le(null);try{console.log("[Stories] Updating story:",be._id);const Re=await _(be._id,st);Re.success?(X(!1),re(null),Ye("Story updated successfully"),setTimeout(()=>Ye(null),3e3),console.log("[Stories] Story updated successfully")):(le(Re.error||"Failed to update story"),console.error("[Stories] Failed to update story:",Re.error))}catch(Re){le("An unexpected error occurred"),console.error("[Stories] Error updating story:",Re)}finally{ue(!1)}}},[be,_]),lt=N.useCallback(async()=>{if(be){ue(!0);try{console.log("[Stories] Deleting story:",be._id);const st=await k(be._id,W);st.success?(Ee(!1),re(null),Ye("Story deleted successfully"),setTimeout(()=>Ye(null),3e3),console.log("[Stories] Story deleted successfully")):console.error("[Stories] Failed to delete story:",st.error)}catch(st){console.error("[Stories] Error deleting story:",st)}finally{ue(!1)}}},[be,W,k]),vt=N.useCallback(st=>{G(st),window.scrollTo({top:0,behavior:"smooth"})},[G]),Qe=N.useCallback(()=>{j(),console.log("[Stories] Refreshing stories")},[j]);return a.createElement("div",{className:"space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},a.createElement("div",null,a.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Stories"),a.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Upload and manage stories visible to all users")),a.createElement("div",{className:"flex items-center gap-3 flex-wrap"},a.createElement("button",{onClick:Ue,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"View statistics"},a.createElement(wl,{className:"h-4 w-4"}),a.createElement("span",{className:"hidden sm:inline"},"Stats")),a.createElement("button",{onClick:Qe,disabled:g,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",title:"Refresh stories"},a.createElement(_l,{className:`h-4 w-4 ${g?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline"},"Refresh")),a.createElement("div",{className:"flex items-center bg-white border border-gray-300 rounded-lg overflow-hidden"},a.createElement("button",{onClick:()=>H("grid"),className:`p-2 transition-colors ${L==="grid"?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50"}`,title:"Grid view"},a.createElement(W_,{className:"h-4 w-4"})),a.createElement("button",{onClick:()=>H("list"),className:`p-2 transition-colors ${L==="list"?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50"}`,title:"List view"},a.createElement(b2,{className:"h-4 w-4"}))),t&&a.createElement("button",{onClick:rt,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},a.createElement(hn,{className:"h-4 w-4"}),a.createElement("span",null,"New Story")))),h&&a.createElement("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg"},a.createElement(Or,{className:"h-5 w-5 shrink-0"}),a.createElement("p",{className:"flex-1"},h),a.createElement("button",{onClick:F,className:"text-red-500 hover:text-red-700 font-medium"},"Dismiss")),ve&&a.createElement("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg"},a.createElement(Ci,{className:"h-5 w-5 shrink-0"}),a.createElement("p",{className:"flex-1"},ve),a.createElement("button",{onClick:()=>Ye(null),className:"text-green-500 hover:text-green-700 font-medium"},"Dismiss")),a.createElement(tde,{filters:d,onFilterChange:M,onSearchChange:I,onReset:U,includeExpired:d.includeExpired,onToggleExpired:R,disabled:g}),g&&l.length===0?a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},[...Array(8)].map((st,Re)=>a.createElement("div",{key:Re,className:"bg-white rounded-xl border border-gray-200 overflow-hidden animate-pulse"},a.createElement("div",{className:"h-48 bg-gray-200"}),a.createElement("div",{className:"p-4 space-y-3"},a.createElement("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),a.createElement("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),a.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}),a.createElement("div",{className:"h-8 bg-gray-200 rounded"}))))):l.length===0?a.createElement("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center"},a.createElement("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},a.createElement(Oc,{className:"h-8 w-8 text-gray-400"})),a.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"No stories found"),a.createElement("p",{className:"text-gray-500 max-w-md mx-auto mb-6"},d.search||d.mediaType||d.isActive!==""||d.includeExpired?"Try adjusting your search or filter criteria.":"Create your first story to get started."),t&&!d.search&&a.createElement("button",{onClick:rt,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},a.createElement(hn,{className:"h-4 w-4"}),"Create Story")):L==="grid"?a.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},l.map(st=>a.createElement(Kue,{key:st._id,story:st,canEdit:r,canDelete:n,isToggling:oe[st._id],onView:ye,onEdit:Le,onDelete:Se,onToggleActive:We}))):a.createElement("div",{className:"space-y-3"},l.map(st=>a.createElement("div",{key:st._id,className:"bg-white rounded-xl border border-gray-200 p-4 flex flex-col sm:flex-row items-start sm:items-center gap-4"},a.createElement("div",{className:"shrink-0 w-full sm:w-24 h-32 sm:h-24 rounded-lg overflow-hidden bg-gray-100 relative"},st.mediaType==="video"?a.createElement("video",{src:st.mediaUrl,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}):a.createElement("img",{src:st.mediaUrl,alt:st.title||"Story",className:"w-full h-full object-cover"}),a.createElement("span",{className:`absolute top-2 right-2 px-2 py-0.5 text-xs font-medium rounded-full ${st.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},st.isActive?"Active":"Inactive")),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("h3",{className:"font-semibold text-gray-900 truncate"},st.title||"Untitled Story"),a.createElement("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-sm text-gray-500"},a.createElement("span",{className:"capitalize"},st.mediaType),a.createElement("span",null,"TTL: ",st.ttl?.replace("_"," ")),a.createElement("span",null,st.viewCount||0," views"))),a.createElement("div",{className:"flex items-center gap-2 w-full sm:w-auto"},a.createElement("button",{onClick:()=>ye(st),className:"flex-1 sm:flex-none px-3 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"},"View"),r&&a.createElement("button",{onClick:()=>Le(st),className:"flex-1 sm:flex-none px-3 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"},"Edit"),n&&a.createElement("button",{onClick:()=>Se(st),className:"flex-1 sm:flex-none px-3 py-1.5 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors"},"Delete"))))),o.totalPages>1&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm"},a.createElement(Ln,{currentPage:o.page,totalPages:o.totalPages,totalItems:o.total,itemsPerPage:o.limit,onPageChange:vt,itemLabel:"stories"})),a.createElement(jO,{isOpen:V,onClose:()=>{Q(!1),le(null)},onSubmit:_e,story:null,ttlOptions:w,isLoading:me,serverError:Ne}),a.createElement(jO,{isOpen:Y,onClose:()=>{X(!1),re(null),le(null)},onSubmit:et,story:be,ttlOptions:w,isLoading:me,serverError:Ne}),a.createElement(ede,{isOpen:he,onClose:()=>{pe(!1),re(null)},story:be}),a.createElement(rde,{isOpen:se,onClose:()=>J(!1),stats:x,isLoading:y}),a.createElement(va,{isOpen:ae,onClose:()=>{Ee(!1),re(null),te(!1)},onConfirm:lt,title:"Delete Story",message:a.createElement("div",{className:"space-y-3"},a.createElement("p",null,"Are you sure you want to delete this story? This action cannot be undone."),a.createElement("label",{className:"flex items-center gap-2 text-sm"},a.createElement("input",{type:"checkbox",checked:W,onChange:st=>te(st.target.checked),className:"rounded border-gray-300"}),a.createElement("span",null,"Also delete media from cloud storage"))),confirmText:"Delete Story",cancelText:"Cancel",variant:"danger",isLoading:me}))}var ot;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ot||(ot={}));var VO=new Map([[ot.QR_CODE,"QR_CODE"],[ot.AZTEC,"AZTEC"],[ot.CODABAR,"CODABAR"],[ot.CODE_39,"CODE_39"],[ot.CODE_93,"CODE_93"],[ot.CODE_128,"CODE_128"],[ot.DATA_MATRIX,"DATA_MATRIX"],[ot.MAXICODE,"MAXICODE"],[ot.ITF,"ITF"],[ot.EAN_13,"EAN_13"],[ot.EAN_8,"EAN_8"],[ot.PDF_417,"PDF_417"],[ot.RSS_14,"RSS_14"],[ot.RSS_EXPANDED,"RSS_EXPANDED"],[ot.UPC_A,"UPC_A"],[ot.UPC_E,"UPC_E"],[ot.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),HO;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(HO||(HO={}));function ade(e){return Object.values(ot).includes(e)}var cp;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cp||(cp={}));var sde=(function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[cp.SCAN_TYPE_CAMERA,cp.SCAN_TYPE_FILE],e})(),bR=(function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!VO.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,VO.get(t))},e})(),qO=(function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e})(),t2;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(t2||(t2={}));var lde=(function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:t2.UNKWOWN_ERROR}},e})(),ide=(function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e})();function ni(e){return typeof e>"u"||e===null}var Ru=(function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e})(),vR=(function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var l=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(l),d=Object.keys(t),g=0,h=d;g<h.length;g++){var x=h[g];if(o.has(x))return r.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e})(),Tm={exports:{}},ode=Tm.exports,$O;function cde(){return $O||($O=1,(function(e,t){(function(r,n){n(t)})(ode,(function(r){function n(q){return q==null}var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,i){q.__proto__=i}||function(q,i){for(var u in i)i.hasOwnProperty(u)&&(q[u]=i[u])};function o(q,i){l(q,i);function u(){this.constructor=q}q.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}function d(q,i){var u=Object.setPrototypeOf;u?u(q,i):q.__proto__=i}function g(q,i){i===void 0&&(i=q.constructor);var u=Error.captureStackTrace;u&&u(q,i)}var h=(function(q){o(i,q);function i(u){var m=this.constructor,p=q.call(this,u)||this;return Object.defineProperty(p,"name",{value:m.name,enumerable:!1}),d(p,m.prototype),g(p),p}return i})(Error);class x extends h{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}x.kind="Exception";class y extends x{}y.kind="ArgumentException";class w extends x{}w.kind="IllegalArgumentException";class C{constructor(i){if(this.binarizer=i,i===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,u){return this.binarizer.getBlackRow(i,u)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,u,m,p){const b=this.binarizer.getLuminanceSource().crop(i,u,m,p);return new C(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new C(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new C(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends x{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class D{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class k{static arraycopy(i,u,m,p,b){for(;b--;)m[p++]=i[u++]}static currentTimeMillis(){return Date.now()}}class M extends x{}M.kind="IndexOutOfBoundsException";class I extends M{constructor(i=void 0,u=void 0){super(u),this.index=i,this.message=u}}I.kind="ArrayIndexOutOfBoundsException";class U{static fill(i,u){for(let m=0,p=i.length;m<p;m++)i[m]=u}static fillWithin(i,u,m,p){U.rangeCheck(i.length,u,m);for(let b=u;b<m;b++)i[b]=p}static rangeCheck(i,u,m){if(u>m)throw new w("fromIndex("+u+") > toIndex("+m+")");if(u<0)throw new I(u);if(m>i)throw new I(m)}static asList(...i){return i}static create(i,u,m){return Array.from({length:i}).map(b=>Array.from({length:u}).fill(m))}static createInt32Array(i,u,m){return Array.from({length:i}).map(b=>Int32Array.from({length:u}).fill(m))}static equals(i,u){if(!i||!u||!i.length||!u.length||i.length!==u.length)return!1;for(let m=0,p=i.length;m<p;m++)if(i[m]!==u[m])return!1;return!0}static hashCode(i){if(i===null)return 0;let u=1;for(const m of i)u=31*u+m;return u}static fillUint8Array(i,u){for(let m=0;m!==i.length;m++)i[m]=u}static copyOf(i,u){return i.slice(0,u)}static copyOfUint8Array(i,u){if(i.length<=u){const m=new Uint8Array(u);return m.set(i),m}return i.slice(0,u)}static copyOfRange(i,u,m){const p=m-u,b=new Int32Array(p);return k.arraycopy(i,u,b,0,p),b}static binarySearch(i,u,m){m===void 0&&(m=U.numberComparator);let p=0,b=i.length-1;for(;p<=b;){const E=b+p>>1,S=m(u,i[E]);if(S>0)p=E+1;else if(S<0)b=E-1;else return E}return-p-1}static numberComparator(i,u){return i-u}}class R{static numberOfTrailingZeros(i){let u;if(i===0)return 32;let m=31;return u=i<<16,u!==0&&(m-=16,i=u),u=i<<8,u!==0&&(m-=8,i=u),u=i<<4,u!==0&&(m-=4,i=u),u=i<<2,u!==0&&(m-=2,i=u),m-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let u=1;return i>>>16||(u+=16,i<<=16),i>>>24||(u+=8,i<<=8),i>>>28||(u+=4,i<<=4),i>>>30||(u+=2,i<<=2),u-=i>>>31,u}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,u){return Math.trunc(i/u)}static parseInt(i,u=void 0){return parseInt(i,u)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class G{constructor(i,u){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,u==null?this.bits=G.makeArray(i):this.bits=u)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const u=G.makeArray(i);k.arraycopy(this.bits,0,u,0,this.bits.length),this.bits=u}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const u=this.size;if(i>=u)return u;const m=this.bits;let p=Math.floor(i/32),b=m[p];b&=~((1<<(i&31))-1);const E=m.length;for(;b===0;){if(++p===E)return u;b=m[p]}const S=p*32+R.numberOfTrailingZeros(b);return S>u?u:S}getNextUnset(i){const u=this.size;if(i>=u)return u;const m=this.bits;let p=Math.floor(i/32),b=~m[p];b&=~((1<<(i&31))-1);const E=m.length;for(;b===0;){if(++p===E)return u;b=~m[p]}const S=p*32+R.numberOfTrailingZeros(b);return S>u?u:S}setBulk(i,u){this.bits[Math.floor(i/32)]=u}setRange(i,u){if(u<i||i<0||u>this.size)throw new w;if(u===i)return;u--;const m=Math.floor(i/32),p=Math.floor(u/32),b=this.bits;for(let E=m;E<=p;E++){const S=E>m?0:i&31,P=(2<<(E<p?31:u&31))-(1<<S);b[E]|=P}}clear(){const i=this.bits.length,u=this.bits;for(let m=0;m<i;m++)u[m]=0}isRange(i,u,m){if(u<i||i<0||u>this.size)throw new w;if(u===i)return!0;u--;const p=Math.floor(i/32),b=Math.floor(u/32),E=this.bits;for(let S=p;S<=b;S++){const T=S>p?0:i&31,B=(2<<(S<b?31:u&31))-(1<<T)&4294967295;if((E[S]&B)!==(m?B:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,u){if(u<0||u>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+u);for(let m=u;m>0;m--)this.appendBit((i>>m-1&1)===1)}appendBitArray(i){const u=i.size;this.ensureCapacity(this.size+u);for(let m=0;m<u;m++)this.appendBit(i.get(m))}xor(i){if(this.size!==i.size)throw new w("Sizes don't match");const u=this.bits;for(let m=0,p=u.length;m<p;m++)u[m]^=i.bits[m]}toBytes(i,u,m,p){for(let b=0;b<p;b++){let E=0;for(let S=0;S<8;S++)this.get(i)&&(E|=1<<7-S),i++;u[m+b]=E}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),u=Math.floor((this.size-1)/32),m=u+1,p=this.bits;for(let b=0;b<m;b++){let E=p[b];E=E>>1&1431655765|(E&1431655765)<<1,E=E>>2&858993459|(E&858993459)<<2,E=E>>4&252645135|(E&252645135)<<4,E=E>>8&16711935|(E&16711935)<<8,E=E>>16&65535|(E&65535)<<16,i[u-b]=E}if(this.size!==m*32){const b=m*32-this.size;let E=i[0]>>>b;for(let S=1;S<m;S++){const T=i[S];E|=T<<32-b,i[S-1]=E,E=T>>>b}i[m-1]=E}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof G))return!1;const u=i;return this.size===u.size&&U.equals(this.bits,u.bits)}hashCode(){return 31*this.size+U.hashCode(this.bits)}toString(){let i="";for(let u=0,m=this.size;u<m;u++)(u&7)===0&&(i+=" "),i+=this.get(u)?"X":".";return i}clone(){return new G(this.size,this.bits.slice())}}var F;(function(q){q[q.OTHER=0]="OTHER",q[q.PURE_BARCODE=1]="PURE_BARCODE",q[q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",q[q.TRY_HARDER=3]="TRY_HARDER",q[q.CHARACTER_SET=4]="CHARACTER_SET",q[q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",q[q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",q[q.ASSUME_GS1=7]="ASSUME_GS1",q[q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",q[q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",q[q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var j=F;class L extends x{static getFormatInstance(){return new L}}L.kind="FormatException";var H;(function(q){q[q.Cp437=0]="Cp437",q[q.ISO8859_1=1]="ISO8859_1",q[q.ISO8859_2=2]="ISO8859_2",q[q.ISO8859_3=3]="ISO8859_3",q[q.ISO8859_4=4]="ISO8859_4",q[q.ISO8859_5=5]="ISO8859_5",q[q.ISO8859_6=6]="ISO8859_6",q[q.ISO8859_7=7]="ISO8859_7",q[q.ISO8859_8=8]="ISO8859_8",q[q.ISO8859_9=9]="ISO8859_9",q[q.ISO8859_10=10]="ISO8859_10",q[q.ISO8859_11=11]="ISO8859_11",q[q.ISO8859_13=12]="ISO8859_13",q[q.ISO8859_14=13]="ISO8859_14",q[q.ISO8859_15=14]="ISO8859_15",q[q.ISO8859_16=15]="ISO8859_16",q[q.SJIS=16]="SJIS",q[q.Cp1250=17]="Cp1250",q[q.Cp1251=18]="Cp1251",q[q.Cp1252=19]="Cp1252",q[q.Cp1256=20]="Cp1256",q[q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",q[q.UTF8=22]="UTF8",q[q.ASCII=23]="ASCII",q[q.Big5=24]="Big5",q[q.GB18030=25]="GB18030",q[q.EUC_KR=26]="EUC_KR"})(H||(H={}));class V{constructor(i,u,m,...p){this.valueIdentifier=i,this.name=m,typeof u=="number"?this.values=Int32Array.from([u]):this.values=u,this.otherEncodingNames=p,V.VALUE_IDENTIFIER_TO_ECI.set(i,this),V.NAME_TO_ECI.set(m,this);const b=this.values;for(let E=0,S=b.length;E!==S;E++){const T=b[E];V.VALUES_TO_ECI.set(T,this)}for(const E of p)V.NAME_TO_ECI.set(E,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new L("incorect value");const u=V.VALUES_TO_ECI.get(i);if(u===void 0)throw new L("incorect value");return u}static getCharacterSetECIByName(i){const u=V.NAME_TO_ECI.get(i);if(u===void 0)throw new L("incorect value");return u}equals(i){if(!(i instanceof V))return!1;const u=i;return this.getName()===u.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(H.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(H.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(H.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(H.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(H.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(H.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(H.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(H.Big5,28,"Big5"),V.GB18030=new V(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(H.EUC_KR,30,"EUC_KR","EUC-KR");class Q extends x{}Q.kind="UnsupportedOperationException";class Y{static decode(i,u){const m=this.encodingName(u);return this.customDecoder?this.customDecoder(i,m):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(m)?this.decodeFallback(i,m):new TextDecoder(m).decode(i)}static shouldDecodeOnFallback(i){return!Y.isBrowser()&&i==="ISO-8859-1"}static encode(i,u){const m=this.encodingName(u);return this.customEncoder?this.customEncoder(i,m):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof V?i:V.getCharacterSetECIByName(i)}static decodeFallback(i,u){const m=this.encodingCharacterSet(u);if(Y.isDecodeFallbackSupported(m)){let p="";for(let b=0,E=i.length;b<E;b++){let S=i[b].toString(16);S.length<2&&(S="0"+S),p+="%"+S}return decodeURIComponent(p)}if(m.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new Q(`Encoding ${this.encodingName(u)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(V.UTF8)||i.equals(V.ISO8859_1)||i.equals(V.ASCII)}static encodeFallback(i){const m=btoa(unescape(encodeURIComponent(i))).split(""),p=[];for(let b=0;b<m.length;b++)p.push(m[b].charCodeAt(0));return new Uint8Array(p)}}class X{static castAsNonUtf8Char(i,u=null){const m=u?u.getName():this.ISO88591;return Y.decode(new Uint8Array([i]),m)}static guessEncoding(i,u){if(u!=null&&u.get(j.CHARACTER_SET)!==void 0)return u.get(j.CHARACTER_SET).toString();const m=i.length;let p=!0,b=!0,E=!0,S=0,T=0,P=0,B=0,$=0,K=0,ne=0,ce=0,de=0,we=0,De=0;const Je=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let Ke=0;Ke<m&&(p||b||E);Ke++){const $e=i[Ke]&255;E&&(S>0?($e&128)===0?E=!1:S--:($e&128)!==0&&(($e&64)===0?E=!1:(S++,($e&32)===0?T++:(S++,($e&16)===0?P++:(S++,($e&8)===0?B++:E=!1))))),p&&($e>127&&$e<160?p=!1:$e>159&&($e<192||$e===215||$e===247)&&De++),b&&($>0?$e<64||$e===127||$e>252?b=!1:$--:$e===128||$e===160||$e>239?b=!1:$e>160&&$e<224?(K++,ce=0,ne++,ne>de&&(de=ne)):$e>127?($++,ne=0,ce++,ce>we&&(we=ce)):(ne=0,ce=0))}return E&&S>0&&(E=!1),b&&$>0&&(b=!1),E&&(Je||T+P+B>0)?X.UTF8:b&&(X.ASSUME_SHIFT_JIS||de>=3||we>=3)?X.SHIFT_JIS:p&&b?de===2&&K===2||De*10>=m?X.SHIFT_JIS:X.ISO88591:p?X.ISO88591:b?X.SHIFT_JIS:E?X.UTF8:X.PLATFORM_DEFAULT_ENCODING}static format(i,...u){let m=-1;function p(E,S,T,P,B,$){if(E==="%%")return"%";if(u[++m]===void 0)return;E=P?parseInt(P.substr(1)):void 0;let K=B?parseInt(B.substr(1)):void 0,ne;switch($){case"s":ne=u[m];break;case"c":ne=u[m][0];break;case"f":ne=parseFloat(u[m]).toFixed(E);break;case"p":ne=parseFloat(u[m]).toPrecision(E);break;case"e":ne=parseFloat(u[m]).toExponential(E);break;case"x":ne=parseInt(u[m]).toString(K||16);break;case"d":ne=parseFloat(parseInt(u[m],K||10).toPrecision(E)).toFixed(0);break}ne=typeof ne=="object"?JSON.stringify(ne):(+ne).toString(K);let ce=parseInt(T),de=T&&T[0]+""=="0"?"0":" ";for(;ne.length<ce;)ne=S!==void 0?ne+de:de+ne;return ne}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(b,p)}static getBytes(i,u){return Y.encode(i,u)}static getCharCode(i,u=0){return i.charCodeAt(u)}static getCharAt(i){return String.fromCharCode(i)}}X.SHIFT_JIS=V.SJIS.getName(),X.GB2312="GB2312",X.ISO88591=V.ISO8859_1.getName(),X.EUC_JP="EUC_JP",X.UTF8=V.UTF8.getName(),X.PLATFORM_DEFAULT_ENCODING=X.UTF8,X.ASSUME_SHIFT_JIS=!1;class he{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=X.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,u,m){for(let p=u;u<u+m;p++)this.append(i[p]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,u){this.value=this.value.substr(0,i)+u+this.value.substr(i+1)}substring(i,u){return this.value.substring(i,u)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,u){this.value=this.value.substr(0,i)+u+this.value.substr(i+u.length)}}class pe{constructor(i,u,m,p){if(this.width=i,this.height=u,this.rowSize=m,this.bits=p,u==null&&(u=i),this.height=u,i<1||u<1)throw new w("Both dimensions must be greater than 0");m==null&&(m=Math.floor((i+31)/32)),this.rowSize=m,p==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const u=i.length,m=i[0].length,p=new pe(m,u);for(let b=0;b<u;b++){const E=i[b];for(let S=0;S<m;S++)E[S]&&p.set(S,b)}return p}static parseFromString(i,u,m){if(i===null)throw new w("stringRepresentation cannot be null");const p=new Array(i.length);let b=0,E=0,S=-1,T=0,P=0;for(;P<i.length;)if(i.charAt(P)===`
`||i.charAt(P)==="\r"){if(b>E){if(S===-1)S=b-E;else if(b-E!==S)throw new w("row lengths do not match");E=b,T++}P++}else if(i.substring(P,P+u.length)===u)P+=u.length,p[b]=!0,b++;else if(i.substring(P,P+m.length)===m)P+=m.length,p[b]=!1,b++;else throw new w("illegal character encountered: "+i.substring(P));if(b>E){if(S===-1)S=b-E;else if(b-E!==S)throw new w("row lengths do not match");T++}const B=new pe(S,T);for(let $=0;$<b;$++)p[$]&&B.set(Math.floor($%S),Math.floor($/S));return B}get(i,u){const m=u*this.rowSize+Math.floor(i/32);return(this.bits[m]>>>(i&31)&1)!==0}set(i,u){const m=u*this.rowSize+Math.floor(i/32);this.bits[m]|=1<<(i&31)&4294967295}unset(i,u){const m=u*this.rowSize+Math.floor(i/32);this.bits[m]&=~(1<<(i&31)&4294967295)}flip(i,u){const m=u*this.rowSize+Math.floor(i/32);this.bits[m]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new w("input matrix dimensions do not match");const u=new G(Math.floor(this.width/32)+1),m=this.rowSize,p=this.bits;for(let b=0,E=this.height;b<E;b++){const S=b*m,T=i.getRow(b,u).getBitArray();for(let P=0;P<m;P++)p[S+P]^=T[P]}}clear(){const i=this.bits,u=i.length;for(let m=0;m<u;m++)i[m]=0}setRegion(i,u,m,p){if(u<0||i<0)throw new w("Left and top must be nonnegative");if(p<1||m<1)throw new w("Height and width must be at least 1");const b=i+m,E=u+p;if(E>this.height||b>this.width)throw new w("The region must fit inside the matrix");const S=this.rowSize,T=this.bits;for(let P=u;P<E;P++){const B=P*S;for(let $=i;$<b;$++)T[B+Math.floor($/32)]|=1<<($&31)&4294967295}}getRow(i,u){u==null||u.getSize()<this.width?u=new G(this.width):u.clear();const m=this.rowSize,p=this.bits,b=i*m;for(let E=0;E<m;E++)u.setBulk(E*32,p[b+E]);return u}setRow(i,u){k.arraycopy(u.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),u=this.getHeight();let m=new G(i),p=new G(i);for(let b=0,E=Math.floor((u+1)/2);b<E;b++)m=this.getRow(b,m),p=this.getRow(u-1-b,p),m.reverse(),p.reverse(),this.setRow(b,p),this.setRow(u-1-b,m)}getEnclosingRectangle(){const i=this.width,u=this.height,m=this.rowSize,p=this.bits;let b=i,E=u,S=-1,T=-1;for(let P=0;P<u;P++)for(let B=0;B<m;B++){const $=p[P*m+B];if($!==0){if(P<E&&(E=P),P>T&&(T=P),B*32<b){let K=0;for(;($<<31-K&4294967295)===0;)K++;B*32+K<b&&(b=B*32+K)}if(B*32+31>S){let K=31;for(;!($>>>K);)K--;B*32+K>S&&(S=B*32+K)}}}return S<b||T<E?null:Int32Array.from([b,E,S-b+1,T-E+1])}getTopLeftOnBit(){const i=this.rowSize,u=this.bits;let m=0;for(;m<u.length&&u[m]===0;)m++;if(m===u.length)return null;const p=m/i;let b=m%i*32;const E=u[m];let S=0;for(;(E<<31-S&4294967295)===0;)S++;return b+=S,Int32Array.from([b,p])}getBottomRightOnBit(){const i=this.rowSize,u=this.bits;let m=u.length-1;for(;m>=0&&u[m]===0;)m--;if(m<0)return null;const p=Math.floor(m/i);let b=Math.floor(m%i)*32;const E=u[m];let S=31;for(;!(E>>>S);)S--;return b+=S,Int32Array.from([b,p])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof pe))return!1;const u=i;return this.width===u.width&&this.height===u.height&&this.rowSize===u.rowSize&&U.equals(this.bits,u.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+U.hashCode(this.bits),i}toString(i="X ",u="  ",m=`
`){return this.buildToString(i,u,m)}buildToString(i,u,m){let p=new he;for(let b=0,E=this.height;b<E;b++){for(let S=0,T=this.width;S<T;S++)p.append(this.get(S,b)?i:u);p.append(m)}return p.toString()}clone(){return new pe(this.width,this.height,this.rowSize,this.bits.slice())}}class se extends x{static getNotFoundInstance(){return new se}}se.kind="NotFoundException";class J extends D{constructor(i){super(i),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(i,u){const m=this.getLuminanceSource(),p=m.getWidth();u==null||u.getSize()<p?u=new G(p):u.clear(),this.initArrays(p);const b=m.getRow(i,this.luminances),E=this.buckets;for(let T=0;T<p;T++)E[(b[T]&255)>>J.LUMINANCE_SHIFT]++;const S=J.estimateBlackPoint(E);if(p<3)for(let T=0;T<p;T++)(b[T]&255)<S&&u.set(T);else{let T=b[0]&255,P=b[1]&255;for(let B=1;B<p-1;B++){const $=b[B+1]&255;(P*4-T-$)/2<S&&u.set(B),T=P,P=$}}return u}getBlackMatrix(){const i=this.getLuminanceSource(),u=i.getWidth(),m=i.getHeight(),p=new pe(u,m);this.initArrays(u);const b=this.buckets;for(let T=1;T<5;T++){const P=Math.floor(m*T/5),B=i.getRow(P,this.luminances),$=Math.floor(u*4/5);for(let K=Math.floor(u/5);K<$;K++){const ne=B[K]&255;b[ne>>J.LUMINANCE_SHIFT]++}}const E=J.estimateBlackPoint(b),S=i.getMatrix();for(let T=0;T<m;T++){const P=T*u;for(let B=0;B<u;B++)(S[P+B]&255)<E&&p.set(B,T)}return p}createBinarizer(i){return new J(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const u=this.buckets;for(let m=0;m<J.LUMINANCE_BUCKETS;m++)u[m]=0}static estimateBlackPoint(i){const u=i.length;let m=0,p=0,b=0;for(let B=0;B<u;B++)i[B]>b&&(p=B,b=i[B]),i[B]>m&&(m=i[B]);let E=0,S=0;for(let B=0;B<u;B++){const $=B-p,K=i[B]*$*$;K>S&&(E=B,S=K)}if(p>E){const B=p;p=E,E=B}if(E-p<=u/16)throw new se;let T=E-1,P=-1;for(let B=E-1;B>p;B--){const $=B-p,K=$*$*(E-B)*(m-i[B]);K>P&&(T=B,P=K)}return T<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class ae extends J{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),u=i.getWidth(),m=i.getHeight();if(u>=ae.MINIMUM_DIMENSION&&m>=ae.MINIMUM_DIMENSION){const p=i.getMatrix();let b=u>>ae.BLOCK_SIZE_POWER;(u&ae.BLOCK_SIZE_MASK)!==0&&b++;let E=m>>ae.BLOCK_SIZE_POWER;(m&ae.BLOCK_SIZE_MASK)!==0&&E++;const S=ae.calculateBlackPoints(p,b,E,u,m),T=new pe(u,m);ae.calculateThresholdForBlock(p,b,E,u,m,S,T),this.matrix=T}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ae(i)}static calculateThresholdForBlock(i,u,m,p,b,E,S){const T=b-ae.BLOCK_SIZE,P=p-ae.BLOCK_SIZE;for(let B=0;B<m;B++){let $=B<<ae.BLOCK_SIZE_POWER;$>T&&($=T);const K=ae.cap(B,2,m-3);for(let ne=0;ne<u;ne++){let ce=ne<<ae.BLOCK_SIZE_POWER;ce>P&&(ce=P);const de=ae.cap(ne,2,u-3);let we=0;for(let Je=-2;Je<=2;Je++){const Ke=E[K+Je];we+=Ke[de-2]+Ke[de-1]+Ke[de]+Ke[de+1]+Ke[de+2]}const De=we/25;ae.thresholdBlock(i,ce,$,De,p,S)}}}static cap(i,u,m){return i<u?u:i>m?m:i}static thresholdBlock(i,u,m,p,b,E){for(let S=0,T=m*b+u;S<ae.BLOCK_SIZE;S++,T+=b)for(let P=0;P<ae.BLOCK_SIZE;P++)(i[T+P]&255)<=p&&E.set(u+P,m+S)}static calculateBlackPoints(i,u,m,p,b){const E=b-ae.BLOCK_SIZE,S=p-ae.BLOCK_SIZE,T=new Array(m);for(let P=0;P<m;P++){T[P]=new Int32Array(u);let B=P<<ae.BLOCK_SIZE_POWER;B>E&&(B=E);for(let $=0;$<u;$++){let K=$<<ae.BLOCK_SIZE_POWER;K>S&&(K=S);let ne=0,ce=255,de=0;for(let De=0,Je=B*p+K;De<ae.BLOCK_SIZE;De++,Je+=p){for(let Ke=0;Ke<ae.BLOCK_SIZE;Ke++){const $e=i[Je+Ke]&255;ne+=$e,$e<ce&&(ce=$e),$e>de&&(de=$e)}if(de-ce>ae.MIN_DYNAMIC_RANGE)for(De++,Je+=p;De<ae.BLOCK_SIZE;De++,Je+=p)for(let Ke=0;Ke<ae.BLOCK_SIZE;Ke++)ne+=i[Je+Ke]&255}let we=ne>>ae.BLOCK_SIZE_POWER*2;if(de-ce<=ae.MIN_DYNAMIC_RANGE&&(we=ce/2,P>0&&$>0)){const De=(T[P-1][$]+2*T[P][$-1]+T[P-1][$-1])/4;ce<De&&(we=De)}T[P][$]=we}}return T}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class Ee{constructor(i,u){this.width=i,this.height=u}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,u,m,p){throw new Q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Q("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let u=new he;for(let m=0;m<this.height;m++){const p=this.getRow(m,i);for(let b=0;b<this.width;b++){const E=p[b]&255;let S;E<64?S="#":E<128?S="+":E<192?S=".":S=" ",u.append(S)}u.append(`
`)}return u.toString()}}class be extends Ee{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,u){const m=this.delegate.getRow(i,u),p=this.getWidth();for(let b=0;b<p;b++)m[b]=255-(m[b]&255);return m}getMatrix(){const i=this.delegate.getMatrix(),u=this.getWidth()*this.getHeight(),m=new Uint8ClampedArray(u);for(let p=0;p<u;p++)m[p]=255-(i[p]&255);return m}isCropSupported(){return this.delegate.isCropSupported()}crop(i,u,m,p){return new be(this.delegate.crop(i,u,m,p))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new be(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new be(this.delegate.rotateCounterClockwise45())}}class re extends Ee{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=re.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const u=i.getContext("2d").getImageData(0,0,i.width,i.height);return re.toGrayscaleBuffer(u.data,i.width,i.height)}static toGrayscaleBuffer(i,u,m){const p=new Uint8ClampedArray(u*m);for(let b=0,E=0,S=i.length;b<S;b+=4,E++){let T;if(i[b+3]===0)T=255;else{const B=i[b],$=i[b+1],K=i[b+2];T=306*B+601*$+117*K+512>>10}p[E]=T}return p}getRow(i,u){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const m=this.getWidth(),p=i*m;return u===null?u=this.buffer.slice(p,p+m):(u.length<m&&(u=new Uint8ClampedArray(m)),u.set(this.buffer.slice(p,p+m))),u}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,u,m,p){return super.crop(i,u,m,p),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const u=this.getTempCanvasElement(),m=u.getContext("2d"),p=i*re.DEGREE_TO_RADIANS,b=this.canvas.width,E=this.canvas.height,S=Math.ceil(Math.abs(Math.cos(p))*b+Math.abs(Math.sin(p))*E),T=Math.ceil(Math.abs(Math.sin(p))*b+Math.abs(Math.cos(p))*E);return u.width=S,u.height=T,m.translate(S/2,T/2),m.rotate(p),m.drawImage(this.canvas,b/-2,E/-2),this.buffer=re.makeBufferFromCanvasImageData(u),this}invert(){return new be(this)}}re.DEGREE_TO_RADIANS=Math.PI/180;class W{constructor(i,u,m){this.deviceId=i,this.label=u,this.kind="videoinput",this.groupId=m||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var te=(globalThis||rh||self||window||void 0)&&(globalThis||rh||self||window||void 0).__awaiter||function(q,i,u,m){function p(b){return b instanceof u?b:new u(function(E){E(b)})}return new(u||(u=Promise))(function(b,E){function S(B){try{P(m.next(B))}catch($){E($)}}function T(B){try{P(m.throw(B))}catch($){E($)}}function P(B){B.done?b(B.value):p(B.value).then(S,T)}P((m=m.apply(q,i||[])).next())})};class me{constructor(i,u=500,m){this.reader=i,this.timeBetweenScansMillis=u,this._hints=m,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return te(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),u=[];for(const m of i){const p=m.kind==="video"?"videoinput":m.kind;if(p!=="videoinput")continue;const b=m.deviceId||m.id,E=m.label||`Video device ${u.length+1}`,S=m.groupId,T={deviceId:b,label:E,kind:p,groupId:S};u.push(T)}return u})}getVideoInputDevices(){return te(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(u=>new W(u.deviceId,u.label))})}findDeviceById(i){return te(this,void 0,void 0,function*(){const u=yield this.listVideoInputDevices();return u?u.find(m=>m.deviceId===i):null})}decodeFromInputVideoDevice(i,u){return te(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,u)})}decodeOnceFromVideoDevice(i,u){return te(this,void 0,void 0,function*(){this.reset();let m;i?m={deviceId:{exact:i}}:m={facingMode:"environment"};const p={video:m};return yield this.decodeOnceFromConstraints(p,u)})}decodeOnceFromConstraints(i,u){return te(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(m,u)})}decodeOnceFromStream(i,u){return te(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(i,u);return yield this.decodeOnce(m)})}decodeFromInputVideoDeviceContinuously(i,u,m){return te(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,u,m)})}decodeFromVideoDevice(i,u,m){return te(this,void 0,void 0,function*(){let p;i?p={deviceId:{exact:i}}:p={facingMode:"environment"};const b={video:p};return yield this.decodeFromConstraints(b,u,m)})}decodeFromConstraints(i,u,m){return te(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(p,u,m)})}decodeFromStream(i,u,m){return te(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(i,u);return yield this.decodeContinuously(p,m)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,u){return te(this,void 0,void 0,function*(){const m=this.prepareVideoElement(u);return this.addVideoSource(m,i),this.videoElement=m,this.stream=i,yield this.playVideoOnLoadAsync(m),m})}playVideoOnLoadAsync(i){return new Promise((u,m)=>this.playVideoOnLoad(i,()=>u()))}playVideoOnLoad(i,u){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",u),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return te(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,u){const m=document.getElementById(i);if(!m)throw new y(`element with id '${i}' not found`);if(m.nodeName.toLowerCase()!==u.toLowerCase())throw new y(`element with id '${i}' must be an ${u} element`);return m}decodeFromImage(i,u){if(!i&&!u)throw new y("either imageElement with a src set or an url must be provided");return u&&!i?this.decodeFromImageUrl(u):this.decodeFromImageElement(i)}decodeFromVideo(i,u){if(!i&&!u)throw new y("Either an element with a src set or an URL must be provided");return u&&!i?this.decodeFromVideoUrl(u):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,u,m){if(i===void 0&&u===void 0)throw new y("Either an element with a src set or an URL must be provided");return u&&!i?this.decodeFromVideoUrlContinuously(u,m):this.decodeFromVideoElementContinuously(i,m)}decodeFromImageElement(i){if(!i)throw new y("An image element must be provided.");this.reset();const u=this.prepareImageElement(i);this.imageElement=u;let m;return this.isImageLoaded(u)?m=this.decodeOnce(u,!1,!0):m=this._decodeOnLoadImage(u),m}decodeFromVideoElement(i){const u=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(u)}decodeFromVideoElementContinuously(i,u){const m=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(m,u)}_decodeFromVideoElementSetup(i){if(!i)throw new y("A video element must be provided.");this.reset();const u=this.prepareVideoElement(i);return this.videoElement=u,u}decodeFromImageUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const u=this.prepareImageElement();this.imageElement=u;const m=this._decodeOnLoadImage(u);return u.src=i,m}decodeFromVideoUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const u=this.prepareVideoElement(),m=this.decodeFromVideoElement(u);return u.src=i,m}decodeFromVideoUrlContinuously(i,u){if(!i)throw new y("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),p=this.decodeFromVideoElementContinuously(m,u);return m.src=i,p}_decodeOnLoadImage(i){return new Promise((u,m)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(u,m),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return te(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,u){return te(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,u)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let u;return typeof i>"u"&&(u=document.createElement("img"),u.width=200,u.height=200),typeof i=="string"&&(u=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(u=i),u}prepareVideoElement(i){let u;return!i&&typeof document<"u"&&(u=document.createElement("video"),u.width=200,u.height=200),typeof i=="string"&&(u=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(u=i),u.setAttribute("autoplay","true"),u.setAttribute("muted","true"),u.setAttribute("playsinline","true"),u}decodeOnce(i,u=!0,m=!0){this._stopAsyncDecode=!1;const p=(b,E)=>{if(this._stopAsyncDecode){E(new se("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const S=this.decode(i);b(S)}catch(S){const T=u&&S instanceof se,B=(S instanceof _||S instanceof L)&&m;if(T||B)return setTimeout(p,this._timeBetweenDecodingAttempts,b,E);E(S)}};return new Promise((b,E)=>p(b,E))}decodeContinuously(i,u){this._stopContinuousDecode=!1;const m=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const p=this.decode(i);u(p,null),setTimeout(m,this.timeBetweenScansMillis)}catch(p){u(null,p);const b=p instanceof _||p instanceof L,E=p instanceof se;(b||E)&&setTimeout(m,this._timeBetweenDecodingAttempts)}};m()}decode(i){const u=this.createBinaryBitmap(i);return this.decodeBitmap(u)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,u,m){u||(u={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),m||(m=this.captureCanvasContext),m.drawImage(i,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}drawImageOnCanvas(i,u,m=this.captureCanvasContext){u||(u={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),m||(m=this.captureCanvasContext),m.drawImage(i,u.sx,u.sy,u.sWidth,u.sHeight,u.dx,u.dy,u.dWidth,u.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const u=this.getCaptureCanvas(i),m=new re(u),p=new ae(m);return new C(p)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const m=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=m}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const u=this.createCaptureCanvas(i);this.captureCanvas=u}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const u=document.createElement("canvas");let m,p;return typeof i<"u"&&(i instanceof HTMLVideoElement?(m=i.videoWidth,p=i.videoHeight):i instanceof HTMLImageElement&&(m=i.naturalWidth||i.width,p=i.naturalHeight||i.height)),u.style.width=m+"px",u.style.height=p+"px",u.width=m,u.height=p,u}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,u){try{i.srcObject=u}catch{i.src=URL.createObjectURL(u)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class ue{constructor(i,u,m=u==null?0:8*u.length,p,b,E=k.currentTimeMillis()){this.text=i,this.rawBytes=u,this.numBits=m,this.resultPoints=p,this.format=b,this.timestamp=E,this.text=i,this.rawBytes=u,m==null?this.numBits=u==null?0:8*u.length:this.numBits=m,this.resultPoints=p,this.format=b,this.resultMetadata=null,E==null?this.timestamp=k.currentTimeMillis():this.timestamp=E}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,u){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,u)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const u=this.resultPoints;if(u===null)this.resultPoints=i;else if(i!==null&&i.length>0){const m=new Array(u.length+i.length);k.arraycopy(u,0,m,0,u.length),k.arraycopy(i,0,m,u.length,i.length),this.resultPoints=m}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ne;(function(q){q[q.AZTEC=0]="AZTEC",q[q.CODABAR=1]="CODABAR",q[q.CODE_39=2]="CODE_39",q[q.CODE_93=3]="CODE_93",q[q.CODE_128=4]="CODE_128",q[q.DATA_MATRIX=5]="DATA_MATRIX",q[q.EAN_8=6]="EAN_8",q[q.EAN_13=7]="EAN_13",q[q.ITF=8]="ITF",q[q.MAXICODE=9]="MAXICODE",q[q.PDF_417=10]="PDF_417",q[q.QR_CODE=11]="QR_CODE",q[q.RSS_14=12]="RSS_14",q[q.RSS_EXPANDED=13]="RSS_EXPANDED",q[q.UPC_A=14]="UPC_A",q[q.UPC_E=15]="UPC_E",q[q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ne||(Ne={}));var le=Ne,oe;(function(q){q[q.OTHER=0]="OTHER",q[q.ORIENTATION=1]="ORIENTATION",q[q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",q[q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",q[q.ISSUE_NUMBER=4]="ISSUE_NUMBER",q[q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",q[q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",q[q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",q[q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",q[q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",q[q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(oe||(oe={}));var ze=oe;class ve{constructor(i,u,m,p,b=-1,E=-1){this.rawBytes=i,this.text=u,this.byteSegments=m,this.ecLevel=p,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=E,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ye{exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}static addOrSubtract(i,u){return i^u}}class rt{constructor(i,u){if(u.length===0)throw new w;this.field=i;const m=u.length;if(m>1&&u[0]===0){let p=1;for(;p<m&&u[p]===0;)p++;p===m?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(m-p),k.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const u=this.coefficients;let m;if(i===1){m=0;for(let E=0,S=u.length;E!==S;E++){const T=u[E];m=Ye.addOrSubtract(m,T)}return m}m=u[0];const p=u.length,b=this.field;for(let E=1;E<p;E++)m=Ye.addOrSubtract(b.multiply(i,m),u[E]);return m}addOrSubtract(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let u=this.coefficients,m=i.coefficients;if(u.length>m.length){const E=u;u=m,m=E}let p=new Int32Array(m.length);const b=m.length-u.length;k.arraycopy(m,0,p,0,b);for(let E=b;E<m.length;E++)p[E]=Ye.addOrSubtract(u[E-b],m[E]);return new rt(this.field,p)}multiply(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const u=this.coefficients,m=u.length,p=i.coefficients,b=p.length,E=new Int32Array(m+b-1),S=this.field;for(let T=0;T<m;T++){const P=u[T];for(let B=0;B<b;B++)E[T+B]=Ye.addOrSubtract(E[T+B],S.multiply(P,p[B]))}return new rt(S,E)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const u=this.coefficients.length,m=this.field,p=new Int32Array(u),b=this.coefficients;for(let E=0;E<u;E++)p[E]=m.multiply(b[E],i);return new rt(m,p)}multiplyByMonomial(i,u){if(i<0)throw new w;if(u===0)return this.field.getZero();const m=this.coefficients,p=m.length,b=new Int32Array(p+i),E=this.field;for(let S=0;S<p;S++)b[S]=E.multiply(m[S],u);return new rt(E,b)}divide(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new w("Divide by 0");const u=this.field;let m=u.getZero(),p=this;const b=i.getCoefficient(i.getDegree()),E=u.inverse(b);for(;p.getDegree()>=i.getDegree()&&!p.isZero();){const S=p.getDegree()-i.getDegree(),T=u.multiply(p.getCoefficient(p.getDegree()),E),P=i.multiplyByMonomial(S,T),B=u.buildMonomial(S,T);m=m.addOrSubtract(B),p=p.addOrSubtract(P)}return[m,p]}toString(){let i="";for(let u=this.getDegree();u>=0;u--){let m=this.getCoefficient(u);if(m!==0){if(m<0?(i+=" - ",m=-m):i.length>0&&(i+=" + "),u===0||m!==1){const p=this.field.log(m);p===0?i+="1":p===1?i+="a":(i+="a^",i+=p)}u!==0&&(u===1?i+="x":(i+="x^",i+=u))}}return i}}class Le extends x{}Le.kind="ArithmeticException";class ye extends Ye{constructor(i,u,m){super(),this.primitive=i,this.size=u,this.generatorBase=m;const p=new Int32Array(u);let b=1;for(let S=0;S<u;S++)p[S]=b,b*=2,b>=u&&(b^=i,b&=u-1);this.expTable=p;const E=new Int32Array(u);for(let S=0;S<u-1;S++)E[p[S]]=S;this.logTable=E,this.zero=new rt(this,Int32Array.from([0])),this.one=new rt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,u){if(i<0)throw new w;if(u===0)return this.zero;const m=new Int32Array(i+1);return m[0]=u,new rt(this,m)}inverse(i){if(i===0)throw new Le;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,u){return i===0||u===0?0:this.expTable[(this.logTable[i]+this.logTable[u])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}ye.AZTEC_DATA_12=new ye(4201,4096,1),ye.AZTEC_DATA_10=new ye(1033,1024,1),ye.AZTEC_DATA_6=new ye(67,64,1),ye.AZTEC_PARAM=new ye(19,16,1),ye.QR_CODE_FIELD_256=new ye(285,256,0),ye.DATA_MATRIX_FIELD_256=new ye(301,256,1),ye.AZTEC_DATA_8=ye.DATA_MATRIX_FIELD_256,ye.MAXICODE_FIELD_64=ye.AZTEC_DATA_6;class Ue extends x{}Ue.kind="ReedSolomonException";class Se extends x{}Se.kind="IllegalStateException";class We{constructor(i){this.field=i}decode(i,u){const m=this.field,p=new rt(m,i),b=new Int32Array(u);let E=!0;for(let ne=0;ne<u;ne++){const ce=p.evaluateAt(m.exp(ne+m.getGeneratorBase()));b[b.length-1-ne]=ce,ce!==0&&(E=!1)}if(E)return;const S=new rt(m,b),T=this.runEuclideanAlgorithm(m.buildMonomial(u,1),S,u),P=T[0],B=T[1],$=this.findErrorLocations(P),K=this.findErrorMagnitudes(B,$);for(let ne=0;ne<$.length;ne++){const ce=i.length-1-m.log($[ne]);if(ce<0)throw new Ue("Bad error location");i[ce]=ye.addOrSubtract(i[ce],K[ne])}}runEuclideanAlgorithm(i,u,m){if(i.getDegree()<u.getDegree()){const ne=i;i=u,u=ne}const p=this.field;let b=i,E=u,S=p.getZero(),T=p.getOne();for(;E.getDegree()>=(m/2|0);){let ne=b,ce=S;if(b=E,S=T,b.isZero())throw new Ue("r_{i-1} was zero");E=ne;let de=p.getZero();const we=b.getCoefficient(b.getDegree()),De=p.inverse(we);for(;E.getDegree()>=b.getDegree()&&!E.isZero();){const Je=E.getDegree()-b.getDegree(),Ke=p.multiply(E.getCoefficient(E.getDegree()),De);de=de.addOrSubtract(p.buildMonomial(Je,Ke)),E=E.addOrSubtract(b.multiplyByMonomial(Je,Ke))}if(T=de.multiply(S).addOrSubtract(ce),E.getDegree()>=b.getDegree())throw new Se("Division algorithm failed to reduce polynomial?")}const P=T.getCoefficient(0);if(P===0)throw new Ue("sigmaTilde(0) was zero");const B=p.inverse(P),$=T.multiplyScalar(B),K=E.multiplyScalar(B);return[$,K]}findErrorLocations(i){const u=i.getDegree();if(u===1)return Int32Array.from([i.getCoefficient(1)]);const m=new Int32Array(u);let p=0;const b=this.field;for(let E=1;E<b.getSize()&&p<u;E++)i.evaluateAt(E)===0&&(m[p]=b.inverse(E),p++);if(p!==u)throw new Ue("Error locator degree does not match number of roots");return m}findErrorMagnitudes(i,u){const m=u.length,p=new Int32Array(m),b=this.field;for(let E=0;E<m;E++){const S=b.inverse(u[E]);let T=1;for(let P=0;P<m;P++)if(E!==P){const B=b.multiply(u[P],S),$=(B&1)===0?B|1:B&-2;T=b.multiply(T,$)}p[E]=b.multiply(i.evaluateAt(S),b.inverse(T)),b.getGeneratorBase()!==0&&(p[E]=b.multiply(p[E],S))}return p}}var _e;(function(q){q[q.UPPER=0]="UPPER",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.DIGIT=3]="DIGIT",q[q.PUNCT=4]="PUNCT",q[q.BINARY=5]="BINARY"})(_e||(_e={}));class et{decode(i){this.ddata=i;let u=i.getBits(),m=this.extractBits(u),p=this.correctBits(m),b=et.convertBoolArrayToByteArray(p),E=et.getEncodedData(p),S=new ve(b,E,null,null);return S.setNumBits(p.length),S}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let u=i.length,m=_e.UPPER,p=_e.UPPER,b="",E=0;for(;E<u;)if(p===_e.BINARY){if(u-E<5)break;let S=et.readCode(i,E,5);if(E+=5,S===0){if(u-E<11)break;S=et.readCode(i,E,11)+31,E+=11}for(let T=0;T<S;T++){if(u-E<8){E=u;break}const P=et.readCode(i,E,8);b+=X.castAsNonUtf8Char(P),E+=8}p=m}else{let S=p===_e.DIGIT?4:5;if(u-E<S)break;let T=et.readCode(i,E,S);E+=S;let P=et.getCharacter(p,T);P.startsWith("CTRL_")?(m=p,p=et.getTable(P.charAt(5)),P.charAt(6)==="L"&&(m=p)):(b+=P,p=m)}return b}static getTable(i){switch(i){case"L":return _e.LOWER;case"P":return _e.PUNCT;case"M":return _e.MIXED;case"D":return _e.DIGIT;case"B":return _e.BINARY;case"U":default:return _e.UPPER}}static getCharacter(i,u){switch(i){case _e.UPPER:return et.UPPER_TABLE[u];case _e.LOWER:return et.LOWER_TABLE[u];case _e.MIXED:return et.MIXED_TABLE[u];case _e.PUNCT:return et.PUNCT_TABLE[u];case _e.DIGIT:return et.DIGIT_TABLE[u];default:throw new Se("Bad table")}}correctBits(i){let u,m;this.ddata.getNbLayers()<=2?(m=6,u=ye.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(m=8,u=ye.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(m=10,u=ye.AZTEC_DATA_10):(m=12,u=ye.AZTEC_DATA_12);let p=this.ddata.getNbDatablocks(),b=i.length/m;if(b<p)throw new L;let E=i.length%m,S=new Int32Array(b);for(let K=0;K<b;K++,E+=m)S[K]=et.readCode(i,E,m);try{new We(u).decode(S,b-p)}catch(K){throw new L(K)}let T=(1<<m)-1,P=0;for(let K=0;K<p;K++){let ne=S[K];if(ne===0||ne===T)throw new L;(ne===1||ne===T-1)&&P++}let B=new Array(p*m-P),$=0;for(let K=0;K<p;K++){let ne=S[K];if(ne===1||ne===T-1)B.fill(ne>1,$,$+m-1),$+=m-1;else for(let ce=m-1;ce>=0;--ce)B[$++]=(ne&1<<ce)!==0}return B}extractBits(i){let u=this.ddata.isCompact(),m=this.ddata.getNbLayers(),p=(u?11:14)+m*4,b=new Int32Array(p),E=new Array(this.totalBitsInLayer(m,u));if(u)for(let S=0;S<b.length;S++)b[S]=S;else{let S=p+1+2*R.truncDivision(R.truncDivision(p,2)-1,15),T=p/2,P=R.truncDivision(S,2);for(let B=0;B<T;B++){let $=B+R.truncDivision(B,15);b[T-B-1]=P-$-1,b[T+B]=P+$+1}}for(let S=0,T=0;S<m;S++){let P=(m-S)*4+(u?9:12),B=S*2,$=p-1-B;for(let K=0;K<P;K++){let ne=K*2;for(let ce=0;ce<2;ce++)E[T+ne+ce]=i.get(b[B+ce],b[B+K]),E[T+2*P+ne+ce]=i.get(b[B+K],b[$-ce]),E[T+4*P+ne+ce]=i.get(b[$-ce],b[$-K]),E[T+6*P+ne+ce]=i.get(b[$-K],b[B+ce])}T+=P*8}return E}static readCode(i,u,m){let p=0;for(let b=u;b<u+m;b++)p<<=1,i[b]&&(p|=1);return p}static readByte(i,u){let m=i.length-u;return m>=8?et.readCode(i,u,8):et.readCode(i,u,m)<<8-m}static convertBoolArrayToByteArray(i){let u=new Uint8Array((i.length+7)/8);for(let m=0;m<u.length;m++)u[m]=et.readByte(i,8*m);return u}totalBitsInLayer(i,u){return((u?88:112)+16*i)*i}}et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class lt{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,u,m,p){const b=i-m,E=u-p;return Math.sqrt(b*b+E*E)}static sum(i){let u=0;for(let m=0,p=i.length;m!==p;m++){const b=i[m];u+=b}return u}}class vt{static floatToIntBits(i){return i}}vt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Qe{constructor(i,u){this.x=i,this.y=u}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof Qe){const u=i;return this.x===u.x&&this.y===u.y}return!1}hashCode(){return 31*vt.floatToIntBits(this.x)+vt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const u=this.distance(i[0],i[1]),m=this.distance(i[1],i[2]),p=this.distance(i[0],i[2]);let b,E,S;if(m>=u&&m>=p?(E=i[0],b=i[1],S=i[2]):p>=m&&p>=u?(E=i[1],b=i[0],S=i[2]):(E=i[2],b=i[0],S=i[1]),this.crossProductZ(b,E,S)<0){const T=b;b=S,S=T}i[0]=b,i[1]=E,i[2]=S}static distance(i,u){return lt.distance(i.x,i.y,u.x,u.y)}static crossProductZ(i,u,m){const p=u.x,b=u.y;return(m.x-p)*(i.y-b)-(m.y-b)*(i.x-p)}}class st{constructor(i,u){this.bits=i,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Re extends st{constructor(i,u,m,p,b){super(i,u),this.compact=m,this.nbDatablocks=p,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ft{constructor(i,u,m,p){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),u==null&&(u=ft.INIT_SIZE),m==null&&(m=i.getWidth()/2|0),p==null&&(p=i.getHeight()/2|0);const b=u/2|0;if(this.leftInit=m-b,this.rightInit=m+b,this.upInit=p-b,this.downInit=p+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new se}detect(){let i=this.leftInit,u=this.rightInit,m=this.upInit,p=this.downInit,b=!1,E=!0,S=!1,T=!1,P=!1,B=!1,$=!1;const K=this.width,ne=this.height;for(;E;){E=!1;let ce=!0;for(;(ce||!T)&&u<K;)ce=this.containsBlackPoint(m,p,u,!1),ce?(u++,E=!0,T=!0):T||u++;if(u>=K){b=!0;break}let de=!0;for(;(de||!P)&&p<ne;)de=this.containsBlackPoint(i,u,p,!0),de?(p++,E=!0,P=!0):P||p++;if(p>=ne){b=!0;break}let we=!0;for(;(we||!B)&&i>=0;)we=this.containsBlackPoint(m,p,i,!1),we?(i--,E=!0,B=!0):B||i--;if(i<0){b=!0;break}let De=!0;for(;(De||!$)&&m>=0;)De=this.containsBlackPoint(i,u,m,!0),De?(m--,E=!0,$=!0):$||m--;if(m<0){b=!0;break}E&&(S=!0)}if(!b&&S){const ce=u-i;let de=null;for(let Ke=1;de===null&&Ke<ce;Ke++)de=this.getBlackPointOnSegment(i,p-Ke,i+Ke,p);if(de==null)throw new se;let we=null;for(let Ke=1;we===null&&Ke<ce;Ke++)we=this.getBlackPointOnSegment(i,m+Ke,i+Ke,m);if(we==null)throw new se;let De=null;for(let Ke=1;De===null&&Ke<ce;Ke++)De=this.getBlackPointOnSegment(u,m+Ke,u-Ke,m);if(De==null)throw new se;let Je=null;for(let Ke=1;Je===null&&Ke<ce;Ke++)Je=this.getBlackPointOnSegment(u,p-Ke,u-Ke,p);if(Je==null)throw new se;return this.centerEdges(Je,de,De,we)}else throw new se}getBlackPointOnSegment(i,u,m,p){const b=lt.round(lt.distance(i,u,m,p)),E=(m-i)/b,S=(p-u)/b,T=this.image;for(let P=0;P<b;P++){const B=lt.round(i+P*E),$=lt.round(u+P*S);if(T.get(B,$))return new Qe(B,$)}return null}centerEdges(i,u,m,p){const b=i.getX(),E=i.getY(),S=u.getX(),T=u.getY(),P=m.getX(),B=m.getY(),$=p.getX(),K=p.getY(),ne=ft.CORR;return b<this.width/2?[new Qe($-ne,K+ne),new Qe(S+ne,T+ne),new Qe(P-ne,B-ne),new Qe(b+ne,E-ne)]:[new Qe($+ne,K+ne),new Qe(S+ne,T-ne),new Qe(P-ne,B+ne),new Qe(b-ne,E-ne)]}containsBlackPoint(i,u,m,p){const b=this.image;if(p){for(let E=i;E<=u;E++)if(b.get(E,m))return!0}else for(let E=i;E<=u;E++)if(b.get(m,E))return!0;return!1}}ft.INIT_SIZE=10,ft.CORR=1;class Zt{static checkAndNudgePoints(i,u){const m=i.getWidth(),p=i.getHeight();let b=!0;for(let E=0;E<u.length&&b;E+=2){const S=Math.floor(u[E]),T=Math.floor(u[E+1]);if(S<-1||S>m||T<-1||T>p)throw new se;b=!1,S===-1?(u[E]=0,b=!0):S===m&&(u[E]=m-1,b=!0),T===-1?(u[E+1]=0,b=!0):T===p&&(u[E+1]=p-1,b=!0)}b=!0;for(let E=u.length-2;E>=0&&b;E-=2){const S=Math.floor(u[E]),T=Math.floor(u[E+1]);if(S<-1||S>m||T<-1||T>p)throw new se;b=!1,S===-1?(u[E]=0,b=!0):S===m&&(u[E]=m-1,b=!0),T===-1?(u[E+1]=0,b=!0):T===p&&(u[E+1]=p-1,b=!0)}}}class xt{constructor(i,u,m,p,b,E,S,T,P){this.a11=i,this.a21=u,this.a31=m,this.a12=p,this.a22=b,this.a32=E,this.a13=S,this.a23=T,this.a33=P}static quadrilateralToQuadrilateral(i,u,m,p,b,E,S,T,P,B,$,K,ne,ce,de,we){const De=xt.quadrilateralToSquare(i,u,m,p,b,E,S,T);return xt.squareToQuadrilateral(P,B,$,K,ne,ce,de,we).times(De)}transformPoints(i){const u=i.length,m=this.a11,p=this.a12,b=this.a13,E=this.a21,S=this.a22,T=this.a23,P=this.a31,B=this.a32,$=this.a33;for(let K=0;K<u;K+=2){const ne=i[K],ce=i[K+1],de=b*ne+T*ce+$;i[K]=(m*ne+E*ce+P)/de,i[K+1]=(p*ne+S*ce+B)/de}}transformPointsWithValues(i,u){const m=this.a11,p=this.a12,b=this.a13,E=this.a21,S=this.a22,T=this.a23,P=this.a31,B=this.a32,$=this.a33,K=i.length;for(let ne=0;ne<K;ne++){const ce=i[ne],de=u[ne],we=b*ce+T*de+$;i[ne]=(m*ce+E*de+P)/we,u[ne]=(p*ce+S*de+B)/we}}static squareToQuadrilateral(i,u,m,p,b,E,S,T){const P=i-m+b-S,B=u-p+E-T;if(P===0&&B===0)return new xt(m-i,b-m,i,p-u,E-p,u,0,0,1);{const $=m-b,K=S-b,ne=p-E,ce=T-E,de=$*ce-K*ne,we=(P*ce-K*B)/de,De=($*B-P*ne)/de;return new xt(m-i+we*m,S-i+De*S,i,p-u+we*p,T-u+De*T,u,we,De,1)}}static quadrilateralToSquare(i,u,m,p,b,E,S,T){return xt.squareToQuadrilateral(i,u,m,p,b,E,S,T).buildAdjoint()}buildAdjoint(){return new xt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new xt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Qt extends Zt{sampleGrid(i,u,m,p,b,E,S,T,P,B,$,K,ne,ce,de,we,De,Je,Ke){const $e=xt.quadrilateralToQuadrilateral(p,b,E,S,T,P,B,$,K,ne,ce,de,we,De,Je,Ke);return this.sampleGridWithTransform(i,u,m,$e)}sampleGridWithTransform(i,u,m,p){if(u<=0||m<=0)throw new se;const b=new pe(u,m),E=new Float32Array(2*u);for(let S=0;S<m;S++){const T=E.length,P=S+.5;for(let B=0;B<T;B+=2)E[B]=B/2+.5,E[B+1]=P;p.transformPoints(E),Zt.checkAndNudgePoints(i,E);try{for(let B=0;B<T;B+=2)i.get(Math.floor(E[B]),Math.floor(E[B+1]))&&b.set(B/2,S)}catch{throw new se}}return b}}class Dr{static setGridSampler(i){Dr.gridSampler=i}static getInstance(){return Dr.gridSampler}}Dr.gridSampler=new Qt;class fr{constructor(i,u){this.x=i,this.y=u}toResultPoint(){return new Qe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Xn{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let u=this.getMatrixCenter(),m=this.getBullsEyeCorners(u);if(i){let E=m[0];m[0]=m[2],m[2]=E}this.extractParameters(m);let p=this.sampleGrid(this.image,m[this.shift%4],m[(this.shift+1)%4],m[(this.shift+2)%4],m[(this.shift+3)%4]),b=this.getMatrixCornerPoints(m);return new Re(p,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new se;let u=2*this.nbCenterLayers,m=new Int32Array([this.sampleLine(i[0],i[1],u),this.sampleLine(i[1],i[2],u),this.sampleLine(i[2],i[3],u),this.sampleLine(i[3],i[0],u)]);this.shift=this.getRotation(m,u);let p=0;for(let E=0;E<4;E++){let S=m[(this.shift+E)%4];this.compact?(p<<=7,p+=S>>1&127):(p<<=10,p+=(S>>2&992)+(S>>1&31))}let b=this.getCorrectedParameterData(p,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(i,u){let m=0;i.forEach((p,b,E)=>{let S=(p>>u-2<<1)+(p&1);m=(m<<3)+S}),m=((m&1)<<11)+(m>>1);for(let p=0;p<4;p++)if(R.bitCount(m^this.EXPECTED_CORNER_BITS[p])<=2)return p;throw new se}getCorrectedParameterData(i,u){let m,p;u?(m=7,p=2):(m=10,p=4);let b=m-p,E=new Int32Array(m);for(let T=m-1;T>=0;--T)E[T]=i&15,i>>=4;try{new We(ye.AZTEC_PARAM).decode(E,b)}catch{throw new se}let S=0;for(let T=0;T<p;T++)S=(S<<4)+E[T];return S}getBullsEyeCorners(i){let u=i,m=i,p=i,b=i,E=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let $=this.getFirstDifferent(u,E,1,-1),K=this.getFirstDifferent(m,E,1,1),ne=this.getFirstDifferent(p,E,-1,1),ce=this.getFirstDifferent(b,E,-1,-1);if(this.nbCenterLayers>2){let de=this.distancePoint(ce,$)*this.nbCenterLayers/(this.distancePoint(b,u)*(this.nbCenterLayers+2));if(de<.75||de>1.25||!this.isWhiteOrBlackRectangle($,K,ne,ce))break}u=$,m=K,p=ne,b=ce,E=!E}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new se;this.compact=this.nbCenterLayers===5;let S=new Qe(u.getX()+.5,u.getY()-.5),T=new Qe(m.getX()+.5,m.getY()+.5),P=new Qe(p.getX()-.5,p.getY()+.5),B=new Qe(b.getX()-.5,b.getY()-.5);return this.expandSquare([S,T,P,B],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,u,m,p;try{let S=new ft(this.image).detect();i=S[0],u=S[1],m=S[2],p=S[3]}catch{let T=this.image.getWidth()/2,P=this.image.getHeight()/2;i=this.getFirstDifferent(new fr(T+7,P-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new fr(T+7,P+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new fr(T-7,P+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new fr(T-7,P-7),!1,-1,-1).toResultPoint()}let b=lt.round((i.getX()+p.getX()+u.getX()+m.getX())/4),E=lt.round((i.getY()+p.getY()+u.getY()+m.getY())/4);try{let S=new ft(this.image,15,b,E).detect();i=S[0],u=S[1],m=S[2],p=S[3]}catch{i=this.getFirstDifferent(new fr(b+7,E-7),!1,1,-1).toResultPoint(),u=this.getFirstDifferent(new fr(b+7,E+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new fr(b-7,E+7),!1,-1,1).toResultPoint(),p=this.getFirstDifferent(new fr(b-7,E-7),!1,-1,-1).toResultPoint()}return b=lt.round((i.getX()+p.getX()+u.getX()+m.getX())/4),E=lt.round((i.getY()+p.getY()+u.getY()+m.getY())/4),new fr(b,E)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,u,m,p,b){let E=Dr.getInstance(),S=this.getDimension(),T=S/2-this.nbCenterLayers,P=S/2+this.nbCenterLayers;return E.sampleGrid(i,S,S,T,T,P,T,P,P,T,P,u.getX(),u.getY(),m.getX(),m.getY(),p.getX(),p.getY(),b.getX(),b.getY())}sampleLine(i,u,m){let p=0,b=this.distanceResultPoint(i,u),E=b/m,S=i.getX(),T=i.getY(),P=E*(u.getX()-i.getX())/b,B=E*(u.getY()-i.getY())/b;for(let $=0;$<m;$++)this.image.get(lt.round(S+$*P),lt.round(T+$*B))&&(p|=1<<m-$-1);return p}isWhiteOrBlackRectangle(i,u,m,p){let b=3;i=new fr(i.getX()-b,i.getY()+b),u=new fr(u.getX()-b,u.getY()-b),m=new fr(m.getX()+b,m.getY()-b),p=new fr(p.getX()+b,p.getY()+b);let E=this.getColor(p,i);if(E===0)return!1;let S=this.getColor(i,u);return S!==E||(S=this.getColor(u,m),S!==E)?!1:(S=this.getColor(m,p),S===E)}getColor(i,u){let m=this.distancePoint(i,u),p=(u.getX()-i.getX())/m,b=(u.getY()-i.getY())/m,E=0,S=i.getX(),T=i.getY(),P=this.image.get(i.getX(),i.getY()),B=Math.ceil(m);for(let K=0;K<B;K++)S+=p,T+=b,this.image.get(lt.round(S),lt.round(T))!==P&&E++;let $=E/m;return $>.1&&$<.9?0:$<=.1===P?1:-1}getFirstDifferent(i,u,m,p){let b=i.getX()+m,E=i.getY()+p;for(;this.isValid(b,E)&&this.image.get(b,E)===u;)b+=m,E+=p;for(b-=m,E-=p;this.isValid(b,E)&&this.image.get(b,E)===u;)b+=m;for(b-=m;this.isValid(b,E)&&this.image.get(b,E)===u;)E+=p;return E-=p,new fr(b,E)}expandSquare(i,u,m){let p=m/(2*u),b=i[0].getX()-i[2].getX(),E=i[0].getY()-i[2].getY(),S=(i[0].getX()+i[2].getX())/2,T=(i[0].getY()+i[2].getY())/2,P=new Qe(S+p*b,T+p*E),B=new Qe(S-p*b,T-p*E);b=i[1].getX()-i[3].getX(),E=i[1].getY()-i[3].getY(),S=(i[1].getX()+i[3].getX())/2,T=(i[1].getY()+i[3].getY())/2;let $=new Qe(S+p*b,T+p*E),K=new Qe(S-p*b,T-p*E);return[P,$,B,K]}isValid(i,u){return i>=0&&i<this.image.getWidth()&&u>0&&u<this.image.getHeight()}isValidPoint(i){let u=lt.round(i.getX()),m=lt.round(i.getY());return this.isValid(u,m)}distancePoint(i,u){return lt.distance(i.getX(),i.getY(),u.getX(),u.getY())}distanceResultPoint(i,u){return lt.distance(i.getX(),i.getY(),u.getX(),u.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class aa{decode(i,u=null){let m=null,p=new Xn(i.getBlackMatrix()),b=null,E=null;try{let B=p.detectMirror(!1);b=B.getPoints(),this.reportFoundResultPoints(u,b),E=new et().decode(B)}catch(B){m=B}if(E==null)try{let B=p.detectMirror(!0);b=B.getPoints(),this.reportFoundResultPoints(u,b),E=new et().decode(B)}catch(B){throw m??B}let S=new ue(E.getText(),E.getRawBytes(),E.getNumBits(),b,le.AZTEC,k.currentTimeMillis()),T=E.getByteSegments();T!=null&&S.putMetadata(ze.BYTE_SEGMENTS,T);let P=E.getECLevel();return P!=null&&S.putMetadata(ze.ERROR_CORRECTION_LEVEL,P),S}reportFoundResultPoints(i,u){if(i!=null){let m=i.get(j.NEED_RESULT_POINT_CALLBACK);m!=null&&u.forEach((p,b,E)=>{m.foundPossibleResultPoint(p)})}}reset(){}}class wa extends me{constructor(i=500){super(new aa,i)}}class zt{decode(i,u){try{return this.doDecode(i,u)}catch{if(u&&u.get(j.TRY_HARDER)===!0&&i.isRotateSupported()){const b=i.rotateCounterClockwise(),E=this.doDecode(b,u),S=E.getResultMetadata();let T=270;S!==null&&S.get(ze.ORIENTATION)===!0&&(T=T+S.get(ze.ORIENTATION)%360),E.putMetadata(ze.ORIENTATION,T);const P=E.getResultPoints();if(P!==null){const B=b.getHeight();for(let $=0;$<P.length;$++)P[$]=new Qe(B-P[$].getY()-1,P[$].getX())}return E}else throw new se}}reset(){}doDecode(i,u){const m=i.getWidth(),p=i.getHeight();let b=new G(m);const E=u&&u.get(j.TRY_HARDER)===!0,S=Math.max(1,p>>(E?8:5));let T;E?T=p:T=15;const P=Math.trunc(p/2);for(let B=0;B<T;B++){const $=Math.trunc((B+1)/2),K=(B&1)===0,ne=P+S*(K?$:-$);if(ne<0||ne>=p)break;try{b=i.getBlackRow(ne,b)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(b.reverse(),u&&u.get(j.NEED_RESULT_POINT_CALLBACK)===!0)){const de=new Map;u.forEach((we,De)=>de.set(De,we)),de.delete(j.NEED_RESULT_POINT_CALLBACK),u=de}try{const de=this.decodeRow(ne,b,u);if(ce===1){de.putMetadata(ze.ORIENTATION,180);const we=de.getResultPoints();we!==null&&(we[0]=new Qe(m-we[0].getX()-1,we[0].getY()),we[1]=new Qe(m-we[1].getX()-1,we[1].getY()))}return de}catch{}}}throw new se}static recordPattern(i,u,m){const p=m.length;for(let P=0;P<p;P++)m[P]=0;const b=i.getSize();if(u>=b)throw new se;let E=!i.get(u),S=0,T=u;for(;T<b;){if(i.get(T)!==E)m[S]++;else{if(++S===p)break;m[S]=1,E=!E}T++}if(!(S===p||S===p-1&&T===b))throw new se}static recordPatternInReverse(i,u,m){let p=m.length,b=i.get(u);for(;u>0&&p>=0;)i.get(--u)!==b&&(p--,b=!b);if(p>=0)throw new se;zt.recordPattern(i,u+1,m)}static patternMatchVariance(i,u,m){const p=i.length;let b=0,E=0;for(let P=0;P<p;P++)b+=i[P],E+=u[P];if(b<E)return Number.POSITIVE_INFINITY;const S=b/E;m*=S;let T=0;for(let P=0;P<p;P++){const B=i[P],$=u[P]*S,K=B>$?B-$:$-B;if(K>m)return Number.POSITIVE_INFINITY;T+=K}return T/b}}class ge extends zt{static findStartPattern(i){const u=i.getSize(),m=i.getNextSet(0);let p=0,b=Int32Array.from([0,0,0,0,0,0]),E=m,S=!1;const T=6;for(let P=m;P<u;P++)if(i.get(P)!==S)b[p]++;else{if(p===T-1){let B=ge.MAX_AVG_VARIANCE,$=-1;for(let K=ge.CODE_START_A;K<=ge.CODE_START_C;K++){const ne=zt.patternMatchVariance(b,ge.CODE_PATTERNS[K],ge.MAX_INDIVIDUAL_VARIANCE);ne<B&&(B=ne,$=K)}if($>=0&&i.isRange(Math.max(0,E-(P-E)/2),E,!1))return Int32Array.from([E,P,$]);E+=b[0]+b[1],b=b.slice(2,b.length-1),b[p-1]=0,b[p]=0,p--}else p++;b[p]=1,S=!S}throw new se}static decodeCode(i,u,m){zt.recordPattern(i,m,u);let p=ge.MAX_AVG_VARIANCE,b=-1;for(let E=0;E<ge.CODE_PATTERNS.length;E++){const S=ge.CODE_PATTERNS[E],T=this.patternMatchVariance(u,S,ge.MAX_INDIVIDUAL_VARIANCE);T<p&&(p=T,b=E)}if(b>=0)return b;throw new se}decodeRow(i,u,m){const p=m&&m.get(j.ASSUME_GS1)===!0,b=ge.findStartPattern(u),E=b[2];let S=0;const T=new Uint8Array(20);T[S++]=E;let P;switch(E){case ge.CODE_START_A:P=ge.CODE_CODE_A;break;case ge.CODE_START_B:P=ge.CODE_CODE_B;break;case ge.CODE_START_C:P=ge.CODE_CODE_C;break;default:throw new L}let B=!1,$=!1,K="",ne=b[0],ce=b[1];const de=Int32Array.from([0,0,0,0,0,0]);let we=0,De=0,Je=E,Ke=0,$e=!0,Ft=!1,_t=!1;for(;!B;){const zl=$;switch($=!1,we=De,De=ge.decodeCode(u,de,ce),T[S++]=De,De!==ge.CODE_STOP&&($e=!0),De!==ge.CODE_STOP&&(Ke++,Je+=Ke*De),ne=ce,ce+=de.reduce((Jf,Td)=>Jf+Td,0),De){case ge.CODE_START_A:case ge.CODE_START_B:case ge.CODE_START_C:throw new L}switch(P){case ge.CODE_CODE_A:if(De<64)_t===Ft?K+=String.fromCharCode(32+De):K+=String.fromCharCode(32+De+128),_t=!1;else if(De<96)_t===Ft?K+=String.fromCharCode(De-64):K+=String.fromCharCode(De+64),_t=!1;else switch(De!==ge.CODE_STOP&&($e=!1),De){case ge.CODE_FNC_1:p&&(K.length===0?K+="]C1":K+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_A:!Ft&&_t?(Ft=!0,_t=!1):Ft&&_t?(Ft=!1,_t=!1):_t=!0;break;case ge.CODE_SHIFT:$=!0,P=ge.CODE_CODE_B;break;case ge.CODE_CODE_B:P=ge.CODE_CODE_B;break;case ge.CODE_CODE_C:P=ge.CODE_CODE_C;break;case ge.CODE_STOP:B=!0;break}break;case ge.CODE_CODE_B:if(De<96)_t===Ft?K+=String.fromCharCode(32+De):K+=String.fromCharCode(32+De+128),_t=!1;else switch(De!==ge.CODE_STOP&&($e=!1),De){case ge.CODE_FNC_1:p&&(K.length===0?K+="]C1":K+="");break;case ge.CODE_FNC_2:case ge.CODE_FNC_3:break;case ge.CODE_FNC_4_B:!Ft&&_t?(Ft=!0,_t=!1):Ft&&_t?(Ft=!1,_t=!1):_t=!0;break;case ge.CODE_SHIFT:$=!0,P=ge.CODE_CODE_A;break;case ge.CODE_CODE_A:P=ge.CODE_CODE_A;break;case ge.CODE_CODE_C:P=ge.CODE_CODE_C;break;case ge.CODE_STOP:B=!0;break}break;case ge.CODE_CODE_C:if(De<100)De<10&&(K+="0"),K+=De;else switch(De!==ge.CODE_STOP&&($e=!1),De){case ge.CODE_FNC_1:p&&(K.length===0?K+="]C1":K+="");break;case ge.CODE_CODE_A:P=ge.CODE_CODE_A;break;case ge.CODE_CODE_B:P=ge.CODE_CODE_B;break;case ge.CODE_STOP:B=!0;break}break}zl&&(P=P===ge.CODE_CODE_A?ge.CODE_CODE_B:ge.CODE_CODE_A)}const Qr=ce-ne;if(ce=u.getNextUnset(ce),!u.isRange(ce,Math.min(u.getSize(),ce+(ce-ne)/2),!1))throw new se;if(Je-=Ke*we,Je%103!==we)throw new _;const Oa=K.length;if(Oa===0)throw new se;Oa>0&&$e&&(P===ge.CODE_CODE_C?K=K.substring(0,Oa-2):K=K.substring(0,Oa-1));const Zn=(b[1]+b[0])/2,cr=ne+Qr/2,Mn=T.length,ga=new Uint8Array(Mn);for(let zl=0;zl<Mn;zl++)ga[zl]=T[zl];const Vi=[new Qe(Zn,i),new Qe(cr,i)];return new ue(K,ga,0,Vi,le.CODE_128,new Date().getTime())}}ge.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ge.MAX_AVG_VARIANCE=.25,ge.MAX_INDIVIDUAL_VARIANCE=.7,ge.CODE_SHIFT=98,ge.CODE_CODE_C=99,ge.CODE_CODE_B=100,ge.CODE_CODE_A=101,ge.CODE_FNC_1=102,ge.CODE_FNC_2=97,ge.CODE_FNC_3=96,ge.CODE_FNC_4_A=101,ge.CODE_FNC_4_B=100,ge.CODE_START_A=103,ge.CODE_START_B=104,ge.CODE_START_C=105,ge.CODE_STOP=106;class tt extends zt{constructor(i=!1,u=!1){super(),this.usingCheckDigit=i,this.extendedMode=u,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,u,m){let p=this.counters;p.fill(0),this.decodeRowResult="";let b=tt.findAsteriskPattern(u,p),E=u.getNextSet(b[1]),S=u.getSize(),T,P;do{tt.recordPattern(u,E,p);let de=tt.toNarrowWidePattern(p);if(de<0)throw new se;T=tt.patternToChar(de),this.decodeRowResult+=T,P=E;for(let we of p)E+=we;E=u.getNextSet(E)}while(T!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let B=0;for(let de of p)B+=de;let $=E-P-B;if(E!==S&&$*2<B)throw new se;if(this.usingCheckDigit){let de=this.decodeRowResult.length-1,we=0;for(let De=0;De<de;De++)we+=tt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(De));if(this.decodeRowResult.charAt(de)!==tt.ALPHABET_STRING.charAt(we%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,de)}if(this.decodeRowResult.length===0)throw new se;let K;this.extendedMode?K=tt.decodeExtended(this.decodeRowResult):K=this.decodeRowResult;let ne=(b[1]+b[0])/2,ce=P+B/2;return new ue(K,null,0,[new Qe(ne,i),new Qe(ce,i)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(i,u){let m=i.getSize(),p=i.getNextSet(0),b=0,E=p,S=!1,T=u.length;for(let P=p;P<m;P++)if(i.get(P)!==S)u[b]++;else{if(b===T-1){if(this.toNarrowWidePattern(u)===tt.ASTERISK_ENCODING&&i.isRange(Math.max(0,E-Math.floor((P-E)/2)),E,!1))return[E,P];E+=u[0]+u[1],u.copyWithin(0,2,2+b-1),u[b-1]=0,u[b]=0,b--}else b++;u[b]=1,S=!S}throw new se}static toNarrowWidePattern(i){let u=i.length,m=0,p;do{let b=2147483647;for(let T of i)T<b&&T>m&&(b=T);m=b,p=0;let E=0,S=0;for(let T=0;T<u;T++){let P=i[T];P>m&&(S|=1<<u-1-T,p++,E+=P)}if(p===3){for(let T=0;T<u&&p>0;T++){let P=i[T];if(P>m&&(p--,P*2>=E))return-1}return S}}while(p>3);return-1}static patternToChar(i){for(let u=0;u<tt.CHARACTER_ENCODINGS.length;u++)if(tt.CHARACTER_ENCODINGS[u]===i)return tt.ALPHABET_STRING.charAt(u);if(i===tt.ASTERISK_ENCODING)return"*";throw new se}static decodeExtended(i){let u=i.length,m="";for(let p=0;p<u;p++){let b=i.charAt(p);if(b==="+"||b==="$"||b==="%"||b==="/"){let E=i.charAt(p+1),S="\0";switch(b){case"+":if(E>="A"&&E<="Z")S=String.fromCharCode(E.charCodeAt(0)+32);else throw new L;break;case"$":if(E>="A"&&E<="Z")S=String.fromCharCode(E.charCodeAt(0)-64);else throw new L;break;case"%":if(E>="A"&&E<="E")S=String.fromCharCode(E.charCodeAt(0)-38);else if(E>="F"&&E<="J")S=String.fromCharCode(E.charCodeAt(0)-11);else if(E>="K"&&E<="O")S=String.fromCharCode(E.charCodeAt(0)+16);else if(E>="P"&&E<="T")S=String.fromCharCode(E.charCodeAt(0)+43);else if(E==="U")S="\0";else if(E==="V")S="@";else if(E==="W")S="`";else if(E==="X"||E==="Y"||E==="Z")S="";else throw new L;break;case"/":if(E>="A"&&E<="O")S=String.fromCharCode(E.charCodeAt(0)-32);else if(E==="Z")S=":";else throw new L;break}m+=S,p++}else m+=b}return m}}tt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",tt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],tt.ASTERISK_ENCODING=148;class nt extends zt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,u,m){let p=this.decodeStart(u),b=this.decodeEnd(u),E=new he;nt.decodeMiddle(u,p[1],b[0],E);let S=E.toString(),T=null;m!=null&&(T=m.get(j.ALLOWED_LENGTHS)),T==null&&(T=nt.DEFAULT_ALLOWED_LENGTHS);let P=S.length,B=!1,$=0;for(let ce of T){if(P===ce){B=!0;break}ce>$&&($=ce)}if(!B&&P>$&&(B=!0),!B)throw new L;const K=[new Qe(p[1],i),new Qe(b[0],i)];return new ue(S,null,0,K,le.ITF,new Date().getTime())}static decodeMiddle(i,u,m,p){let b=new Int32Array(10),E=new Int32Array(5),S=new Int32Array(5);for(b.fill(0),E.fill(0),S.fill(0);u<m;){zt.recordPattern(i,u,b);for(let P=0;P<5;P++){let B=2*P;E[P]=b[B],S[P]=b[B+1]}let T=nt.decodeDigit(E);p.append(T.toString()),T=this.decodeDigit(S),p.append(T.toString()),b.forEach(function(P){u+=P})}}decodeStart(i){let u=nt.skipWhiteSpace(i),m=nt.findGuardPattern(i,u,nt.START_PATTERN);return this.narrowLineWidth=(m[1]-m[0])/4,this.validateQuietZone(i,m[0]),m}validateQuietZone(i,u){let m=this.narrowLineWidth*10;m=m<u?m:u;for(let p=u-1;m>0&&p>=0&&!i.get(p);p--)m--;if(m!==0)throw new se}static skipWhiteSpace(i){const u=i.getSize(),m=i.getNextSet(0);if(m===u)throw new se;return m}decodeEnd(i){i.reverse();try{let u=nt.skipWhiteSpace(i),m;try{m=nt.findGuardPattern(i,u,nt.END_PATTERN_REVERSED[0])}catch(b){b instanceof se&&(m=nt.findGuardPattern(i,u,nt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,m[0]);let p=m[0];return m[0]=i.getSize()-m[1],m[1]=i.getSize()-p,m}finally{i.reverse()}}static findGuardPattern(i,u,m){let p=m.length,b=new Int32Array(p),E=i.getSize(),S=!1,T=0,P=u;b.fill(0);for(let B=u;B<E;B++)if(i.get(B)!==S)b[T]++;else{if(T===p-1){if(zt.patternMatchVariance(b,m,nt.MAX_INDIVIDUAL_VARIANCE)<nt.MAX_AVG_VARIANCE)return[P,B];P+=b[0]+b[1],k.arraycopy(b,2,b,0,T-1),b[T-1]=0,b[T]=0,T--}else T++;b[T]=1,S=!S}throw new se}static decodeDigit(i){let u=nt.MAX_AVG_VARIANCE,m=-1,p=nt.PATTERNS.length;for(let b=0;b<p;b++){let E=nt.PATTERNS[b],S=zt.patternMatchVariance(i,E,nt.MAX_INDIVIDUAL_VARIANCE);S<u?(u=S,m=b):S===u&&(m=-1)}if(m>=0)return m%10;throw new se}}nt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],nt.MAX_AVG_VARIANCE=.38,nt.MAX_INDIVIDUAL_VARIANCE=.5,nt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],nt.START_PATTERN=Int32Array.from([1,1,1,1]),nt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ct extends zt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let u=!1,m,p=0,b=Int32Array.from([0,0,0]);for(;!u;){b=Int32Array.from([0,0,0]),m=Ct.findGuardPattern(i,p,!1,this.START_END_PATTERN,b);let E=m[0];p=m[1];let S=E-(p-E);S>=0&&(u=i.isRange(S,E,!1))}return m}static checkChecksum(i){return Ct.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let u=i.length;if(u===0)return!1;let m=parseInt(i.charAt(u-1),10);return Ct.getStandardUPCEANChecksum(i.substring(0,u-1))===m}static getStandardUPCEANChecksum(i){let u=i.length,m=0;for(let p=u-1;p>=0;p-=2){let b=i.charAt(p).charCodeAt(0)-48;if(b<0||b>9)throw new L;m+=b}m*=3;for(let p=u-2;p>=0;p-=2){let b=i.charAt(p).charCodeAt(0)-48;if(b<0||b>9)throw new L;m+=b}return(1e3-m)%10}static decodeEnd(i,u){return Ct.findGuardPattern(i,u,!1,Ct.START_END_PATTERN,new Int32Array(Ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,u,m,p){return this.findGuardPattern(i,u,m,p,new Int32Array(p.length))}static findGuardPattern(i,u,m,p,b){let E=i.getSize();u=m?i.getNextUnset(u):i.getNextSet(u);let S=0,T=u,P=p.length,B=m;for(let $=u;$<E;$++)if(i.get($)!==B)b[S]++;else{if(S===P-1){if(zt.patternMatchVariance(b,p,Ct.MAX_INDIVIDUAL_VARIANCE)<Ct.MAX_AVG_VARIANCE)return Int32Array.from([T,$]);T+=b[0]+b[1];let K=b.slice(2,b.length-1);for(let ne=0;ne<S-1;ne++)b[ne]=K[ne];b[S-1]=0,b[S]=0,S--}else S++;b[S]=1,B=!B}throw new se}static decodeDigit(i,u,m,p){this.recordPattern(i,m,u);let b=this.MAX_AVG_VARIANCE,E=-1,S=p.length;for(let T=0;T<S;T++){let P=p[T],B=zt.patternMatchVariance(u,P,Ct.MAX_INDIVIDUAL_VARIANCE);B<b&&(b=B,E=T)}if(E>=0)return E;throw new se}}Ct.MAX_AVG_VARIANCE=.48,Ct.MAX_INDIVIDUAL_VARIANCE=.7,Ct.START_END_PATTERN=Int32Array.from([1,1,1]),Ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class hr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,u,m){let p=this.decodeRowStringBuffer,b=this.decodeMiddle(u,m,p),E=p.toString(),S=hr.parseExtensionString(E),T=[new Qe((m[0]+m[1])/2,i),new Qe(b,i)],P=new ue(E,null,0,T,le.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&P.putAllMetadata(S),P}decodeMiddle(i,u,m){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let b=i.getSize(),E=u[1],S=0;for(let P=0;P<5&&E<b;P++){let B=Ct.decodeDigit(i,p,E,Ct.L_AND_G_PATTERNS);m+=String.fromCharCode(48+B%10);for(let $ of p)E+=$;B>=10&&(S|=1<<4-P),P!==4&&(E=i.getNextSet(E),E=i.getNextUnset(E))}if(m.length!==5)throw new se;let T=this.determineCheckDigit(S);if(hr.extensionChecksum(m.toString())!==T)throw new se;return E}static extensionChecksum(i){let u=i.length,m=0;for(let p=u-2;p>=0;p-=2)m+=i.charAt(p).charCodeAt(0)-48;m*=3;for(let p=u-1;p>=0;p-=2)m+=i.charAt(p).charCodeAt(0)-48;return m*=3,m%10}determineCheckDigit(i){for(let u=0;u<10;u++)if(i===this.CHECK_DIGIT_ENCODINGS[u])return u;throw new se}static parseExtensionString(i){if(i.length!==5)return null;let u=hr.parseExtension5String(i);return u==null?null:new Map([[ze.SUGGESTED_PRICE,u]])}static parseExtension5String(i){let u;switch(i.charAt(0)){case"0":u="";break;case"5":u="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}u="";break;default:u="";break}let m=parseInt(i.substring(1)),p=(m/100).toString(),b=m%100,E=b<10?"0"+b:b.toString();return u+p+"."+E}}class sa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,u,m){let p=this.decodeRowStringBuffer,b=this.decodeMiddle(u,m,p),E=p.toString(),S=sa.parseExtensionString(E),T=[new Qe((m[0]+m[1])/2,i),new Qe(b,i)],P=new ue(E,null,0,T,le.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&P.putAllMetadata(S),P}decodeMiddle(i,u,m){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let b=i.getSize(),E=u[1],S=0;for(let T=0;T<2&&E<b;T++){let P=Ct.decodeDigit(i,p,E,Ct.L_AND_G_PATTERNS);m+=String.fromCharCode(48+P%10);for(let B of p)E+=B;P>=10&&(S|=1<<1-T),T!==1&&(E=i.getNextSet(E),E=i.getNextUnset(E))}if(m.length!==2)throw new se;if(parseInt(m.toString())%4!==S)throw new se;return E}static parseExtensionString(i){return i.length!==2?null:new Map([[ze.ISSUE_NUMBER,parseInt(i)]])}}class ln{static decodeRow(i,u,m){let p=Ct.findGuardPattern(u,m,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new hr().decodeRow(i,u,p)}catch{return new sa().decodeRow(i,u,p)}}}ln.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class gt extends Ct{constructor(){super(),this.decodeRowStringBuffer="",gt.L_AND_G_PATTERNS=gt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let u=gt.L_PATTERNS[i-10],m=new Int32Array(u.length);for(let p=0;p<u.length;p++)m[p]=u[u.length-p-1];gt.L_AND_G_PATTERNS[i]=m}}decodeRow(i,u,m){let p=gt.findStartGuardPattern(u),b=m==null?null:m.get(j.NEED_RESULT_POINT_CALLBACK);if(b!=null){const $e=new Qe((p[0]+p[1])/2,i);b.foundPossibleResultPoint($e)}let E=this.decodeMiddle(u,p,this.decodeRowStringBuffer),S=E.rowOffset,T=E.resultString;if(b!=null){const $e=new Qe(S,i);b.foundPossibleResultPoint($e)}let P=this.decodeEnd(u,S);if(b!=null){const $e=new Qe((P[0]+P[1])/2,i);b.foundPossibleResultPoint($e)}let B=P[1],$=B+(B-P[0]);if($>=u.getSize()||!u.isRange(B,$,!1))throw new se;let K=T.toString();if(K.length<8)throw new L;if(!gt.checkChecksum(K))throw new _;let ne=(p[1]+p[0])/2,ce=(P[1]+P[0])/2,de=this.getBarcodeFormat(),we=[new Qe(ne,i),new Qe(ce,i)],De=new ue(K,null,0,we,de,new Date().getTime()),Je=0;try{let $e=ln.decodeRow(i,u,P[1]);De.putMetadata(ze.UPC_EAN_EXTENSION,$e.getText()),De.putAllMetadata($e.getResultMetadata()),De.addResultPoints($e.getResultPoints()),Je=$e.getText().length}catch{}let Ke=m==null?null:m.get(j.ALLOWED_EAN_EXTENSIONS);if(Ke!=null){let $e=!1;for(let Ft in Ke)if(Je.toString()===Ft){$e=!0;break}if(!$e)throw new se}return De}decodeEnd(i,u){return gt.findGuardPattern(i,u,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return gt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let u=i.length;if(u===0)return!1;let m=parseInt(i.charAt(u-1),10);return gt.getStandardUPCEANChecksum(i.substring(0,u-1))===m}static getStandardUPCEANChecksum(i){let u=i.length,m=0;for(let p=u-1;p>=0;p-=2){let b=i.charAt(p).charCodeAt(0)-48;if(b<0||b>9)throw new L;m+=b}m*=3;for(let p=u-2;p>=0;p-=2){let b=i.charAt(p).charCodeAt(0)-48;if(b<0||b>9)throw new L;m+=b}return(1e3-m)%10}}class Ze extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,u,m){let p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let b=i.getSize(),E=u[1],S=0;for(let P=0;P<6&&E<b;P++){let B=gt.decodeDigit(i,p,E,gt.L_AND_G_PATTERNS);m+=String.fromCharCode(48+B%10);for(let $ of p)E+=$;B>=10&&(S|=1<<5-P)}m=Ze.determineFirstDigit(m,S),E=gt.findGuardPattern(i,E,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<6&&E<b;P++){let B=gt.decodeDigit(i,p,E,gt.L_PATTERNS);m+=String.fromCharCode(48+B);for(let $ of p)E+=$}return{rowOffset:E,resultString:m}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(i,u){for(let m=0;m<10;m++)if(u===this.FIRST_DIGIT_ENCODINGS[m])return i=String.fromCharCode(48+m)+i,i;throw new se}}Ze.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Bt extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,u,m){const p=this.decodeMiddleCounters;p[0]=0,p[1]=0,p[2]=0,p[3]=0;let b=i.getSize(),E=u[1];for(let T=0;T<4&&E<b;T++){let P=gt.decodeDigit(i,p,E,gt.L_PATTERNS);m+=String.fromCharCode(48+P);for(let B of p)E+=B}E=gt.findGuardPattern(i,E,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<4&&E<b;T++){let P=gt.decodeDigit(i,p,E,gt.L_PATTERNS);m+=String.fromCharCode(48+P);for(let B of p)E+=B}return{rowOffset:E,resultString:m}}getBarcodeFormat(){return le.EAN_8}}class Yr extends gt{constructor(){super(...arguments),this.ean13Reader=new Ze}getBarcodeFormat(){return le.UPC_A}decode(i,u){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,u,m){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,u,m))}decodeMiddle(i,u,m){return this.ean13Reader.decodeMiddle(i,u,m)}maybeReturnResult(i){let u=i.getText();if(u.charAt(0)==="0"){let m=new ue(u.substring(1),null,null,i.getResultPoints(),le.UPC_A);return i.getResultMetadata()!=null&&m.putAllMetadata(i.getResultMetadata()),m}else throw new se}reset(){this.ean13Reader.reset()}}class Zr extends gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,u,m){const p=this.decodeMiddleCounters.map(P=>P);p[0]=0,p[1]=0,p[2]=0,p[3]=0;const b=i.getSize();let E=u[1],S=0;for(let P=0;P<6&&E<b;P++){const B=Zr.decodeDigit(i,p,E,Zr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+B%10);for(let $ of p)E+=$;B>=10&&(S|=1<<5-P)}let T=Zr.determineNumSysAndCheckDigit(m,S);return{rowOffset:E,resultString:T}}decodeEnd(i,u){return Zr.findGuardPatternWithoutCounters(i,u,!0,Zr.MIDDLE_END_PATTERN)}checkChecksum(i){return gt.checkChecksum(Zr.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,u){for(let m=0;m<=1;m++)for(let p=0;p<10;p++)if(u===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[m][p]){let b=String.fromCharCode(48+m),E=String.fromCharCode(48+p);return b+i+E}throw se.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(i){const u=i.slice(1,7).split("").map(b=>b.charCodeAt(0)),m=new he;m.append(i.charAt(0));let p=u[5];switch(p){case 0:case 1:case 2:m.appendChars(u,0,2),m.append(p),m.append("0000"),m.appendChars(u,2,3);break;case 3:m.appendChars(u,0,3),m.append("00000"),m.appendChars(u,3,2);break;case 4:m.appendChars(u,0,4),m.append("00000"),m.append(u[4]);break;default:m.appendChars(u,0,5),m.append("0000"),m.append(p);break}return i.length>=8&&m.append(i.charAt(7)),m.toString()}}Zr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Be extends zt{constructor(i){super();let u=i==null?null:i.get(j.POSSIBLE_FORMATS),m=[];n(u)?(m.push(new Ze),m.push(new Yr),m.push(new Bt),m.push(new Zr)):(u.indexOf(le.EAN_13)>-1&&m.push(new Ze),u.indexOf(le.UPC_A)>-1&&m.push(new Yr),u.indexOf(le.EAN_8)>-1&&m.push(new Bt),u.indexOf(le.UPC_E)>-1&&m.push(new Zr)),this.readers=m}decodeRow(i,u,m){for(let p of this.readers)try{const b=p.decodeRow(i,u,m),E=b.getBarcodeFormat()===le.EAN_13&&b.getText().charAt(0)==="0",S=m==null?null:m.get(j.POSSIBLE_FORMATS),T=S==null||S.includes(le.UPC_A);if(E&&T){const P=b.getRawBytes(),B=new ue(b.getText().substring(1),P,P?P.length:null,b.getResultPoints(),le.UPC_A);return B.putAllMetadata(b.getResultMetadata()),B}return b}catch{}throw new se}reset(){for(let i of this.readers)i.reset()}}class Et extends zt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,u){for(let m=0;m<u.length;m++)if(zt.patternMatchVariance(i,u[m],Et.MAX_INDIVIDUAL_VARIANCE)<Et.MAX_AVG_VARIANCE)return m;throw new se}static count(i){return lt.sum(new Int32Array(i))}static increment(i,u){let m=0,p=u[0];for(let b=1;b<i.length;b++)u[b]>p&&(p=u[b],m=b);i[m]++}static decrement(i,u){let m=0,p=u[0];for(let b=1;b<i.length;b++)u[b]<p&&(p=u[b],m=b);i[m]--}static isFinderPattern(i){let u=i[0]+i[1],m=u+i[2]+i[3],p=u/m;if(p>=Et.MIN_FINDER_PATTERN_RATIO&&p<=Et.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER;for(let S of i)S>E&&(E=S),S<b&&(b=S);return E<10*b}return!1}}Et.MAX_AVG_VARIANCE=.2,Et.MAX_INDIVIDUAL_VARIANCE=.45,Et.MIN_FINDER_PATTERN_RATIO=9.5/12,Et.MAX_FINDER_PATTERN_RATIO=12.5/14;class Wn{constructor(i,u){this.value=i,this.checksumPortion=u}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Wn))return!1;const u=i;return this.value===u.value&&this.checksumPortion===u.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class os{constructor(i,u,m,p,b){this.value=i,this.startEnd=u,this.value=i,this.startEnd=u,this.resultPoints=new Array,this.resultPoints.push(new Qe(m,b)),this.resultPoints.push(new Qe(p,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof os))return!1;const u=i;return this.value===u.value}hashCode(){return this.value}}class Na{constructor(){}static getRSSvalue(i,u,m){let p=0;for(let T of i)p+=T;let b=0,E=0,S=i.length;for(let T=0;T<S-1;T++){let P;for(P=1,E|=1<<T;P<i[T];P++,E&=~(1<<T)){let B=Na.combins(p-P-1,S-T-2);if(m&&E===0&&p-P-(S-T-1)>=S-T-1&&(B-=Na.combins(p-P-(S-T),S-T-2)),S-T-1>1){let $=0;for(let K=p-P-(S-T-2);K>u;K--)$+=Na.combins(p-P-K-1,S-T-3);B-=$*(S-1-T)}else p-P>u&&B--;b+=B}p-=P}return b}static combins(i,u){let m,p;i-u>u?(p=u,m=i-u):(p=i-u,m=u);let b=1,E=1;for(let S=i;S>m;S--)b*=S,E<=p&&(b/=E,E++);for(;E<=p;)b/=E,E++;return b}}class Lc{static buildBitArray(i){let u=i.length*2-1;i[i.length-1].getRightChar()==null&&(u-=1);let m=12*u,p=new G(m),b=0,S=i[0].getRightChar().getValue();for(let T=11;T>=0;--T)(S&1<<T)!=0&&p.set(b),b++;for(let T=1;T<i.length;++T){let P=i[T],B=P.getLeftChar().getValue();for(let $=11;$>=0;--$)(B&1<<$)!=0&&p.set(b),b++;if(P.getRightChar()!=null){let $=P.getRightChar().getValue();for(let K=11;K>=0;--K)($&1<<K)!=0&&p.set(b),b++}}return p}}class Sa{constructor(i,u){u?this.decodedInformation=null:(this.finished=i,this.decodedInformation=u)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Il{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class yn extends Il{constructor(i,u){super(i),this.value=u}getValue(){return this.value}isFNC1(){return this.value===yn.FNC1}}yn.FNC1="$";class za extends Il{constructor(i,u,m){super(i),m?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=u}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class zn extends Il{constructor(i,u,m){if(super(i),u<0||u>10||m<0||m>10)throw new L;this.firstDigit=u,this.secondDigit=m}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===zn.FNC1}isSecondDigitFNC1(){return this.secondDigit===zn.FNC1}isAnyFNC1(){return this.firstDigit===zn.FNC1||this.secondDigit===zn.FNC1}}zn.FNC1=10;class it{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new se;let u=i.substring(0,2);for(let b of it.TWO_DIGIT_DATA_LENGTH)if(b[0]===u)return b[1]===it.VARIABLE_LENGTH?it.processVariableAI(2,b[2],i):it.processFixedAI(2,b[1],i);if(i.length<3)throw new se;let m=i.substring(0,3);for(let b of it.THREE_DIGIT_DATA_LENGTH)if(b[0]===m)return b[1]===it.VARIABLE_LENGTH?it.processVariableAI(3,b[2],i):it.processFixedAI(3,b[1],i);for(let b of it.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===m)return b[1]===it.VARIABLE_LENGTH?it.processVariableAI(4,b[2],i):it.processFixedAI(4,b[1],i);if(i.length<4)throw new se;let p=i.substring(0,4);for(let b of it.FOUR_DIGIT_DATA_LENGTH)if(b[0]===p)return b[1]===it.VARIABLE_LENGTH?it.processVariableAI(4,b[2],i):it.processFixedAI(4,b[1],i);throw new se}static processFixedAI(i,u,m){if(m.length<i)throw new se;let p=m.substring(0,i);if(m.length<i+u)throw new se;let b=m.substring(i,i+u),E=m.substring(i+u),S="("+p+")"+b,T=it.parseFieldsInGeneralPurpose(E);return T==null?S:S+T}static processVariableAI(i,u,m){let p=m.substring(0,i),b;m.length<i+u?b=m.length:b=i+u;let E=m.substring(i,b),S=m.substring(b),T="("+p+")"+E,P=it.parseFieldsInGeneralPurpose(S);return P==null?T:T+P}}it.VARIABLE_LENGTH=[],it.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",it.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",it.VARIABLE_LENGTH,20],["22",it.VARIABLE_LENGTH,29],["30",it.VARIABLE_LENGTH,8],["37",it.VARIABLE_LENGTH,8],["90",it.VARIABLE_LENGTH,30],["91",it.VARIABLE_LENGTH,30],["92",it.VARIABLE_LENGTH,30],["93",it.VARIABLE_LENGTH,30],["94",it.VARIABLE_LENGTH,30],["95",it.VARIABLE_LENGTH,30],["96",it.VARIABLE_LENGTH,30],["97",it.VARIABLE_LENGTH,3],["98",it.VARIABLE_LENGTH,30],["99",it.VARIABLE_LENGTH,30]],it.THREE_DIGIT_DATA_LENGTH=[["240",it.VARIABLE_LENGTH,30],["241",it.VARIABLE_LENGTH,30],["242",it.VARIABLE_LENGTH,6],["250",it.VARIABLE_LENGTH,30],["251",it.VARIABLE_LENGTH,30],["253",it.VARIABLE_LENGTH,17],["254",it.VARIABLE_LENGTH,20],["400",it.VARIABLE_LENGTH,30],["401",it.VARIABLE_LENGTH,30],["402",17],["403",it.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",it.VARIABLE_LENGTH,20],["421",it.VARIABLE_LENGTH,15],["422",3],["423",it.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],it.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",it.VARIABLE_LENGTH,15],["391",it.VARIABLE_LENGTH,18],["392",it.VARIABLE_LENGTH,15],["393",it.VARIABLE_LENGTH,18],["703",it.VARIABLE_LENGTH,30]],it.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",it.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",it.VARIABLE_LENGTH,20],["8003",it.VARIABLE_LENGTH,30],["8004",it.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",it.VARIABLE_LENGTH,30],["8008",it.VARIABLE_LENGTH,12],["8018",18],["8020",it.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",it.VARIABLE_LENGTH,70],["8200",it.VARIABLE_LENGTH,70]];class Vn{constructor(i){this.buffer=new he,this.information=i}decodeAllCodes(i,u){let m=u,p=null;do{let b=this.decodeGeneralPurposeField(m,p),E=it.parseFieldsInGeneralPurpose(b.getNewString());if(E!=null&&i.append(E),b.isRemaining()?p=""+b.getRemainingValue():p=null,m===b.getNewPosition())break;m=b.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let u=i;u<i+3;++u)if(this.information.get(u))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(i,4);return b===0?new zn(this.information.getSize(),zn.FNC1,zn.FNC1):new zn(this.information.getSize(),b-1,zn.FNC1)}let u=this.extractNumericValueFromBitArray(i,7),m=(u-8)/11,p=(u-8)%11;return new zn(i+7,m,p)}extractNumericValueFromBitArray(i,u){return Vn.extractNumericValueFromBitArray(this.information,i,u)}static extractNumericValueFromBitArray(i,u,m){let p=0;for(let b=0;b<m;++b)i.get(u+b)&&(p|=1<<m-b-1);return p}decodeGeneralPurposeField(i,u){this.buffer.setLengthToZero(),u!=null&&this.buffer.append(u),this.current.setPosition(i);let m=this.parseBlocks();return m!=null&&m.isRemaining()?new za(this.current.getPosition(),this.buffer.toString(),m.getRemainingValue()):new za(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,u;do{let m=this.current.getPosition();if(this.current.isAlpha()?(u=this.parseAlphaBlock(),i=u.isFinished()):this.current.isIsoIec646()?(u=this.parseIsoIec646Block(),i=u.isFinished()):(u=this.parseNumericBlock(),i=u.isFinished()),!(m!==this.current.getPosition())&&!i)break}while(!i);return u.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let u;return i.isSecondDigitFNC1()?u=new za(this.current.getPosition(),this.buffer.toString()):u=new za(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Sa(!0,u)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let u=new za(this.current.getPosition(),this.buffer.toString());return new Sa(!0,u)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Sa(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let u=new za(this.current.getPosition(),this.buffer.toString());return new Sa(!0,u)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Sa(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let u=new za(this.current.getPosition(),this.buffer.toString());return new Sa(!0,u)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Sa(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,5);if(u>=5&&u<16)return!0;if(i+7>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(i,7);if(m>=64&&m<116)return!0;if(i+8>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(i,8);return p>=232&&p<253}decodeIsoIec646(i){let u=this.extractNumericValueFromBitArray(i,5);if(u===15)return new yn(i+5,yn.FNC1);if(u>=5&&u<15)return new yn(i+5,"0"+(u-5));let m=this.extractNumericValueFromBitArray(i,7);if(m>=64&&m<90)return new yn(i+7,""+(m+1));if(m>=90&&m<116)return new yn(i+7,""+(m+7));let p=this.extractNumericValueFromBitArray(i,8),b;switch(p){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new L}return new yn(i+8,b)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,5);if(u>=5&&u<16)return!0;if(i+6>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(i,6);return m>=16&&m<63}decodeAlphanumeric(i){let u=this.extractNumericValueFromBitArray(i,5);if(u===15)return new yn(i+5,yn.FNC1);if(u>=5&&u<15)return new yn(i+5,"0"+(u-5));let m=this.extractNumericValueFromBitArray(i,6);if(m>=32&&m<58)return new yn(i+6,""+(m+33));let p;switch(m){case 58:p="*";break;case 59:p=",";break;case 60:p="-";break;case 61:p=".";break;case 62:p="/";break;default:throw new Se("Decoding invalid alphanumeric value: "+m)}return new yn(i+6,p)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let u=0;u<5&&u+i<this.information.getSize();++u)if(u===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+u))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let u=i;u<i+3;++u)if(this.information.get(u))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let u=0;u<4&&u+i<this.information.getSize();++u)if(this.information.get(i+u))return!1;return!0}}class Fr{constructor(i){this.information=i,this.generalDecoder=new Vn(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Jt extends Fr{constructor(i){super(i)}encodeCompressedGtin(i,u){i.append("(01)");let m=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,u,m)}encodeCompressedGtinWithoutAI(i,u,m){for(let p=0;p<4;++p){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(u+10*p,10);b/100===0&&i.append("0"),b/10===0&&i.append("0"),i.append(b)}Jt.appendCheckDigit(i,m)}static appendCheckDigit(i,u){let m=0;for(let p=0;p<13;p++){let b=i.charAt(p+u).charCodeAt(0)-48;m+=(p&1)===0?3*b:b}m=10-m%10,m===10&&(m=0),i.append(m)}}Jt.GTIN_SIZE=40;class ma extends Jt{constructor(i){super(i)}parseInformation(){let i=new he;i.append("(01)");let u=i.length(),m=this.getGeneralDecoder().extractNumericValueFromBitArray(ma.HEADER_SIZE,4);return i.append(m),this.encodeCompressedGtinWithoutAI(i,ma.HEADER_SIZE+4,u),this.getGeneralDecoder().decodeAllCodes(i,ma.HEADER_SIZE+44)}}ma.HEADER_SIZE=4;class il extends Fr{constructor(i){super(i)}parseInformation(){let i=new he;return this.getGeneralDecoder().decodeAllCodes(i,il.HEADER_SIZE)}}il.HEADER_SIZE=5;class Di extends Jt{constructor(i){super(i)}encodeCompressedWeight(i,u,m){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(u,m);this.addWeightCode(i,p);let b=this.checkWeight(p),E=1e5;for(let S=0;S<5;++S)b/E===0&&i.append("0"),E/=10;i.append(b)}}class Ca extends Di{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Ca.HEADER_SIZE+Di.GTIN_SIZE+Ca.WEIGHT_SIZE)throw new se;let i=new he;return this.encodeCompressedGtin(i,Ca.HEADER_SIZE),this.encodeCompressedWeight(i,Ca.HEADER_SIZE+Di.GTIN_SIZE,Ca.WEIGHT_SIZE),i.toString()}}Ca.HEADER_SIZE=5,Ca.WEIGHT_SIZE=15;class Bc extends Ca{constructor(i){super(i)}addWeightCode(i,u){i.append("(3103)")}checkWeight(i){return i}}class ol extends Ca{constructor(i){super(i)}addWeightCode(i,u){u<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Kn extends Jt{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+Jt.GTIN_SIZE)throw new se;let i=new he;this.encodeCompressedGtin(i,Kn.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+Jt.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);i.append("(392"),i.append(u),i.append(")");let m=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+Jt.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return i.append(m.getNewString()),i.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2;class kr extends Jt{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<kr.HEADER_SIZE+Jt.GTIN_SIZE)throw new se;let i=new he;this.encodeCompressedGtin(i,kr.HEADER_SIZE);let u=this.getGeneralDecoder().extractNumericValueFromBitArray(kr.HEADER_SIZE+Jt.GTIN_SIZE,kr.LAST_DIGIT_SIZE);i.append("(393"),i.append(u),i.append(")");let m=this.getGeneralDecoder().extractNumericValueFromBitArray(kr.HEADER_SIZE+Jt.GTIN_SIZE+kr.LAST_DIGIT_SIZE,kr.FIRST_THREE_DIGITS_SIZE);m/100==0&&i.append("0"),m/10==0&&i.append("0"),i.append(m);let p=this.getGeneralDecoder().decodeGeneralPurposeField(kr.HEADER_SIZE+Jt.GTIN_SIZE+kr.LAST_DIGIT_SIZE+kr.FIRST_THREE_DIGITS_SIZE,null);return i.append(p.getNewString()),i.toString()}}kr.HEADER_SIZE=8,kr.LAST_DIGIT_SIZE=2,kr.FIRST_THREE_DIGITS_SIZE=10;class Wt extends Di{constructor(i,u,m){super(i),this.dateCode=m,this.firstAIdigits=u}parseInformation(){if(this.getInformation().getSize()!=Wt.HEADER_SIZE+Wt.GTIN_SIZE+Wt.WEIGHT_SIZE+Wt.DATE_SIZE)throw new se;let i=new he;return this.encodeCompressedGtin(i,Wt.HEADER_SIZE),this.encodeCompressedWeight(i,Wt.HEADER_SIZE+Wt.GTIN_SIZE,Wt.WEIGHT_SIZE),this.encodeCompressedDate(i,Wt.HEADER_SIZE+Wt.GTIN_SIZE+Wt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,u){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(u,Wt.DATE_SIZE);if(m==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let p=m%32;m/=32;let b=m%12+1;m/=12;let E=m;E/10==0&&i.append("0"),i.append(E),b/10==0&&i.append("0"),i.append(b),p/10==0&&i.append("0"),i.append(p)}addWeightCode(i,u){i.append("("),i.append(this.firstAIdigits),i.append(u/1e5),i.append(")")}checkWeight(i){return i%1e5}}Wt.HEADER_SIZE=8,Wt.WEIGHT_SIZE=20,Wt.DATE_SIZE=16;function Fe(q){try{if(q.get(1))return new ma(q);if(!q.get(2))return new il(q);switch(Vn.extractNumericValueFromBitArray(q,1,4)){case 4:return new Bc(q);case 5:return new ol(q)}switch(Vn.extractNumericValueFromBitArray(q,1,5)){case 12:return new Kn(q);case 13:return new kr(q)}switch(Vn.extractNumericValueFromBitArray(q,1,7)){case 56:return new Wt(q,"310","11");case 57:return new Wt(q,"320","11");case 58:return new Wt(q,"310","13");case 59:return new Wt(q,"320","13");case 60:return new Wt(q,"310","15");case 61:return new Wt(q,"320","15");case 62:return new Wt(q,"310","17");case 63:return new Wt(q,"320","17")}}catch(i){throw console.log(i),new Se("unknown decoder: "+q)}}class dt{constructor(i,u,m,p){this.leftchar=i,this.rightchar=u,this.finderpattern=m,this.maybeLast=p}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,u){return i instanceof dt?dt.equalsOrNull(i.leftchar,u.leftchar)&&dt.equalsOrNull(i.rightchar,u.rightchar)&&dt.equalsOrNull(i.finderpattern,u.finderpattern):!1}static equalsOrNull(i,u){return i===null?u===null:dt.equals(i,u)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ar{constructor(i,u,m){this.pairs=i,this.rowNumber=u,this.wasReversed=m}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,u){return i instanceof Ar?this.checkEqualitity(i,u)&&i.wasReversed===u.wasReversed:!1}checkEqualitity(i,u){if(!i||!u)return;let m;return i.forEach((p,b)=>{u.forEach(E=>{p.getLeftChar().getValue()===E.getLeftChar().getValue()&&p.getRightChar().getValue()===E.getRightChar().getValue()&&p.getFinderPatter().getValue()===E.getFinderPatter().getValue()&&(m=!0)})}),m}}class qe extends Et{constructor(i){super(...arguments),this.pairs=new Array(qe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,u,m){this.pairs.length=0,this.startFromEven=!1;try{return qe.constructResult(this.decodeRow2pairs(i,u))}catch(p){this.verbose&&console.log(p)}return this.pairs.length=0,this.startFromEven=!0,qe.constructResult(this.decodeRow2pairs(i,u))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,u){let m=!1;for(;!m;)try{this.pairs.push(this.retrieveNextPair(u,this.pairs,i))}catch(b){if(b instanceof se){if(!this.pairs.length)throw new se;m=!0}}if(this.checkChecksum())return this.pairs;let p;if(this.rows.length?p=!0:p=!1,this.storeRow(i,!1),p){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new se}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let u=null;try{u=this.checkRows(new Array,0)}catch(m){this.verbose&&console.log(m)}return i&&(this.rows=this.rows.reverse()),u}checkRows(i,u){for(let m=u;m<this.rows.length;m++){let p=this.rows[m];this.pairs.length=0;for(let E of i)this.pairs.push(E.getPairs());if(this.pairs.push(p.getPairs()),!qe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(i);b.push(p);try{return this.checkRows(b,m+1)}catch(E){this.verbose&&console.log(E)}}throw new se}static isValidSequence(i){for(let u of qe.FINDER_PATTERN_SEQUENCES){if(i.length>u.length)continue;let m=!0;for(let p=0;p<i.length;p++)if(i[p].getFinderPattern().getValue()!=u[p]){m=!1;break}if(m)return!0}return!1}storeRow(i,u){let m=0,p=!1,b=!1;for(;m<this.rows.length;){let E=this.rows[m];if(E.getRowNumber()>i){b=E.isEquivalent(this.pairs);break}p=E.isEquivalent(this.pairs),m++}b||p||qe.isPartialRow(this.pairs,this.rows)||(this.rows.push(m,new Ar(this.pairs,i,u)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,u){for(let m of u)if(m.getPairs().length!==i.length){for(let p of m.getPairs())for(let b of i)if(dt.equals(p,b))break}}static isPartialRow(i,u){for(let m of u){let p=!0;for(let b of i){let E=!1;for(let S of m.getPairs())if(b.equals(S)){E=!0;break}if(!E){p=!1;break}}if(p)return!0}return!1}getRows(){return this.rows}static constructResult(i){let u=Lc.buildBitArray(i),p=Fe(u).parseInformation(),b=i[0].getFinderPattern().getResultPoints(),E=i[i.length-1].getFinderPattern().getResultPoints(),S=[b[0],b[1],E[0],E[1]];return new ue(p,null,null,S,le.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),u=i.getLeftChar(),m=i.getRightChar();if(m==null)return!1;let p=m.getChecksumPortion(),b=2;for(let S=1;S<this.pairs.size();++S){let T=this.pairs.get(S);p+=T.getLeftChar().getChecksumPortion(),b++;let P=T.getRightChar();P!=null&&(p+=P.getChecksumPortion(),b++)}return p%=211,211*(b-4)+p==u.getValue()}static getNextSecondBar(i,u){let m;return i.get(u)?(m=i.getNextUnset(u),m=i.getNextSet(m)):(m=i.getNextSet(u),m=i.getNextUnset(m)),m}retrieveNextPair(i,u,m){let p=u.length%2==0;this.startFromEven&&(p=!p);let b,E=!0,S=-1;do this.findNextPair(i,u,S),b=this.parseFoundFinderPattern(i,m,p),b==null?S=qe.getNextSecondBar(i,this.startEnd[0]):E=!1;while(E);let T=this.decodeDataCharacter(i,b,p,!0);if(!this.isEmptyPair(u)&&u[u.length-1].mustBeLast())throw new se;let P;try{P=this.decodeDataCharacter(i,b,p,!1)}catch(B){P=null,this.verbose&&console.log(B)}return new dt(T,P,b,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,u,m){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let b=i.getSize(),E;m>=0?E=m:this.isEmptyPair(u)?E=0:E=u[u.length-1].getFinderPattern().getStartEnd()[1];let S=u.length%2!=0;this.startFromEven&&(S=!S);let T=!1;for(;E<b&&(T=!i.get(E),!!T);)E++;let P=0,B=E;for(let $=E;$<b;$++)if(i.get($)!=T)p[P]++;else{if(P==3){if(S&&qe.reverseCounters(p),qe.isFinderPattern(p)){this.startEnd[0]=B,this.startEnd[1]=$;return}S&&qe.reverseCounters(p),B+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,P--}else P++;p[P]=1,T=!T}throw new se}static reverseCounters(i){let u=i.length;for(let m=0;m<u/2;++m){let p=i[m];i[m]=i[u-m-1],i[u-m-1]=p}}parseFoundFinderPattern(i,u,m){let p,b,E;if(m){let P=this.startEnd[0]-1;for(;P>=0&&!i.get(P);)P--;P++,p=this.startEnd[0]-P,b=P,E=this.startEnd[1]}else b=this.startEnd[0],E=i.getNextUnset(this.startEnd[1]+1),p=E-this.startEnd[1];let S=this.getDecodeFinderCounters();k.arraycopy(S,0,S,1,S.length-1),S[0]=p;let T;try{T=this.parseFinderValue(S,qe.FINDER_PATTERNS)}catch{return null}return new os(T,[b,E],b,E,u)}decodeDataCharacter(i,u,m,p){let b=this.getDataCharacterCounters();for(let cr=0;cr<b.length;cr++)b[cr]=0;if(p)qe.recordPatternInReverse(i,u.getStartEnd()[0],b);else{qe.recordPattern(i,u.getStartEnd()[1],b);for(let cr=0,Mn=b.length-1;cr<Mn;cr++,Mn--){let ga=b[cr];b[cr]=b[Mn],b[Mn]=ga}}let E=17,S=lt.sum(new Int32Array(b))/E,T=(u.getStartEnd()[1]-u.getStartEnd()[0])/15;if(Math.abs(S-T)/T>.3)throw new se;let P=this.getOddCounts(),B=this.getEvenCounts(),$=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let cr=0;cr<b.length;cr++){let Mn=1*b[cr]/S,ga=Mn+.5;if(ga<1){if(Mn<.3)throw new se;ga=1}else if(ga>8){if(Mn>8.7)throw new se;ga=8}let Vi=cr/2;(cr&1)==0?(P[Vi]=ga,$[Vi]=Mn-ga):(B[Vi]=ga,K[Vi]=Mn-ga)}this.adjustOddEvenCounts(E);let ne=4*u.getValue()+(m?0:2)+(p?0:1)-1,ce=0,de=0;for(let cr=P.length-1;cr>=0;cr--){if(qe.isNotA1left(u,m,p)){let Mn=qe.WEIGHTS[ne][2*cr];de+=P[cr]*Mn}ce+=P[cr]}let we=0;for(let cr=B.length-1;cr>=0;cr--)if(qe.isNotA1left(u,m,p)){let Mn=qe.WEIGHTS[ne][2*cr+1];we+=B[cr]*Mn}let De=de+we;if((ce&1)!=0||ce>13||ce<4)throw new se;let Je=(13-ce)/2,Ke=qe.SYMBOL_WIDEST[Je],$e=9-Ke,Ft=Na.getRSSvalue(P,Ke,!0),_t=Na.getRSSvalue(B,$e,!1),Qr=qe.EVEN_TOTAL_SUBSET[Je],Oa=qe.GSUM[Je],Zn=Ft*Qr+_t+Oa;return new Wn(Zn,De)}static isNotA1left(i,u,m){return!(i.getValue()==0&&u&&m)}adjustOddEvenCounts(i){let u=lt.sum(new Int32Array(this.getOddCounts())),m=lt.sum(new Int32Array(this.getEvenCounts())),p=!1,b=!1;u>13?b=!0:u<4&&(p=!0);let E=!1,S=!1;m>13?S=!0:m<4&&(E=!0);let T=u+m-i,P=(u&1)==1,B=(m&1)==0;if(T==1)if(P){if(B)throw new se;b=!0}else{if(!B)throw new se;S=!0}else if(T==-1)if(P){if(B)throw new se;p=!0}else{if(!B)throw new se;E=!0}else if(T==0){if(P){if(!B)throw new se;u<m?(p=!0,S=!0):(b=!0,E=!0)}else if(B)throw new se}else throw new se;if(p){if(b)throw new se;qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(S)throw new se;qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}qe.SYMBOL_WIDEST=[7,5,4,3,1],qe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],qe.GSUM=[0,348,1388,2948,3988],qe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],qe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],qe.FINDER_PAT_A=0,qe.FINDER_PAT_B=1,qe.FINDER_PAT_C=2,qe.FINDER_PAT_D=3,qe.FINDER_PAT_E=4,qe.FINDER_PAT_F=5,qe.FINDER_PATTERN_SEQUENCES=[[qe.FINDER_PAT_A,qe.FINDER_PAT_A],[qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B],[qe.FINDER_PAT_A,qe.FINDER_PAT_C,qe.FINDER_PAT_B,qe.FINDER_PAT_D],[qe.FINDER_PAT_A,qe.FINDER_PAT_E,qe.FINDER_PAT_B,qe.FINDER_PAT_D,qe.FINDER_PAT_C],[qe.FINDER_PAT_A,qe.FINDER_PAT_E,qe.FINDER_PAT_B,qe.FINDER_PAT_D,qe.FINDER_PAT_D,qe.FINDER_PAT_F],[qe.FINDER_PAT_A,qe.FINDER_PAT_E,qe.FINDER_PAT_B,qe.FINDER_PAT_D,qe.FINDER_PAT_E,qe.FINDER_PAT_F,qe.FINDER_PAT_F],[qe.FINDER_PAT_A,qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B,qe.FINDER_PAT_C,qe.FINDER_PAT_C,qe.FINDER_PAT_D,qe.FINDER_PAT_D],[qe.FINDER_PAT_A,qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B,qe.FINDER_PAT_C,qe.FINDER_PAT_C,qe.FINDER_PAT_D,qe.FINDER_PAT_E,qe.FINDER_PAT_E],[qe.FINDER_PAT_A,qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B,qe.FINDER_PAT_C,qe.FINDER_PAT_C,qe.FINDER_PAT_D,qe.FINDER_PAT_E,qe.FINDER_PAT_F,qe.FINDER_PAT_F],[qe.FINDER_PAT_A,qe.FINDER_PAT_A,qe.FINDER_PAT_B,qe.FINDER_PAT_B,qe.FINDER_PAT_C,qe.FINDER_PAT_D,qe.FINDER_PAT_D,qe.FINDER_PAT_E,qe.FINDER_PAT_E,qe.FINDER_PAT_F,qe.FINDER_PAT_F]],qe.MAX_PAIRS=11;class zf extends Wn{constructor(i,u,m){super(i,u),this.count=0,this.finderPattern=m}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ir extends Et{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,u,m){const p=this.decodePair(u,!1,i,m);ir.addOrTally(this.possibleLeftPairs,p),u.reverse();let b=this.decodePair(u,!0,i,m);ir.addOrTally(this.possibleRightPairs,b),u.reverse();for(let E of this.possibleLeftPairs)if(E.getCount()>1){for(let S of this.possibleRightPairs)if(S.getCount()>1&&ir.checkChecksum(E,S))return ir.constructResult(E,S)}throw new se}static addOrTally(i,u){if(u==null)return;let m=!1;for(let p of i)if(p.getValue()===u.getValue()){p.incrementCount(),m=!0;break}m||i.push(u)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,u){let m=4537077*i.getValue()+u.getValue(),p=new String(m).toString(),b=new he;for(let P=13-p.length;P>0;P--)b.append("0");b.append(p);let E=0;for(let P=0;P<13;P++){let B=b.charAt(P).charCodeAt(0)-48;E+=(P&1)===0?3*B:B}E=10-E%10,E===10&&(E=0),b.append(E.toString());let S=i.getFinderPattern().getResultPoints(),T=u.getFinderPattern().getResultPoints();return new ue(b.toString(),null,0,[S[0],S[1],T[0],T[1]],le.RSS_14,new Date().getTime())}static checkChecksum(i,u){let m=(i.getChecksumPortion()+16*u.getChecksumPortion())%79,p=9*i.getFinderPattern().getValue()+u.getFinderPattern().getValue();return p>72&&p--,p>8&&p--,m===p}decodePair(i,u,m,p){try{let b=this.findFinderPattern(i,u),E=this.parseFoundFinderPattern(i,m,u,b),S=p==null?null:p.get(j.NEED_RESULT_POINT_CALLBACK);if(S!=null){let B=(b[0]+b[1])/2;u&&(B=i.getSize()-1-B),S.foundPossibleResultPoint(new Qe(B,m))}let T=this.decodeDataCharacter(i,E,!0),P=this.decodeDataCharacter(i,E,!1);return new zf(1597*T.getValue()+P.getValue(),T.getChecksumPortion()+4*P.getChecksumPortion(),E)}catch{return null}}decodeDataCharacter(i,u,m){let p=this.getDataCharacterCounters();for(let we=0;we<p.length;we++)p[we]=0;if(m)zt.recordPatternInReverse(i,u.getStartEnd()[0],p);else{zt.recordPattern(i,u.getStartEnd()[1]+1,p);for(let we=0,De=p.length-1;we<De;we++,De--){let Je=p[we];p[we]=p[De],p[De]=Je}}let b=m?16:15,E=lt.sum(new Int32Array(p))/b,S=this.getOddCounts(),T=this.getEvenCounts(),P=this.getOddRoundingErrors(),B=this.getEvenRoundingErrors();for(let we=0;we<p.length;we++){let De=p[we]/E,Je=Math.floor(De+.5);Je<1?Je=1:Je>8&&(Je=8);let Ke=Math.floor(we/2);(we&1)===0?(S[Ke]=Je,P[Ke]=De-Je):(T[Ke]=Je,B[Ke]=De-Je)}this.adjustOddEvenCounts(m,b);let $=0,K=0;for(let we=S.length-1;we>=0;we--)K*=9,K+=S[we],$+=S[we];let ne=0,ce=0;for(let we=T.length-1;we>=0;we--)ne*=9,ne+=T[we],ce+=T[we];let de=K+3*ne;if(m){if(($&1)!==0||$>12||$<4)throw new se;let we=(12-$)/2,De=ir.OUTSIDE_ODD_WIDEST[we],Je=9-De,Ke=Na.getRSSvalue(S,De,!1),$e=Na.getRSSvalue(T,Je,!0),Ft=ir.OUTSIDE_EVEN_TOTAL_SUBSET[we],_t=ir.OUTSIDE_GSUM[we];return new Wn(Ke*Ft+$e+_t,de)}else{if((ce&1)!==0||ce>10||ce<4)throw new se;let we=(10-ce)/2,De=ir.INSIDE_ODD_WIDEST[we],Je=9-De,Ke=Na.getRSSvalue(S,De,!0),$e=Na.getRSSvalue(T,Je,!1),Ft=ir.INSIDE_ODD_TOTAL_SUBSET[we],_t=ir.INSIDE_GSUM[we];return new Wn($e*Ft+Ke+_t,de)}}findFinderPattern(i,u){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let p=i.getSize(),b=!1,E=0;for(;E<p&&(b=!i.get(E),u!==b);)E++;let S=0,T=E;for(let P=E;P<p;P++)if(i.get(P)!==b)m[S]++;else{if(S===3){if(Et.isFinderPattern(m))return[T,P];T+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,S--}else S++;m[S]=1,b=!b}throw new se}parseFoundFinderPattern(i,u,m,p){let b=i.get(p[0]),E=p[0]-1;for(;E>=0&&b!==i.get(E);)E--;E++;const S=p[0]-E,T=this.getDecodeFinderCounters(),P=new Int32Array(T.length);k.arraycopy(T,0,P,1,T.length-1),P[0]=S;const B=this.parseFinderValue(P,ir.FINDER_PATTERNS);let $=E,K=p[1];return m&&($=i.getSize()-1-$,K=i.getSize()-1-K),new os(B,[E,p[1]],$,K,u)}adjustOddEvenCounts(i,u){let m=lt.sum(new Int32Array(this.getOddCounts())),p=lt.sum(new Int32Array(this.getEvenCounts())),b=!1,E=!1,S=!1,T=!1;i?(m>12?E=!0:m<4&&(b=!0),p>12?T=!0:p<4&&(S=!0)):(m>11?E=!0:m<5&&(b=!0),p>10?T=!0:p<4&&(S=!0));let P=m+p-u,B=(m&1)===(i?1:0),$=(p&1)===1;if(P===1)if(B){if($)throw new se;E=!0}else{if(!$)throw new se;T=!0}else if(P===-1)if(B){if($)throw new se;b=!0}else{if(!$)throw new se;S=!0}else if(P===0){if(B){if(!$)throw new se;m<p?(b=!0,T=!0):(E=!0,S=!0)}else if($)throw new se}else throw new se;if(b){if(E)throw new se;Et.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(E&&Et.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(T)throw new se;Et.increment(this.getEvenCounts(),this.getOddRoundingErrors())}T&&Et.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ir.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ir.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ir.OUTSIDE_GSUM=[0,161,961,2015,2715],ir.INSIDE_GSUM=[0,336,1036,1516],ir.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ir.INSIDE_ODD_WIDEST=[2,4,6,8],ir.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Va extends zt{constructor(i,u){super(),this.readers=[],this.verbose=u===!0;const m=i?i.get(j.POSSIBLE_FORMATS):null,p=i&&i.get(j.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;m?((m.includes(le.EAN_13)||m.includes(le.UPC_A)||m.includes(le.EAN_8)||m.includes(le.UPC_E))&&this.readers.push(new Be(i)),m.includes(le.CODE_39)&&this.readers.push(new tt(p)),m.includes(le.CODE_128)&&this.readers.push(new ge),m.includes(le.ITF)&&this.readers.push(new nt),m.includes(le.RSS_14)&&this.readers.push(new ir),m.includes(le.RSS_EXPANDED)&&this.readers.push(new qe(this.verbose))):(this.readers.push(new Be(i)),this.readers.push(new tt),this.readers.push(new Be(i)),this.readers.push(new ge),this.readers.push(new nt),this.readers.push(new ir),this.readers.push(new qe(this.verbose)))}decodeRow(i,u,m){for(let p=0;p<this.readers.length;p++)try{return this.readers[p].decodeRow(i,u,m)}catch{}throw new se}reset(){this.readers.forEach(i=>i.reset())}}class f1 extends me{constructor(i=500,u){super(new Va(u),i,u)}}class er{constructor(i,u,m){this.ecCodewords=i,this.ecBlocks=[u],m&&this.ecBlocks.push(m)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Kt{constructor(i,u){this.count=i,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Vt{constructor(i,u,m,p,b,E){this.versionNumber=i,this.symbolSizeRows=u,this.symbolSizeColumns=m,this.dataRegionSizeRows=p,this.dataRegionSizeColumns=b,this.ecBlocks=E;let S=0;const T=E.getECCodewords(),P=E.getECBlocks();for(let B of P)S+=B.getCount()*(B.getDataCodewords()+T);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,u){if((i&1)!==0||(u&1)!==0)throw new L;for(let m of Vt.VERSIONS)if(m.symbolSizeRows===i&&m.symbolSizeColumns===u)return m;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Vt(1,10,10,8,8,new er(5,new Kt(1,3))),new Vt(2,12,12,10,10,new er(7,new Kt(1,5))),new Vt(3,14,14,12,12,new er(10,new Kt(1,8))),new Vt(4,16,16,14,14,new er(12,new Kt(1,12))),new Vt(5,18,18,16,16,new er(14,new Kt(1,18))),new Vt(6,20,20,18,18,new er(18,new Kt(1,22))),new Vt(7,22,22,20,20,new er(20,new Kt(1,30))),new Vt(8,24,24,22,22,new er(24,new Kt(1,36))),new Vt(9,26,26,24,24,new er(28,new Kt(1,44))),new Vt(10,32,32,14,14,new er(36,new Kt(1,62))),new Vt(11,36,36,16,16,new er(42,new Kt(1,86))),new Vt(12,40,40,18,18,new er(48,new Kt(1,114))),new Vt(13,44,44,20,20,new er(56,new Kt(1,144))),new Vt(14,48,48,22,22,new er(68,new Kt(1,174))),new Vt(15,52,52,24,24,new er(42,new Kt(2,102))),new Vt(16,64,64,14,14,new er(56,new Kt(2,140))),new Vt(17,72,72,16,16,new er(36,new Kt(4,92))),new Vt(18,80,80,18,18,new er(48,new Kt(4,114))),new Vt(19,88,88,20,20,new er(56,new Kt(4,144))),new Vt(20,96,96,22,22,new er(68,new Kt(4,174))),new Vt(21,104,104,24,24,new er(56,new Kt(6,136))),new Vt(22,120,120,18,18,new er(68,new Kt(6,175))),new Vt(23,132,132,20,20,new er(62,new Kt(8,163))),new Vt(24,144,144,22,22,new er(62,new Kt(8,156),new Kt(2,155))),new Vt(25,8,18,6,16,new er(7,new Kt(1,5))),new Vt(26,8,32,6,14,new er(11,new Kt(1,10))),new Vt(27,12,26,10,24,new er(14,new Kt(1,16))),new Vt(28,12,36,10,16,new er(18,new Kt(1,22))),new Vt(29,16,36,14,16,new er(24,new Kt(1,32))),new Vt(30,16,48,14,22,new er(28,new Kt(1,49)))]}}Vt.VERSIONS=Vt.buildVersions();class ki{constructor(i){const u=i.getHeight();if(u<8||u>144||(u&1)!==0)throw new L;this.version=ki.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new pe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const u=i.getHeight(),m=i.getWidth();return Vt.getVersionForDimensions(u,m)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let u=0,m=4,p=0;const b=this.mappingBitMatrix.getHeight(),E=this.mappingBitMatrix.getWidth();let S=!1,T=!1,P=!1,B=!1;do if(m===b&&p===0&&!S)i[u++]=this.readCorner1(b,E)&255,m-=2,p+=2,S=!0;else if(m===b-2&&p===0&&(E&3)!==0&&!T)i[u++]=this.readCorner2(b,E)&255,m-=2,p+=2,T=!0;else if(m===b+4&&p===2&&(E&7)===0&&!P)i[u++]=this.readCorner3(b,E)&255,m-=2,p+=2,P=!0;else if(m===b-2&&p===0&&(E&7)===4&&!B)i[u++]=this.readCorner4(b,E)&255,m-=2,p+=2,B=!0;else{do m<b&&p>=0&&!this.readMappingMatrix.get(p,m)&&(i[u++]=this.readUtah(m,p,b,E)&255),m-=2,p+=2;while(m>=0&&p<E);m+=1,p+=3;do m>=0&&p<E&&!this.readMappingMatrix.get(p,m)&&(i[u++]=this.readUtah(m,p,b,E)&255),m+=2,p-=2;while(m<b&&p>=0);m+=3,p+=1}while(m<b||p<E);if(u!==this.version.getTotalCodewords())throw new L;return i}readModule(i,u,m,p){return i<0&&(i+=m,u+=4-(m+4&7)),u<0&&(u+=p,i+=4-(p+4&7)),this.readMappingMatrix.set(u,i),this.mappingBitMatrix.get(u,i)}readUtah(i,u,m,p){let b=0;return this.readModule(i-2,u-2,m,p)&&(b|=1),b<<=1,this.readModule(i-2,u-1,m,p)&&(b|=1),b<<=1,this.readModule(i-1,u-2,m,p)&&(b|=1),b<<=1,this.readModule(i-1,u-1,m,p)&&(b|=1),b<<=1,this.readModule(i-1,u,m,p)&&(b|=1),b<<=1,this.readModule(i,u-2,m,p)&&(b|=1),b<<=1,this.readModule(i,u-1,m,p)&&(b|=1),b<<=1,this.readModule(i,u,m,p)&&(b|=1),b}readCorner1(i,u){let m=0;return this.readModule(i-1,0,i,u)&&(m|=1),m<<=1,this.readModule(i-1,1,i,u)&&(m|=1),m<<=1,this.readModule(i-1,2,i,u)&&(m|=1),m<<=1,this.readModule(0,u-2,i,u)&&(m|=1),m<<=1,this.readModule(0,u-1,i,u)&&(m|=1),m<<=1,this.readModule(1,u-1,i,u)&&(m|=1),m<<=1,this.readModule(2,u-1,i,u)&&(m|=1),m<<=1,this.readModule(3,u-1,i,u)&&(m|=1),m}readCorner2(i,u){let m=0;return this.readModule(i-3,0,i,u)&&(m|=1),m<<=1,this.readModule(i-2,0,i,u)&&(m|=1),m<<=1,this.readModule(i-1,0,i,u)&&(m|=1),m<<=1,this.readModule(0,u-4,i,u)&&(m|=1),m<<=1,this.readModule(0,u-3,i,u)&&(m|=1),m<<=1,this.readModule(0,u-2,i,u)&&(m|=1),m<<=1,this.readModule(0,u-1,i,u)&&(m|=1),m<<=1,this.readModule(1,u-1,i,u)&&(m|=1),m}readCorner3(i,u){let m=0;return this.readModule(i-1,0,i,u)&&(m|=1),m<<=1,this.readModule(i-1,u-1,i,u)&&(m|=1),m<<=1,this.readModule(0,u-3,i,u)&&(m|=1),m<<=1,this.readModule(0,u-2,i,u)&&(m|=1),m<<=1,this.readModule(0,u-1,i,u)&&(m|=1),m<<=1,this.readModule(1,u-3,i,u)&&(m|=1),m<<=1,this.readModule(1,u-2,i,u)&&(m|=1),m<<=1,this.readModule(1,u-1,i,u)&&(m|=1),m}readCorner4(i,u){let m=0;return this.readModule(i-3,0,i,u)&&(m|=1),m<<=1,this.readModule(i-2,0,i,u)&&(m|=1),m<<=1,this.readModule(i-1,0,i,u)&&(m|=1),m<<=1,this.readModule(0,u-2,i,u)&&(m|=1),m<<=1,this.readModule(0,u-1,i,u)&&(m|=1),m<<=1,this.readModule(1,u-1,i,u)&&(m|=1),m<<=1,this.readModule(2,u-1,i,u)&&(m|=1),m<<=1,this.readModule(3,u-1,i,u)&&(m|=1),m}extractDataRegion(i){const u=this.version.getSymbolSizeRows(),m=this.version.getSymbolSizeColumns();if(i.getHeight()!==u)throw new w("Dimension of bitMatrix must match the version size");const p=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),E=u/p|0,S=m/b|0,T=E*p,P=S*b,B=new pe(P,T);for(let $=0;$<E;++$){const K=$*p;for(let ne=0;ne<S;++ne){const ce=ne*b;for(let de=0;de<p;++de){const we=$*(p+2)+1+de,De=K+de;for(let Je=0;Je<b;++Je){const Ke=ne*(b+2)+1+Je;if(i.get(Ke,we)){const $e=ce+Je;B.set($e,De)}}}}}return B}}class Mi{constructor(i,u){this.numDataCodewords=i,this.codewords=u}static getDataBlocks(i,u){const m=u.getECBlocks();let p=0;const b=m.getECBlocks();for(let de of b)p+=de.getCount();const E=new Array(p);let S=0;for(let de of b)for(let we=0;we<de.getCount();we++){const De=de.getDataCodewords(),Je=m.getECCodewords()+De;E[S++]=new Mi(De,new Uint8Array(Je))}const P=E[0].codewords.length-m.getECCodewords(),B=P-1;let $=0;for(let de=0;de<B;de++)for(let we=0;we<S;we++)E[we].codewords[de]=i[$++];const K=u.getVersionNumber()===24,ne=K?8:S;for(let de=0;de<ne;de++)E[de].codewords[P-1]=i[$++];const ce=E[0].codewords.length;for(let de=P;de<ce;de++)for(let we=0;we<S;we++){const De=K?(we+8)%S:we,Je=K&&De>7?de-1:de;E[De].codewords[Je]=i[$++]}if($!==i.length)throw new w;return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ha{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new w(""+i);let u=0,m=this.bitOffset,p=this.byteOffset;const b=this.bytes;if(m>0){const E=8-m,S=i<E?i:E,T=E-S,P=255>>8-S<<T;u=(b[p]&P)>>T,i-=S,m+=S,m===8&&(m=0,p++)}if(i>0){for(;i>=8;)u=u<<8|b[p]&255,p++,i-=8;if(i>0){const E=8-i,S=255>>E<<E;u=u<<i|(b[p]&S)>>E,m+=i}}return this.bitOffset=m,this.byteOffset=p,u}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var tr;(function(q){q[q.PAD_ENCODE=0]="PAD_ENCODE",q[q.ASCII_ENCODE=1]="ASCII_ENCODE",q[q.C40_ENCODE=2]="C40_ENCODE",q[q.TEXT_ENCODE=3]="TEXT_ENCODE",q[q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",q[q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",q[q.BASE256_ENCODE=6]="BASE256_ENCODE"})(tr||(tr={}));class Bs{static decode(i){const u=new Ha(i),m=new he,p=new he,b=new Array;let E=tr.ASCII_ENCODE;do if(E===tr.ASCII_ENCODE)E=this.decodeAsciiSegment(u,m,p);else{switch(E){case tr.C40_ENCODE:this.decodeC40Segment(u,m);break;case tr.TEXT_ENCODE:this.decodeTextSegment(u,m);break;case tr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(u,m);break;case tr.EDIFACT_ENCODE:this.decodeEdifactSegment(u,m);break;case tr.BASE256_ENCODE:this.decodeBase256Segment(u,m,b);break;default:throw new L}E=tr.ASCII_ENCODE}while(E!==tr.PAD_ENCODE&&u.available()>0);return p.length()>0&&m.append(p.toString()),new ve(i,m.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(i,u,m){let p=!1;do{let b=i.readBits(8);if(b===0)throw new L;if(b<=128)return p&&(b+=128),u.append(String.fromCharCode(b-1)),tr.ASCII_ENCODE;if(b===129)return tr.PAD_ENCODE;if(b<=229){const E=b-130;E<10&&u.append("0"),u.append(""+E)}else switch(b){case 230:return tr.C40_ENCODE;case 231:return tr.BASE256_ENCODE;case 232:u.append("");break;case 233:case 234:break;case 235:p=!0;break;case 236:u.append("[)>05"),m.insert(0,"");break;case 237:u.append("[)>06"),m.insert(0,"");break;case 238:return tr.ANSIX12_ENCODE;case 239:return tr.TEXT_ENCODE;case 240:return tr.EDIFACT_ENCODE;case 241:break;default:if(b!==254||i.available()!==0)throw new L;break}}while(i.available()>0);return tr.ASCII_ENCODE}static decodeC40Segment(i,u){let m=!1;const p=[];let b=0;do{if(i.available()===8)return;const E=i.readBits(8);if(E===254)return;this.parseTwoBytes(E,i.readBits(8),p);for(let S=0;S<3;S++){const T=p[S];switch(b){case 0:if(T<3)b=T+1;else if(T<this.C40_BASIC_SET_CHARS.length){const P=this.C40_BASIC_SET_CHARS[T];m?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),m=!1):u.append(P)}else throw new L;break;case 1:m?(u.append(String.fromCharCode(T+128)),m=!1):u.append(String.fromCharCode(T)),b=0;break;case 2:if(T<this.C40_SHIFT2_SET_CHARS.length){const P=this.C40_SHIFT2_SET_CHARS[T];m?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),m=!1):u.append(P)}else switch(T){case 27:u.append("");break;case 30:m=!0;break;default:throw new L}b=0;break;case 3:m?(u.append(String.fromCharCode(T+224)),m=!1):u.append(String.fromCharCode(T+96)),b=0;break;default:throw new L}}}while(i.available()>0)}static decodeTextSegment(i,u){let m=!1,p=[],b=0;do{if(i.available()===8)return;const E=i.readBits(8);if(E===254)return;this.parseTwoBytes(E,i.readBits(8),p);for(let S=0;S<3;S++){const T=p[S];switch(b){case 0:if(T<3)b=T+1;else if(T<this.TEXT_BASIC_SET_CHARS.length){const P=this.TEXT_BASIC_SET_CHARS[T];m?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),m=!1):u.append(P)}else throw new L;break;case 1:m?(u.append(String.fromCharCode(T+128)),m=!1):u.append(String.fromCharCode(T)),b=0;break;case 2:if(T<this.TEXT_SHIFT2_SET_CHARS.length){const P=this.TEXT_SHIFT2_SET_CHARS[T];m?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),m=!1):u.append(P)}else switch(T){case 27:u.append("");break;case 30:m=!0;break;default:throw new L}b=0;break;case 3:if(T<this.TEXT_SHIFT3_SET_CHARS.length){const P=this.TEXT_SHIFT3_SET_CHARS[T];m?(u.append(String.fromCharCode(P.charCodeAt(0)+128)),m=!1):u.append(P),b=0}else throw new L;break;default:throw new L}}}while(i.available()>0)}static decodeAnsiX12Segment(i,u){const m=[];do{if(i.available()===8)return;const p=i.readBits(8);if(p===254)return;this.parseTwoBytes(p,i.readBits(8),m);for(let b=0;b<3;b++){const E=m[b];switch(E){case 0:u.append("\r");break;case 1:u.append("*");break;case 2:u.append(">");break;case 3:u.append(" ");break;default:if(E<14)u.append(String.fromCharCode(E+44));else if(E<40)u.append(String.fromCharCode(E+51));else throw new L;break}}}while(i.available()>0)}static parseTwoBytes(i,u,m){let p=(i<<8)+u-1,b=Math.floor(p/1600);m[0]=b,p-=b*1600,b=Math.floor(p/40),m[1]=b,m[2]=p-b*40}static decodeEdifactSegment(i,u){do{if(i.available()<=16)return;for(let m=0;m<4;m++){let p=i.readBits(6);if(p===31){const b=8-i.getBitOffset();b!==8&&i.readBits(b);return}(p&32)===0&&(p|=64),u.append(String.fromCharCode(p))}}while(i.available()>0)}static decodeBase256Segment(i,u,m){let p=1+i.getByteOffset();const b=this.unrandomize255State(i.readBits(8),p++);let E;if(b===0?E=i.available()/8|0:b<250?E=b:E=250*(b-249)+this.unrandomize255State(i.readBits(8),p++),E<0)throw new L;const S=new Uint8Array(E);for(let T=0;T<E;T++){if(i.available()<8)throw new L;S[T]=this.unrandomize255State(i.readBits(8),p++)}m.push(S);try{u.append(Y.decode(S,X.ISO88591))}catch(T){throw new Se("Platform does not support required encoding: "+T.message)}}static unrandomize255State(i,u){const m=149*u%255+1,p=i-m;return p>=0?p:p+256}}Bs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Bs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Bs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Bs.TEXT_SHIFT2_SET_CHARS=Bs.C40_SHIFT2_SET_CHARS,Bs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class h1{constructor(){this.rsDecoder=new We(ye.DATA_MATRIX_FIELD_256)}decode(i){const u=new ki(i),m=u.getVersion(),p=u.readCodewords(),b=Mi.getDataBlocks(p,m);let E=0;for(let P of b)E+=P.getNumDataCodewords();const S=new Uint8Array(E),T=b.length;for(let P=0;P<T;P++){const B=b[P],$=B.getCodewords(),K=B.getNumDataCodewords();this.correctErrors($,K);for(let ne=0;ne<K;ne++)S[ne*T+P]=$[ne]}return Bs.decode(S)}correctErrors(i,u){const m=new Int32Array(i);try{this.rsDecoder.decode(m,i.length-u)}catch{throw new _}for(let p=0;p<u;p++)i[p]=m[p]}}class Mr{constructor(i){this.image=i,this.rectangleDetector=new ft(this.image)}detect(){const i=this.rectangleDetector.detect();let u=this.detectSolid1(i);if(u=this.detectSolid2(u),u[3]=this.correctTopRight(u),!u[3])throw new se;u=this.shiftToModuleCenter(u);const m=u[0],p=u[1],b=u[2],E=u[3];let S=this.transitionsBetween(m,E)+1,T=this.transitionsBetween(b,E)+1;(S&1)===1&&(S+=1),(T&1)===1&&(T+=1),4*S<7*T&&4*T<7*S&&(S=T=Math.max(S,T));let P=Mr.sampleGrid(this.image,m,p,b,E,S,T);return new st(P,[m,p,b,E])}static shiftPoint(i,u,m){let p=(u.getX()-i.getX())/(m+1),b=(u.getY()-i.getY())/(m+1);return new Qe(i.getX()+p,i.getY()+b)}static moveAway(i,u,m){let p=i.getX(),b=i.getY();return p<u?p-=1:p+=1,b<m?b-=1:b+=1,new Qe(p,b)}detectSolid1(i){let u=i[0],m=i[1],p=i[3],b=i[2],E=this.transitionsBetween(u,m),S=this.transitionsBetween(m,p),T=this.transitionsBetween(p,b),P=this.transitionsBetween(b,u),B=E,$=[b,u,m,p];return B>S&&(B=S,$[0]=u,$[1]=m,$[2]=p,$[3]=b),B>T&&(B=T,$[0]=m,$[1]=p,$[2]=b,$[3]=u),B>P&&($[0]=p,$[1]=b,$[2]=u,$[3]=m),$}detectSolid2(i){let u=i[0],m=i[1],p=i[2],b=i[3],E=this.transitionsBetween(u,b),S=Mr.shiftPoint(m,p,(E+1)*4),T=Mr.shiftPoint(p,m,(E+1)*4),P=this.transitionsBetween(S,u),B=this.transitionsBetween(T,b);return P<B?(i[0]=u,i[1]=m,i[2]=p,i[3]=b):(i[0]=m,i[1]=p,i[2]=b,i[3]=u),i}correctTopRight(i){let u=i[0],m=i[1],p=i[2],b=i[3],E=this.transitionsBetween(u,b),S=this.transitionsBetween(m,b),T=Mr.shiftPoint(u,m,(S+1)*4),P=Mr.shiftPoint(p,m,(E+1)*4);E=this.transitionsBetween(T,b),S=this.transitionsBetween(P,b);let B=new Qe(b.getX()+(p.getX()-m.getX())/(E+1),b.getY()+(p.getY()-m.getY())/(E+1)),$=new Qe(b.getX()+(u.getX()-m.getX())/(S+1),b.getY()+(u.getY()-m.getY())/(S+1));if(!this.isValid(B))return this.isValid($)?$:null;if(!this.isValid($))return B;let K=this.transitionsBetween(T,B)+this.transitionsBetween(P,B),ne=this.transitionsBetween(T,$)+this.transitionsBetween(P,$);return K>ne?B:$}shiftToModuleCenter(i){let u=i[0],m=i[1],p=i[2],b=i[3],E=this.transitionsBetween(u,b)+1,S=this.transitionsBetween(p,b)+1,T=Mr.shiftPoint(u,m,S*4),P=Mr.shiftPoint(p,m,E*4);E=this.transitionsBetween(T,b)+1,S=this.transitionsBetween(P,b)+1,(E&1)===1&&(E+=1),(S&1)===1&&(S+=1);let B=(u.getX()+m.getX()+p.getX()+b.getX())/4,$=(u.getY()+m.getY()+p.getY()+b.getY())/4;u=Mr.moveAway(u,B,$),m=Mr.moveAway(m,B,$),p=Mr.moveAway(p,B,$),b=Mr.moveAway(b,B,$);let K,ne;return T=Mr.shiftPoint(u,m,S*4),T=Mr.shiftPoint(T,b,E*4),K=Mr.shiftPoint(m,u,S*4),K=Mr.shiftPoint(K,p,E*4),P=Mr.shiftPoint(p,b,S*4),P=Mr.shiftPoint(P,m,E*4),ne=Mr.shiftPoint(b,p,S*4),ne=Mr.shiftPoint(ne,u,E*4),[T,K,P,ne]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,u,m,p,b,E,S){return Dr.getInstance().sampleGrid(i,E,S,.5,.5,E-.5,.5,E-.5,S-.5,.5,S-.5,u.getX(),u.getY(),b.getX(),b.getY(),p.getX(),p.getY(),m.getX(),m.getY())}transitionsBetween(i,u){let m=Math.trunc(i.getX()),p=Math.trunc(i.getY()),b=Math.trunc(u.getX()),E=Math.trunc(u.getY()),S=Math.abs(E-p)>Math.abs(b-m);if(S){let de=m;m=p,p=de,de=b,b=E,E=de}let T=Math.abs(b-m),P=Math.abs(E-p),B=-T/2,$=p<E?1:-1,K=m<b?1:-1,ne=0,ce=this.image.get(S?p:m,S?m:p);for(let de=m,we=p;de!==b;de+=K){let De=this.image.get(S?we:de,S?de:we);if(De!==ce&&(ne++,ce=De),B+=P,B>0){if(we===E)break;we+=$,B-=T}}return ne}}class Fs{constructor(){this.decoder=new h1}decode(i,u=null){let m,p;if(u!=null&&u.has(j.PURE_BARCODE)){const P=Fs.extractPureBits(i.getBlackMatrix());m=this.decoder.decode(P),p=Fs.NO_POINTS}else{const P=new Mr(i.getBlackMatrix()).detect();m=this.decoder.decode(P.getBits()),p=P.getPoints()}const b=m.getRawBytes(),E=new ue(m.getText(),b,8*b.length,p,le.DATA_MATRIX,k.currentTimeMillis()),S=m.getByteSegments();S!=null&&E.putMetadata(ze.BYTE_SEGMENTS,S);const T=m.getECLevel();return T!=null&&E.putMetadata(ze.ERROR_CORRECTION_LEVEL,T),E}reset(){}static extractPureBits(i){const u=i.getTopLeftOnBit(),m=i.getBottomRightOnBit();if(u==null||m==null)throw new se;const p=this.moduleSize(u,i);let b=u[1];const E=m[1];let S=u[0];const P=(m[0]-S+1)/p,B=(E-b+1)/p;if(P<=0||B<=0)throw new se;const $=p/2;b+=$,S+=$;const K=new pe(P,B);for(let ne=0;ne<B;ne++){const ce=b+ne*p;for(let de=0;de<P;de++)i.get(S+de*p,ce)&&K.set(de,ne)}return K}static moduleSize(i,u){const m=u.getWidth();let p=i[0];const b=i[1];for(;p<m&&u.get(p,b);)p++;if(p===m)throw new se;const E=p-i[0];if(E===0)throw new se;return E}}Fs.NO_POINTS=[];class Fc extends me{constructor(i=500){super(new Fs,i)}}var Pi;(function(q){q[q.L=0]="L",q[q.M=1]="M",q[q.Q=2]="Q",q[q.H=3]="H"})(Pi||(Pi={}));class Ut{constructor(i,u,m){this.value=i,this.stringValue=u,this.bits=m,Ut.FOR_BITS.set(m,this),Ut.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Ut.L;case"M":return Ut.M;case"Q":return Ut.Q;case"H":return Ut.H;default:throw new y(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Ut))return!1;const u=i;return this.value===u.value}static forBits(i){if(i<0||i>=Ut.FOR_BITS.size)throw new w;return Ut.FOR_BITS.get(i)}}Ut.FOR_BITS=new Map,Ut.FOR_VALUE=new Map,Ut.L=new Ut(Pi.L,"L",1),Ut.M=new Ut(Pi.M,"M",0),Ut.Q=new Ut(Pi.Q,"Q",3),Ut.H=new Ut(Pi.H,"H",2);class xn{constructor(i){this.errorCorrectionLevel=Ut.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,u){return R.bitCount(i^u)}static decodeFormatInformation(i,u){const m=xn.doDecodeFormatInformation(i,u);return m!==null?m:xn.doDecodeFormatInformation(i^xn.FORMAT_INFO_MASK_QR,u^xn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,u){let m=Number.MAX_SAFE_INTEGER,p=0;for(const b of xn.FORMAT_INFO_DECODE_LOOKUP){const E=b[0];if(E===i||E===u)return new xn(b[1]);let S=xn.numBitsDiffering(i,E);S<m&&(p=b[1],m=S),i!==u&&(S=xn.numBitsDiffering(u,E),S<m&&(p=b[1],m=S))}return m<=3?new xn(p):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof xn))return!1;const u=i;return this.errorCorrectionLevel===u.errorCorrectionLevel&&this.dataMask===u.dataMask}}xn.FORMAT_INFO_MASK_QR=21522,xn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ce{constructor(i,...u){this.ecCodewordsPerBlock=i,this.ecBlocks=u}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const u=this.ecBlocks;for(const m of u)i+=m.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ee{constructor(i,u){this.count=i,this.dataCodewords=u}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class mt{constructor(i,u,...m){this.versionNumber=i,this.alignmentPatternCenters=u,this.ecBlocks=m;let p=0;const b=m[0].getECCodewordsPerBlock(),E=m[0].getECBlocks();for(const S of E)p+=S.getCount()*(S.getDataCodewords()+b);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new L;try{return this.getVersionForNumber((i-17)/4)}catch{throw new L}}static getVersionForNumber(i){if(i<1||i>40)throw new w;return mt.VERSIONS[i-1]}static decodeVersionInformation(i){let u=Number.MAX_SAFE_INTEGER,m=0;for(let p=0;p<mt.VERSION_DECODE_INFO.length;p++){const b=mt.VERSION_DECODE_INFO[p];if(b===i)return mt.getVersionForNumber(p+7);const E=xn.numBitsDiffering(i,b);E<u&&(m=p+7,u=E)}return u<=3?mt.getVersionForNumber(m):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),u=new pe(i);u.setRegion(0,0,9,9),u.setRegion(i-8,0,8,9),u.setRegion(0,i-8,9,8);const m=this.alignmentPatternCenters.length;for(let p=0;p<m;p++){const b=this.alignmentPatternCenters[p]-2;for(let E=0;E<m;E++)p===0&&(E===0||E===m-1)||p===m-1&&E===0||u.setRegion(this.alignmentPatternCenters[E]-2,b,5,5)}return u.setRegion(6,9,1,i-17),u.setRegion(9,6,i-17,1),this.versionNumber>6&&(u.setRegion(i-11,0,3,6),u.setRegion(0,i-11,6,3)),u}toString(){return""+this.versionNumber}}mt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),mt.VERSIONS=[new mt(1,new Int32Array(0),new Ce(7,new ee(1,19)),new Ce(10,new ee(1,16)),new Ce(13,new ee(1,13)),new Ce(17,new ee(1,9))),new mt(2,Int32Array.from([6,18]),new Ce(10,new ee(1,34)),new Ce(16,new ee(1,28)),new Ce(22,new ee(1,22)),new Ce(28,new ee(1,16))),new mt(3,Int32Array.from([6,22]),new Ce(15,new ee(1,55)),new Ce(26,new ee(1,44)),new Ce(18,new ee(2,17)),new Ce(22,new ee(2,13))),new mt(4,Int32Array.from([6,26]),new Ce(20,new ee(1,80)),new Ce(18,new ee(2,32)),new Ce(26,new ee(2,24)),new Ce(16,new ee(4,9))),new mt(5,Int32Array.from([6,30]),new Ce(26,new ee(1,108)),new Ce(24,new ee(2,43)),new Ce(18,new ee(2,15),new ee(2,16)),new Ce(22,new ee(2,11),new ee(2,12))),new mt(6,Int32Array.from([6,34]),new Ce(18,new ee(2,68)),new Ce(16,new ee(4,27)),new Ce(24,new ee(4,19)),new Ce(28,new ee(4,15))),new mt(7,Int32Array.from([6,22,38]),new Ce(20,new ee(2,78)),new Ce(18,new ee(4,31)),new Ce(18,new ee(2,14),new ee(4,15)),new Ce(26,new ee(4,13),new ee(1,14))),new mt(8,Int32Array.from([6,24,42]),new Ce(24,new ee(2,97)),new Ce(22,new ee(2,38),new ee(2,39)),new Ce(22,new ee(4,18),new ee(2,19)),new Ce(26,new ee(4,14),new ee(2,15))),new mt(9,Int32Array.from([6,26,46]),new Ce(30,new ee(2,116)),new Ce(22,new ee(3,36),new ee(2,37)),new Ce(20,new ee(4,16),new ee(4,17)),new Ce(24,new ee(4,12),new ee(4,13))),new mt(10,Int32Array.from([6,28,50]),new Ce(18,new ee(2,68),new ee(2,69)),new Ce(26,new ee(4,43),new ee(1,44)),new Ce(24,new ee(6,19),new ee(2,20)),new Ce(28,new ee(6,15),new ee(2,16))),new mt(11,Int32Array.from([6,30,54]),new Ce(20,new ee(4,81)),new Ce(30,new ee(1,50),new ee(4,51)),new Ce(28,new ee(4,22),new ee(4,23)),new Ce(24,new ee(3,12),new ee(8,13))),new mt(12,Int32Array.from([6,32,58]),new Ce(24,new ee(2,92),new ee(2,93)),new Ce(22,new ee(6,36),new ee(2,37)),new Ce(26,new ee(4,20),new ee(6,21)),new Ce(28,new ee(7,14),new ee(4,15))),new mt(13,Int32Array.from([6,34,62]),new Ce(26,new ee(4,107)),new Ce(22,new ee(8,37),new ee(1,38)),new Ce(24,new ee(8,20),new ee(4,21)),new Ce(22,new ee(12,11),new ee(4,12))),new mt(14,Int32Array.from([6,26,46,66]),new Ce(30,new ee(3,115),new ee(1,116)),new Ce(24,new ee(4,40),new ee(5,41)),new Ce(20,new ee(11,16),new ee(5,17)),new Ce(24,new ee(11,12),new ee(5,13))),new mt(15,Int32Array.from([6,26,48,70]),new Ce(22,new ee(5,87),new ee(1,88)),new Ce(24,new ee(5,41),new ee(5,42)),new Ce(30,new ee(5,24),new ee(7,25)),new Ce(24,new ee(11,12),new ee(7,13))),new mt(16,Int32Array.from([6,26,50,74]),new Ce(24,new ee(5,98),new ee(1,99)),new Ce(28,new ee(7,45),new ee(3,46)),new Ce(24,new ee(15,19),new ee(2,20)),new Ce(30,new ee(3,15),new ee(13,16))),new mt(17,Int32Array.from([6,30,54,78]),new Ce(28,new ee(1,107),new ee(5,108)),new Ce(28,new ee(10,46),new ee(1,47)),new Ce(28,new ee(1,22),new ee(15,23)),new Ce(28,new ee(2,14),new ee(17,15))),new mt(18,Int32Array.from([6,30,56,82]),new Ce(30,new ee(5,120),new ee(1,121)),new Ce(26,new ee(9,43),new ee(4,44)),new Ce(28,new ee(17,22),new ee(1,23)),new Ce(28,new ee(2,14),new ee(19,15))),new mt(19,Int32Array.from([6,30,58,86]),new Ce(28,new ee(3,113),new ee(4,114)),new Ce(26,new ee(3,44),new ee(11,45)),new Ce(26,new ee(17,21),new ee(4,22)),new Ce(26,new ee(9,13),new ee(16,14))),new mt(20,Int32Array.from([6,34,62,90]),new Ce(28,new ee(3,107),new ee(5,108)),new Ce(26,new ee(3,41),new ee(13,42)),new Ce(30,new ee(15,24),new ee(5,25)),new Ce(28,new ee(15,15),new ee(10,16))),new mt(21,Int32Array.from([6,28,50,72,94]),new Ce(28,new ee(4,116),new ee(4,117)),new Ce(26,new ee(17,42)),new Ce(28,new ee(17,22),new ee(6,23)),new Ce(30,new ee(19,16),new ee(6,17))),new mt(22,Int32Array.from([6,26,50,74,98]),new Ce(28,new ee(2,111),new ee(7,112)),new Ce(28,new ee(17,46)),new Ce(30,new ee(7,24),new ee(16,25)),new Ce(24,new ee(34,13))),new mt(23,Int32Array.from([6,30,54,78,102]),new Ce(30,new ee(4,121),new ee(5,122)),new Ce(28,new ee(4,47),new ee(14,48)),new Ce(30,new ee(11,24),new ee(14,25)),new Ce(30,new ee(16,15),new ee(14,16))),new mt(24,Int32Array.from([6,28,54,80,106]),new Ce(30,new ee(6,117),new ee(4,118)),new Ce(28,new ee(6,45),new ee(14,46)),new Ce(30,new ee(11,24),new ee(16,25)),new Ce(30,new ee(30,16),new ee(2,17))),new mt(25,Int32Array.from([6,32,58,84,110]),new Ce(26,new ee(8,106),new ee(4,107)),new Ce(28,new ee(8,47),new ee(13,48)),new Ce(30,new ee(7,24),new ee(22,25)),new Ce(30,new ee(22,15),new ee(13,16))),new mt(26,Int32Array.from([6,30,58,86,114]),new Ce(28,new ee(10,114),new ee(2,115)),new Ce(28,new ee(19,46),new ee(4,47)),new Ce(28,new ee(28,22),new ee(6,23)),new Ce(30,new ee(33,16),new ee(4,17))),new mt(27,Int32Array.from([6,34,62,90,118]),new Ce(30,new ee(8,122),new ee(4,123)),new Ce(28,new ee(22,45),new ee(3,46)),new Ce(30,new ee(8,23),new ee(26,24)),new Ce(30,new ee(12,15),new ee(28,16))),new mt(28,Int32Array.from([6,26,50,74,98,122]),new Ce(30,new ee(3,117),new ee(10,118)),new Ce(28,new ee(3,45),new ee(23,46)),new Ce(30,new ee(4,24),new ee(31,25)),new Ce(30,new ee(11,15),new ee(31,16))),new mt(29,Int32Array.from([6,30,54,78,102,126]),new Ce(30,new ee(7,116),new ee(7,117)),new Ce(28,new ee(21,45),new ee(7,46)),new Ce(30,new ee(1,23),new ee(37,24)),new Ce(30,new ee(19,15),new ee(26,16))),new mt(30,Int32Array.from([6,26,52,78,104,130]),new Ce(30,new ee(5,115),new ee(10,116)),new Ce(28,new ee(19,47),new ee(10,48)),new Ce(30,new ee(15,24),new ee(25,25)),new Ce(30,new ee(23,15),new ee(25,16))),new mt(31,Int32Array.from([6,30,56,82,108,134]),new Ce(30,new ee(13,115),new ee(3,116)),new Ce(28,new ee(2,46),new ee(29,47)),new Ce(30,new ee(42,24),new ee(1,25)),new Ce(30,new ee(23,15),new ee(28,16))),new mt(32,Int32Array.from([6,34,60,86,112,138]),new Ce(30,new ee(17,115)),new Ce(28,new ee(10,46),new ee(23,47)),new Ce(30,new ee(10,24),new ee(35,25)),new Ce(30,new ee(19,15),new ee(35,16))),new mt(33,Int32Array.from([6,30,58,86,114,142]),new Ce(30,new ee(17,115),new ee(1,116)),new Ce(28,new ee(14,46),new ee(21,47)),new Ce(30,new ee(29,24),new ee(19,25)),new Ce(30,new ee(11,15),new ee(46,16))),new mt(34,Int32Array.from([6,34,62,90,118,146]),new Ce(30,new ee(13,115),new ee(6,116)),new Ce(28,new ee(14,46),new ee(23,47)),new Ce(30,new ee(44,24),new ee(7,25)),new Ce(30,new ee(59,16),new ee(1,17))),new mt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ce(30,new ee(12,121),new ee(7,122)),new Ce(28,new ee(12,47),new ee(26,48)),new Ce(30,new ee(39,24),new ee(14,25)),new Ce(30,new ee(22,15),new ee(41,16))),new mt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ce(30,new ee(6,121),new ee(14,122)),new Ce(28,new ee(6,47),new ee(34,48)),new Ce(30,new ee(46,24),new ee(10,25)),new Ce(30,new ee(2,15),new ee(64,16))),new mt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ce(30,new ee(17,122),new ee(4,123)),new Ce(28,new ee(29,46),new ee(14,47)),new Ce(30,new ee(49,24),new ee(10,25)),new Ce(30,new ee(24,15),new ee(46,16))),new mt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ce(30,new ee(4,122),new ee(18,123)),new Ce(28,new ee(13,46),new ee(32,47)),new Ce(30,new ee(48,24),new ee(14,25)),new Ce(30,new ee(42,15),new ee(32,16))),new mt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ce(30,new ee(20,117),new ee(4,118)),new Ce(28,new ee(40,47),new ee(7,48)),new Ce(30,new ee(43,24),new ee(22,25)),new Ce(30,new ee(10,15),new ee(67,16))),new mt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ce(30,new ee(19,118),new ee(6,119)),new Ce(28,new ee(18,47),new ee(31,48)),new Ce(30,new ee(34,24),new ee(34,25)),new Ce(30,new ee(20,15),new ee(61,16)))];var on;(function(q){q[q.DATA_MASK_000=0]="DATA_MASK_000",q[q.DATA_MASK_001=1]="DATA_MASK_001",q[q.DATA_MASK_010=2]="DATA_MASK_010",q[q.DATA_MASK_011=3]="DATA_MASK_011",q[q.DATA_MASK_100=4]="DATA_MASK_100",q[q.DATA_MASK_101=5]="DATA_MASK_101",q[q.DATA_MASK_110=6]="DATA_MASK_110",q[q.DATA_MASK_111=7]="DATA_MASK_111"})(on||(on={}));class fa{constructor(i,u){this.value=i,this.isMasked=u}unmaskBitMatrix(i,u){for(let m=0;m<u;m++)for(let p=0;p<u;p++)this.isMasked(m,p)&&i.flip(p,m)}}fa.values=new Map([[on.DATA_MASK_000,new fa(on.DATA_MASK_000,(q,i)=>(q+i&1)===0)],[on.DATA_MASK_001,new fa(on.DATA_MASK_001,(q,i)=>(q&1)===0)],[on.DATA_MASK_010,new fa(on.DATA_MASK_010,(q,i)=>i%3===0)],[on.DATA_MASK_011,new fa(on.DATA_MASK_011,(q,i)=>(q+i)%3===0)],[on.DATA_MASK_100,new fa(on.DATA_MASK_100,(q,i)=>(Math.floor(q/2)+Math.floor(i/3)&1)===0)],[on.DATA_MASK_101,new fa(on.DATA_MASK_101,(q,i)=>q*i%6===0)],[on.DATA_MASK_110,new fa(on.DATA_MASK_110,(q,i)=>q*i%6<3)],[on.DATA_MASK_111,new fa(on.DATA_MASK_111,(q,i)=>(q+i+q*i%3&1)===0)]]);class Ii{constructor(i){const u=i.getHeight();if(u<21||(u&3)!==1)throw new L;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let b=0;b<6;b++)i=this.copyBit(b,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let b=5;b>=0;b--)i=this.copyBit(8,b,i);const u=this.bitMatrix.getHeight();let m=0;const p=u-7;for(let b=u-1;b>=p;b--)m=this.copyBit(8,b,m);for(let b=u-8;b<u;b++)m=this.copyBit(b,8,m);if(this.parsedFormatInfo=xn.decodeFormatInformation(i,m),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),u=Math.floor((i-17)/4);if(u<=6)return mt.getVersionForNumber(u);let m=0;const p=i-11;for(let E=5;E>=0;E--)for(let S=i-9;S>=p;S--)m=this.copyBit(S,E,m);let b=mt.decodeVersionInformation(m);if(b!==null&&b.getDimensionForVersion()===i)return this.parsedVersion=b,b;m=0;for(let E=5;E>=0;E--)for(let S=i-9;S>=p;S--)m=this.copyBit(E,S,m);if(b=mt.decodeVersionInformation(m),b!==null&&b.getDimensionForVersion()===i)return this.parsedVersion=b,b;throw new L}copyBit(i,u,m){return(this.isMirror?this.bitMatrix.get(u,i):this.bitMatrix.get(i,u))?m<<1|1:m<<1}readCodewords(){const i=this.readFormatInformation(),u=this.readVersion(),m=fa.values.get(i.getDataMask()),p=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,p);const b=u.buildFunctionPattern();let E=!0;const S=new Uint8Array(u.getTotalCodewords());let T=0,P=0,B=0;for(let $=p-1;$>0;$-=2){$===6&&$--;for(let K=0;K<p;K++){const ne=E?p-1-K:K;for(let ce=0;ce<2;ce++)b.get($-ce,ne)||(B++,P<<=1,this.bitMatrix.get($-ce,ne)&&(P|=1),B===8&&(S[T++]=P,B=0,P=0))}E=!E}if(T!==u.getTotalCodewords())throw new L;return S}remask(){if(this.parsedFormatInfo===null)return;const i=fa.values[this.parsedFormatInfo.getDataMask()],u=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,u)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let u=0,m=i.getWidth();u<m;u++)for(let p=u+1,b=i.getHeight();p<b;p++)i.get(u,p)!==i.get(p,u)&&(i.flip(p,u),i.flip(u,p))}}class xd{constructor(i,u){this.numDataCodewords=i,this.codewords=u}static getDataBlocks(i,u,m){if(i.length!==u.getTotalCodewords())throw new w;const p=u.getECBlocksForLevel(m);let b=0;const E=p.getECBlocks();for(const ce of E)b+=ce.getCount();const S=new Array(b);let T=0;for(const ce of E)for(let de=0;de<ce.getCount();de++){const we=ce.getDataCodewords(),De=p.getECCodewordsPerBlock()+we;S[T++]=new xd(we,new Uint8Array(De))}const P=S[0].codewords.length;let B=S.length-1;for(;B>=0&&S[B].codewords.length!==P;)B--;B++;const $=P-p.getECCodewordsPerBlock();let K=0;for(let ce=0;ce<$;ce++)for(let de=0;de<T;de++)S[de].codewords[ce]=i[K++];for(let ce=B;ce<T;ce++)S[ce].codewords[$]=i[K++];const ne=S[0].codewords.length;for(let ce=$;ce<ne;ce++)for(let de=0;de<T;de++){const we=de<B?ce:ce+1;S[de].codewords[we]=i[K++]}return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ha;(function(q){q[q.TERMINATOR=0]="TERMINATOR",q[q.NUMERIC=1]="NUMERIC",q[q.ALPHANUMERIC=2]="ALPHANUMERIC",q[q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",q[q.BYTE=4]="BYTE",q[q.ECI=5]="ECI",q[q.KANJI=6]="KANJI",q[q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",q[q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",q[q.HANZI=9]="HANZI"})(ha||(ha={}));class yt{constructor(i,u,m,p){this.value=i,this.stringValue=u,this.characterCountBitsForVersions=m,this.bits=p,yt.FOR_BITS.set(p,this),yt.FOR_VALUE.set(i,this)}static forBits(i){const u=yt.FOR_BITS.get(i);if(u===void 0)throw new w;return u}getCharacterCountBits(i){const u=i.getVersionNumber();let m;return u<=9?m=0:u<=26?m=1:m=2,this.characterCountBitsForVersions[m]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof yt))return!1;const u=i;return this.value===u.value}toString(){return this.stringValue}}yt.FOR_BITS=new Map,yt.FOR_VALUE=new Map,yt.TERMINATOR=new yt(ha.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),yt.NUMERIC=new yt(ha.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),yt.ALPHANUMERIC=new yt(ha.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),yt.STRUCTURED_APPEND=new yt(ha.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),yt.BYTE=new yt(ha.BYTE,"BYTE",Int32Array.from([8,16,16]),4),yt.ECI=new yt(ha.ECI,"ECI",Int32Array.from([0,0,0]),7),yt.KANJI=new yt(ha.KANJI,"KANJI",Int32Array.from([8,10,12]),8),yt.FNC1_FIRST_POSITION=new yt(ha.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),yt.FNC1_SECOND_POSITION=new yt(ha.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),yt.HANZI=new yt(ha.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Er{static decode(i,u,m,p){const b=new Ha(i);let E=new he;const S=new Array;let T=-1,P=-1;try{let B=null,$=!1,K;do{if(b.available()<4)K=yt.TERMINATOR;else{const ne=b.readBits(4);K=yt.forBits(ne)}switch(K){case yt.TERMINATOR:break;case yt.FNC1_FIRST_POSITION:case yt.FNC1_SECOND_POSITION:$=!0;break;case yt.STRUCTURED_APPEND:if(b.available()<16)throw new L;T=b.readBits(8),P=b.readBits(8);break;case yt.ECI:const ne=Er.parseECIValue(b);if(B=V.getCharacterSetECIByValue(ne),B===null)throw new L;break;case yt.HANZI:const ce=b.readBits(4),de=b.readBits(K.getCharacterCountBits(u));ce===Er.GB2312_SUBSET&&Er.decodeHanziSegment(b,E,de);break;default:const we=b.readBits(K.getCharacterCountBits(u));switch(K){case yt.NUMERIC:Er.decodeNumericSegment(b,E,we);break;case yt.ALPHANUMERIC:Er.decodeAlphanumericSegment(b,E,we,$);break;case yt.BYTE:Er.decodeByteSegment(b,E,we,B,S,p);break;case yt.KANJI:Er.decodeKanjiSegment(b,E,we);break;default:throw new L}break}}while(K!==yt.TERMINATOR)}catch{throw new L}return new ve(i,E.toString(),S.length===0?null:S,m===null?null:m.toString(),T,P)}static decodeHanziSegment(i,u,m){if(m*13>i.available())throw new L;const p=new Uint8Array(2*m);let b=0;for(;m>0;){const E=i.readBits(13);let S=E/96<<8&4294967295|E%96;S<959?S+=41377:S+=42657,p[b]=S>>8&255,p[b+1]=S&255,b+=2,m--}try{u.append(Y.decode(p,X.GB2312))}catch(E){throw new L(E)}}static decodeKanjiSegment(i,u,m){if(m*13>i.available())throw new L;const p=new Uint8Array(2*m);let b=0;for(;m>0;){const E=i.readBits(13);let S=E/192<<8&4294967295|E%192;S<7936?S+=33088:S+=49472,p[b]=S>>8,p[b+1]=S,b+=2,m--}try{u.append(Y.decode(p,X.SHIFT_JIS))}catch(E){throw new L(E)}}static decodeByteSegment(i,u,m,p,b,E){if(8*m>i.available())throw new L;const S=new Uint8Array(m);for(let P=0;P<m;P++)S[P]=i.readBits(8);let T;p===null?T=X.guessEncoding(S,E):T=p.getName();try{u.append(Y.decode(S,T))}catch(P){throw new L(P)}b.push(S)}static toAlphaNumericChar(i){if(i>=Er.ALPHANUMERIC_CHARS.length)throw new L;return Er.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,u,m,p){const b=u.length();for(;m>1;){if(i.available()<11)throw new L;const E=i.readBits(11);u.append(Er.toAlphaNumericChar(Math.floor(E/45))),u.append(Er.toAlphaNumericChar(E%45)),m-=2}if(m===1){if(i.available()<6)throw new L;u.append(Er.toAlphaNumericChar(i.readBits(6)))}if(p)for(let E=b;E<u.length();E++)u.charAt(E)==="%"&&(E<u.length()-1&&u.charAt(E+1)==="%"?u.deleteCharAt(E+1):u.setCharAt(E,""))}static decodeNumericSegment(i,u,m){for(;m>=3;){if(i.available()<10)throw new L;const p=i.readBits(10);if(p>=1e3)throw new L;u.append(Er.toAlphaNumericChar(Math.floor(p/100))),u.append(Er.toAlphaNumericChar(Math.floor(p/10)%10)),u.append(Er.toAlphaNumericChar(p%10)),m-=3}if(m===2){if(i.available()<7)throw new L;const p=i.readBits(7);if(p>=100)throw new L;u.append(Er.toAlphaNumericChar(Math.floor(p/10))),u.append(Er.toAlphaNumericChar(p%10))}else if(m===1){if(i.available()<4)throw new L;const p=i.readBits(4);if(p>=10)throw new L;u.append(Er.toAlphaNumericChar(p))}}static parseECIValue(i){const u=i.readBits(8);if((u&128)===0)return u&127;if((u&192)===128){const m=i.readBits(8);return(u&63)<<8&4294967295|m}if((u&224)===192){const m=i.readBits(16);return(u&31)<<16&4294967295|m}throw new L}}Er.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Er.GB2312_SUBSET=1;class Vf{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const u=i[0];i[0]=i[2],i[2]=u}}class g1{constructor(){this.rsDecoder=new We(ye.QR_CODE_FIELD_256)}decodeBooleanArray(i,u){return this.decodeBitMatrix(pe.parseFromBooleanArray(i),u)}decodeBitMatrix(i,u){const m=new Ii(i);let p=null;try{return this.decodeBitMatrixParser(m,u)}catch(b){p=b}try{m.remask(),m.setMirror(!0),m.readVersion(),m.readFormatInformation(),m.mirror();const b=this.decodeBitMatrixParser(m,u);return b.setOther(new Vf(!0)),b}catch(b){throw p!==null?p:b}}decodeBitMatrixParser(i,u){const m=i.readVersion(),p=i.readFormatInformation().getErrorCorrectionLevel(),b=i.readCodewords(),E=xd.getDataBlocks(b,m,p);let S=0;for(const B of E)S+=B.getNumDataCodewords();const T=new Uint8Array(S);let P=0;for(const B of E){const $=B.getCodewords(),K=B.getNumDataCodewords();this.correctErrors($,K);for(let ne=0;ne<K;ne++)T[P++]=$[ne]}return Er.decode(T,m,p,u)}correctErrors(i,u){const m=new Int32Array(i);try{this.rsDecoder.decode(m,i.length-u)}catch{throw new _}for(let p=0;p<u;p++)i[p]=m[p]}}class Ri extends Qe{constructor(i,u,m){super(i,u),this.estimatedModuleSize=m}aboutEquals(i,u,m){if(Math.abs(u-this.getY())<=i&&Math.abs(m-this.getX())<=i){const p=Math.abs(i-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(i,u,m){const p=(this.getX()+u)/2,b=(this.getY()+i)/2,E=(this.estimatedModuleSize+m)/2;return new Ri(p,b,E)}}class Aa{constructor(i,u,m,p,b,E,S){this.image=i,this.startX=u,this.startY=m,this.width=p,this.height=b,this.moduleSize=E,this.resultPointCallback=S,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,u=this.height,m=this.width,p=i+m,b=this.startY+u/2,E=new Int32Array(3),S=this.image;for(let T=0;T<u;T++){const P=b+((T&1)===0?Math.floor((T+1)/2):-Math.floor((T+1)/2));E[0]=0,E[1]=0,E[2]=0;let B=i;for(;B<p&&!S.get(B,P);)B++;let $=0;for(;B<p;){if(S.get(B,P))if($===1)E[1]++;else if($===2){if(this.foundPatternCross(E)){const K=this.handlePossibleCenter(E,P,B);if(K!==null)return K}E[0]=E[2],E[1]=1,E[2]=0,$=1}else E[++$]++;else $===1&&$++,E[$]++;B++}if(this.foundPatternCross(E)){const K=this.handlePossibleCenter(E,P,p);if(K!==null)return K}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new se}static centerFromEnd(i,u){return u-i[2]-i[1]/2}foundPatternCross(i){const u=this.moduleSize,m=u/2;for(let p=0;p<3;p++)if(Math.abs(u-i[p])>=m)return!1;return!0}crossCheckVertical(i,u,m,p){const b=this.image,E=b.getHeight(),S=this.crossCheckStateCount;S[0]=0,S[1]=0,S[2]=0;let T=i;for(;T>=0&&b.get(u,T)&&S[1]<=m;)S[1]++,T--;if(T<0||S[1]>m)return NaN;for(;T>=0&&!b.get(u,T)&&S[0]<=m;)S[0]++,T--;if(S[0]>m)return NaN;for(T=i+1;T<E&&b.get(u,T)&&S[1]<=m;)S[1]++,T++;if(T===E||S[1]>m)return NaN;for(;T<E&&!b.get(u,T)&&S[2]<=m;)S[2]++,T++;if(S[2]>m)return NaN;const P=S[0]+S[1]+S[2];return 5*Math.abs(P-p)>=2*p?NaN:this.foundPatternCross(S)?Aa.centerFromEnd(S,T):NaN}handlePossibleCenter(i,u,m){const p=i[0]+i[1]+i[2],b=Aa.centerFromEnd(i,m),E=this.crossCheckVertical(u,b,2*i[1],p);if(!isNaN(E)){const S=(i[0]+i[1]+i[2])/3;for(const P of this.possibleCenters)if(P.aboutEquals(S,E,b))return P.combineEstimate(E,b,S);const T=new Ri(b,E,S);this.possibleCenters.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return null}}class Uo extends Qe{constructor(i,u,m,p){super(i,u),this.estimatedModuleSize=m,this.count=p,p===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,u,m){if(Math.abs(u-this.getY())<=i&&Math.abs(m-this.getX())<=i){const p=Math.abs(i-this.estimatedModuleSize);return p<=1||p<=this.estimatedModuleSize}return!1}combineEstimate(i,u,m){const p=this.count+1,b=(this.count*this.getX()+u)/p,E=(this.count*this.getY()+i)/p,S=(this.count*this.estimatedModuleSize+m)/p;return new Uo(b,E,S,p)}}class bd{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Pr{constructor(i,u){this.image=i,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=u}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const u=i!=null&&i.get(j.TRY_HARDER)!==void 0,m=i!=null&&i.get(j.PURE_BARCODE)!==void 0,p=this.image,b=p.getHeight(),E=p.getWidth();let S=Math.floor(3*b/(4*Pr.MAX_MODULES));(S<Pr.MIN_SKIP||u)&&(S=Pr.MIN_SKIP);let T=!1;const P=new Int32Array(5);for(let $=S-1;$<b&&!T;$+=S){P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0;let K=0;for(let ne=0;ne<E;ne++)if(p.get(ne,$))(K&1)===1&&K++,P[K]++;else if((K&1)===0)if(K===4)if(Pr.foundPatternCross(P)){if(this.handlePossibleCenter(P,$,ne,m)===!0)if(S=2,this.hasSkipped===!0)T=this.haveMultiplyConfirmedCenters();else{const de=this.findRowSkip();de>P[2]&&($+=de-P[2]-S,ne=E-1)}else{P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,K=3;continue}K=0,P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0}else P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,K=3;else P[++K]++;else P[K]++;Pr.foundPatternCross(P)&&this.handlePossibleCenter(P,$,E,m)===!0&&(S=P[0],this.hasSkipped&&(T=this.haveMultiplyConfirmedCenters()))}const B=this.selectBestPatterns();return Qe.orderBestPatterns(B),new bd(B)}static centerFromEnd(i,u){return u-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let u=0;for(let b=0;b<5;b++){const E=i[b];if(E===0)return!1;u+=E}if(u<7)return!1;const m=u/7,p=m/2;return Math.abs(m-i[0])<p&&Math.abs(m-i[1])<p&&Math.abs(3*m-i[2])<3*p&&Math.abs(m-i[3])<p&&Math.abs(m-i[4])<p}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,u,m,p){const b=this.getCrossCheckStateCount();let E=0;const S=this.image;for(;i>=E&&u>=E&&S.get(u-E,i-E);)b[2]++,E++;if(i<E||u<E)return!1;for(;i>=E&&u>=E&&!S.get(u-E,i-E)&&b[1]<=m;)b[1]++,E++;if(i<E||u<E||b[1]>m)return!1;for(;i>=E&&u>=E&&S.get(u-E,i-E)&&b[0]<=m;)b[0]++,E++;if(b[0]>m)return!1;const T=S.getHeight(),P=S.getWidth();for(E=1;i+E<T&&u+E<P&&S.get(u+E,i+E);)b[2]++,E++;if(i+E>=T||u+E>=P)return!1;for(;i+E<T&&u+E<P&&!S.get(u+E,i+E)&&b[3]<m;)b[3]++,E++;if(i+E>=T||u+E>=P||b[3]>=m)return!1;for(;i+E<T&&u+E<P&&S.get(u+E,i+E)&&b[4]<m;)b[4]++,E++;if(b[4]>=m)return!1;const B=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs(B-p)<2*p&&Pr.foundPatternCross(b)}crossCheckVertical(i,u,m,p){const b=this.image,E=b.getHeight(),S=this.getCrossCheckStateCount();let T=i;for(;T>=0&&b.get(u,T);)S[2]++,T--;if(T<0)return NaN;for(;T>=0&&!b.get(u,T)&&S[1]<=m;)S[1]++,T--;if(T<0||S[1]>m)return NaN;for(;T>=0&&b.get(u,T)&&S[0]<=m;)S[0]++,T--;if(S[0]>m)return NaN;for(T=i+1;T<E&&b.get(u,T);)S[2]++,T++;if(T===E)return NaN;for(;T<E&&!b.get(u,T)&&S[3]<m;)S[3]++,T++;if(T===E||S[3]>=m)return NaN;for(;T<E&&b.get(u,T)&&S[4]<m;)S[4]++,T++;if(S[4]>=m)return NaN;const P=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(P-p)>=2*p?NaN:Pr.foundPatternCross(S)?Pr.centerFromEnd(S,T):NaN}crossCheckHorizontal(i,u,m,p){const b=this.image,E=b.getWidth(),S=this.getCrossCheckStateCount();let T=i;for(;T>=0&&b.get(T,u);)S[2]++,T--;if(T<0)return NaN;for(;T>=0&&!b.get(T,u)&&S[1]<=m;)S[1]++,T--;if(T<0||S[1]>m)return NaN;for(;T>=0&&b.get(T,u)&&S[0]<=m;)S[0]++,T--;if(S[0]>m)return NaN;for(T=i+1;T<E&&b.get(T,u);)S[2]++,T++;if(T===E)return NaN;for(;T<E&&!b.get(T,u)&&S[3]<m;)S[3]++,T++;if(T===E||S[3]>=m)return NaN;for(;T<E&&b.get(T,u)&&S[4]<m;)S[4]++,T++;if(S[4]>=m)return NaN;const P=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(P-p)>=p?NaN:Pr.foundPatternCross(S)?Pr.centerFromEnd(S,T):NaN}handlePossibleCenter(i,u,m,p){const b=i[0]+i[1]+i[2]+i[3]+i[4];let E=Pr.centerFromEnd(i,m),S=this.crossCheckVertical(u,Math.floor(E),i[2],b);if(!isNaN(S)&&(E=this.crossCheckHorizontal(Math.floor(E),Math.floor(S),i[2],b),!isNaN(E)&&(!p||this.crossCheckDiagonal(Math.floor(S),Math.floor(E),i[2],b)))){const T=b/7;let P=!1;const B=this.possibleCenters;for(let $=0,K=B.length;$<K;$++){const ne=B[$];if(ne.aboutEquals(T,S,E)){B[$]=ne.combineEstimate(S,E,T),P=!0;break}}if(!P){const $=new Uo(E,S,T);B.push($),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint($)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let u=null;for(const m of this.possibleCenters)if(m.getCount()>=Pr.CENTER_QUORUM)if(u==null)u=m;else return this.hasSkipped=!0,Math.floor((Math.abs(u.getX()-m.getX())-Math.abs(u.getY()-m.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,u=0;const m=this.possibleCenters.length;for(const E of this.possibleCenters)E.getCount()>=Pr.CENTER_QUORUM&&(i++,u+=E.getEstimatedModuleSize());if(i<3)return!1;const p=u/m;let b=0;for(const E of this.possibleCenters)b+=Math.abs(E.getEstimatedModuleSize()-p);return b<=.05*u}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new se;const u=this.possibleCenters;let m;if(i>3){let p=0,b=0;for(const T of this.possibleCenters){const P=T.getEstimatedModuleSize();p+=P,b+=P*P}m=p/i;let E=Math.sqrt(b/i-m*m);u.sort((T,P)=>{const B=Math.abs(P.getEstimatedModuleSize()-m),$=Math.abs(T.getEstimatedModuleSize()-m);return B<$?-1:B>$?1:0});const S=Math.max(.2*m,E);for(let T=0;T<u.length&&u.length>3;T++){const P=u[T];Math.abs(P.getEstimatedModuleSize()-m)>S&&(u.splice(T,1),T--)}}if(u.length>3){let p=0;for(const b of u)p+=b.getEstimatedModuleSize();m=p/u.length,u.sort((b,E)=>{if(E.getCount()===b.getCount()){const S=Math.abs(E.getEstimatedModuleSize()-m),T=Math.abs(b.getEstimatedModuleSize()-m);return S<T?1:S>T?-1:0}else return E.getCount()-b.getCount()}),u.splice(3)}return[u[0],u[1],u[2]]}}Pr.CENTER_QUORUM=2,Pr.MIN_SKIP=3,Pr.MAX_MODULES=57;class cs{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(j.NEED_RESULT_POINT_CALLBACK);const m=new Pr(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(m)}processFinderPatternInfo(i){const u=i.getTopLeft(),m=i.getTopRight(),p=i.getBottomLeft(),b=this.calculateModuleSize(u,m,p);if(b<1)throw new se("No pattern found in proccess finder.");const E=cs.computeDimension(u,m,p,b),S=mt.getProvisionalVersionForDimension(E),T=S.getDimensionForVersion()-7;let P=null;if(S.getAlignmentPatternCenters().length>0){const ne=m.getX()-u.getX()+p.getX(),ce=m.getY()-u.getY()+p.getY(),de=1-3/T,we=Math.floor(u.getX()+de*(ne-u.getX())),De=Math.floor(u.getY()+de*(ce-u.getY()));for(let Je=4;Je<=16;Je<<=1)try{P=this.findAlignmentInRegion(b,we,De,Je);break}catch(Ke){if(!(Ke instanceof se))throw Ke}}const B=cs.createTransform(u,m,p,P,E),$=cs.sampleGrid(this.image,B,E);let K;return P===null?K=[p,u,m]:K=[p,u,m,P],new st($,K)}static createTransform(i,u,m,p,b){const E=b-3.5;let S,T,P,B;return p!==null?(S=p.getX(),T=p.getY(),P=E-3,B=P):(S=u.getX()-i.getX()+m.getX(),T=u.getY()-i.getY()+m.getY(),P=E,B=E),xt.quadrilateralToQuadrilateral(3.5,3.5,E,3.5,P,B,3.5,E,i.getX(),i.getY(),u.getX(),u.getY(),S,T,m.getX(),m.getY())}static sampleGrid(i,u,m){return Dr.getInstance().sampleGridWithTransform(i,m,m,u)}static computeDimension(i,u,m,p){const b=lt.round(Qe.distance(i,u)/p),E=lt.round(Qe.distance(i,m)/p);let S=Math.floor((b+E)/2)+7;switch(S&3){case 0:S++;break;case 2:S--;break;case 3:throw new se("Dimensions could be not found.")}return S}calculateModuleSize(i,u,m){return(this.calculateModuleSizeOneWay(i,u)+this.calculateModuleSizeOneWay(i,m))/2}calculateModuleSizeOneWay(i,u){const m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(u.getX()),Math.floor(u.getY())),p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(u.getX()),Math.floor(u.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(m)?p/7:isNaN(p)?m/7:(m+p)/14}sizeOfBlackWhiteBlackRunBothWays(i,u,m,p){let b=this.sizeOfBlackWhiteBlackRun(i,u,m,p),E=1,S=i-(m-i);S<0?(E=i/(i-S),S=0):S>=this.image.getWidth()&&(E=(this.image.getWidth()-1-i)/(S-i),S=this.image.getWidth()-1);let T=Math.floor(u-(p-u)*E);return E=1,T<0?(E=u/(u-T),T=0):T>=this.image.getHeight()&&(E=(this.image.getHeight()-1-u)/(T-u),T=this.image.getHeight()-1),S=Math.floor(i+(S-i)*E),b+=this.sizeOfBlackWhiteBlackRun(i,u,S,T),b-1}sizeOfBlackWhiteBlackRun(i,u,m,p){const b=Math.abs(p-u)>Math.abs(m-i);if(b){let ne=i;i=u,u=ne,ne=m,m=p,p=ne}const E=Math.abs(m-i),S=Math.abs(p-u);let T=-E/2;const P=i<m?1:-1,B=u<p?1:-1;let $=0;const K=m+P;for(let ne=i,ce=u;ne!==K;ne+=P){const de=b?ce:ne,we=b?ne:ce;if($===1===this.image.get(de,we)){if($===2)return lt.distance(ne,ce,i,u);$++}if(T+=S,T>0){if(ce===p)break;ce+=B,T-=E}}return $===2?lt.distance(m+P,p,i,u):NaN}findAlignmentInRegion(i,u,m,p){const b=Math.floor(p*i),E=Math.max(0,u-b),S=Math.min(this.image.getWidth()-1,u+b);if(S-E<i*3)throw new se("Alignment top exceeds estimated module size.");const T=Math.max(0,m-b),P=Math.min(this.image.getHeight()-1,m+b);if(P-T<i*3)throw new se("Alignment bottom exceeds estimated module size.");return new Aa(this.image,E,T,S-E,P-T,i,this.resultPointCallback).find()}}class Us{constructor(){this.decoder=new g1}getDecoder(){return this.decoder}decode(i,u){let m,p;if(u!=null&&u.get(j.PURE_BARCODE)!==void 0){const T=Us.extractPureBits(i.getBlackMatrix());m=this.decoder.decodeBitMatrix(T,u),p=Us.NO_POINTS}else{const T=new cs(i.getBlackMatrix()).detect(u);m=this.decoder.decodeBitMatrix(T.getBits(),u),p=T.getPoints()}m.getOther()instanceof Vf&&m.getOther().applyMirroredCorrection(p);const b=new ue(m.getText(),m.getRawBytes(),void 0,p,le.QR_CODE,void 0),E=m.getByteSegments();E!==null&&b.putMetadata(ze.BYTE_SEGMENTS,E);const S=m.getECLevel();return S!==null&&b.putMetadata(ze.ERROR_CORRECTION_LEVEL,S),m.hasStructuredAppend()&&(b.putMetadata(ze.STRUCTURED_APPEND_SEQUENCE,m.getStructuredAppendSequenceNumber()),b.putMetadata(ze.STRUCTURED_APPEND_PARITY,m.getStructuredAppendParity())),b}reset(){}static extractPureBits(i){const u=i.getTopLeftOnBit(),m=i.getBottomRightOnBit();if(u===null||m===null)throw new se;const p=this.moduleSize(u,i);let b=u[1],E=m[1],S=u[0],T=m[0];if(S>=T||b>=E)throw new se;if(E-b!==T-S&&(T=S+(E-b),T>=i.getWidth()))throw new se;const P=Math.round((T-S+1)/p),B=Math.round((E-b+1)/p);if(P<=0||B<=0)throw new se;if(B!==P)throw new se;const $=Math.floor(p/2);b+=$,S+=$;const K=S+Math.floor((P-1)*p)-T;if(K>0){if(K>$)throw new se;S-=K}const ne=b+Math.floor((B-1)*p)-E;if(ne>0){if(ne>$)throw new se;b-=ne}const ce=new pe(P,B);for(let de=0;de<B;de++){const we=b+Math.floor(de*p);for(let De=0;De<P;De++)i.get(S+Math.floor(De*p),we)&&ce.set(De,de)}return ce}static moduleSize(i,u){const m=u.getHeight(),p=u.getWidth();let b=i[0],E=i[1],S=!0,T=0;for(;b<p&&E<m;){if(S!==u.get(b,E)){if(++T===5)break;S=!S}b++,E++}if(b===p||E===m)throw new se;return(b-i[0])/7}}Us.NO_POINTS=new Array;class wt{PDF417Common(){}static getBitCountSum(i){return lt.sum(i)}static toIntArray(i){if(i==null||!i.length)return wt.EMPTY_INT_ARRAY;const u=new Int32Array(i.length);let m=0;for(const p of i)u[m++]=p;return u}static getCodeword(i){const u=U.binarySearch(wt.SYMBOL_TABLE,i&262143);return u<0?-1:(wt.CODEWORD_TABLE[u]-1)%wt.NUMBER_OF_CODEWORDS}}wt.NUMBER_OF_CODEWORDS=929,wt.MAX_CODEWORDS_IN_BARCODE=wt.NUMBER_OF_CODEWORDS-1,wt.MIN_ROWS_IN_BARCODE=3,wt.MAX_ROWS_IN_BARCODE=90,wt.MODULES_IN_CODEWORD=17,wt.MODULES_IN_STOP_PATTERN=18,wt.BARS_IN_MODULE=8,wt.EMPTY_INT_ARRAY=new Int32Array([]),wt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),wt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Hf{constructor(i,u){this.bits=i,this.points=u}getBits(){return this.bits}getPoints(){return this.points}}class Ot{static detectMultiple(i,u,m){let p=i.getBlackMatrix(),b=Ot.detect(m,p);return b.length||(p=p.clone(),p.rotate180(),b=Ot.detect(m,p)),new Hf(p,b)}static detect(i,u){const m=new Array;let p=0,b=0,E=!1;for(;p<u.getHeight();){const S=Ot.findVertices(u,p,b);if(S[0]==null&&S[3]==null){if(!E)break;E=!1,b=0;for(const T of m)T[1]!=null&&(p=Math.trunc(Math.max(p,T[1].getY()))),T[3]!=null&&(p=Math.max(p,Math.trunc(T[3].getY())));p+=Ot.ROW_STEP;continue}if(E=!0,m.push(S),!i)break;S[2]!=null?(b=Math.trunc(S[2].getX()),p=Math.trunc(S[2].getY())):(b=Math.trunc(S[4].getX()),p=Math.trunc(S[4].getY()))}return m}static findVertices(i,u,m){const p=i.getHeight(),b=i.getWidth(),E=new Array(8);return Ot.copyToResult(E,Ot.findRowsWithPattern(i,p,b,u,m,Ot.START_PATTERN),Ot.INDEXES_START_PATTERN),E[4]!=null&&(m=Math.trunc(E[4].getX()),u=Math.trunc(E[4].getY())),Ot.copyToResult(E,Ot.findRowsWithPattern(i,p,b,u,m,Ot.STOP_PATTERN),Ot.INDEXES_STOP_PATTERN),E}static copyToResult(i,u,m){for(let p=0;p<m.length;p++)i[m[p]]=u[p]}static findRowsWithPattern(i,u,m,p,b,E){const S=new Array(4);let T=!1;const P=new Int32Array(E.length);for(;p<u;p+=Ot.ROW_STEP){let $=Ot.findGuardPattern(i,b,p,m,!1,E,P);if($!=null){for(;p>0;){const K=Ot.findGuardPattern(i,b,--p,m,!1,E,P);if(K!=null)$=K;else{p++;break}}S[0]=new Qe($[0],p),S[1]=new Qe($[1],p),T=!0;break}}let B=p+1;if(T){let $=0,K=Int32Array.from([Math.trunc(S[0].getX()),Math.trunc(S[1].getX())]);for(;B<u;B++){const ne=Ot.findGuardPattern(i,K[0],B,m,!1,E,P);if(ne!=null&&Math.abs(K[0]-ne[0])<Ot.MAX_PATTERN_DRIFT&&Math.abs(K[1]-ne[1])<Ot.MAX_PATTERN_DRIFT)K=ne,$=0;else{if($>Ot.SKIPPED_ROW_COUNT_MAX)break;$++}}B-=$+1,S[2]=new Qe(K[0],B),S[3]=new Qe(K[1],B)}return B-p<Ot.BARCODE_MIN_HEIGHT&&U.fill(S,null),S}static findGuardPattern(i,u,m,p,b,E,S){U.fillWithin(S,0,S.length,0);let T=u,P=0;for(;i.get(T,m)&&T>0&&P++<Ot.MAX_PIXEL_DRIFT;)T--;let B=T,$=0,K=E.length;for(let ne=b;B<p;B++)if(i.get(B,m)!==ne)S[$]++;else{if($===K-1){if(Ot.patternMatchVariance(S,E,Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE)return new Int32Array([T,B]);T+=S[0]+S[1],k.arraycopy(S,2,S,0,$-1),S[$-1]=0,S[$]=0,$--}else $++;S[$]=1,ne=!ne}return $===K-1&&Ot.patternMatchVariance(S,E,Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE?new Int32Array([T,B-1]):null}static patternMatchVariance(i,u,m){let p=i.length,b=0,E=0;for(let P=0;P<p;P++)b+=i[P],E+=u[P];if(b<E)return 1/0;let S=b/E;m*=S;let T=0;for(let P=0;P<p;P++){let B=i[P],$=u[P]*S,K=B>$?B-$:$-B;if(K>m)return 1/0;T+=K}return T/b}}Ot.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ot.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ot.MAX_AVG_VARIANCE=.42,Ot.MAX_INDIVIDUAL_VARIANCE=.8,Ot.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ot.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ot.MAX_PIXEL_DRIFT=3,Ot.MAX_PATTERN_DRIFT=5,Ot.SKIPPED_ROW_COUNT_MAX=25,Ot.ROW_STEP=5,Ot.BARCODE_MIN_HEIGHT=10;class wr{constructor(i,u){if(u.length===0)throw new w;this.field=i;let m=u.length;if(m>1&&u[0]===0){let p=1;for(;p<m&&u[p]===0;)p++;p===m?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(m-p),k.arraycopy(u,p,this.coefficients,0,this.coefficients.length))}else this.coefficients=u}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let p=0;for(let b of this.coefficients)p=this.field.add(p,b);return p}let u=this.coefficients[0],m=this.coefficients.length;for(let p=1;p<m;p++)u=this.field.add(this.field.multiply(i,u),this.coefficients[p]);return u}add(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let u=this.coefficients,m=i.coefficients;if(u.length>m.length){let E=u;u=m,m=E}let p=new Int32Array(m.length),b=m.length-u.length;k.arraycopy(m,0,p,0,b);for(let E=b;E<m.length;E++)p[E]=this.field.add(u[E-b],m[E]);return new wr(this.field,p)}subtract(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof wr?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new wr(this.field,new Int32Array([0]));let u=this.coefficients,m=u.length,p=i.coefficients,b=p.length,E=new Int32Array(m+b-1);for(let S=0;S<m;S++){let T=u[S];for(let P=0;P<b;P++)E[S+P]=this.field.add(E[S+P],this.field.multiply(T,p[P]))}return new wr(this.field,E)}negative(){let i=this.coefficients.length,u=new Int32Array(i);for(let m=0;m<i;m++)u[m]=this.field.subtract(0,this.coefficients[m]);return new wr(this.field,u)}multiplyScalar(i){if(i===0)return new wr(this.field,new Int32Array([0]));if(i===1)return this;let u=this.coefficients.length,m=new Int32Array(u);for(let p=0;p<u;p++)m[p]=this.field.multiply(this.coefficients[p],i);return new wr(this.field,m)}multiplyByMonomial(i,u){if(i<0)throw new w;if(u===0)return new wr(this.field,new Int32Array([0]));let m=this.coefficients.length,p=new Int32Array(m+i);for(let b=0;b<m;b++)p[b]=this.field.multiply(this.coefficients[b],u);return new wr(this.field,p)}toString(){let i=new he;for(let u=this.getDegree();u>=0;u--){let m=this.getCoefficient(u);m!==0&&(m<0?(i.append(" - "),m=-m):i.length()>0&&i.append(" + "),(u===0||m!==1)&&i.append(m),u!==0&&(u===1?i.append("x"):(i.append("x^"),i.append(u))))}return i.toString()}}class vd{add(i,u){return(i+u)%this.modulus}subtract(i,u){return(this.modulus+i-u)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}inverse(i){if(i===0)throw new Le;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,u){return i===0||u===0?0:this.expTable[(this.logTable[i]+this.logTable[u])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Rl extends vd{constructor(i,u){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let m=1;for(let p=0;p<i;p++)this.expTable[p]=m,m=m*u%i;for(let p=0;p<i-1;p++)this.logTable[this.expTable[p]]=p;this.zero=new wr(this,new Int32Array([0])),this.one=new wr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,u){if(i<0)throw new w;if(u===0)return this.zero;let m=new Int32Array(i+1);return m[0]=u,new wr(this,m)}}Rl.PDF417_GF=new Rl(wt.NUMBER_OF_CODEWORDS,3);class js{constructor(){this.field=Rl.PDF417_GF}decode(i,u,m){let p=new wr(this.field,i),b=new Int32Array(u),E=!1;for(let ce=u;ce>0;ce--){let de=p.evaluateAt(this.field.exp(ce));b[u-ce]=de,de!==0&&(E=!0)}if(!E)return 0;let S=this.field.getOne();if(m!=null)for(const ce of m){let de=this.field.exp(i.length-1-ce),we=new wr(this.field,new Int32Array([this.field.subtract(0,de),1]));S=S.multiply(we)}let T=new wr(this.field,b),P=this.runEuclideanAlgorithm(this.field.buildMonomial(u,1),T,u),B=P[0],$=P[1],K=this.findErrorLocations(B),ne=this.findErrorMagnitudes($,B,K);for(let ce=0;ce<K.length;ce++){let de=i.length-1-this.field.log(K[ce]);if(de<0)throw _.getChecksumInstance();i[de]=this.field.subtract(i[de],ne[ce])}return K.length}runEuclideanAlgorithm(i,u,m){if(i.getDegree()<u.getDegree()){let K=i;i=u,u=K}let p=i,b=u,E=this.field.getZero(),S=this.field.getOne();for(;b.getDegree()>=Math.round(m/2);){let K=p,ne=E;if(p=b,E=S,p.isZero())throw _.getChecksumInstance();b=K;let ce=this.field.getZero(),de=p.getCoefficient(p.getDegree()),we=this.field.inverse(de);for(;b.getDegree()>=p.getDegree()&&!b.isZero();){let De=b.getDegree()-p.getDegree(),Je=this.field.multiply(b.getCoefficient(b.getDegree()),we);ce=ce.add(this.field.buildMonomial(De,Je)),b=b.subtract(p.multiplyByMonomial(De,Je))}S=ce.multiply(E).subtract(ne).negative()}let T=S.getCoefficient(0);if(T===0)throw _.getChecksumInstance();let P=this.field.inverse(T),B=S.multiply(P),$=b.multiply(P);return[B,$]}findErrorLocations(i){let u=i.getDegree(),m=new Int32Array(u),p=0;for(let b=1;b<this.field.getSize()&&p<u;b++)i.evaluateAt(b)===0&&(m[p]=this.field.inverse(b),p++);if(p!==u)throw _.getChecksumInstance();return m}findErrorMagnitudes(i,u,m){let p=u.getDegree(),b=new Int32Array(p);for(let P=1;P<=p;P++)b[p-P]=this.field.multiply(P,u.getCoefficient(P));let E=new wr(this.field,b),S=m.length,T=new Int32Array(S);for(let P=0;P<S;P++){let B=this.field.inverse(m[P]),$=this.field.subtract(0,i.evaluateAt(B)),K=this.field.inverse(E.evaluateAt(B));T[P]=this.field.multiply($,K)}return T}}class zs{constructor(i,u,m,p,b){i instanceof zs?this.constructor_2(i):this.constructor_1(i,u,m,p,b)}constructor_1(i,u,m,p,b){const E=u==null||m==null,S=p==null||b==null;if(E&&S)throw new se;E?(u=new Qe(0,p.getY()),m=new Qe(0,b.getY())):S&&(p=new Qe(i.getWidth()-1,u.getY()),b=new Qe(i.getWidth()-1,m.getY())),this.image=i,this.topLeft=u,this.bottomLeft=m,this.topRight=p,this.bottomRight=b,this.minX=Math.trunc(Math.min(u.getX(),m.getX())),this.maxX=Math.trunc(Math.max(p.getX(),b.getX())),this.minY=Math.trunc(Math.min(u.getY(),p.getY())),this.maxY=Math.trunc(Math.max(m.getY(),b.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,u){return i==null?u:u==null?i:new zs(i.image,i.topLeft,i.bottomLeft,u.topRight,u.bottomRight)}addMissingRows(i,u,m){let p=this.topLeft,b=this.bottomLeft,E=this.topRight,S=this.bottomRight;if(i>0){let T=m?this.topLeft:this.topRight,P=Math.trunc(T.getY()-i);P<0&&(P=0);let B=new Qe(T.getX(),P);m?p=B:E=B}if(u>0){let T=m?this.bottomLeft:this.bottomRight,P=Math.trunc(T.getY()+u);P>=this.image.getHeight()&&(P=this.image.getHeight()-1);let B=new Qe(T.getX(),P);m?b=B:S=B}return new zs(this.image,p,b,E,S)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Uc{constructor(i,u,m,p){this.columnCount=i,this.errorCorrectionLevel=p,this.rowCountUpperPart=u,this.rowCountLowerPart=m,this.rowCount=u+m}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Li{constructor(){this.buffer=""}static form(i,u){let m=-1;function p(E,S,T,P,B,$){if(E==="%%")return"%";if(u[++m]===void 0)return;E=P?parseInt(P.substr(1)):void 0;let K=B?parseInt(B.substr(1)):void 0,ne;switch($){case"s":ne=u[m];break;case"c":ne=u[m][0];break;case"f":ne=parseFloat(u[m]).toFixed(E);break;case"p":ne=parseFloat(u[m]).toPrecision(E);break;case"e":ne=parseFloat(u[m]).toExponential(E);break;case"x":ne=parseInt(u[m]).toString(K||16);break;case"d":ne=parseFloat(parseInt(u[m],K||10).toPrecision(E)).toFixed(0);break}ne=typeof ne=="object"?JSON.stringify(ne):(+ne).toString(K);let ce=parseInt(T),de=T&&T[0]+""=="0"?"0":" ";for(;ne.length<ce;)ne=S!==void 0?ne+de:de+ne;return ne}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(b,p)}format(i,...u){this.buffer+=Li.form(i,u)}toString(){return this.buffer}}class cl{constructor(i){this.boundingBox=new zs(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let u=this.getCodeword(i);if(u!=null)return u;for(let m=1;m<cl.MAX_NEARBY_DISTANCE;m++){let p=this.imageRowToCodewordIndex(i)-m;if(p>=0&&(u=this.codewords[p],u!=null)||(p=this.imageRowToCodewordIndex(i)+m,p<this.codewords.length&&(u=this.codewords[p],u!=null)))return u}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,u){this.codewords[this.imageRowToCodewordIndex(i)]=u}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Li;let u=0;for(const m of this.codewords){if(m==null){i.format("%3d:    |   %n",u++);continue}i.format("%3d: %3d|%3d%n",u++,m.getRowNumber(),m.getValue())}return i.toString()}}cl.MAX_NEARBY_DISTANCE=5;class ul{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let u=this.values.get(i);u==null&&(u=0),u++,this.values.set(i,u)}getValue(){let i=-1,u=new Array;for(const[m,p]of this.values.entries()){const b={getKey:()=>m,getValue:()=>p};b.getValue()>i?(i=b.getValue(),u=[],u.push(b.getKey())):b.getValue()===i&&u.push(b.getKey())}return wt.toIntArray(u)}getConfidence(i){return this.values.get(i)}}class Ed extends cl{constructor(i,u){super(i),this._isLeft=u}setRowNumbers(){for(let i of this.getCodewords())i?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let u=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(u,i);let m=this.getBoundingBox(),p=this._isLeft?m.getTopLeft():m.getTopRight(),b=this._isLeft?m.getBottomLeft():m.getBottomRight(),E=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=this.imageRowToCodewordIndex(Math.trunc(b.getY())),T=-1,P=1,B=0;for(let $=E;$<S;$++){if(u[$]==null)continue;let K=u[$],ne=K.getRowNumber()-T;if(ne===0)B++;else if(ne===1)P=Math.max(P,B),B=1,T=K.getRowNumber();else if(ne<0||K.getRowNumber()>=i.getRowCount()||ne>$)u[$]=null;else{let ce;P>2?ce=(P-2)*ne:ce=ne;let de=ce>=$;for(let we=1;we<=ce&&!de;we++)de=u[$-we]!=null;de?u[$]=null:(T=K.getRowNumber(),B=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let u=new Int32Array(i.getRowCount());for(let m of this.getCodewords())if(m!=null){let p=m.getRowNumber();if(p>=u.length)continue;u[p]++}return u}adjustIncompleteIndicatorColumnRowNumbers(i){let u=this.getBoundingBox(),m=this._isLeft?u.getTopLeft():u.getTopRight(),p=this._isLeft?u.getBottomLeft():u.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(m.getY())),E=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=this.getCodewords(),T=-1;for(let P=b;P<E;P++){if(S[P]==null)continue;let B=S[P];B.setRowNumberAsRowIndicatorColumn();let $=B.getRowNumber()-T;$===0||($===1?T=B.getRowNumber():B.getRowNumber()>=i.getRowCount()?S[P]=null:T=B.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),u=new ul,m=new ul,p=new ul,b=new ul;for(let S of i){if(S==null)continue;S.setRowNumberAsRowIndicatorColumn();let T=S.getValue()%30,P=S.getRowNumber();switch(this._isLeft||(P+=2),P%3){case 0:m.setValue(T*3+1);break;case 1:b.setValue(T/3),p.setValue(T%3);break;case 2:u.setValue(T+1);break}}if(u.getValue().length===0||m.getValue().length===0||p.getValue().length===0||b.getValue().length===0||u.getValue()[0]<1||m.getValue()[0]+p.getValue()[0]<wt.MIN_ROWS_IN_BARCODE||m.getValue()[0]+p.getValue()[0]>wt.MAX_ROWS_IN_BARCODE)return null;let E=new Uc(u.getValue()[0],m.getValue()[0],p.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(i,E),E}removeIncorrectCodewords(i,u){for(let m=0;m<i.length;m++){let p=i[m];if(i[m]==null)continue;let b=p.getValue()%30,E=p.getRowNumber();if(E>u.getRowCount()){i[m]=null;continue}switch(this._isLeft||(E+=2),E%3){case 0:b*3+1!==u.getRowCountUpperPart()&&(i[m]=null);break;case 1:(Math.trunc(b/3)!==u.getErrorCorrectionLevel()||b%3!==u.getRowCountLowerPart())&&(i[m]=null);break;case 2:b+1!==u.getColumnCount()&&(i[m]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class bn{constructor(i,u){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=u,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=wt.MAX_CODEWORDS_IN_BARCODE,u;do u=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<u);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let u=1;u<this.barcodeColumnCount+1;u++){let m=this.detectionResultColumns[u].getCodewords();for(let p=0;p<m.length;p++)m[p]!=null&&(m[p].hasValidRowNumber()||this.adjustRowNumbers(u,p,m))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<i.length;m++)if(i[m]!=null&&u[m]!=null&&i[m].getRowNumber()===u[m].getRowNumber())for(let p=1;p<=this.barcodeColumnCount;p++){let b=this.detectionResultColumns[p].getCodewords()[m];b!=null&&(b.setRowNumber(i[m].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[p].getCodewords()[m]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,u=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<u.length;m++){if(u[m]==null)continue;let p=u[m].getRowNumber(),b=0;for(let E=this.barcodeColumnCount+1;E>0&&b<this.ADJUST_ROW_NUMBER_SKIP;E--){let S=this.detectionResultColumns[E].getCodewords()[m];S!=null&&(b=bn.adjustRowNumberIfValid(p,b,S),S.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,u=this.detectionResultColumns[0].getCodewords();for(let m=0;m<u.length;m++){if(u[m]==null)continue;let p=u[m].getRowNumber(),b=0;for(let E=1;E<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;E++){let S=this.detectionResultColumns[E].getCodewords()[m];S!=null&&(b=bn.adjustRowNumberIfValid(p,b,S),S.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,u,m){return m==null||m.hasValidRowNumber()||(m.isValidRowNumber(i)?(m.setRowNumber(i),u=0):++u),u}adjustRowNumbers(i,u,m){if(!this.detectionResultColumns[i-1])return;let p=m[u],b=this.detectionResultColumns[i-1].getCodewords(),E=b;this.detectionResultColumns[i+1]!=null&&(E=this.detectionResultColumns[i+1].getCodewords());let S=new Array(14);S[2]=b[u],S[3]=E[u],u>0&&(S[0]=m[u-1],S[4]=b[u-1],S[5]=E[u-1]),u>1&&(S[8]=m[u-2],S[10]=b[u-2],S[11]=E[u-2]),u<m.length-1&&(S[1]=m[u+1],S[6]=b[u+1],S[7]=E[u+1]),u<m.length-2&&(S[9]=m[u+2],S[12]=b[u+2],S[13]=E[u+2]);for(let T of S)if(bn.adjustRowNumber(p,T))return}static adjustRowNumber(i,u){return u==null?!1:u.hasValidRowNumber()&&u.getBucket()===i.getBucket()?(i.setRowNumber(u.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,u){this.detectionResultColumns[i]=u}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let u=new Li;for(let m=0;m<i.getCodewords().length;m++){u.format("CW %3d:",m);for(let p=0;p<this.barcodeColumnCount+2;p++){if(this.detectionResultColumns[p]==null){u.format("    |   ");continue}let b=this.detectionResultColumns[p].getCodewords()[m];if(b==null){u.format("    |   ");continue}u.format(" %3d|%3d",b.getRowNumber(),b.getValue())}u.format("%n")}return u.toString()}}class qa{constructor(i,u,m,p){this.rowNumber=qa.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(u),this.bucket=Math.trunc(m),this.value=Math.trunc(p)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==qa.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}qa.BARCODE_ROW_UNKNOWN=-1;class Dn{static initialize(){for(let i=0;i<wt.SYMBOL_TABLE.length;i++){let u=wt.SYMBOL_TABLE[i],m=u&1;for(let p=0;p<wt.BARS_IN_MODULE;p++){let b=0;for(;(u&1)===m;)b+=1,u>>=1;m=u&1,Dn.RATIOS_TABLE[i]||(Dn.RATIOS_TABLE[i]=new Array(wt.BARS_IN_MODULE)),Dn.RATIOS_TABLE[i][wt.BARS_IN_MODULE-p-1]=Math.fround(b/wt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let u=Dn.getDecodedCodewordValue(Dn.sampleBitCounts(i));return u!==-1?u:Dn.getClosestDecodedValue(i)}static sampleBitCounts(i){let u=lt.sum(i),m=new Int32Array(wt.BARS_IN_MODULE),p=0,b=0;for(let E=0;E<wt.MODULES_IN_CODEWORD;E++){let S=u/(2*wt.MODULES_IN_CODEWORD)+E*u/wt.MODULES_IN_CODEWORD;b+i[p]<=S&&(b+=i[p],p++),m[p]++}return m}static getDecodedCodewordValue(i){let u=Dn.getBitValue(i);return wt.getCodeword(u)===-1?-1:u}static getBitValue(i){let u=0;for(let m=0;m<i.length;m++)for(let p=0;p<i[m];p++)u=u<<1|(m%2===0?1:0);return Math.trunc(u)}static getClosestDecodedValue(i){let u=lt.sum(i),m=new Array(wt.BARS_IN_MODULE);if(u>1)for(let E=0;E<m.length;E++)m[E]=Math.fround(i[E]/u);let p=vt.MAX_VALUE,b=-1;this.bSymbolTableReady||Dn.initialize();for(let E=0;E<Dn.RATIOS_TABLE.length;E++){let S=0,T=Dn.RATIOS_TABLE[E];for(let P=0;P<wt.BARS_IN_MODULE;P++){let B=Math.fround(T[P]-m[P]);if(S+=Math.fround(B*B),S>=p)break}S<p&&(p=S,b=wt.SYMBOL_TABLE[E])}return b}}Dn.bSymbolTableReady=!1,Dn.RATIOS_TABLE=new Array(wt.SYMBOL_TABLE.length).map(q=>new Array(wt.BARS_IN_MODULE));class Bi{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class qf{static parseLong(i,u=void 0){return parseInt(i,u)}}class jc extends x{}jc.kind="NullPointerException";class wd{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,u,m){if(i==null)throw new jc;if(u<0||u>i.length||m<0||u+m>i.length||u+m<0)throw new M;if(m===0)return;for(let p=0;p<m;p++)this.write(i[u+p])}flush(){}close(){}}class jo extends x{}class zc extends wd{constructor(i=32){if(super(),this.count=0,i<0)throw new w("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let m=this.buf.length<<1;if(m-i<0&&(m=i),m<0){if(i<0)throw new jo;m=R.MAX_VALUE}this.buf=U.copyOfUint8Array(this.buf,m)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,u,m){if(u<0||u>i.length||m<0||u+m-i.length>0)throw new M;this.ensureCapacity(this.count+m),k.arraycopy(i,u,this.buf,this.count,m),this.count+=m}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return U.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var sr;(function(q){q[q.ALPHA=0]="ALPHA",q[q.LOWER=1]="LOWER",q[q.MIXED=2]="MIXED",q[q.PUNCT=3]="PUNCT",q[q.ALPHA_SHIFT=4]="ALPHA_SHIFT",q[q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(sr||(sr={}));function $f(){if(typeof window<"u")return window.BigInt||null;if(typeof rh<"u")return rh.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Vc;function dl(q){if(typeof Vc>"u"&&(Vc=$f()),Vc===null)throw new Error("BigInt is not supported!");return Vc(q)}function Nd(){let q=[];q[0]=dl(1);let i=dl(900);q[1]=i;for(let u=2;u<16;u++)q[u]=q[u-1]*i;return q}class Me{static decode(i,u){let m=new he(""),p=V.ISO8859_1;m.enableDecoding(p);let b=1,E=i[b++],S=new Bi;for(;b<i[0];){switch(E){case Me.TEXT_COMPACTION_MODE_LATCH:b=Me.textCompaction(i,b,m);break;case Me.BYTE_COMPACTION_MODE_LATCH:case Me.BYTE_COMPACTION_MODE_LATCH_6:b=Me.byteCompaction(E,i,p,b,m);break;case Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(i[b++]);break;case Me.NUMERIC_COMPACTION_MODE_LATCH:b=Me.numericCompaction(i,b,m);break;case Me.ECI_CHARSET:V.getCharacterSetECIByValue(i[b++]);break;case Me.ECI_GENERAL_PURPOSE:b+=2;break;case Me.ECI_USER_DEFINED:b++;break;case Me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=Me.decodeMacroBlock(i,b,S);break;case Me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Me.MACRO_PDF417_TERMINATOR:throw new L;default:b--,b=Me.textCompaction(i,b,m);break}if(b<i.length)E=i[b++];else throw L.getFormatInstance()}if(m.length()===0)throw L.getFormatInstance();let T=new ve(null,m.toString(),null,u);return T.setOther(S),T}static decodeMacroBlock(i,u,m){if(u+Me.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw L.getFormatInstance();let p=new Int32Array(Me.NUMBER_OF_SEQUENCE_CODEWORDS);for(let S=0;S<Me.NUMBER_OF_SEQUENCE_CODEWORDS;S++,u++)p[S]=i[u];m.setSegmentIndex(R.parseInt(Me.decodeBase900toBase10(p,Me.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new he;u=Me.textCompaction(i,u,b),m.setFileId(b.toString());let E=-1;for(i[u]===Me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(E=u+1);u<i[0];)switch(i[u]){case Me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(u++,i[u]){case Me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let S=new he;u=Me.textCompaction(i,u+1,S),m.setFileName(S.toString());break;case Me.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let T=new he;u=Me.textCompaction(i,u+1,T),m.setSender(T.toString());break;case Me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let P=new he;u=Me.textCompaction(i,u+1,P),m.setAddressee(P.toString());break;case Me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let B=new he;u=Me.numericCompaction(i,u+1,B),m.setSegmentCount(R.parseInt(B.toString()));break;case Me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let $=new he;u=Me.numericCompaction(i,u+1,$),m.setTimestamp(qf.parseLong($.toString()));break;case Me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let K=new he;u=Me.numericCompaction(i,u+1,K),m.setChecksum(R.parseInt(K.toString()));break;case Me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ne=new he;u=Me.numericCompaction(i,u+1,ne),m.setFileSize(qf.parseLong(ne.toString()));break;default:throw L.getFormatInstance()}break;case Me.MACRO_PDF417_TERMINATOR:u++,m.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(E!==-1){let S=u-E;m.isLastSegment()&&S--,m.setOptionalData(U.copyOfRange(i,E,E+S))}return u}static textCompaction(i,u,m){let p=new Int32Array((i[0]-u)*2),b=new Int32Array((i[0]-u)*2),E=0,S=!1;for(;u<i[0]&&!S;){let T=i[u++];if(T<Me.TEXT_COMPACTION_MODE_LATCH)p[E]=T/30,p[E+1]=T%30,E+=2;else switch(T){case Me.TEXT_COMPACTION_MODE_LATCH:p[E++]=Me.TEXT_COMPACTION_MODE_LATCH;break;case Me.BYTE_COMPACTION_MODE_LATCH:case Me.BYTE_COMPACTION_MODE_LATCH_6:case Me.NUMERIC_COMPACTION_MODE_LATCH:case Me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Me.MACRO_PDF417_TERMINATOR:u--,S=!0;break;case Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p[E]=Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,T=i[u++],b[E]=T,E++;break}}return Me.decodeTextCompaction(p,b,E,m),u}static decodeTextCompaction(i,u,m,p){let b=sr.ALPHA,E=sr.ALPHA,S=0;for(;S<m;){let T=i[S],P="";switch(b){case sr.ALPHA:if(T<26)P=String.fromCharCode(65+T);else switch(T){case 26:P=" ";break;case Me.LL:b=sr.LOWER;break;case Me.ML:b=sr.MIXED;break;case Me.PS:E=b,b=sr.PUNCT_SHIFT;break;case Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[S]);break;case Me.TEXT_COMPACTION_MODE_LATCH:b=sr.ALPHA;break}break;case sr.LOWER:if(T<26)P=String.fromCharCode(97+T);else switch(T){case 26:P=" ";break;case Me.AS:E=b,b=sr.ALPHA_SHIFT;break;case Me.ML:b=sr.MIXED;break;case Me.PS:E=b,b=sr.PUNCT_SHIFT;break;case Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[S]);break;case Me.TEXT_COMPACTION_MODE_LATCH:b=sr.ALPHA;break}break;case sr.MIXED:if(T<Me.PL)P=Me.MIXED_CHARS[T];else switch(T){case Me.PL:b=sr.PUNCT;break;case 26:P=" ";break;case Me.LL:b=sr.LOWER;break;case Me.AL:b=sr.ALPHA;break;case Me.PS:E=b,b=sr.PUNCT_SHIFT;break;case Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[S]);break;case Me.TEXT_COMPACTION_MODE_LATCH:b=sr.ALPHA;break}break;case sr.PUNCT:if(T<Me.PAL)P=Me.PUNCT_CHARS[T];else switch(T){case Me.PAL:b=sr.ALPHA;break;case Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[S]);break;case Me.TEXT_COMPACTION_MODE_LATCH:b=sr.ALPHA;break}break;case sr.ALPHA_SHIFT:if(b=E,T<26)P=String.fromCharCode(65+T);else switch(T){case 26:P=" ";break;case Me.TEXT_COMPACTION_MODE_LATCH:b=sr.ALPHA;break}break;case sr.PUNCT_SHIFT:if(b=E,T<Me.PAL)P=Me.PUNCT_CHARS[T];else switch(T){case Me.PAL:b=sr.ALPHA;break;case Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(u[S]);break;case Me.TEXT_COMPACTION_MODE_LATCH:b=sr.ALPHA;break}break}P!==""&&p.append(P),S++}}static byteCompaction(i,u,m,p,b){let E=new zc,S=0,T=0,P=!1;switch(i){case Me.BYTE_COMPACTION_MODE_LATCH:let B=new Int32Array(6),$=u[p++];for(;p<u[0]&&!P;)switch(B[S++]=$,T=900*T+$,$=u[p++],$){case Me.TEXT_COMPACTION_MODE_LATCH:case Me.BYTE_COMPACTION_MODE_LATCH:case Me.NUMERIC_COMPACTION_MODE_LATCH:case Me.BYTE_COMPACTION_MODE_LATCH_6:case Me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Me.MACRO_PDF417_TERMINATOR:p--,P=!0;break;default:if(S%5===0&&S>0){for(let K=0;K<6;++K)E.write(Number(dl(T)>>dl(8*(5-K))));T=0,S=0}break}p===u[0]&&$<Me.TEXT_COMPACTION_MODE_LATCH&&(B[S++]=$);for(let K=0;K<S;K++)E.write(B[K]);break;case Me.BYTE_COMPACTION_MODE_LATCH_6:for(;p<u[0]&&!P;){let K=u[p++];if(K<Me.TEXT_COMPACTION_MODE_LATCH)S++,T=900*T+K;else switch(K){case Me.TEXT_COMPACTION_MODE_LATCH:case Me.BYTE_COMPACTION_MODE_LATCH:case Me.NUMERIC_COMPACTION_MODE_LATCH:case Me.BYTE_COMPACTION_MODE_LATCH_6:case Me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Me.MACRO_PDF417_TERMINATOR:p--,P=!0;break}if(S%5===0&&S>0){for(let ne=0;ne<6;++ne)E.write(Number(dl(T)>>dl(8*(5-ne))));T=0,S=0}}break}return b.append(Y.decode(E.toByteArray(),m)),p}static numericCompaction(i,u,m){let p=0,b=!1,E=new Int32Array(Me.MAX_NUMERIC_CODEWORDS);for(;u<i[0]&&!b;){let S=i[u++];if(u===i[0]&&(b=!0),S<Me.TEXT_COMPACTION_MODE_LATCH)E[p]=S,p++;else switch(S){case Me.TEXT_COMPACTION_MODE_LATCH:case Me.BYTE_COMPACTION_MODE_LATCH:case Me.BYTE_COMPACTION_MODE_LATCH_6:case Me.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Me.MACRO_PDF417_TERMINATOR:u--,b=!0;break}(p%Me.MAX_NUMERIC_CODEWORDS===0||S===Me.NUMERIC_COMPACTION_MODE_LATCH||b)&&p>0&&(m.append(Me.decodeBase900toBase10(E,p)),p=0)}return u}static decodeBase900toBase10(i,u){let m=dl(0);for(let b=0;b<u;b++)m+=Me.EXP900[u-b-1]*dl(i[b]);let p=m.toString();if(p.charAt(0)!=="1")throw new L;return p.substring(1)}}Me.TEXT_COMPACTION_MODE_LATCH=900,Me.BYTE_COMPACTION_MODE_LATCH=901,Me.NUMERIC_COMPACTION_MODE_LATCH=902,Me.BYTE_COMPACTION_MODE_LATCH_6=924,Me.ECI_USER_DEFINED=925,Me.ECI_GENERAL_PURPOSE=926,Me.ECI_CHARSET=927,Me.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Me.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Me.MACRO_PDF417_TERMINATOR=922,Me.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Me.MAX_NUMERIC_CODEWORDS=15,Me.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Me.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Me.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Me.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Me.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Me.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Me.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Me.PL=25,Me.LL=27,Me.AS=27,Me.ML=28,Me.AL=28,Me.PS=29,Me.PAL=29,Me.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Me.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Me.EXP900=$f()?Nd():[],Me.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Rt{constructor(){}static decode(i,u,m,p,b,E,S){let T=new zs(i,u,m,p,b),P=null,B=null,$;for(let ce=!0;;ce=!1){if(u!=null&&(P=Rt.getRowIndicatorColumn(i,T,u,!0,E,S)),p!=null&&(B=Rt.getRowIndicatorColumn(i,T,p,!1,E,S)),$=Rt.merge(P,B),$==null)throw se.getNotFoundInstance();let de=$.getBoundingBox();if(ce&&de!=null&&(de.getMinY()<T.getMinY()||de.getMaxY()>T.getMaxY()))T=de;else break}$.setBoundingBox(T);let K=$.getBarcodeColumnCount()+1;$.setDetectionResultColumn(0,P),$.setDetectionResultColumn(K,B);let ne=P!=null;for(let ce=1;ce<=K;ce++){let de=ne?ce:K-ce;if($.getDetectionResultColumn(de)!==void 0)continue;let we;de===0||de===K?we=new Ed(T,de===0):we=new cl(T),$.setDetectionResultColumn(de,we);let De=-1,Je=De;for(let Ke=T.getMinY();Ke<=T.getMaxY();Ke++){if(De=Rt.getStartColumn($,de,Ke,ne),De<0||De>T.getMaxX()){if(Je===-1)continue;De=Je}let $e=Rt.detectCodeword(i,T.getMinX(),T.getMaxX(),ne,De,Ke,E,S);$e!=null&&(we.setCodeword(Ke,$e),Je=De,E=Math.min(E,$e.getWidth()),S=Math.max(S,$e.getWidth()))}}return Rt.createDecoderResult($)}static merge(i,u){if(i==null&&u==null)return null;let m=Rt.getBarcodeMetadata(i,u);if(m==null)return null;let p=zs.merge(Rt.adjustBoundingBox(i),Rt.adjustBoundingBox(u));return new bn(m,p)}static adjustBoundingBox(i){if(i==null)return null;let u=i.getRowHeights();if(u==null)return null;let m=Rt.getMax(u),p=0;for(let S of u)if(p+=m-S,S>0)break;let b=i.getCodewords();for(let S=0;p>0&&b[S]==null;S++)p--;let E=0;for(let S=u.length-1;S>=0&&(E+=m-u[S],!(u[S]>0));S--);for(let S=b.length-1;E>0&&b[S]==null;S--)E--;return i.getBoundingBox().addMissingRows(p,E,i.isLeft())}static getMax(i){let u=-1;for(let m of i)u=Math.max(u,m);return u}static getBarcodeMetadata(i,u){let m;if(i==null||(m=i.getBarcodeMetadata())==null)return u==null?null:u.getBarcodeMetadata();let p;return u==null||(p=u.getBarcodeMetadata())==null?m:m.getColumnCount()!==p.getColumnCount()&&m.getErrorCorrectionLevel()!==p.getErrorCorrectionLevel()&&m.getRowCount()!==p.getRowCount()?null:m}static getRowIndicatorColumn(i,u,m,p,b,E){let S=new Ed(u,p);for(let T=0;T<2;T++){let P=T===0?1:-1,B=Math.trunc(Math.trunc(m.getX()));for(let $=Math.trunc(Math.trunc(m.getY()));$<=u.getMaxY()&&$>=u.getMinY();$+=P){let K=Rt.detectCodeword(i,0,i.getWidth(),p,B,$,b,E);K!=null&&(S.setCodeword($,K),p?B=K.getStartX():B=K.getEndX())}}return S}static adjustCodewordCount(i,u){let m=u[0][1],p=m.getValue(),b=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Rt.getNumberOfECCodeWords(i.getBarcodeECLevel());if(p.length===0){if(b<1||b>wt.MAX_CODEWORDS_IN_BARCODE)throw se.getNotFoundInstance();m.setValue(b)}else p[0]!==b&&m.setValue(b)}static createDecoderResult(i){let u=Rt.createBarcodeMatrix(i);Rt.adjustCodewordCount(i,u);let m=new Array,p=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),b=[],E=new Array;for(let T=0;T<i.getBarcodeRowCount();T++)for(let P=0;P<i.getBarcodeColumnCount();P++){let B=u[T][P+1].getValue(),$=T*i.getBarcodeColumnCount()+P;B.length===0?m.push($):B.length===1?p[$]=B[0]:(E.push($),b.push(B))}let S=new Array(b.length);for(let T=0;T<S.length;T++)S[T]=b[T];return Rt.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),p,wt.toIntArray(m),wt.toIntArray(E),S)}static createDecoderResultFromAmbiguousValues(i,u,m,p,b){let E=new Int32Array(p.length),S=100;for(;S-- >0;){for(let T=0;T<E.length;T++)u[p[T]]=b[T][E[T]];try{return Rt.decodeCodewords(u,i,m)}catch(T){if(!(T instanceof _))throw T}if(E.length===0)throw _.getChecksumInstance();for(let T=0;T<E.length;T++)if(E[T]<b[T].length-1){E[T]++;break}else if(E[T]=0,T===E.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(i){let u=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let p=0;p<u.length;p++)for(let b=0;b<u[p].length;b++)u[p][b]=new ul;let m=0;for(let p of i.getDetectionResultColumns()){if(p!=null){for(let b of p.getCodewords())if(b!=null){let E=b.getRowNumber();if(E>=0){if(E>=u.length)continue;u[E][m].setValue(b.getValue())}}}m++}return u}static isValidBarcodeColumn(i,u){return u>=0&&u<=i.getBarcodeColumnCount()+1}static getStartColumn(i,u,m,p){let b=p?1:-1,E=null;if(Rt.isValidBarcodeColumn(i,u-b)&&(E=i.getDetectionResultColumn(u-b).getCodeword(m)),E!=null)return p?E.getEndX():E.getStartX();if(E=i.getDetectionResultColumn(u).getCodewordNearby(m),E!=null)return p?E.getStartX():E.getEndX();if(Rt.isValidBarcodeColumn(i,u-b)&&(E=i.getDetectionResultColumn(u-b).getCodewordNearby(m)),E!=null)return p?E.getEndX():E.getStartX();let S=0;for(;Rt.isValidBarcodeColumn(i,u-b);){u-=b;for(let T of i.getDetectionResultColumn(u).getCodewords())if(T!=null)return(p?T.getEndX():T.getStartX())+b*S*(T.getEndX()-T.getStartX());S++}return p?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,u,m,p,b,E,S,T){b=Rt.adjustCodewordStartColumn(i,u,m,p,b,E);let P=Rt.getModuleBitCount(i,u,m,p,b,E);if(P==null)return null;let B,$=lt.sum(P);if(p)B=b+$;else{for(let ce=0;ce<P.length/2;ce++){let de=P[ce];P[ce]=P[P.length-1-ce],P[P.length-1-ce]=de}B=b,b=B-$}if(!Rt.checkCodewordSkew($,S,T))return null;let K=Dn.getDecodedValue(P),ne=wt.getCodeword(K);return ne===-1?null:new qa(b,B,Rt.getCodewordBucketNumber(K),ne)}static getModuleBitCount(i,u,m,p,b,E){let S=b,T=new Int32Array(8),P=0,B=p?1:-1,$=p;for(;(p?S<m:S>=u)&&P<T.length;)i.get(S,E)===$?(T[P]++,S+=B):(P++,$=!$);return P===T.length||S===(p?m:u)&&P===T.length-1?T:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,u,m,p,b,E){let S=b,T=p?-1:1;for(let P=0;P<2;P++){for(;(p?S>=u:S<m)&&p===i.get(S,E);){if(Math.abs(b-S)>Rt.CODEWORD_SKEW_SIZE)return b;S+=T}T=-T,p=!p}return S}static checkCodewordSkew(i,u,m){return u-Rt.CODEWORD_SKEW_SIZE<=i&&i<=m+Rt.CODEWORD_SKEW_SIZE}static decodeCodewords(i,u,m){if(i.length===0)throw L.getFormatInstance();let p=1<<u+1,b=Rt.correctErrors(i,m,p);Rt.verifyCodewordCount(i,p);let E=Me.decode(i,""+u);return E.setErrorsCorrected(b),E.setErasures(m.length),E}static correctErrors(i,u,m){if(u!=null&&u.length>m/2+Rt.MAX_ERRORS||m<0||m>Rt.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Rt.errorCorrection.decode(i,m,u)}static verifyCodewordCount(i,u){if(i.length<4)throw L.getFormatInstance();let m=i[0];if(m>i.length)throw L.getFormatInstance();if(m===0)if(u<i.length)i[0]=i.length-u;else throw L.getFormatInstance()}static getBitCountForCodeword(i){let u=new Int32Array(8),m=0,p=u.length-1;for(;!((i&1)!==m&&(m=i&1,p--,p<0));)u[p]++,i>>=1;return u}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Rt.getCodewordBucketNumber(Rt.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let u=new Li;for(let m=0;m<i.length;m++){u.format("Row %2d: ",m);for(let p=0;p<i[m].length;p++){let b=i[m][p];b.getValue().length===0?u.format("        ",null):u.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}u.format("%n")}return u.toString()}}Rt.CODEWORD_SKEW_SIZE=2,Rt.MAX_ERRORS=3,Rt.MAX_EC_CODEWORDS=512,Rt.errorCorrection=new js;class kn{decode(i,u=null){let m=kn.decode(i,u,!1);if(m==null||m.length===0||m[0]==null)throw se.getNotFoundInstance();return m[0]}decodeMultiple(i,u=null){try{return kn.decode(i,u,!0)}catch(m){throw m instanceof L||m instanceof _?se.getNotFoundInstance():m}}static decode(i,u,m){const p=new Array,b=Ot.detectMultiple(i,u,m);for(const E of b.getPoints()){const S=Rt.decode(b.getBits(),E[4],E[5],E[6],E[7],kn.getMinCodewordWidth(E),kn.getMaxCodewordWidth(E)),T=new ue(S.getText(),S.getRawBytes(),void 0,E,le.PDF_417);T.putMetadata(ze.ERROR_CORRECTION_LEVEL,S.getECLevel());const P=S.getOther();P!=null&&T.putMetadata(ze.PDF417_EXTRA_METADATA,P),p.push(T)}return p.map(E=>E)}static getMaxWidth(i,u){return i==null||u==null?0:Math.trunc(Math.abs(i.getX()-u.getX()))}static getMinWidth(i,u){return i==null||u==null?R.MAX_VALUE:Math.trunc(Math.abs(i.getX()-u.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(kn.getMaxWidth(i[0],i[4]),kn.getMaxWidth(i[6],i[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.max(kn.getMaxWidth(i[1],i[5]),kn.getMaxWidth(i[7],i[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(kn.getMinWidth(i[0],i[4]),kn.getMinWidth(i[6],i[2])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN),Math.min(kn.getMinWidth(i[1],i[5]),kn.getMinWidth(i[7],i[3])*wt.MODULES_IN_CODEWORD/wt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Hc extends x{}Hc.kind="ReaderException";class Gf{constructor(i,u){this.verbose=i===!0,u&&this.setHints(u)}decode(i,u){return u&&this.setHints(u),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const u=!n(i)&&i.get(j.TRY_HARDER)===!0,m=n(i)?null:i.get(j.POSSIBLE_FORMATS),p=new Array;if(!n(m)){const b=m.some(E=>E===le.UPC_A||E===le.UPC_E||E===le.EAN_13||E===le.EAN_8||E===le.CODABAR||E===le.CODE_39||E===le.CODE_93||E===le.CODE_128||E===le.ITF||E===le.RSS_14||E===le.RSS_EXPANDED);b&&!u&&p.push(new Va(i,this.verbose)),m.includes(le.QR_CODE)&&p.push(new Us),m.includes(le.DATA_MATRIX)&&p.push(new Fs),m.includes(le.AZTEC)&&p.push(new aa),m.includes(le.PDF_417)&&p.push(new kn),b&&u&&p.push(new Va(i,this.verbose))}p.length===0&&(u||p.push(new Va(i,this.verbose)),p.push(new Us),p.push(new Fs),p.push(new aa),p.push(new kn),u&&p.push(new Va(i,this.verbose))),this.readers=p}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Hc("No readers where selected, nothing can be read.");for(const u of this.readers)try{return u.decode(i,this.hints)}catch(m){if(m instanceof Hc)continue}throw new se("No MultiFormat Readers were able to detect the code.")}}class Yf extends me{constructor(i=null,u=500){const m=new Gf;m.setHints(i),super(m,u)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class p1 extends me{constructor(i=500){super(new kn,i)}}class y1 extends me{constructor(i=500){super(new Us,i)}}var Sd;(function(q){q[q.ERROR_CORRECTION=0]="ERROR_CORRECTION",q[q.CHARACTER_SET=1]="CHARACTER_SET",q[q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",q[q.MIN_SIZE=3]="MIN_SIZE",q[q.MAX_SIZE=4]="MAX_SIZE",q[q.MARGIN=5]="MARGIN",q[q.PDF417_COMPACT=6]="PDF417_COMPACT",q[q.PDF417_COMPACTION=7]="PDF417_COMPACTION",q[q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",q[q.AZTEC_LAYERS=9]="AZTEC_LAYERS",q[q.QR_VERSION=10]="QR_VERSION"})(Sd||(Sd={}));var cn=Sd;class zo{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new rt(i,Int32Array.from([1])))}buildGenerator(i){const u=this.cachedGenerators;if(i>=u.length){let m=u[u.length-1];const p=this.field;for(let b=u.length;b<=i;b++){const E=m.multiply(new rt(p,Int32Array.from([1,p.exp(b-1+p.getGeneratorBase())])));u.push(E),m=E}}return u[i]}encode(i,u){if(u===0)throw new w("No error correction bytes");const m=i.length-u;if(m<=0)throw new w("No data bytes provided");const p=this.buildGenerator(u),b=new Int32Array(m);k.arraycopy(i,0,b,0,m);let E=new rt(this.field,b);E=E.multiplyByMonomial(u,1);const T=E.divide(p)[1].getCoefficients(),P=u-T.length;for(let B=0;B<P;B++)i[m+B]=0;k.arraycopy(T,0,i,m+P,T.length)}}class Ur{constructor(){}static applyMaskPenaltyRule1(i){return Ur.applyMaskPenaltyRule1Internal(i,!0)+Ur.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let u=0;const m=i.getArray(),p=i.getWidth(),b=i.getHeight();for(let E=0;E<b-1;E++){const S=m[E];for(let T=0;T<p-1;T++){const P=S[T];P===S[T+1]&&P===m[E+1][T]&&P===m[E+1][T+1]&&u++}}return Ur.N2*u}static applyMaskPenaltyRule3(i){let u=0;const m=i.getArray(),p=i.getWidth(),b=i.getHeight();for(let E=0;E<b;E++)for(let S=0;S<p;S++){const T=m[E];S+6<p&&T[S]===1&&T[S+1]===0&&T[S+2]===1&&T[S+3]===1&&T[S+4]===1&&T[S+5]===0&&T[S+6]===1&&(Ur.isWhiteHorizontal(T,S-4,S)||Ur.isWhiteHorizontal(T,S+7,S+11))&&u++,E+6<b&&m[E][S]===1&&m[E+1][S]===0&&m[E+2][S]===1&&m[E+3][S]===1&&m[E+4][S]===1&&m[E+5][S]===0&&m[E+6][S]===1&&(Ur.isWhiteVertical(m,S,E-4,E)||Ur.isWhiteVertical(m,S,E+7,E+11))&&u++}return u*Ur.N3}static isWhiteHorizontal(i,u,m){u=Math.max(u,0),m=Math.min(m,i.length);for(let p=u;p<m;p++)if(i[p]===1)return!1;return!0}static isWhiteVertical(i,u,m,p){m=Math.max(m,0),p=Math.min(p,i.length);for(let b=m;b<p;b++)if(i[b][u]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let u=0;const m=i.getArray(),p=i.getWidth(),b=i.getHeight();for(let T=0;T<b;T++){const P=m[T];for(let B=0;B<p;B++)P[B]===1&&u++}const E=i.getHeight()*i.getWidth();return Math.floor(Math.abs(u*2-E)*10/E)*Ur.N4}static getDataMaskBit(i,u,m){let p,b;switch(i){case 0:p=m+u&1;break;case 1:p=m&1;break;case 2:p=u%3;break;case 3:p=(m+u)%3;break;case 4:p=Math.floor(m/2)+Math.floor(u/3)&1;break;case 5:b=m*u,p=(b&1)+b%3;break;case 6:b=m*u,p=(b&1)+b%3&1;break;case 7:b=m*u,p=b%3+(m+u&1)&1;break;default:throw new w("Invalid mask pattern: "+i)}return p===0}static applyMaskPenaltyRule1Internal(i,u){let m=0;const p=u?i.getHeight():i.getWidth(),b=u?i.getWidth():i.getHeight(),E=i.getArray();for(let S=0;S<p;S++){let T=0,P=-1;for(let B=0;B<b;B++){const $=u?E[S][B]:E[B][S];$===P?T++:(T>=5&&(m+=Ur.N1+(T-5)),T=1,P=$)}T>=5&&(m+=Ur.N1+(T-5))}return m}}Ur.N1=3,Ur.N2=3,Ur.N3=40,Ur.N4=10;class qc{constructor(i,u){this.width=i,this.height=u;const m=new Array(u);for(let p=0;p!==u;p++)m[p]=new Uint8Array(i);this.bytes=m}getHeight(){return this.height}getWidth(){return this.width}get(i,u){return this.bytes[u][i]}getArray(){return this.bytes}setNumber(i,u,m){this.bytes[u][i]=m}setBoolean(i,u,m){this.bytes[u][i]=m?1:0}clear(i){for(const u of this.bytes)U.fill(u,i)}equals(i){if(!(i instanceof qc))return!1;const u=i;if(this.width!==u.width||this.height!==u.height)return!1;for(let m=0,p=this.height;m<p;++m){const b=this.bytes[m],E=u.bytes[m];for(let S=0,T=this.width;S<T;++S)if(b[S]!==E[S])return!1}return!0}toString(){const i=new he;for(let u=0,m=this.height;u<m;++u){const p=this.bytes[u];for(let b=0,E=this.width;b<E;++b)switch(p[b]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Ll{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new he;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Ll.NUM_MASK_PATTERNS}}Ll.NUM_MASK_PATTERNS=8;class or extends x{}or.kind="WriterException";class Nt{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,u,m,p,b){Nt.clearMatrix(b),Nt.embedBasicPatterns(m,b),Nt.embedTypeInfo(u,p,b),Nt.maybeEmbedVersionInfo(m,b),Nt.embedDataBits(i,p,b)}static embedBasicPatterns(i,u){Nt.embedPositionDetectionPatternsAndSeparators(u),Nt.embedDarkDotAtLeftBottomCorner(u),Nt.maybeEmbedPositionAdjustmentPatterns(i,u),Nt.embedTimingPatterns(u)}static embedTypeInfo(i,u,m){const p=new G;Nt.makeTypeInfoBits(i,u,p);for(let b=0,E=p.getSize();b<E;++b){const S=p.get(p.getSize()-1-b),T=Nt.TYPE_INFO_COORDINATES[b],P=T[0],B=T[1];if(m.setBoolean(P,B,S),b<8){const $=m.getWidth()-b-1;m.setBoolean($,8,S)}else{const K=m.getHeight()-7+(b-8);m.setBoolean(8,K,S)}}}static maybeEmbedVersionInfo(i,u){if(i.getVersionNumber()<7)return;const m=new G;Nt.makeVersionInfoBits(i,m);let p=17;for(let b=0;b<6;++b)for(let E=0;E<3;++E){const S=m.get(p);p--,u.setBoolean(b,u.getHeight()-11+E,S),u.setBoolean(u.getHeight()-11+E,b,S)}}static embedDataBits(i,u,m){let p=0,b=-1,E=m.getWidth()-1,S=m.getHeight()-1;for(;E>0;){for(E===6&&(E-=1);S>=0&&S<m.getHeight();){for(let T=0;T<2;++T){const P=E-T;if(!Nt.isEmpty(m.get(P,S)))continue;let B;p<i.getSize()?(B=i.get(p),++p):B=!1,u!==255&&Ur.getDataMaskBit(u,P,S)&&(B=!B),m.setBoolean(P,S,B)}S+=b}b=-b,S+=b,E-=2}if(p!==i.getSize())throw new or("Not all bits consumed: "+p+"/"+i.getSize())}static findMSBSet(i){return 32-R.numberOfLeadingZeros(i)}static calculateBCHCode(i,u){if(u===0)throw new w("0 polynomial");const m=Nt.findMSBSet(u);for(i<<=m-1;Nt.findMSBSet(i)>=m;)i^=u<<Nt.findMSBSet(i)-m;return i}static makeTypeInfoBits(i,u,m){if(!Ll.isValidMaskPattern(u))throw new or("Invalid mask pattern");const p=i.getBits()<<3|u;m.appendBits(p,5);const b=Nt.calculateBCHCode(p,Nt.TYPE_INFO_POLY);m.appendBits(b,10);const E=new G;if(E.appendBits(Nt.TYPE_INFO_MASK_PATTERN,15),m.xor(E),m.getSize()!==15)throw new or("should not happen but we got: "+m.getSize())}static makeVersionInfoBits(i,u){u.appendBits(i.getVersionNumber(),6);const m=Nt.calculateBCHCode(i.getVersionNumber(),Nt.VERSION_INFO_POLY);if(u.appendBits(m,12),u.getSize()!==18)throw new or("should not happen but we got: "+u.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let u=8;u<i.getWidth()-8;++u){const m=(u+1)%2;Nt.isEmpty(i.get(u,6))&&i.setNumber(u,6,m),Nt.isEmpty(i.get(6,u))&&i.setNumber(6,u,m)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new or;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,u,m){for(let p=0;p<8;++p){if(!Nt.isEmpty(m.get(i+p,u)))throw new or;m.setNumber(i+p,u,0)}}static embedVerticalSeparationPattern(i,u,m){for(let p=0;p<7;++p){if(!Nt.isEmpty(m.get(i,u+p)))throw new or;m.setNumber(i,u+p,0)}}static embedPositionAdjustmentPattern(i,u,m){for(let p=0;p<5;++p){const b=Nt.POSITION_ADJUSTMENT_PATTERN[p];for(let E=0;E<5;++E)m.setNumber(i+E,u+p,b[E])}}static embedPositionDetectionPattern(i,u,m){for(let p=0;p<7;++p){const b=Nt.POSITION_DETECTION_PATTERN[p];for(let E=0;E<7;++E)m.setNumber(i+E,u+p,b[E])}}static embedPositionDetectionPatternsAndSeparators(i){const u=Nt.POSITION_DETECTION_PATTERN[0].length;Nt.embedPositionDetectionPattern(0,0,i),Nt.embedPositionDetectionPattern(i.getWidth()-u,0,i),Nt.embedPositionDetectionPattern(0,i.getWidth()-u,i);const m=8;Nt.embedHorizontalSeparationPattern(0,m-1,i),Nt.embedHorizontalSeparationPattern(i.getWidth()-m,m-1,i),Nt.embedHorizontalSeparationPattern(0,i.getWidth()-m,i);const p=7;Nt.embedVerticalSeparationPattern(p,0,i),Nt.embedVerticalSeparationPattern(i.getHeight()-p-1,0,i),Nt.embedVerticalSeparationPattern(p,i.getHeight()-p,i)}static maybeEmbedPositionAdjustmentPatterns(i,u){if(i.getVersionNumber()<2)return;const m=i.getVersionNumber()-1,p=Nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[m];for(let b=0,E=p.length;b!==E;b++){const S=p[b];if(S>=0)for(let T=0;T!==E;T++){const P=p[T];P>=0&&Nt.isEmpty(u.get(P,S))&&Nt.embedPositionAdjustmentPattern(P-2,S-2,u)}}}}Nt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Nt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Nt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Nt.VERSION_INFO_POLY=7973,Nt.TYPE_INFO_POLY=1335,Nt.TYPE_INFO_MASK_PATTERN=21522;class x1{constructor(i,u){this.dataBytes=i,this.errorCorrectionBytes=u}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Nr{constructor(){}static calculateMaskPenalty(i){return Ur.applyMaskPenaltyRule1(i)+Ur.applyMaskPenaltyRule2(i)+Ur.applyMaskPenaltyRule3(i)+Ur.applyMaskPenaltyRule4(i)}static encode(i,u,m=null){let p=Nr.DEFAULT_BYTE_MODE_ENCODING;const b=m!==null&&m.get(cn.CHARACTER_SET)!==void 0;b&&(p=m.get(cn.CHARACTER_SET).toString());const E=this.chooseMode(i,p),S=new G;if(E===yt.BYTE&&(b||Nr.DEFAULT_BYTE_MODE_ENCODING!==p)){const Ke=V.getCharacterSetECIByName(p);Ke!==void 0&&this.appendECI(Ke,S)}this.appendModeInfo(E,S);const T=new G;this.appendBytes(i,E,T,p);let P;if(m!==null&&m.get(cn.QR_VERSION)!==void 0){const Ke=Number.parseInt(m.get(cn.QR_VERSION).toString(),10);P=mt.getVersionForNumber(Ke);const $e=this.calculateBitsNeeded(E,S,T,P);if(!this.willFit($e,P,u))throw new or("Data too big for requested version")}else P=this.recommendVersion(u,E,S,T);const B=new G;B.appendBitArray(S);const $=E===yt.BYTE?T.getSizeInBytes():i.length;this.appendLengthInfo($,P,E,B),B.appendBitArray(T);const K=P.getECBlocksForLevel(u),ne=P.getTotalCodewords()-K.getTotalECCodewords();this.terminateBits(ne,B);const ce=this.interleaveWithECBytes(B,P.getTotalCodewords(),ne,K.getNumBlocks()),de=new Ll;de.setECLevel(u),de.setMode(E),de.setVersion(P);const we=P.getDimensionForVersion(),De=new qc(we,we),Je=this.chooseMaskPattern(ce,u,P,De);return de.setMaskPattern(Je),Nt.buildMatrix(ce,u,P,Je,De),de.setMatrix(De),de}static recommendVersion(i,u,m,p){const b=this.calculateBitsNeeded(u,m,p,mt.getVersionForNumber(1)),E=this.chooseVersion(b,i),S=this.calculateBitsNeeded(u,m,p,E);return this.chooseVersion(S,i)}static calculateBitsNeeded(i,u,m,p){return u.getSize()+i.getCharacterCountBits(p)+m.getSize()}static getAlphanumericCode(i){return i<Nr.ALPHANUMERIC_TABLE.length?Nr.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,u=null){if(V.SJIS.getName()===u&&this.isOnlyDoubleByteKanji(i))return yt.KANJI;let m=!1,p=!1;for(let b=0,E=i.length;b<E;++b){const S=i.charAt(b);if(Nr.isDigit(S))m=!0;else if(this.getAlphanumericCode(S.charCodeAt(0))!==-1)p=!0;else return yt.BYTE}return p?yt.ALPHANUMERIC:m?yt.NUMERIC:yt.BYTE}static isOnlyDoubleByteKanji(i){let u;try{u=Y.encode(i,V.SJIS)}catch{return!1}const m=u.length;if(m%2!==0)return!1;for(let p=0;p<m;p+=2){const b=u[p]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(i,u,m,p){let b=Number.MAX_SAFE_INTEGER,E=-1;for(let S=0;S<Ll.NUM_MASK_PATTERNS;S++){Nt.buildMatrix(i,u,m,S,p);let T=this.calculateMaskPenalty(p);T<b&&(b=T,E=S)}return E}static chooseVersion(i,u){for(let m=1;m<=40;m++){const p=mt.getVersionForNumber(m);if(Nr.willFit(i,p,u))return p}throw new or("Data too big")}static willFit(i,u,m){const p=u.getTotalCodewords(),E=u.getECBlocksForLevel(m).getTotalECCodewords(),S=p-E,T=(i+7)/8;return S>=T}static terminateBits(i,u){const m=i*8;if(u.getSize()>m)throw new or("data bits cannot fit in the QR Code"+u.getSize()+" > "+m);for(let E=0;E<4&&u.getSize()<m;++E)u.appendBit(!1);const p=u.getSize()&7;if(p>0)for(let E=p;E<8;E++)u.appendBit(!1);const b=i-u.getSizeInBytes();for(let E=0;E<b;++E)u.appendBits((E&1)===0?236:17,8);if(u.getSize()!==m)throw new or("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,u,m,p,b,E){if(p>=m)throw new or("Block ID too large");const S=i%m,T=m-S,P=Math.floor(i/m),B=P+1,$=Math.floor(u/m),K=$+1,ne=P-$,ce=B-K;if(ne!==ce)throw new or("EC bytes mismatch");if(m!==T+S)throw new or("RS blocks mismatch");if(i!==($+ne)*T+(K+ce)*S)throw new or("Total bytes mismatch");p<T?(b[0]=$,E[0]=ne):(b[0]=K,E[0]=ce)}static interleaveWithECBytes(i,u,m,p){if(i.getSizeInBytes()!==m)throw new or("Number of bits and data bytes does not match");let b=0,E=0,S=0;const T=new Array;for(let B=0;B<p;++B){const $=new Int32Array(1),K=new Int32Array(1);Nr.getNumDataBytesAndNumECBytesForBlockID(u,m,p,B,$,K);const ne=$[0],ce=new Uint8Array(ne);i.toBytes(8*b,ce,0,ne);const de=Nr.generateECBytes(ce,K[0]);T.push(new x1(ce,de)),E=Math.max(E,ne),S=Math.max(S,de.length),b+=$[0]}if(m!==b)throw new or("Data bytes does not match offset");const P=new G;for(let B=0;B<E;++B)for(const $ of T){const K=$.getDataBytes();B<K.length&&P.appendBits(K[B],8)}for(let B=0;B<S;++B)for(const $ of T){const K=$.getErrorCorrectionBytes();B<K.length&&P.appendBits(K[B],8)}if(u!==P.getSizeInBytes())throw new or("Interleaving error: "+u+" and "+P.getSizeInBytes()+" differ.");return P}static generateECBytes(i,u){const m=i.length,p=new Int32Array(m+u);for(let E=0;E<m;E++)p[E]=i[E]&255;new zo(ye.QR_CODE_FIELD_256).encode(p,u);const b=new Uint8Array(u);for(let E=0;E<u;E++)b[E]=p[m+E];return b}static appendModeInfo(i,u){u.appendBits(i.getBits(),4)}static appendLengthInfo(i,u,m,p){const b=m.getCharacterCountBits(u);if(i>=1<<b)throw new or(i+" is bigger than "+((1<<b)-1));p.appendBits(i,b)}static appendBytes(i,u,m,p){switch(u){case yt.NUMERIC:Nr.appendNumericBytes(i,m);break;case yt.ALPHANUMERIC:Nr.appendAlphanumericBytes(i,m);break;case yt.BYTE:Nr.append8BitBytes(i,m,p);break;case yt.KANJI:Nr.appendKanjiBytes(i,m);break;default:throw new or("Invalid mode: "+u)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const u=Nr.getDigit(i);return u>=0&&u<=9}static appendNumericBytes(i,u){const m=i.length;let p=0;for(;p<m;){const b=Nr.getDigit(i.charAt(p));if(p+2<m){const E=Nr.getDigit(i.charAt(p+1)),S=Nr.getDigit(i.charAt(p+2));u.appendBits(b*100+E*10+S,10),p+=3}else if(p+1<m){const E=Nr.getDigit(i.charAt(p+1));u.appendBits(b*10+E,7),p+=2}else u.appendBits(b,4),p++}}static appendAlphanumericBytes(i,u){const m=i.length;let p=0;for(;p<m;){const b=Nr.getAlphanumericCode(i.charCodeAt(p));if(b===-1)throw new or;if(p+1<m){const E=Nr.getAlphanumericCode(i.charCodeAt(p+1));if(E===-1)throw new or;u.appendBits(b*45+E,11),p+=2}else u.appendBits(b,6),p++}}static append8BitBytes(i,u,m){let p;try{p=Y.encode(i,m)}catch(b){throw new or(b)}for(let b=0,E=p.length;b!==E;b++){const S=p[b];u.appendBits(S,8)}}static appendKanjiBytes(i,u){let m;try{m=Y.encode(i,V.SJIS)}catch(b){throw new or(b)}const p=m.length;for(let b=0;b<p;b+=2){const E=m[b]&255,S=m[b+1]&255,T=E<<8&4294967295|S;let P=-1;if(T>=33088&&T<=40956?P=T-33088:T>=57408&&T<=60351&&(P=T-49472),P===-1)throw new or("Invalid byte sequence");const B=(P>>8)*192+(P&255);u.appendBits(B,13)}}static appendECI(i,u){u.appendBits(yt.ECI.getBits(),4),u.appendBits(i.getValue(),8)}}Nr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nr.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class Bl{write(i,u,m,p=null){if(i.length===0)throw new w("Found empty contents");if(u<0||m<0)throw new w("Requested dimensions are too small: "+u+"x"+m);let b=Ut.L,E=Bl.QUIET_ZONE_SIZE;p!==null&&(p.get(cn.ERROR_CORRECTION)!==void 0&&(b=Ut.fromString(p.get(cn.ERROR_CORRECTION).toString())),p.get(cn.MARGIN)!==void 0&&(E=Number.parseInt(p.get(cn.MARGIN).toString(),10)));const S=Nr.encode(i,b,p);return this.renderResult(S,u,m,E)}writeToDom(i,u,m,p,b=null){typeof i=="string"&&(i=document.querySelector(i));const E=this.write(u,m,p,b);i&&i.appendChild(E)}renderResult(i,u,m,p){const b=i.getMatrix();if(b===null)throw new Se;const E=b.getWidth(),S=b.getHeight(),T=E+p*2,P=S+p*2,B=Math.max(u,T),$=Math.max(m,P),K=Math.min(Math.floor(B/T),Math.floor($/P)),ne=Math.floor((B-E*K)/2),ce=Math.floor(($-S*K)/2),de=this.createSVGElement(B,$);for(let we=0,De=ce;we<S;we++,De+=K)for(let Je=0,Ke=ne;Je<E;Je++,Ke+=K)if(b.get(Je,we)===1){const $e=this.createSvgRectElement(Ke,De,K,K);de.appendChild($e)}return de}createSVGElement(i,u){const m=document.createElementNS(Bl.SVG_NS,"svg");return m.setAttributeNS(null,"height",i.toString()),m.setAttributeNS(null,"width",u.toString()),m}createSvgRectElement(i,u,m,p){const b=document.createElementNS(Bl.SVG_NS,"rect");return b.setAttributeNS(null,"x",i.toString()),b.setAttributeNS(null,"y",u.toString()),b.setAttributeNS(null,"height",m.toString()),b.setAttributeNS(null,"width",p.toString()),b.setAttributeNS(null,"fill","#000000"),b}}Bl.QUIET_ZONE_SIZE=4,Bl.SVG_NS="http://www.w3.org/2000/svg";class Fi{encode(i,u,m,p,b){if(i.length===0)throw new w("Found empty contents");if(u!==le.QR_CODE)throw new w("Can only encode QR_CODE, but got "+u);if(m<0||p<0)throw new w(`Requested dimensions are too small: ${m}x${p}`);let E=Ut.L,S=Fi.QUIET_ZONE_SIZE;b!==null&&(b.get(cn.ERROR_CORRECTION)!==void 0&&(E=Ut.fromString(b.get(cn.ERROR_CORRECTION).toString())),b.get(cn.MARGIN)!==void 0&&(S=Number.parseInt(b.get(cn.MARGIN).toString(),10)));const T=Nr.encode(i,E,b);return Fi.renderResult(T,m,p,S)}static renderResult(i,u,m,p){const b=i.getMatrix();if(b===null)throw new Se;const E=b.getWidth(),S=b.getHeight(),T=E+p*2,P=S+p*2,B=Math.max(u,T),$=Math.max(m,P),K=Math.min(Math.floor(B/T),Math.floor($/P)),ne=Math.floor((B-E*K)/2),ce=Math.floor(($-S*K)/2),de=new pe(B,$);for(let we=0,De=ce;we<S;we++,De+=K)for(let Je=0,Ke=ne;Je<E;Je++,Ke+=K)b.get(Je,we)===1&&de.setRegion(Ke,De,K,K);return de}}Fi.QUIET_ZONE_SIZE=4;class b1{encode(i,u,m,p,b){let E;switch(u){case le.QR_CODE:E=new Fi;break;default:throw new w("No encoder available for format "+u)}return E.encode(i,u,m,p,b)}}class us extends Ee{constructor(i,u,m,p,b,E,S,T){if(super(E,S),this.yuvData=i,this.dataWidth=u,this.dataHeight=m,this.left=p,this.top=b,p+E>u||b+S>m)throw new w("Crop rectangle does not fit within image data.");T&&this.reverseHorizontal(E,S)}getRow(i,u){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const m=this.getWidth();(u==null||u.length<m)&&(u=new Uint8ClampedArray(m));const p=(i+this.top)*this.dataWidth+this.left;return k.arraycopy(this.yuvData,p,u,0,m),u}getMatrix(){const i=this.getWidth(),u=this.getHeight();if(i===this.dataWidth&&u===this.dataHeight)return this.yuvData;const m=i*u,p=new Uint8ClampedArray(m);let b=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return k.arraycopy(this.yuvData,b,p,0,m),p;for(let E=0;E<u;E++){const S=E*i;k.arraycopy(this.yuvData,b,p,S,i),b+=this.dataWidth}return p}isCropSupported(){return!0}crop(i,u,m,p){return new us(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+u,m,p,!1)}renderThumbnail(){const i=this.getWidth()/us.THUMBNAIL_SCALE_FACTOR,u=this.getHeight()/us.THUMBNAIL_SCALE_FACTOR,m=new Int32Array(i*u),p=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let E=0;E<u;E++){const S=E*i;for(let T=0;T<i;T++){const P=p[b+T*us.THUMBNAIL_SCALE_FACTOR]&255;m[S+T]=4278190080|P*65793}b+=this.dataWidth*us.THUMBNAIL_SCALE_FACTOR}return m}getThumbnailWidth(){return this.getWidth()/us.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/us.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,u){const m=this.yuvData;for(let p=0,b=this.top*this.dataWidth+this.left;p<u;p++,b+=this.dataWidth){const E=b+i/2;for(let S=b,T=b+i-1;S<E;S++,T--){const P=m[S];m[S]=m[T],m[T]=P}}}invert(){return new be(this)}}us.THUMBNAIL_SCALE_FACTOR=2;class Cd extends Ee{constructor(i,u,m,p,b,E,S){if(super(u,m),this.dataWidth=p,this.dataHeight=b,this.left=E,this.top=S,i.BYTES_PER_ELEMENT===4){const T=u*m,P=new Uint8ClampedArray(T);for(let B=0;B<T;B++){const $=i[B],K=$>>16&255,ne=$>>7&510,ce=$&255;P[B]=(K+ne+ce)/4&255}this.luminances=P}else this.luminances=i;if(p===void 0&&(this.dataWidth=u),b===void 0&&(this.dataHeight=m),E===void 0&&(this.left=0),S===void 0&&(this.top=0),this.left+u>this.dataWidth||this.top+m>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(i,u){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const m=this.getWidth();(u==null||u.length<m)&&(u=new Uint8ClampedArray(m));const p=(i+this.top)*this.dataWidth+this.left;return k.arraycopy(this.luminances,p,u,0,m),u}getMatrix(){const i=this.getWidth(),u=this.getHeight();if(i===this.dataWidth&&u===this.dataHeight)return this.luminances;const m=i*u,p=new Uint8ClampedArray(m);let b=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return k.arraycopy(this.luminances,b,p,0,m),p;for(let E=0;E<u;E++){const S=E*i;k.arraycopy(this.luminances,b,p,S,i),b+=this.dataWidth}return p}isCropSupported(){return!0}crop(i,u,m,p){return new Cd(this.luminances,m,p,this.dataWidth,this.dataHeight,this.left+i,this.top+u)}invert(){return new be(this)}}class Xf extends V{static forName(i){return this.getCharacterSetECIByName(i)}}class Vo{}Vo.ISO_8859_1=V.ISO8859_1;class Ui{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Wf{static singletonList(i){return[i]}static min(i,u){return i.sort(u)[0]}}class Kf{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Fl extends Kf{constructor(i,u,m){super(i),this.value=u,this.bitCount=m}appendTo(i,u){i.appendBits(this.value,this.bitCount)}add(i,u){return new Fl(this,i,u)}addBinaryShift(i,u){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Fl(this,i,u)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+R.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class $c extends Fl{constructor(i,u,m){super(i,0,0),this.binaryShiftStart=u,this.binaryShiftByteCount=m}appendTo(i,u){for(let m=0;m<this.binaryShiftByteCount;m++)(m===0||m===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):m===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(u[this.binaryShiftStart+m],8)}addBinaryShift(i,u){return new $c(this,i,u)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Zf(q,i,u){return new $c(q,i,u)}function ji(q,i,u){return new Fl(q,i,u)}const zi=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ml=0,Gc=1,Ta=2,Ad=3,$a=4,Ho=new Fl(null,0,0),Ul=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function v1(q){for(let i of q)U.fill(i,-1);return q[ml][$a]=0,q[Gc][$a]=0,q[Gc][ml]=28,q[Ad][$a]=0,q[Ta][$a]=0,q[Ta][ml]=15,q}const qo=v1(U.createInt32Array(6,6));class Ga{constructor(i,u,m,p){this.token=i,this.mode=u,this.binaryShiftByteCount=m,this.bitCount=p}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,u){let m=this.bitCount,p=this.token;if(i!==this.mode){let E=Ul[this.mode][i];p=ji(p,E&65535,E>>16),m+=E>>16}let b=i===Ta?4:5;return p=ji(p,u,b),new Ga(p,i,0,m+b)}shiftAndAppend(i,u){let m=this.token,p=this.mode===Ta?4:5;return m=ji(m,qo[this.mode][i],p),m=ji(m,u,5),new Ga(m,this.mode,0,this.bitCount+p+5)}addBinaryShiftChar(i){let u=this.token,m=this.mode,p=this.bitCount;if(this.mode===$a||this.mode===Ta){let S=Ul[m][ml];u=ji(u,S&65535,S>>16),p+=S>>16,m=ml}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,E=new Ga(u,m,this.binaryShiftByteCount+1,p+b);return E.binaryShiftByteCount===2078&&(E=E.endBinaryShift(i+1)),E}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let u=this.token;return u=Zf(u,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ga(u,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let u=this.bitCount+(Ul[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?u+=Ga.calculateBinaryShiftCost(i)-Ga.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(u+=10),u<=i.bitCount}toBitArray(i){let u=[];for(let p=this.endBinaryShift(i.length).token;p!==null;p=p.getPrevious())u.unshift(p);let m=new G;for(const p of u)p.appendTo(m,i);return m}toString(){return X.format("%s bits=%d bytes=%d",zi[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Ga.INITIAL_STATE=new Ga(Ho,ml,0,0);function Qf(q){const i=X.getCharCode(" "),u=X.getCharCode("."),m=X.getCharCode(",");q[ml][i]=1;const p=X.getCharCode("Z"),b=X.getCharCode("A");for(let K=b;K<=p;K++)q[ml][K]=K-b+2;q[Gc][i]=1;const E=X.getCharCode("z"),S=X.getCharCode("a");for(let K=S;K<=E;K++)q[Gc][K]=K-S+2;q[Ta][i]=1;const T=X.getCharCode("9"),P=X.getCharCode("0");for(let K=P;K<=T;K++)q[Ta][K]=K-P+2;q[Ta][m]=12,q[Ta][u]=13;const B=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let K=0;K<B.length;K++)q[Ad][X.getCharCode(B[K])]=K;const $=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let K=0;K<$.length;K++)X.getCharCode($[K])>0&&(q[$a][X.getCharCode($[K])]=K);return q}const $o=Qf(U.createInt32Array(5,256));class jl{constructor(i){this.text=i}encode(){const i=X.getCharCode(" "),u=X.getCharCode(`
`);let m=Wf.singletonList(Ga.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let E,S=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case X.getCharCode("\r"):E=S===u?2:0;break;case X.getCharCode("."):E=S===i?3:0;break;case X.getCharCode(","):E=S===i?4:0;break;case X.getCharCode(":"):E=S===i?5:0;break;default:E=0}E>0?(m=jl.updateStateListForPair(m,b,E),b++):m=this.updateStateListForChar(m,b)}return Wf.min(m,(b,E)=>b.getBitCount()-E.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,u){const m=[];for(let p of i)this.updateStateForChar(p,u,m);return jl.simplifyStates(m)}updateStateForChar(i,u,m){let p=this.text[u]&255,b=$o[i.getMode()][p]>0,E=null;for(let S=0;S<=$a;S++){let T=$o[S][p];if(T>0){if(E==null&&(E=i.endBinaryShift(u)),!b||S===i.getMode()||S===Ta){const P=E.latchAndAppend(S,T);m.push(P)}if(!b&&qo[i.getMode()][S]>=0){const P=E.shiftAndAppend(S,T);m.push(P)}}}if(i.getBinaryShiftByteCount()>0||$o[i.getMode()][p]===0){let S=i.addBinaryShiftChar(u);m.push(S)}}static updateStateListForPair(i,u,m){const p=[];for(let b of i)this.updateStateForPair(b,u,m,p);return this.simplifyStates(p)}static updateStateForPair(i,u,m,p){let b=i.endBinaryShift(u);if(p.push(b.latchAndAppend($a,m)),i.getMode()!==$a&&p.push(b.shiftAndAppend($a,m)),m===3||m===4){let E=b.latchAndAppend(Ta,16-m).latchAndAppend(Ta,1);p.push(E)}if(i.getBinaryShiftByteCount()>0){let E=i.addBinaryShiftChar(u).addBinaryShiftChar(u+1);p.push(E)}}static simplifyStates(i){let u=[];for(const m of i){let p=!0;for(const b of u){if(b.isBetterThanOrEqualTo(m)){p=!1;break}m.isBetterThanOrEqualTo(b)&&(u=u.filter(E=>E!==b))}p&&u.push(m)}return u}}class $t{constructor(){}static encodeBytes(i){return $t.encode(i,$t.DEFAULT_EC_PERCENT,$t.DEFAULT_AZTEC_LAYERS)}static encode(i,u,m){let p=new jl(i).encode(),b=R.truncDivision(p.getSize()*u,100)+11,E=p.getSize()+b,S,T,P,B,$;if(m!==$t.DEFAULT_AZTEC_LAYERS){if(S=m<0,T=Math.abs(m),T>(S?$t.MAX_NB_BITS_COMPACT:$t.MAX_NB_BITS))throw new w(X.format("Illegal value %s for layers",m));P=$t.totalBitsInLayer(T,S),B=$t.WORD_SIZE[T];let $e=P-P%B;if($=$t.stuffBits(p,B),$.getSize()+b>$e)throw new w("Data to large for user specified layer");if(S&&$.getSize()>B*64)throw new w("Data to large for user specified layer")}else{B=0,$=null;for(let $e=0;;$e++){if($e>$t.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(S=$e<=3,T=S?$e+1:$e,P=$t.totalBitsInLayer(T,S),E>P)continue;($==null||B!==$t.WORD_SIZE[T])&&(B=$t.WORD_SIZE[T],$=$t.stuffBits(p,B));let Ft=P-P%B;if(!(S&&$.getSize()>B*64)&&$.getSize()+b<=Ft)break}}let K=$t.generateCheckWords($,P,B),ne=$.getSize()/B,ce=$t.generateModeMessage(S,T,ne),de=(S?11:14)+T*4,we=new Int32Array(de),De;if(S){De=de;for(let $e=0;$e<we.length;$e++)we[$e]=$e}else{De=de+1+2*R.truncDivision(R.truncDivision(de,2)-1,15);let $e=R.truncDivision(de,2),Ft=R.truncDivision(De,2);for(let _t=0;_t<$e;_t++){let Qr=_t+R.truncDivision(_t,15);we[$e-_t-1]=Ft-Qr-1,we[$e+_t]=Ft+Qr+1}}let Je=new pe(De);for(let $e=0,Ft=0;$e<T;$e++){let _t=(T-$e)*4+(S?9:12);for(let Qr=0;Qr<_t;Qr++){let Oa=Qr*2;for(let Zn=0;Zn<2;Zn++)K.get(Ft+Oa+Zn)&&Je.set(we[$e*2+Zn],we[$e*2+Qr]),K.get(Ft+_t*2+Oa+Zn)&&Je.set(we[$e*2+Qr],we[de-1-$e*2-Zn]),K.get(Ft+_t*4+Oa+Zn)&&Je.set(we[de-1-$e*2-Zn],we[de-1-$e*2-Qr]),K.get(Ft+_t*6+Oa+Zn)&&Je.set(we[de-1-$e*2-Qr],we[$e*2+Zn])}Ft+=_t*8}if($t.drawModeMessage(Je,S,De,ce),S)$t.drawBullsEye(Je,R.truncDivision(De,2),5);else{$t.drawBullsEye(Je,R.truncDivision(De,2),7);for(let $e=0,Ft=0;$e<R.truncDivision(de,2)-1;$e+=15,Ft+=16)for(let _t=R.truncDivision(De,2)&1;_t<De;_t+=2)Je.set(R.truncDivision(De,2)-Ft,_t),Je.set(R.truncDivision(De,2)+Ft,_t),Je.set(_t,R.truncDivision(De,2)-Ft),Je.set(_t,R.truncDivision(De,2)+Ft)}let Ke=new Ui;return Ke.setCompact(S),Ke.setSize(De),Ke.setLayers(T),Ke.setCodeWords(ne),Ke.setMatrix(Je),Ke}static drawBullsEye(i,u,m){for(let p=0;p<m;p+=2)for(let b=u-p;b<=u+p;b++)i.set(b,u-p),i.set(b,u+p),i.set(u-p,b),i.set(u+p,b);i.set(u-m,u-m),i.set(u-m+1,u-m),i.set(u-m,u-m+1),i.set(u+m,u-m),i.set(u+m,u-m+1),i.set(u+m,u+m-1)}static generateModeMessage(i,u,m){let p=new G;return i?(p.appendBits(u-1,2),p.appendBits(m-1,6),p=$t.generateCheckWords(p,28,4)):(p.appendBits(u-1,5),p.appendBits(m-1,11),p=$t.generateCheckWords(p,40,4)),p}static drawModeMessage(i,u,m,p){let b=R.truncDivision(m,2);if(u)for(let E=0;E<7;E++){let S=b-3+E;p.get(E)&&i.set(S,b-5),p.get(E+7)&&i.set(b+5,S),p.get(20-E)&&i.set(S,b+5),p.get(27-E)&&i.set(b-5,S)}else for(let E=0;E<10;E++){let S=b-5+E+R.truncDivision(E,5);p.get(E)&&i.set(S,b-7),p.get(E+10)&&i.set(b+7,S),p.get(29-E)&&i.set(S,b+7),p.get(39-E)&&i.set(b-7,S)}}static generateCheckWords(i,u,m){let p=i.getSize()/m,b=new zo($t.getGF(m)),E=R.truncDivision(u,m),S=$t.bitsToWords(i,m,E);b.encode(S,E-p);let T=u%m,P=new G;P.appendBits(0,T);for(const B of Array.from(S))P.appendBits(B,m);return P}static bitsToWords(i,u,m){let p=new Int32Array(m),b,E;for(b=0,E=i.getSize()/u;b<E;b++){let S=0;for(let T=0;T<u;T++)S|=i.get(b*u+T)?1<<u-T-1:0;p[b]=S}return p}static getGF(i){switch(i){case 4:return ye.AZTEC_PARAM;case 6:return ye.AZTEC_DATA_6;case 8:return ye.AZTEC_DATA_8;case 10:return ye.AZTEC_DATA_10;case 12:return ye.AZTEC_DATA_12;default:throw new w("Unsupported word size "+i)}}static stuffBits(i,u){let m=new G,p=i.getSize(),b=(1<<u)-2;for(let E=0;E<p;E+=u){let S=0;for(let T=0;T<u;T++)(E+T>=p||i.get(E+T))&&(S|=1<<u-1-T);(S&b)===b?(m.appendBits(S&b,u),E--):(S&b)===0?(m.appendBits(S|1,u),E--):m.appendBits(S,u)}return m}static totalBitsInLayer(i,u){return((u?88:112)+16*i)*i}}$t.DEFAULT_EC_PERCENT=33,$t.DEFAULT_AZTEC_LAYERS=0,$t.MAX_NB_BITS=32,$t.MAX_NB_BITS_COMPACT=4,$t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Go{encode(i,u,m,p){return this.encodeWithHints(i,u,m,p,null)}encodeWithHints(i,u,m,p,b){let E=Vo.ISO_8859_1,S=$t.DEFAULT_EC_PERCENT,T=$t.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has(cn.CHARACTER_SET)&&(E=Xf.forName(b.get(cn.CHARACTER_SET).toString())),b.has(cn.ERROR_CORRECTION)&&(S=R.parseInt(b.get(cn.ERROR_CORRECTION).toString())),b.has(cn.AZTEC_LAYERS)&&(T=R.parseInt(b.get(cn.AZTEC_LAYERS).toString()))),Go.encodeLayers(i,u,m,p,E,S,T)}static encodeLayers(i,u,m,p,b,E,S){if(u!==le.AZTEC)throw new w("Can only encode AZTEC, but got "+u);let T=$t.encode(X.getBytes(i,b),E,S);return Go.renderResult(T,m,p)}static renderResult(i,u,m){let p=i.getMatrix();if(p==null)throw new Se;let b=p.getWidth(),E=p.getHeight(),S=Math.max(u,b),T=Math.max(m,E),P=Math.min(S/b,T/E),B=(S-b*P)/2,$=(T-E*P)/2,K=new pe(S,T);for(let ne=0,ce=$;ne<E;ne++,ce+=P)for(let de=0,we=B;de<b;de++,we+=P)p.get(de,ne)&&K.setRegion(we,ce,P,P);return K}}r.AbstractExpandedDecoder=Fr,r.ArgumentException=y,r.ArithmeticException=Le,r.AztecCode=Ui,r.AztecCodeReader=aa,r.AztecCodeWriter=Go,r.AztecDecoder=et,r.AztecDetector=Xn,r.AztecDetectorResult=Re,r.AztecEncoder=$t,r.AztecHighLevelEncoder=jl,r.AztecPoint=fr,r.BarcodeFormat=le,r.Binarizer=D,r.BinaryBitmap=C,r.BitArray=G,r.BitMatrix=pe,r.BitSource=Ha,r.BrowserAztecCodeReader=wa,r.BrowserBarcodeReader=f1,r.BrowserCodeReader=me,r.BrowserDatamatrixCodeReader=Fc,r.BrowserMultiFormatReader=Yf,r.BrowserPDF417Reader=p1,r.BrowserQRCodeReader=y1,r.BrowserQRCodeSvgWriter=Bl,r.CharacterSetECI=V,r.ChecksumException=_,r.Code128Reader=ge,r.Code39Reader=tt,r.DataMatrixDecodedBitStreamParser=Bs,r.DataMatrixReader=Fs,r.DecodeHintType=j,r.DecoderResult=ve,r.DefaultGridSampler=Qt,r.DetectorResult=st,r.EAN13Reader=Ze,r.EncodeHintType=cn,r.Exception=x,r.FormatException=L,r.GenericGF=ye,r.GenericGFPoly=rt,r.GlobalHistogramBinarizer=J,r.GridSampler=Zt,r.GridSamplerInstance=Dr,r.HTMLCanvasElementLuminanceSource=re,r.HybridBinarizer=ae,r.ITFReader=nt,r.IllegalArgumentException=w,r.IllegalStateException=Se,r.InvertedLuminanceSource=be,r.LuminanceSource=Ee,r.MathUtils=lt,r.MultiFormatOneDReader=Va,r.MultiFormatReader=Gf,r.MultiFormatWriter=b1,r.NotFoundException=se,r.OneDReader=zt,r.PDF417DecodedBitStreamParser=Me,r.PDF417DecoderErrorCorrection=js,r.PDF417Reader=kn,r.PDF417ResultMetadata=Bi,r.PerspectiveTransform=xt,r.PlanarYUVLuminanceSource=us,r.QRCodeByteMatrix=qc,r.QRCodeDataMask=fa,r.QRCodeDecodedBitStreamParser=Er,r.QRCodeDecoderErrorCorrectionLevel=Ut,r.QRCodeDecoderFormatInformation=xn,r.QRCodeEncoder=Nr,r.QRCodeEncoderQRCode=Ll,r.QRCodeMaskUtil=Ur,r.QRCodeMatrixUtil=Nt,r.QRCodeMode=yt,r.QRCodeReader=Us,r.QRCodeVersion=mt,r.QRCodeWriter=Fi,r.RGBLuminanceSource=Cd,r.RSS14Reader=ir,r.RSSExpandedReader=qe,r.ReaderException=Hc,r.ReedSolomonDecoder=We,r.ReedSolomonEncoder=zo,r.ReedSolomonException=Ue,r.Result=ue,r.ResultMetadataType=ze,r.ResultPoint=Qe,r.StringUtils=X,r.UnsupportedOperationException=Q,r.VideoInputDevice=W,r.WhiteRectangleDetector=ft,r.WriterException=or,r.ZXingArrays=U,r.ZXingCharset=Xf,r.ZXingInteger=R,r.ZXingStandardCharsets=Vo,r.ZXingStringBuilder=he,r.ZXingStringEncoding=Y,r.ZXingSystem=k,r.createAbstractExpandedDecoder=Fe,Object.defineProperty(r,"__esModule",{value:!0})}))})(Tm,Tm.exports)),Tm.exports}var Lr=cde();const ude=Ml(Lr),dde=r_({__proto__:null,default:ude},[Lr]);var GO=(function(){function e(t,r,n){if(this.formatMap=new Map([[ot.QR_CODE,Lr.BarcodeFormat.QR_CODE],[ot.AZTEC,Lr.BarcodeFormat.AZTEC],[ot.CODABAR,Lr.BarcodeFormat.CODABAR],[ot.CODE_39,Lr.BarcodeFormat.CODE_39],[ot.CODE_93,Lr.BarcodeFormat.CODE_93],[ot.CODE_128,Lr.BarcodeFormat.CODE_128],[ot.DATA_MATRIX,Lr.BarcodeFormat.DATA_MATRIX],[ot.MAXICODE,Lr.BarcodeFormat.MAXICODE],[ot.ITF,Lr.BarcodeFormat.ITF],[ot.EAN_13,Lr.BarcodeFormat.EAN_13],[ot.EAN_8,Lr.BarcodeFormat.EAN_8],[ot.PDF_417,Lr.BarcodeFormat.PDF_417],[ot.RSS_14,Lr.BarcodeFormat.RSS_14],[ot.RSS_EXPANDED,Lr.BarcodeFormat.RSS_EXPANDED],[ot.UPC_A,Lr.BarcodeFormat.UPC_A],[ot.UPC_E,Lr.BarcodeFormat.UPC_E],[ot.UPC_EAN_EXTENSION,Lr.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!dde)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var l=this.createZXingFormats(t),o=new Map;o.set(Lr.DecodeHintType.POSSIBLE_FORMATS,l),o.set(Lr.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,l){try{n(r.decode(t))}catch(o){l(o)}})},e.prototype.decode=function(t){var r=new Lr.MultiFormatReader(this.verbose,this.hints),n=new Lr.HTMLCanvasElementLuminanceSource(t),l=new Lr.BinaryBitmap(new Lr.HybridBinarizer(n)),o=r.decode(l);return{text:o.text,format:bR.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,l){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,l=t;n<l.length;n++){var o=l[n];this.formatMap.has(o)?r.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e})(),mde=function(e,t,r,n){function l(o){return o instanceof r?o:new r(function(d){d(o)})}return new(r||(r=Promise))(function(o,d){function g(y){try{x(n.next(y))}catch(w){d(w)}}function h(y){try{x(n.throw(y))}catch(w){d(w)}}function x(y){y.done?o(y.value):l(y.value).then(g,h)}x((n=n.apply(e,t||[])).next())})},fde=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,l,o,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return h([x,y])}}function h(x){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(n=1,l&&(o=x[0]&2?l.return:x[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,x[1])).done)return o;switch(l=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){r.label=x[1];break}if(x[0]===6&&r.label<o[1]){r.label=o[1],o=x;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(x);break}o[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(y){x=[6,y],l=0}finally{n=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},YO=(function(){function e(t,r,n){if(this.formatMap=new Map([[ot.QR_CODE,"qr_code"],[ot.AZTEC,"aztec"],[ot.CODABAR,"codabar"],[ot.CODE_39,"code_39"],[ot.CODE_93,"code_93"],[ot.CODE_128,"code_128"],[ot.DATA_MATRIX,"data_matrix"],[ot.ITF,"itf"],[ot.EAN_13,"ean_13"],[ot.EAN_8,"ean_8"],[ot.PDF_417,"pdf417"],[ot.UPC_A,"upc_a"],[ot.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var l=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(l),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return mde(this,void 0,void 0,function(){var r,n;return fde(this,function(l){switch(l.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=l.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:bR.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,l=0,o=t;l<o.length;l++){var d=o[l],g=d.boundingBox.width*d.boundingBox.height;g>n&&(n=g,r=d)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,l=t;n<l.length;n++){var o=l[n];this.formatMap.has(o)?r.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,l){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e})(),XO=function(e,t,r,n){function l(o){return o instanceof r?o:new r(function(d){d(o)})}return new(r||(r=Promise))(function(o,d){function g(y){try{x(n.next(y))}catch(w){d(w)}}function h(y){try{x(n.throw(y))}catch(w){d(w)}}function x(y){y.done?o(y.value):l(y.value).then(g,h)}x((n=n.apply(e,t||[])).next())})},WO=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,l,o,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return h([x,y])}}function h(x){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(n=1,l&&(o=x[0]&2?l.return:x[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,x[1])).done)return o;switch(l=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){r.label=x[1];break}if(x[0]===6&&r.label<o[1]){r.label=o[1],o=x;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(x);break}o[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(y){x=[6,y],l=0}finally{n=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},hde=(function(){function e(t,r,n,l){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&YO.isSupported()?(this.primaryDecoder=new YO(t,n,l),this.secondaryDecoder=new GO(t,n,l)):this.primaryDecoder=new GO(t,n,l)}return e.prototype.decodeAsync=function(t){return XO(this,void 0,void 0,function(){var r;return WO(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return XO(this,void 0,void 0,function(){var r,n;return WO(this,function(l){switch(l.label){case 0:r=performance.now(),l.label=1;case 1:return l.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,l.sent()];case 3:if(n=l.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var l=n[r];t+=l}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e})(),VN=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),up=function(e,t,r,n){function l(o){return o instanceof r?o:new r(function(d){d(o)})}return new(r||(r=Promise))(function(o,d){function g(y){try{x(n.next(y))}catch(w){d(w)}}function h(y){try{x(n.throw(y))}catch(w){d(w)}}function x(y){y.done?o(y.value):l(y.value).then(g,h)}x((n=n.apply(e,t||[])).next())})},dp=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,l,o,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return h([x,y])}}function h(x){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(n=1,l&&(o=x[0]&2?l.return:x[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,x[1])).done)return o;switch(l=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){r.label=x[1];break}if(x[0]===6&&r.label<o[1]){r.label=o[1],o=x;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(x);break}o[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(y){x=[6,y],l=0}finally{n=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},ER=(function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e})(),gde=(function(e){VN(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var l={advanced:[n]};return this.track.applyConstraints(l)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t})(ER),pde=(function(e){VN(t,e);function t(r){return e.call(this,"zoom",r)||this}return t})(gde),yde=(function(e){VN(t,e);function t(r){return e.call(this,"torch",r)||this}return t})(ER),xde=(function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new pde(this.track)},e.prototype.torchFeature=function(){return new yde(this.track)},e})(),bde=(function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,l=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,l),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,l){return up(this,void 0,void 0,function(){var o,d;return dp(this,function(g){switch(g.label){case 0:return o=new e(t,r,l),n.aspectRatio?(d={aspectRatio:n.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(d)]):[3,2];case 1:g.sent(),g.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return up(this,void 0,void 0,function(){return dp(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var l=t.mediaStream.getVideoTracks(),o=l.length,d=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++d,d>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new xde(this.getFirstTrackOrFail())},e})(),vde=(function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return up(this,void 0,void 0,function(){return dp(this,function(l){return[2,bde.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return up(this,void 0,void 0,function(){var r,n;return dp(this,function(l){switch(l.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=l.sent(),[2,new e(n)]}})})},e})(),KO=function(e,t,r,n){function l(o){return o instanceof r?o:new r(function(d){d(o)})}return new(r||(r=Promise))(function(o,d){function g(y){try{x(n.next(y))}catch(w){d(w)}}function h(y){try{x(n.throw(y))}catch(w){d(w)}}function x(y){y.done?o(y.value):l(y.value).then(g,h)}x((n=n.apply(e,t||[])).next())})},ZO=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,l,o,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return h([x,y])}}function h(x){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(n=1,l&&(o=x[0]&2?l.return:x[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,x[1])).done)return o;switch(l=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){r.label=x[1];break}if(x[0]===6&&r.label<o[1]){r.label=o[1],o=x;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(x);break}o[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(y){x=[6,y],l=0}finally{n=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Ede=(function(){function e(){}return e.failIfNotSupported=function(){return KO(this,void 0,void 0,function(){return ZO(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return KO(this,void 0,void 0,function(){return ZO(this,function(r){return[2,vde.create(t)]})})},e})(),wde=function(e,t,r,n){function l(o){return o instanceof r?o:new r(function(d){d(o)})}return new(r||(r=Promise))(function(o,d){function g(y){try{x(n.next(y))}catch(w){d(w)}}function h(y){try{x(n.throw(y))}catch(w){d(w)}}function x(y){y.done?o(y.value):l(y.value).then(g,h)}x((n=n.apply(e,t||[])).next())})},Nde=function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,l,o,d;return d={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(x){return function(y){return h([x,y])}}function h(x){if(n)throw new TypeError("Generator is already executing.");for(;d&&(d=0,x[0]&&(r=0)),r;)try{if(n=1,l&&(o=x[0]&2?l.return:x[0]?l.throw||((o=l.return)&&o.call(l),0):l.next)&&!(o=o.call(l,x[1])).done)return o;switch(l=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return r.label++,{value:x[1],done:!1};case 5:r.label++,l=x[1],x=[0];continue;case 7:x=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){r=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){r.label=x[1];break}if(x[0]===6&&r.label<o[1]){r.label=o[1],o=x;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(x);break}o[2]&&r.ops.pop(),r.trys.pop();continue}x=t.call(e,r)}catch(y){x=[6,y],l=0}finally{n=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Sde=(function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Ru.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Ru.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return wde(this,void 0,void 0,function(){var t,r,n,l,o,d,g;return Nde(this,function(h){switch(h.label){case 0:return t=function(x){for(var y=x.getVideoTracks(),w=0,C=y;w<C.length;w++){var _=C[w];_.enabled=!1,_.stop(),x.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=h.sent(),l=[],o=0,d=n;o<d.length;o++)g=d[o],g.kind==="videoinput"&&l.push({id:g.deviceId,label:g.label});return t(r),[2,l]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(o){for(var d=[],g=0,h=o;g<h.length;g++){var x=h[g];x.kind==="video"&&d.push({id:x.id,label:x.label})}t(d)},l=MediaStreamTrack;l.getSources(n)})},e})(),tn;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(tn||(tn={}));var Cde=(function(){function e(){this.state=tn.NOT_STARTED,this.onGoingTransactionNewState=tn.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=tn.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===tn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=tn.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==tn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case tn.UNKNOWN:throw"Transition from unknown is not allowed";case tn.NOT_STARTED:this.failIfNewStateIs(t,[tn.PAUSED]);break;case tn.SCANNING:break;case tn.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,l=r;n<l.length;n++){var o=l[n];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e})(),Ade=(function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===tn.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==tn.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===tn.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===tn.PAUSED},e})(),Tde=(function(){function e(){}return e.create=function(){return new Ade(new Cde)},e})(),Ode=(function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=l[o])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),es=(function(e){Ode(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t})(sde),_de=(function(){function e(t,r){this.logger=r,this.fps=es.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=es.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?vR.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ni(this.qrbox)},e.create=function(t,r){return new e(t,r)},e})(),vv=(function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new ide(this.verbose),this.qrcode=new hde(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Tde.create()}return e.prototype.start=function(t,r,n,l){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var d;l?d=l:d=this.verbose?this.logger.log:function(){};var g=_de.create(r,this.logger);this.clearElement();var h=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=h,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:es.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var w=this,C=this.stateManagerProxy.startTransition(tn.SCANNING);return new Promise(function(_,D){var k=x?g.videoConstraints:w.createVideoConstraints(t);if(!k){C.cancel(),D("videoConstraints should be defined");return}var M={};(!x||g.aspectRatio)&&(M.aspectRatio=g.aspectRatio);var I={onRenderSurfaceReady:function(U,R){w.setupUi(U,R,g),w.isScanning=!0,w.foreverScan(g,n,d)}};Ede.failIfNotSupported().then(function(U){U.create(k).then(function(R){return R.render(o.element,M,I).then(function(G){w.renderedCamera=G,C.execute(),_(null)}).catch(function(G){C.cancel(),D(G)})}).catch(function(R){C.cancel(),D(Ru.errorGettingUserMedia(R))})}).catch(function(U){C.cancel(),D(Ru.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(tn.PAUSED),this.showPausedState(),(ni(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(tn.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(tn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var o=document.getElementById(es.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},l=this;return this.renderedCamera.close().then(function(){return l.renderedCamera=null,l.element&&(l.element.removeChild(l.canvasElement),l.canvasElement=null),n(),l.qrRegion&&(l.qrRegion=null),l.context&&(l.context=null),r.execute(),l.hidePausedState(),l.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ni(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(l,o){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var d=new Image;d.onload=function(){var g=d.width,h=d.height,x=document.getElementById(n.elementId),y=x.clientWidth?x.clientWidth:es.DEFAULT_WIDTH,w=Math.max(x.clientHeight?x.clientHeight:h,es.FILE_SCAN_MIN_HEIGHT),C=n.computeCanvasDrawConfig(g,h,y,w);if(r){var _=n.createCanvasElement(y,w,"qr-canvas-visible");_.style.display="inline-block",x.appendChild(_);var D=_.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=y,D.canvas.height=w,D.drawImage(d,0,0,g,h,C.x,C.y,C.width,C.height)}var k=es.FILE_SCAN_HIDDEN_CANVAS_PADDING,M=Math.max(d.width,C.width),I=Math.max(d.height,C.height),U=M+2*k,R=I+2*k,G=n.createCanvasElement(U,R);x.appendChild(G);var F=G.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=U,F.canvas.height=R,F.drawImage(d,0,0,g,h,k,k,M,I);try{n.qrcode.decodeRobustlyAsync(G).then(function(j){l(qO.createFromQrcodeResult(j))}).catch(o)}catch(j){o("QR code parse error, error = ".concat(j))}},d.onerror=o,d.onabort=o,d.onstalled=o,d.onsuspend=o,d.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Sde.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!vR.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[ot.QR_CODE,ot.AZTEC,ot.CODABAR,ot.CODE_39,ot.CODE_93,ot.CODE_128,ot.DATA_MATRIX,ot.MAXICODE,ot.ITF,ot.EAN_13,ot.EAN_8,ot.PDF_417,ot.RSS_14,ot.RSS_EXPANDED,ot.UPC_A,ot.UPC_E,ot.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],l=0,o=t.formatsToSupport;l<o.length;l++){var d=o[l];ade(d)?n.push(d):this.logger.warn("Invalid format: ".concat(d," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ni(t))return!0;if(!ni(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ni(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return ni(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var l=this,o=n.qrbox;this.validateQrboxConfig(o);var d=this.toQrdimensions(t,r,o),g=function(x){if(x<es.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(es.MIN_QR_BOX_SIZE,"px.")},h=function(x){return x>t&&(l.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};g(d.width),g(d.height),d.width=h(d.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(l){throw new Error("qrbox config was passed as a function but it failed with unknown error"+l)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var l=ni(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(l);var o=this.toQrdimensions(t,r,l);o.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var d=n.isShadedBoxEnabled()&&o.height<=r,g={x:0,y:0,width:t,height:r},h=d?this.getShadedRegionBounds(t,r,o):g,x=this.createCanvasElement(h.width,h.height),y={willReadFrequently:!0},w=x.getContext("2d",y);w.canvas.width=h.width,w.canvas.height=h.height,this.element.append(x),d&&this.possiblyInsertShadingElement(this.element,t,r,o),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=w,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Ru.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(l){return t(l.text,qO.createFromQrcodeResult(l)),n.possiblyUpdateShaders(!0),!0}).catch(function(l){n.possiblyUpdateShaders(!1);var o=Ru.codeParseError(l);return r(o,lde.createFrom(o)),!1})},e.prototype.foreverScan=function(t,r,n){var l=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),d=o.videoWidth/o.clientWidth,g=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*d,x=this.qrRegion.height*g,y=this.qrRegion.x*d,w=this.qrRegion.y*g;this.context.drawImage(o,y,w,h,x,0,0,this.qrRegion.width,this.qrRegion.height);var C=function(){l.foreverScanTimeout=setTimeout(function(){l.foreverScan(t,r,n)},l.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(_){!_&&t.disableFlip!==!0?(l.context.translate(l.context.canvas.width,0),l.context.scale(-1,1),l.scanContext(r,n).finally(function(){C()})):C()}).catch(function(_){l.logger.logError("Error happend while scanning context",_),C()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",l={user:!0,environment:!0},o="exact",d=function(D){if(D in l)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(D,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var h=Object.keys(t)[0];if(h!==r&&h!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(h===r){var x=t.facingMode;if(typeof x=="string"){if(d(x))return{facingMode:x}}else if(typeof x=="object")if(o in x){if(d(x["".concat(o)]))return{facingMode:{exact:x["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var y=typeof x;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(o in w)return{deviceId:{exact:w["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var C=typeof w;throw"Invalid type of 'deviceId' = ".concat(C)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,r,n,l){if(t<=n&&r<=l){var o=(n-t)/2,d=(l-r)/2;return{x:o,y:d,width:t,height:r}}else{var g=t,h=r;return t>n&&(r=n/t*r,t=n),r>l&&(t=l/r*t,r=l),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(h)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,l)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?es.BORDER_SHADER_MATCH_COLOR:es.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var l=t,o=r,d=document.createElement("canvas");return d.style.width="".concat(l,"px"),d.style.height="".concat(o,"px"),d.style.display="none",d.id=ni(n)?"qr-canvas":n,d},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,l){if(!(r-l.width<1||n-l.height<1)){var o=document.createElement("div");o.style.position="absolute";var d=(r-l.width)/2,g=(n-l.height)/2;if(o.style.borderLeft="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(es.SHADED_REGION_ELEMENT_ID),r-l.width<11||n-l.height<11)this.hasBorderShaders=!1;else{var h=5,x=40;this.insertShaderBorders(o,x,h,-h,null,0,!0),this.insertShaderBorders(o,x,h,-h,null,0,!1),this.insertShaderBorders(o,x,h,null,-h,0,!0),this.insertShaderBorders(o,x,h,null,-h,0,!1),this.insertShaderBorders(o,h,x+h,-h,null,-h,!0),this.insertShaderBorders(o,h,x+h,null,-h,-h,!0),this.insertShaderBorders(o,h,x+h,-h,null,-h,!1),this.insertShaderBorders(o,h,x+h,null,-h,-h,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,r,n,l,o,d,g){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=es.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(r,"px"),h.style.height="".concat(n,"px"),l!==null&&(h.style.top="".concat(l,"px")),o!==null&&(h.style.bottom="".concat(o,"px")),g?h.style.left="".concat(d,"px"):h.style.right="".concat(d,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),t.appendChild(h)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e})(),QO;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(QO||(QO={}));class Dde extends N.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Scanner Error:",t,r)}render(){return this.state.hasError?a.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 text-center"},a.createElement("p",{className:"text-red-800 font-semibold"},"Scanner Error"),a.createElement("p",{className:"text-sm text-red-600 mt-2"},"Please refresh the page to try again."),a.createElement("button",{onClick:()=>window.location.reload(),className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"},"Refresh Page")):this.props.children}}const wR=N.memo(({scannerContainerId:e})=>{const t=N.useRef(null),r=N.useRef(null);return N.useEffect(()=>(console.log("[ScannerContainer] Mounted ONCE",{scannerContainerId:e,containerExists:!!document.getElementById(e)}),()=>{console.log("[ScannerContainer] Unmounting (should only happen on page leave)",{scannerContainerId:e})}),[e]),a.createElement("div",{id:e,ref:t,className:"relative w-full aspect-square max-w-[320px] sm:max-w-md mx-auto rounded-xl overflow-hidden bg-gray-100 border-2 border-dashed border-gray-300",style:{minHeight:"320px"}},a.createElement("div",{ref:r,"data-placeholder":"true",className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500 p-4 z-10 bg-gray-100"},a.createElement(Hk,{className:"w-10 h-10 sm:w-12 sm:h-12 mb-3"}),a.createElement("p",{className:"text-sm font-medium text-center"},"Camera Preview"),a.createElement("p",{className:"text-xs text-gray-400 mt-1 text-center"},"Tap the button below to start scanning")))},()=>!0);wR.displayName="ScannerContainer";function kde(){const[e,t]=N.useState(!1),[r,n]=N.useState(null),[l,o]=N.useState("unknown"),[d,g]=N.useState([]),[h,x]=N.useState(null),[y,w]=N.useState(!1),[C,_]=N.useState([]),[D,k]=N.useState(""),[M,I]=N.useState(!0),[U,R]=N.useState(!1),[G,F]=N.useState(null),[j,L]=N.useState(!1),[H,V]=N.useState(null),[Q,Y]=N.useState(!1),X=N.useRef(null),he=N.useRef(`qr-scanner-${Date.now()}`).current,pe=N.useRef(!1),se=N.useRef(!0),J=N.useRef(0);N.useEffect(()=>{console.log("[ScanQR] State changed:",{isScanning:e,isLoading:y,permissionStatus:l,availableCameras:d.length,hasScanner:!!X.current})},[e,y,l,d]),N.useEffect(()=>{console.log("[ScanQR] Component mounted",{scannerContainerId:he});const ye=window.location.protocol==="https:"||window.location.hostname==="localhost";I(ye);const Ue=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return R(Ue),se.current=!0,()=>{if(console.log("[ScanQR] Component unmounting",{scannerContainerId:he,hasScanner:!!X.current,isCleaningUp:pe.current}),se.current=!1,X.current&&!pe.current){pe.current=!0;const Se=X.current;try{const We=Se.getState();console.log("[ScanQR] Unmount cleanup - scanner state:",We),We===2&&Se.stop().catch(_e=>{console.log("[ScanQR] Unmount stop error:",_e.message)})}catch(We){console.log("[ScanQR] Unmount cleanup error:",We.message)}X.current=null,setTimeout(()=>{const We=document.getElementById(he);console.log("[ScanQR] Clearing container after unmount:",{containerExists:!!We,children:We?.children.length||0}),We&&(We.innerHTML="")},0)}}},[he]);const ae=async()=>{try{const ye=await vv.getCameras();if(ye&&ye.length>0){g(ye);const Ue=ye.find(Se=>{const We=Se.label.toLowerCase();return We.includes("back")||We.includes("rear")||We.includes("environment")||We.includes("0")});return x(Ue?.id||ye[0].id),o("granted"),!0}else return k("No cameras found on this device."),o("error"),!1}catch(ye){return console.error("Error getting cameras:",ye),Ee(ye),!1}},Ee=ye=>{console.error("Camera error:",ye);const Ue=ye.name||"",Se=ye.message||"";Ue==="NotAllowedError"||Se.includes("Permission")?(o("denied"),k(U?"Camera permission denied. On mobile, please go to your browser settings, find this site, and allow camera access.":"Camera permission was denied. Please allow camera access in your browser settings.")):Ue==="NotFoundError"||Se.includes("not found")?(o("error"),k("No camera found on this device.")):Ue==="NotReadableError"||Se.includes("in use")?(o("error"),k("Camera is already in use by another application. Please close other apps using the camera.")):Ue==="SecurityError"?(o("error"),k("Camera access blocked due to security settings. Please use HTTPS.")):Ue==="AbortError"?(o("error"),k("Camera access was interrupted. Please try again.")):(o("error"),k(Se||"Failed to access camera. Please try again."))},be=async()=>{if(w(!0),o("checking"),k(""),U&&!M)return o("error"),k("Camera access requires HTTPS on mobile devices. Please access this site via HTTPS."),w(!1),!1;if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return o("error"),k("Your browser does not support camera access. Please try a different browser."),w(!1),!1;try{let ye;try{ye=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"},width:{ideal:1280},height:{ideal:720}}})}catch(Se){console.log("Environment camera failed, trying any camera:",Se),ye=await navigator.mediaDevices.getUserMedia({video:!0})}return ye.getTracks().forEach(Se=>Se.stop()),await ae()?(pt.success("Camera access granted!"),!0):!1}catch(ye){return console.error("Camera permission error:",ye),Ee(ye),ye.name==="NotAllowedError"?pt.error("Camera permission denied."):pt.error("Failed to access camera."),!1}finally{w(!1)}},re=async()=>{if(console.log("[startScanner] Called",{availableCameras:d.length,isScanning:e,isLoading:y,hasExistingScanner:!!X.current}),d.length===0){if(!await be())return;await new Promise(Ue=>setTimeout(Ue,100))}w(!0),n(null);try{const ye=document.getElementById(he);if(console.log("[startScanner] Container check",{containerExists:!!ye,containerChildren:ye?.children.length||0,containerHTML:ye?.innerHTML.substring(0,100)}),!ye){pt.error("Scanner container not ready. Please try again."),w(!1);return}X.current&&!pe.current&&(console.log("[startScanner] Stopping existing scanner"),await W(),await new Promise(lt=>setTimeout(lt,300)));const Ue=ye.querySelectorAll("video, canvas, #qr-shaded-region");if(console.log("[startScanner] Clearing leftover elements",{count:Ue.length,types:Array.from(Ue).map(lt=>lt.tagName)}),Ue.forEach(lt=>{try{lt.parentNode===ye&&(console.log("[startScanner] Removing element:",lt.tagName,lt.id),lt.remove())}catch(vt){console.log("[startScanner] Error removing leftover element:",vt.message)}}),!se.current){console.log("[startScanner] Component unmounted, aborting"),w(!1);return}console.log("[startScanner] Creating new Html5Qrcode instance");const Se=new vv(he);X.current=Se;const We={fps:10,qrbox:U?{width:200,height:200}:{width:250,height:250},aspectRatio:1,disableFlip:!1},_e=h||{facingMode:"environment"};if(console.log("[startScanner] Starting scanner with config",{cameraConfig:_e,config:We}),await Se.start(_e,We,Ne,le),console.log("[startScanner] Scanner started successfully",{containerChildren:ye.children.length,hasVideo:!!ye.querySelector("video"),hasCanvas:!!ye.querySelector("canvas")}),!se.current){console.log("[startScanner] Component unmounted after start, stopping"),await Se.stop().catch(()=>{});return}const et=ye.querySelector('[data-placeholder="true"]');et&&(console.log("[startScanner] Hiding placeholder via DOM"),et.style.display="none"),ye.classList.remove("bg-gray-100"),ye.classList.add("bg-black"),J.current=0,t(!0),o("granted"),pt.info("Scanner started. Point camera at a QR code."),console.log("[startScanner]  Scanner ready - point camera at QR code")}catch(ye){if(console.error("Error starting scanner:",ye),h&&ye.message?.includes("Unable to start"))try{const Ue=new vv(he);X.current=Ue,await Ue.start({facingMode:"environment"},{fps:10,qrbox:{width:200,height:200}},Ne,le),t(!0),o("granted"),pt.info("Scanner started.");return}catch(Ue){console.error("Fallback also failed:",Ue)}Ee(ye),pt.error("Failed to start scanner.")}finally{w(!1)}},W=async()=>{if(console.log("[stopScanner] Called",{hasScanner:!!X.current,isCleaningUp:pe.current,isMounted:se.current}),!X.current||pe.current){console.log("[stopScanner] Early return - no scanner or already cleaning"),t(!1);return}pe.current=!0;try{const ye=X.current,Ue=ye.getState();console.log("[stopScanner] Scanner state:",Ue),Ue===2&&(console.log("[stopScanner] Stopping scanner..."),await ye.stop(),console.log("[stopScanner] Scanner stopped successfully"),se.current&&await new Promise(Se=>setTimeout(Se,200)))}catch(ye){console.error("[stopScanner] Error stopping scanner:",ye);try{const Ue=document.getElementById(he);if(Ue){const Se=Ue.querySelector("video");Se&&Se.srcObject&&(console.log("[stopScanner] Manually stopping video tracks"),Se.srcObject.getTracks().forEach(We=>We.stop()))}}catch(Ue){console.log("[stopScanner] Could not stop video tracks:",Ue.message)}}finally{console.log("[stopScanner] Cleanup - setting refs to null"),X.current=null,pe.current=!1;const ye=document.getElementById(he);if(ye){const Ue=ye.querySelector('[data-placeholder="true"]');Ue&&(console.log("[stopScanner] Showing placeholder via DOM"),Ue.style.display="flex"),ye.classList.remove("bg-black"),ye.classList.add("bg-gray-100")}se.current&&t(!1)}},te=async ye=>{const{enrollmentId:Ue,eventId:Se,phone:We,userId:_e}=ye,et=new URLSearchParams({enrollmentId:Ue,eventId:Se,phone:We,..._e&&{userId:_e}}),lt=await fetch(`https://motivata.synquic.com/api/app/tickets/qr-scan?${et}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),vt=await lt.json();if(console.log("[validateRegularTicket] API Response:",vt),!lt.ok){const Qe=vt.message?.toLowerCase().includes("already been scanned");let st=null;if(Qe&&vt.message){const Re=vt.message.match(/scanned at (.+)$/i);Re&&Re[1]&&(st=Re[1])}return{...vt,status:lt.status,ticketType:"regular",data:{...vt.data,isValid:!Qe,isAlreadyScanned:Qe,scannedAt:st}}}return{...vt,status:lt.status,ticketType:"regular",data:{...vt.data,isValid:!0,isAlreadyScanned:!1}}},me=async ye=>{const{enrollmentId:Ue,eventId:Se,phone:We,userId:_e}=ye,et=new URLSearchParams({enrollmentId:Ue,eventId:Se,phone:We,..._e&&{userId:_e}}),lt=await fetch(`https://motivata.synquic.com/api/app/tickets/cash/qr-scan?${et}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}}),vt=await lt.json();return console.log("[validateCashTicket] API Response:",vt),{...vt,status:lt.status,ticketType:"cash"}},ue=async ye=>{Y(!0);try{console.log("[validateTicket] Trying regular ticket endpoint...");const Ue=await te(ye);return Ue.status===200||Ue.data?.isAlreadyScanned?(console.log("[validateTicket] Regular ticket validated"),Ue):Ue.status===404?(console.log("[validateTicket] Regular ticket not found, trying cash ticket..."),await me(ye)):Ue}catch(Ue){return console.error("[validateTicket] API Error:",Ue),{status:500,message:"Failed to validate ticket",error:Ue.message,data:null}}finally{Y(!1)}},Ne=async(ye,Ue)=>{console.log("[onScanSuccess] QR Code scanned:",ye),n(ye);let Se=null;try{const vt=new URL(ye),Qe={};vt.searchParams.forEach((st,Re)=>{Qe[Re]=st}),Se={type:"url",fullUrl:ye,protocol:vt.protocol,host:vt.host,pathname:vt.pathname,parameters:Qe,hash:vt.hash||null},console.log("[onScanSuccess]  URL detected!"),console.log("[onScanSuccess] Full URL:",ye),console.log("[onScanSuccess] Protocol:",vt.protocol),console.log("[onScanSuccess] Host:",vt.host),console.log("[onScanSuccess] Pathname:",vt.pathname),console.log("[onScanSuccess] Parameters:",Qe),Object.keys(Qe).length>0?(console.log("[onScanSuccess]  Extracted Parameters:"),Object.entries(Qe).forEach(([st,Re])=>{console.log(`   ${st}: ${Re}`)})):console.log("[onScanSuccess]  No parameters found in URL"),vt.hash&&console.log("[onScanSuccess] Hash:",vt.hash)}catch{console.log("[onScanSuccess]  Not a URL, just plain text:",ye),Se={type:"text",text:ye}}F(Se);let We=null;const _e=Se.parameters||{},et=_e.enrollmentId||_e.id,lt=et&&_e.eventId&&_e.phone;Se.type==="url"&&lt?(console.log("[onScanSuccess] Validating ticket with API...",{enrollmentId:et,eventId:_e.eventId,phone:_e.phone,userId:_e.userId}),pt.info(" Validating ticket..."),We=await ue({enrollmentId:et,eventId:_e.eventId,phone:_e.phone,userId:_e.userId}),console.log("[onScanSuccess] Full API Response:",JSON.stringify(We,null,2)),V(We),We.status===200||We.data?.isAlreadyScanned?(console.log("[onScanSuccess] API Data:",{message:We.message,isValid:We.data?.isValid,isAlreadyScanned:We.data?.isAlreadyScanned,ticketType:We.ticketType,enrollment:We.data?.enrollment?.name}),We.data?.isAlreadyScanned===!0?(console.log("[onScanSuccess]  Ticket already scanned!"),pt.warning(" This ticket was already scanned!",{autoClose:5e3}),navigator.vibrate&&navigator.vibrate([100,50,100,50,100]),L(!0)):We.data?.isValid===!0?(console.log("[onScanSuccess]  First time scan - Valid!"),pt.success(" Ticket Verified - First Scan!"),navigator.vibrate&&navigator.vibrate([200,100,200]),L(!0)):(console.log("[onScanSuccess]  Invalid ticket!"),pt.error(" Invalid Ticket!"),navigator.vibrate&&navigator.vibrate([300,100,300]),L(!1))):(console.log("[onScanSuccess]  API Error or Invalid Response"),pt.error(" Failed to validate ticket!"),navigator.vibrate&&navigator.vibrate([300,100,300]),L(!1))):(L(!0),pt.success(" QR Code Scanned!"),navigator.vibrate&&navigator.vibrate([200,100,200])),_(vt=>[{text:ye,timestamp:new Date,format:Ue?.result?.format?.formatName||"QR_CODE"},...vt.slice(0,9)]),W()},le=ye=>{J.current+=1,J.current%10===0&&console.log(`[onScanFailure] Scanner active, attempts: ${J.current}`),ye&&!ye.includes("No MultiFormat Readers")&&!ye.includes("NotFoundException")&&console.log("[onScanFailure] Error:",ye)},oe=async()=>{if(d.length<=1)return;const Ue=(d.findIndex(We=>We.id===h)+1)%d.length,Se=d[Ue];await W(),x(Se.id),setTimeout(()=>re(),200),pt.info(`Switched to ${Se.label||"Camera "+(Ue+1)}`)},ze=async ye=>{try{await navigator.clipboard.writeText(ye),pt.success("Copied to clipboard!")}catch{try{const Se=document.createElement("textarea");Se.value=ye,document.body.appendChild(Se),Se.select(),document.execCommand("copy"),document.body.removeChild(Se),pt.success("Copied to clipboard!")}catch{pt.error("Failed to copy")}}},ve=ye=>{try{return new URL(ye),!0}catch{return!1}},Ye=ye=>{ve(ye)?window.open(ye,"_blank","noopener,noreferrer"):ze(ye)},rt=l==="denied"||l==="error",Le=!rt;return a.createElement("div",{className:"space-y-4 sm:space-y-6"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},a.createElement("div",null,a.createElement("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 tracking-tight"},"Scan QR Code"),a.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Scan QR codes using your device camera"))),U&&!M&&a.createElement("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 flex items-start gap-3"},a.createElement(OA,{className:"w-6 h-6 text-yellow-600 shrink-0 mt-0.5"}),a.createElement("div",null,a.createElement("h3",{className:"font-semibold text-yellow-800"},"HTTPS Required"),a.createElement("p",{className:"text-sm text-yellow-700 mt-1"},"Camera access on mobile requires a secure connection (HTTPS). Please access this site via HTTPS to use the scanner."))),a.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6"},a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6"},a.createElement("h2",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2"},a.createElement(ih,{className:"w-6 h-6 text-blue-600"}),"Scanner"),rt&&a.createElement("div",{className:"text-center py-6 sm:py-8"},a.createElement("div",{className:`w-14 h-14 sm:w-16 sm:h-16 ${l==="denied"?"bg-red-100":"bg-orange-100"} rounded-full flex items-center justify-center mx-auto mb-4`},a.createElement(DG,{className:`w-7 h-7 sm:w-8 sm:h-8 ${l==="denied"?"text-red-500":"text-orange-500"}`})),a.createElement("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-2"},l==="denied"?"Camera Access Denied":"Camera Error"),a.createElement("p",{className:"text-gray-600 mb-4 text-sm max-w-sm mx-auto px-2"},D||"Unable to access camera. Please check your permissions and try again."),a.createElement("button",{onClick:be,disabled:y||U&&!M,className:"px-5 sm:px-6 py-2.5 sm:py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2 mx-auto text-sm sm:text-base"},y?a.createElement(a.Fragment,null,a.createElement("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.createElement("span",null,"Requesting...")):a.createElement(a.Fragment,null,a.createElement(Hk,{className:"w-4 h-4"}),a.createElement("span",null,"Request Camera Access"))),l==="denied"&&a.createElement("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg max-w-xs mx-auto"},a.createElement("p",{className:"text-xs text-gray-600"},U?"Go to your browser settings  Site settings  Camera  Allow for this site.":"Click the camera icon in your browser's address bar to allow access."))),Le&&a.createElement(Dde,null,a.createElement("div",{className:"space-y-4"},a.createElement(wR,{scannerContainerId:he}),a.createElement("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-3"},e?a.createElement(a.Fragment,null,a.createElement("button",{onClick:W,className:"flex items-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm sm:text-base"},a.createElement(Oz,{className:"w-5 h-5"}),a.createElement("span",null,"Stop")),d.length>1&&a.createElement("button",{onClick:oe,className:"flex items-center gap-2 px-4 py-2.5 sm:py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm sm:text-base",title:"Switch Camera"},a.createElement(Cz,{className:"w-5 h-5"}),a.createElement("span",{className:"hidden sm:inline"},"Switch Camera"))):a.createElement("button",{onClick:re,disabled:y||U&&!M,className:"flex items-center gap-2 px-5 sm:px-6 py-2.5 sm:py-3 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 shadow-lg shadow-blue-500/30 text-sm sm:text-base"},y?a.createElement(a.Fragment,null,a.createElement("div",{className:"w-4 h-4 sm:w-5 sm:h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.createElement("span",null,"Starting...")):a.createElement(a.Fragment,null,a.createElement(ih,{className:"w-5 h-5"}),a.createElement("span",null,"Start Scanner")))),d.length>1&&!e&&a.createElement("div",{className:"flex items-center justify-center gap-2"},a.createElement("label",{className:"text-sm text-gray-600"},"Camera:"),a.createElement("select",{value:h||"",onChange:ye=>x(ye.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 max-w-[200px]"},d.map((ye,Ue)=>a.createElement("option",{key:ye.id,value:ye.id},ye.label||`Camera ${Ue+1}`))))))),a.createElement("div",{className:"space-y-4 sm:space-y-6"},j&&G&&(()=>{const ye=H?.data?.isAlreadyScanned===!0;return a.createElement("div",{className:`rounded-xl shadow-lg border-2 p-6 sm:p-8 ${ye?"bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-400":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-300"}`},a.createElement("div",{className:"text-center mb-6"},ye?a.createElement(a.Fragment,null,a.createElement("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-yellow-500 rounded-full mb-4 animate-pulse"},a.createElement(OA,{className:"w-12 h-12 text-white"})),a.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-yellow-800 mb-2"}," ALREADY SCANNED"),a.createElement("p",{className:"text-yellow-700 font-medium"},"This ticket was previously scanned"),H.data.scannedAt&&a.createElement("p",{className:"text-sm text-yellow-600 mt-2"},"Previously scanned: ",new Date(H.data.scannedAt).toLocaleString())):a.createElement(a.Fragment,null,a.createElement("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-green-500 rounded-full mb-4 animate-pulse"},a.createElement(Vu,{className:"w-12 h-12 text-white"})),a.createElement("h2",{className:"text-2xl sm:text-3xl font-bold text-green-800 mb-2"}," VERIFIED - FIRST SCAN"),a.createElement("p",{className:"text-green-700 font-medium"},"Person is Allowed & Authenticated"))),H?.data&&(H.data.user||H.data.enrollment)&&(()=>{const Ue=H.ticketType==="cash",Se=Ue?H.data.enrollment?.name:H.data.user?.name,We=Ue?H.data.enrollment?.phone:H.data.ticket?.phone||H.data.user?.phone,_e=Ue?H.data.enrollment?.event:H.data.event;return a.createElement("div",{className:"bg-white rounded-lg p-4 sm:p-6 mb-4 shadow-sm"},a.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2"},a.createElement(Vu,{className:"w-5 h-5 text-blue-600"}),"Attendee Information",H.ticketType&&a.createElement("span",{className:"text-xs font-normal bg-gray-100 px-2 py-1 rounded"},H.ticketType==="cash"?"Cash Ticket":"Online Ticket")),a.createElement("div",{className:"space-y-3"},Se&&a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-blue-50 rounded-lg"},a.createElement("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-1 sm:mb-0"},"Name:"),a.createElement("span",{className:"text-base sm:text-lg font-bold text-gray-900 bg-white px-4 py-2 rounded border border-blue-200"},Se)),We&&a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 rounded-lg"},a.createElement("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-1 sm:mb-0"},"Phone:"),a.createElement("span",{className:"text-sm sm:text-base font-mono text-gray-900 bg-white px-3 py-1 rounded border border-gray-200"},We)),_e&&a.createElement(a.Fragment,null,a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 rounded-lg"},a.createElement("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-1 sm:mb-0"},"Event:"),a.createElement("span",{className:"text-sm sm:text-base font-semibold text-gray-900 bg-white px-3 py-1 rounded border border-gray-200"},_e.name)),_e.startDate&&_e.endDate&&a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 rounded-lg"},a.createElement("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-1 sm:mb-0"},"Event Date:"),a.createElement("span",{className:"text-xs sm:text-sm text-gray-900 bg-white px-3 py-1 rounded border border-gray-200"},new Date(_e.startDate).toLocaleDateString()," - ",new Date(_e.endDate).toLocaleDateString())))))})(),!H?.data?.enrollment&&!H?.data?.user&&G.type==="url"&&Object.keys(G.parameters).length>0&&a.createElement("div",{className:"bg-white rounded-lg p-4 sm:p-6 mb-4 shadow-sm"},a.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2"},a.createElement(yx,{className:"w-5 h-5 text-blue-600"}),"Ticket Information"),a.createElement("div",{className:"space-y-3"},Object.entries(G.parameters).map(([Ue,Se])=>a.createElement("div",{key:Ue,className:"flex flex-col sm:flex-row sm:items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},a.createElement("span",{className:"text-sm font-semibold text-gray-700 uppercase tracking-wide mb-1 sm:mb-0"},Ue.replace(/_/g," "),":"),a.createElement("span",{className:"text-sm sm:text-base font-mono text-gray-900 bg-white px-3 py-1 rounded border border-gray-200"},Se))))),G.type==="url"&&a.createElement("div",{className:"bg-blue-50 rounded-lg p-4 mb-4"},a.createElement("p",{className:"text-xs text-blue-700 font-semibold mb-1"},"SCANNED URL:"),a.createElement("p",{className:"text-sm text-blue-900 break-all font-mono"},G.fullUrl)),G.type==="text"&&a.createElement("div",{className:"bg-white rounded-lg p-4 sm:p-6 mb-4 shadow-sm"},a.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-3"},"Scanned Content:"),a.createElement("p",{className:"text-gray-900 break-all font-mono text-sm bg-gray-50 p-3 rounded border border-gray-200"},G.text)),a.createElement("div",{className:"flex flex-wrap gap-3 justify-center"},a.createElement("button",{onClick:()=>{n(null),F(null),L(!1),V(null),re()},className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all shadow-md hover:shadow-lg font-semibold"},a.createElement(ih,{className:"w-5 h-5"}),"Scan Next Person"),a.createElement("button",{onClick:()=>ze(r),className:"flex items-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors shadow-md"},a.createElement(yx,{className:"w-5 h-5"}),"Copy Data")))})(),a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6"},a.createElement("h2",{className:"text-lg font-bold text-gray-900 mb-4"},"Scan History"),C.length===0?a.createElement("div",{className:"text-center py-6 sm:py-8 text-gray-500"},a.createElement(ih,{className:"w-10 h-10 sm:w-12 sm:h-12 mx-auto mb-2 opacity-30"}),a.createElement("p",{className:"text-sm"},"No scans yet. Start scanning to see history.")):a.createElement("div",{className:"space-y-2 sm:space-y-3 max-h-60 sm:max-h-80 overflow-y-auto"},C.map((ye,Ue)=>a.createElement("div",{key:Ue,className:"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer group active:bg-gray-200",onClick:()=>Ye(ye.text)},a.createElement("div",{className:"flex items-start justify-between gap-2"},a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("p",{className:"text-sm text-gray-900 break-all font-mono truncate group-hover:text-blue-600"},ye.text),a.createElement("p",{className:"text-xs text-gray-500 mt-1"},ye.timestamp.toLocaleTimeString(),"  ",ye.format)),a.createElement("button",{onClick:Se=>{Se.stopPropagation(),ze(ye.text)},className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded transition-colors"},a.createElement(yx,{className:"w-4 h-4"}))))))),a.createElement("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200"},a.createElement("h3",{className:"font-semibold text-blue-900 mb-2"},"Tips for better scanning:"),a.createElement("ul",{className:"text-sm text-blue-800 space-y-1"},a.createElement("li",null," Hold your device steady"),a.createElement("li",null," Ensure good lighting"),a.createElement("li",null," Position QR code within the frame"),a.createElement("li",null," Keep the QR code flat and clear"),U&&a.createElement("li",null," Try switching to back camera if using front"))))))}const Mde=async(e,t={})=>Xe(Ge.get(`/web/tickets/reshare/list/${e}`,{params:{page:t.page||1,limit:t.limit||20,search:t.search||void 0,enrollmentType:t.enrollmentType||void 0,scannedStatus:t.scannedStatus||void 0}})),Pde=async(e,t,r={})=>Xe(Ge.post(`/web/tickets/reshare/${e}/${t}`,{phone:r.phone,sendVia:r.sendVia||"both"})),Ide=async(e,t="whatsapp")=>Xe(Ge.post("/web/tickets/reshare/bulk",{tickets:e,sendVia:t})),Rde=async()=>Xe(Ge.get("/web/events")),JO=[{value:"",label:"All Types"},{value:"ONLINE",label:"Online"},{value:"CASH",label:"Cash"}],e_=[{value:"",label:"All Status"},{value:"false",label:"Not Scanned"},{value:"true",label:"Scanned"}],t_=[{value:"both",label:"WhatsApp & Email"},{value:"whatsapp",label:"WhatsApp Only"},{value:"email",label:"Email Only"}],Lde=()=>{const[e,t]=N.useState([]),[r,n]=N.useState(""),[l,o]=N.useState(null),[d,g]=N.useState([]),[h,x]=N.useState(null),[y,w]=N.useState(!1),[C,_]=N.useState(!0),[D,k]=N.useState({currentPage:1,totalPages:1,totalCount:0,limit:20}),[M,I]=N.useState({search:"",enrollmentType:"",scannedStatus:""}),[U,R]=N.useState([]),[G,F]=N.useState(!1),[j,L]=N.useState({}),[H,V]=N.useState(!1);N.useEffect(()=>{Q()},[]),N.useEffect(()=>{r?Y():(g([]),x(null),o(null))},[r,D.currentPage,M]),N.useEffect(()=>{R([]),F(!1)},[d]);const Q=async()=>{_(!0);try{const te=await Rde();if(te.success){const me=te.data?.events||te.data||[];t(Array.isArray(me)?me:[])}else pt.error(te.message||"Failed to load events")}catch(te){console.error("Error fetching events:",te),pt.error("Failed to load events")}finally{_(!1)}},Y=N.useCallback(async()=>{if(r){w(!0);try{const te=await Mde(r,{page:D.currentPage,limit:D.limit,search:M.search||void 0,enrollmentType:M.enrollmentType||void 0,scannedStatus:M.scannedStatus||void 0});te.success?(g(te.data.ticketHolders||[]),o(te.data.event||null),x(te.data.statistics||null),k(me=>({...me,...te.data.pagination}))):(pt.error(te.message||"Failed to load ticket holders"),g([]))}catch(te){console.error("Error fetching ticket holders:",te),pt.error("Failed to load ticket holders"),g([])}finally{w(!1)}}},[r,D.currentPage,D.limit,M]);return{events:e,selectedEventId:r,eventData:l,ticketHolders:d,statistics:h,pagination:D,filters:M,loading:y,eventsLoading:C,reshareLoading:j,bulkReshareLoading:H,selectedTickets:U,selectAll:G,isTicketSelected:te=>U.some(me=>me.enrollmentType===te.enrollmentType&&me.enrollmentId===te.enrollmentId),handleEventChange:te=>{n(te),k(me=>({...me,currentPage:1})),I({search:"",enrollmentType:"",scannedStatus:""})},handleFilterChange:(te,me)=>{I(ue=>({...ue,[te]:me})),k(ue=>({...ue,currentPage:1}))},handleSearch:te=>{I(me=>({...me,search:te})),k(me=>({...me,currentPage:1}))},handlePageChange:te=>{k(me=>({...me,currentPage:te}))},handleTicketSelect:te=>{const me=`${te.enrollmentType}-${te.enrollmentId}`;R(ue=>ue.find(le=>`${le.enrollmentType}-${le.enrollmentId}`===me)?ue.filter(le=>`${le.enrollmentType}-${le.enrollmentId}`!==me):[...ue,te])},handleSelectAll:()=>{R(G?[]:[...d]),F(!G)},handleReshareTicket:async(te,me="both")=>{const ue=`${te.enrollmentType}-${te.enrollmentId}`;L(Ne=>({...Ne,[ue]:!0}));try{const Ne=await Pde(te.enrollmentType,te.enrollmentId,{phone:te.phone||te.user?.phone,sendVia:me});Ne.success?(pt.success("Ticket reshared successfully!"),Y()):pt.error(Ne.message||"Failed to reshare ticket")}catch(Ne){console.error("Error resharing ticket:",Ne),pt.error("Failed to reshare ticket")}finally{L(Ne=>({...Ne,[ue]:!1}))}},handleBulkReshare:async(te="whatsapp")=>{if(U.length===0){pt.warning("Please select tickets to reshare");return}if(U.length>50){pt.warning("Maximum 50 tickets can be reshared at once");return}V(!0);try{const me=U.map(Ne=>({enrollmentType:Ne.enrollmentType,enrollmentId:Ne.enrollmentId,phone:Ne.phone||Ne.user?.phone})),ue=await Ide(me,te);if(ue.success){const{summary:Ne}=ue.data;Ne.failed>0?pt.warning(`Reshared ${Ne.success} tickets. ${Ne.failed} failed.`):pt.success(`Successfully reshared ${Ne.success} tickets!`),R([]),F(!1),Y()}else pt.error(ue.message||"Bulk reshare failed")}catch(me){console.error("Error in bulk reshare:",me),pt.error("Bulk reshare failed")}finally{V(!1)}},refresh:()=>{r&&Y()}}};function Bde(){const{events:e,selectedEventId:t,ticketHolders:r,statistics:n,pagination:l,filters:o,loading:d,eventsLoading:g,reshareLoading:h,bulkReshareLoading:x,selectedTickets:y,selectAll:w,isTicketSelected:C,handleEventChange:_,handleFilterChange:D,handleSearch:k,handlePageChange:M,handleTicketSelect:I,handleSelectAll:U,handleReshareTicket:R,handleBulkReshare:G,refresh:F}=Lde(),[j,L]=N.useState(""),[H,V]=N.useState(!1),[Q,Y]=N.useState("whatsapp"),[X,he]=N.useState(null),[pe,se]=N.useState("both");N.useEffect(()=>{const re=setTimeout(()=>{j!==o.search&&k(j)},500);return()=>clearTimeout(re)},[j]);const J=re=>re?new Date(re).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ae=re=>!re&&re!==0?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0}).format(re),Ee=re=>{he(re),se("both")},be=async()=>{X&&(await R(X,pe),he(null))};return a.createElement("div",{className:"space-y-4"},a.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},a.createElement("div",null,a.createElement("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 tracking-tight"},"Ticket Reshare"),a.createElement("p",{className:"text-sm text-gray-600 mt-1"},"Regenerate and reshare ticket QR codes to users")),a.createElement("button",{onClick:F,disabled:d||!t,className:"flex items-center gap-1.5 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm"},a.createElement(sD,{className:`w-4 h-4 ${d?"animate-spin":""}`}),a.createElement("span",{className:"hidden sm:inline font-medium"},"Refresh"))),a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},a.createElement("label",{className:"block text-sm font-semibold text-gray-700 mb-2"},"Select Event"),a.createElement("select",{value:t,onChange:re=>_(re.target.value),disabled:g,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900 bg-white disabled:bg-gray-100"},a.createElement("option",{value:""},g?"Loading events...":"-- Select an Event --"),e.map(re=>a.createElement("option",{key:re._id,value:re._id},re.name," - ",J(re.startDate))))),t&&a.createElement(a.Fragment,null,n&&a.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3"},a.createElement(Cu,{label:"Total",value:n.total,color:"blue",icon:a.createElement(vg,null)}),a.createElement(Cu,{label:"Online",value:n.online,color:"purple",icon:a.createElement(DA,null)}),a.createElement(Cu,{label:"Cash",value:n.cash,color:"green",icon:a.createElement(DA,null)}),a.createElement(Cu,{label:"Scanned",value:n.scanned,color:"emerald",icon:a.createElement(Vu,null)}),a.createElement(Cu,{label:"Not Scanned",value:n.notScanned,color:"orange",icon:a.createElement(_m,null)}),a.createElement(Cu,{label:"Cancelled",value:n.cancelled,color:"red",icon:a.createElement(Tz,null)})),a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},a.createElement("div",{className:"flex flex-col lg:flex-row gap-3"},a.createElement("div",{className:"flex-1 relative"},a.createElement(yz,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.createElement("input",{type:"text",placeholder:"Search by phone, name, or email...",value:j,onChange:re=>L(re.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})),a.createElement("button",{onClick:()=>V(!H),className:"lg:hidden flex items-center gap-2 px-4 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-50"},a.createElement(Nz,{className:"w-5 h-5"}),"Filters"),a.createElement("div",{className:"hidden lg:flex items-center gap-3"},a.createElement("select",{value:o.enrollmentType,onChange:re=>D("enrollmentType",re.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"},JO.map(re=>a.createElement("option",{key:re.value,value:re.value},re.label))),a.createElement("select",{value:o.scannedStatus,onChange:re=>D("scannedStatus",re.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white"},e_.map(re=>a.createElement("option",{key:re.value,value:re.value},re.label))))),H&&a.createElement("div",{className:"lg:hidden mt-3 pt-3 border-t border-gray-200 grid grid-cols-2 gap-3"},a.createElement("select",{value:o.enrollmentType,onChange:re=>D("enrollmentType",re.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-sm"},JO.map(re=>a.createElement("option",{key:re.value,value:re.value},re.label))),a.createElement("select",{value:o.scannedStatus,onChange:re=>D("scannedStatus",re.target.value),className:"px-3 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-sm"},e_.map(re=>a.createElement("option",{key:re.value,value:re.value},re.label))))),y.length>0&&a.createElement("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3"},a.createElement("div",{className:"flex items-center gap-2"},a.createElement(kG,{className:"text-blue-600 w-5 h-5"}),a.createElement("span",{className:"font-semibold text-blue-900"},y.length," ticket(s) selected")),a.createElement("div",{className:"flex items-center gap-2 w-full sm:w-auto"},a.createElement("select",{value:Q,onChange:re=>Y(re.target.value),className:"flex-1 sm:flex-none px-3 py-2 border border-blue-300 rounded-lg bg-white text-sm focus:ring-2 focus:ring-blue-500"},t_.map(re=>a.createElement("option",{key:re.value,value:re.value},re.label))),a.createElement("button",{onClick:()=>G(Q),disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 text-sm font-medium"},x?a.createElement("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.createElement(fg,{className:"w-4 h-4"}),"Reshare Selected"))),a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden"},a.createElement("div",{className:"hidden lg:block"},a.createElement("div",{className:"bg-gray-50 border-b border-gray-200 px-4 py-3"},a.createElement("div",{className:"flex items-center gap-4"},a.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},a.createElement("input",{type:"checkbox",checked:w,onChange:U,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.createElement("span",{className:"text-sm font-medium text-gray-700"},"Select All")),a.createElement("span",{className:"text-sm text-gray-500"},l.totalCount," ticket holder(s)")))),d&&a.createElement("div",{className:"p-8 text-center"},a.createElement("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),a.createElement("p",{className:"text-gray-600"},"Loading ticket holders...")),!d&&r.length===0&&a.createElement("div",{className:"p-12 text-center"},a.createElement(_m,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.createElement("h3",{className:"text-lg font-semibold text-gray-900 mb-2"},"No Ticket Holders Found"),a.createElement("p",{className:"text-gray-600"},o.search||o.enrollmentType||o.scannedStatus?"Try adjusting your filters":"No tickets have been issued for this event yet")),!d&&r.length>0&&a.createElement(a.Fragment,null,a.createElement("div",{className:"hidden lg:block overflow-x-auto"},a.createElement("table",{className:"w-full"},a.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},a.createElement("tr",null,a.createElement("th",{className:"w-12 px-4 py-3"}),a.createElement("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700"},"User Details"),a.createElement("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700"},"Type"),a.createElement("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700"},"Tier / Price"),a.createElement("th",{className:"text-center px-4 py-3 text-sm font-semibold text-gray-700"},"Scan Status"),a.createElement("th",{className:"text-left px-4 py-3 text-sm font-semibold text-gray-700"},"Created"),a.createElement("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-700"},"Action"))),a.createElement("tbody",{className:"divide-y divide-gray-100"},r.map(re=>a.createElement(Fde,{key:`${re.enrollmentType}-${re.enrollmentId}`,ticket:re,isSelected:C(re),onSelect:()=>I(re),onReshare:()=>Ee(re),isResharing:h[`${re.enrollmentType}-${re.enrollmentId}`],formatDate:J,formatCurrency:ae}))))),a.createElement("div",{className:"lg:hidden divide-y divide-gray-100"},a.createElement("div",{className:"px-4 py-3 bg-gray-50 flex items-center justify-between"},a.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},a.createElement("input",{type:"checkbox",checked:w,onChange:U,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.createElement("span",{className:"text-sm font-medium text-gray-700"},"Select All")),a.createElement("span",{className:"text-sm text-gray-500"},l.totalCount," total")),r.map(re=>a.createElement(Ude,{key:`${re.enrollmentType}-${re.enrollmentId}`,ticket:re,isSelected:C(re),onSelect:()=>I(re),onReshare:()=>Ee(re),isResharing:h[`${re.enrollmentType}-${re.enrollmentId}`],formatDate:J,formatCurrency:ae})))),!d&&l.totalPages>1&&a.createElement("div",{className:"border-t border-gray-200 px-4 py-3 flex flex-col sm:flex-row items-center justify-between gap-3"},a.createElement("p",{className:"text-sm text-gray-600"},"Page ",l.currentPage," of ",l.totalPages," (",l.totalCount," items)"),a.createElement("div",{className:"flex items-center gap-2"},a.createElement("button",{onClick:()=>M(l.currentPage-1),disabled:l.currentPage===1,className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Previous"),a.createElement("div",{className:"hidden sm:flex items-center gap-1"},Array.from({length:Math.min(5,l.totalPages)},(re,W)=>{let te;return l.totalPages<=5||l.currentPage<=3?te=W+1:l.currentPage>=l.totalPages-2?te=l.totalPages-4+W:te=l.currentPage-2+W,a.createElement("button",{key:te,onClick:()=>M(te),className:`w-8 h-8 text-sm rounded-lg ${l.currentPage===te?"bg-gray-900 text-white":"border border-gray-300 hover:bg-gray-50"}`},te)})),a.createElement("button",{onClick:()=>M(l.currentPage+1),disabled:l.currentPage===l.totalPages,className:"px-3 py-1.5 text-sm border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},"Next"))))),!t&&!g&&a.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center"},a.createElement(_m,{className:"w-20 h-20 text-gray-300 mx-auto mb-4"}),a.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Select an Event"),a.createElement("p",{className:"text-gray-600"},"Choose an event from the dropdown above to view and manage ticket holders")),X&&a.createElement("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},a.createElement("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6"},a.createElement("h3",{className:"text-lg font-bold text-gray-900 mb-2"},"Confirm Reshare"),a.createElement("p",{className:"text-gray-600 mb-4"},"This will reset the scan status and send a new QR code to:"),a.createElement("div",{className:"bg-gray-50 rounded-lg p-3 mb-4"},a.createElement("p",{className:"font-semibold text-gray-900"},X.user?.name||X.name||"Unknown"),a.createElement("p",{className:"text-sm text-gray-600"},X.phone||X.user?.phone),X.user?.email&&a.createElement("p",{className:"text-sm text-gray-600"},X.user?.email)),a.createElement("div",{className:"mb-4"},a.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Send via"),a.createElement("select",{value:pe,onChange:re=>se(re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t_.map(re=>a.createElement("option",{key:re.value,value:re.value},re.label)))),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("button",{onClick:()=>he(null),className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium"},"Cancel"),a.createElement("button",{onClick:be,disabled:h[`${X.enrollmentType}-${X.enrollmentId}`],className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium disabled:opacity-50"},h[`${X.enrollmentType}-${X.enrollmentId}`]?a.createElement("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.createElement(fg,{className:"w-4 h-4"}),"Reshare")))))}function Cu({label:e,value:t,color:r,icon:n}){const l={blue:"bg-blue-50 text-blue-600 border-blue-200",purple:"bg-purple-50 text-purple-600 border-purple-200",green:"bg-green-50 text-green-600 border-green-200",emerald:"bg-emerald-50 text-emerald-600 border-emerald-200",orange:"bg-orange-50 text-orange-600 border-orange-200",red:"bg-red-50 text-red-600 border-red-200"};return a.createElement("div",{className:`rounded-lg border p-3 ${l[r]||l.blue}`},a.createElement("div",{className:"flex items-center gap-2 mb-1"},a.createElement("span",{className:"w-4 h-4"},n),a.createElement("span",{className:"text-xs font-medium opacity-80"},e)),a.createElement("p",{className:"text-xl font-bold"},t||0))}function Fde({ticket:e,isSelected:t,onSelect:r,onReshare:n,isResharing:l,formatDate:o,formatCurrency:d}){const g=e.user?.name||e.name||"Unknown",h=e.phone||e.user?.phone||"N/A",x=e.user?.email||"N/A",y=e.enrollmentType==="ONLINE"?e.ticketPrice:e.priceCharged;return a.createElement("tr",{className:"hover:bg-gray-50 transition-colors"},a.createElement("td",{className:"px-4 py-3"},a.createElement("input",{type:"checkbox",checked:t,onChange:r,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})),a.createElement("td",{className:"px-4 py-3"},a.createElement("div",null,a.createElement("p",{className:"font-semibold text-gray-900"},g),a.createElement("div",{className:"flex items-center gap-3 text-sm text-gray-600"},a.createElement("span",{className:"flex items-center gap-1"},a.createElement(wz,{className:"w-3.5 h-3.5"}),h),x!=="N/A"&&a.createElement("span",{className:"flex items-center gap-1 truncate max-w-[200px]"},a.createElement(vz,{className:"w-3.5 h-3.5"}),x)))),a.createElement("td",{className:"px-4 py-3"},a.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.enrollmentType==="ONLINE"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`},e.enrollmentType)),a.createElement("td",{className:"px-4 py-3"},a.createElement("div",null,e.tierName&&a.createElement("p",{className:"text-sm font-medium text-gray-900"},e.tierName),a.createElement("p",{className:"text-sm text-gray-600"},d(y)))),a.createElement("td",{className:"px-4 py-3 text-center"},e.isTicketScanned?a.createElement("div",{className:"inline-flex flex-col items-center"},a.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},a.createElement(Vu,{className:"w-3.5 h-3.5"}),"Scanned"),e.ticketScannedAt&&a.createElement("span",{className:"text-xs text-gray-500 mt-1"},o(e.ticketScannedAt))):a.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800"},a.createElement(_m,{className:"w-3.5 h-3.5"}),"Not Scanned")),a.createElement("td",{className:"px-4 py-3"},a.createElement("span",{className:"text-sm text-gray-600"},o(e.createdAt))),a.createElement("td",{className:"px-4 py-3 text-right"},a.createElement("button",{onClick:n,disabled:l||e.status==="CANCELLED",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l?a.createElement("div",{className:"w-3.5 h-3.5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.createElement(fg,{className:"w-3.5 h-3.5"}),"Reshare")))}function Ude({ticket:e,isSelected:t,onSelect:r,onReshare:n,isResharing:l,formatDate:o,formatCurrency:d}){const g=e.user?.name||e.name||"Unknown",h=e.phone||e.user?.phone||"N/A";e.user?.email;const x=e.enrollmentType==="ONLINE"?e.ticketPrice:e.priceCharged;return a.createElement("div",{className:"p-4 hover:bg-gray-50 transition-colors"},a.createElement("div",{className:"flex items-start gap-3"},a.createElement("input",{type:"checkbox",checked:t,onChange:r,className:"w-4 h-4 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.createElement("div",{className:"flex-1 min-w-0"},a.createElement("div",{className:"flex items-start justify-between gap-2 mb-2"},a.createElement("div",null,a.createElement("p",{className:"font-semibold text-gray-900"},g),a.createElement("p",{className:"text-sm text-gray-600"},h)),a.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium shrink-0 ${e.enrollmentType==="ONLINE"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`},e.enrollmentType)),a.createElement("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3"},a.createElement("div",null,a.createElement("p",{className:"text-gray-500 text-xs"},"Price"),a.createElement("p",{className:"font-medium text-gray-900"},d(x))),e.tierName&&a.createElement("div",null,a.createElement("p",{className:"text-gray-500 text-xs"},"Tier"),a.createElement("p",{className:"font-medium text-gray-900"},e.tierName))),a.createElement("div",{className:"flex items-center justify-between"},e.isTicketScanned?a.createElement("div",null,a.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800"},a.createElement(Vu,{className:"w-3.5 h-3.5"}),"Scanned"),e.ticketScannedAt&&a.createElement("p",{className:"text-xs text-gray-500 mt-1"},o(e.ticketScannedAt))):a.createElement("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800"},a.createElement(_m,{className:"w-3.5 h-3.5"}),"Not Scanned"),a.createElement("button",{onClick:n,disabled:l||e.status==="CANCELLED",className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},l?a.createElement("div",{className:"w-3.5 h-3.5 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.createElement(fg,{className:"w-3.5 h-3.5"}),"Reshare")))))}function jde(){return a.createElement(uB,null,a.createElement(WF,null,a.createElement(zL,null,a.createElement(mn,{path:"/login",element:a.createElement(ZF,null,a.createElement(sz,null))}),a.createElement(mn,{element:a.createElement(KF,null,a.createElement(az,null))},a.createElement(mn,{path:"/dashboard",element:a.createElement(qoe,null)}),a.createElement(mn,{path:"/events",element:a.createElement(ice,null)}),a.createElement(mn,{path:"/enrollments",element:a.createElement(oce,null)}),a.createElement(mn,{path:"/coupons",element:a.createElement(cce,null)}),a.createElement(mn,{path:"/users",element:a.createElement(gce,null)}),a.createElement(mn,{path:"/admins",element:a.createElement(_ce,null)}),a.createElement(mn,{path:"/payments",element:a.createElement(Dce,null)}),a.createElement(mn,{path:"/cash-tickets",element:a.createElement(Gce,null)}),a.createElement(mn,{path:"/vouchers",element:a.createElement(Qce,null)}),a.createElement(mn,{path:"/sessions",element:a.createElement(cue,null)}),a.createElement(mn,{path:"/quizes",element:a.createElement(Eue,null)}),a.createElement(mn,{path:"/challenges",element:a.createElement(_ue,null)}),a.createElement(mn,{path:"/polls",element:a.createElement(Uue,null)}),a.createElement(mn,{path:"/stories",element:a.createElement(nde,null)}),a.createElement(mn,{path:"/scan-qr",element:a.createElement(kde,null)}),a.createElement(mn,{path:"/ticket-reshare",element:a.createElement(Bde,null)})),a.createElement(mn,{path:"/",element:a.createElement(ag,{to:"/dashboard",replace:!0})}),a.createElement(mn,{path:"*",element:a.createElement(ag,{to:"/dashboard",replace:!0})}))))}Y9.createRoot(document.getElementById("root")).render(a.createElement(N.StrictMode,null,a.createElement(jde,null)));
