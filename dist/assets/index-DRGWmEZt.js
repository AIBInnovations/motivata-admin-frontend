function YL(e,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}})();function Pl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fy={exports:{}},Ve={};var kC;function QL(){if(kC)return Ve;kC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),b=Symbol.iterator;function E(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function C(j,B,X){this.props=j,this.context=B,this.refs=w,this.updater=X||N}C.prototype.isReactComponent={},C.prototype.setState=function(j,B){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,B,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function k(){}k.prototype=C.prototype;function A(j,B,X){this.props=j,this.context=B,this.refs=w,this.updater=X||N}var M=A.prototype=new k;M.constructor=A,S(M,C.prototype),M.isPureReactComponent=!0;var O=Array.isArray;function D(){}var _={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function R(j,B,X){var K=X.ref;return{$$typeof:e,type:j,key:B,ref:K!==void 0?K:null,props:X}}function U(j,B){return R(j.type,B,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function I(j){var B={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(X){return B[X]})}var ae=/\/+/g;function ne(j,B){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):B.toString(36)}function ue(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(D,D):(j.status="pending",j.then(function(B){j.status==="pending"&&(j.status="fulfilled",j.value=B)},function(B){j.status==="pending"&&(j.status="rejected",j.reason=B)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function F(j,B,X,K,oe){var Q=typeof j;(Q==="undefined"||Q==="boolean")&&(j=null);var V=!1;if(j===null)V=!0;else switch(Q){case"bigint":case"string":case"number":V=!0;break;case"object":switch(j.$$typeof){case e:case t:V=!0;break;case f:return V=j._init,F(V(j._payload),B,X,K,oe)}}if(V)return oe=oe(j),V=K===""?"."+ne(j,0):K,O(oe)?(X="",V!=null&&(X=V.replace(ae,"$&/")+"/"),F(oe,B,X,"",function(Se){return Se})):oe!=null&&(L(oe)&&(oe=U(oe,X+(oe.key==null||j&&j.key===oe.key?"":(""+oe.key).replace(ae,"$&/")+"/")+V)),B.push(oe)),1;V=0;var we=K===""?".":K+":";if(O(j))for(var W=0;W<j.length;W++)K=j[W],Q=we+ne(K,W),V+=F(K,B,X,Q,oe);else if(W=E(j),typeof W=="function")for(j=W.call(j),W=0;!(K=j.next()).done;)K=K.value,Q=we+ne(K,W++),V+=F(K,B,X,Q,oe);else if(Q==="object"){if(typeof j.then=="function")return F(ue(j),B,X,K,oe);throw B=String(j),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return V}function G(j,B,X){if(j==null)return j;var K=[],oe=0;return F(j,K,"","",function(Q){return B.call(X,Q,oe++)}),K}function le(j){if(j._status===-1){var B=j._result;B=B(),B.then(function(X){(j._status===0||j._status===-1)&&(j._status=1,j._result=X)},function(X){(j._status===0||j._status===-1)&&(j._status=2,j._result=X)}),j._status===-1&&(j._status=0,j._result=B)}if(j._status===1)return j._result.default;throw j._result}var te=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},H={map:G,forEach:function(j,B,X){G(j,function(){B.apply(this,arguments)},X)},count:function(j){var B=0;return G(j,function(){B++}),B},toArray:function(j){return G(j,function(B){return B})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ve.Activity=h,Ve.Children=H,Ve.Component=C,Ve.Fragment=a,Ve.Profiler=s,Ve.PureComponent=A,Ve.StrictMode=r,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(j){return _.H.useMemoCache(j)}},Ve.cache=function(j){return function(){return j.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(j,B,X){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var K=S({},j.props),oe=j.key;if(B!=null)for(Q in B.key!==void 0&&(oe=""+B.key),B)!P.call(B,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&B.ref===void 0||(K[Q]=B[Q]);var Q=arguments.length-2;if(Q===1)K.children=X;else if(1<Q){for(var V=Array(Q),we=0;we<Q;we++)V[we]=arguments[we+2];K.children=V}return R(j.type,oe,K)},Ve.createContext=function(j){return j={$$typeof:c,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},Ve.createElement=function(j,B,X){var K,oe={},Q=null;if(B!=null)for(K in B.key!==void 0&&(Q=""+B.key),B)P.call(B,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(oe[K]=B[K]);var V=arguments.length-2;if(V===1)oe.children=X;else if(1<V){for(var we=Array(V),W=0;W<V;W++)we[W]=arguments[W+2];oe.children=we}if(j&&j.defaultProps)for(K in V=j.defaultProps,V)oe[K]===void 0&&(oe[K]=V[K]);return R(j,Q,oe)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(j){return{$$typeof:d,render:j}},Ve.isValidElement=L,Ve.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:le}},Ve.memo=function(j,B){return{$$typeof:p,type:j,compare:B===void 0?null:B}},Ve.startTransition=function(j){var B=_.T,X={};_.T=X;try{var K=j(),oe=_.S;oe!==null&&oe(X,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(D,te)}catch(Q){te(Q)}finally{B!==null&&X.types!==null&&(B.types=X.types),_.T=B}},Ve.unstable_useCacheRefresh=function(){return _.H.useCacheRefresh()},Ve.use=function(j){return _.H.use(j)},Ve.useActionState=function(j,B,X){return _.H.useActionState(j,B,X)},Ve.useCallback=function(j,B){return _.H.useCallback(j,B)},Ve.useContext=function(j){return _.H.useContext(j)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(j,B){return _.H.useDeferredValue(j,B)},Ve.useEffect=function(j,B){return _.H.useEffect(j,B)},Ve.useEffectEvent=function(j){return _.H.useEffectEvent(j)},Ve.useId=function(){return _.H.useId()},Ve.useImperativeHandle=function(j,B,X){return _.H.useImperativeHandle(j,B,X)},Ve.useInsertionEffect=function(j,B){return _.H.useInsertionEffect(j,B)},Ve.useLayoutEffect=function(j,B){return _.H.useLayoutEffect(j,B)},Ve.useMemo=function(j,B){return _.H.useMemo(j,B)},Ve.useOptimistic=function(j,B){return _.H.useOptimistic(j,B)},Ve.useReducer=function(j,B,X){return _.H.useReducer(j,B,X)},Ve.useRef=function(j){return _.H.useRef(j)},Ve.useState=function(j){return _.H.useState(j)},Ve.useSyncExternalStore=function(j,B,X){return _.H.useSyncExternalStore(j,B,X)},Ve.useTransition=function(){return _.H.useTransition()},Ve.version="19.2.0",Ve}var DC;function Yo(){return DC||(DC=1,fy.exports=QL()),fy.exports}var y=Yo();const n=Pl(y),XL=YL({__proto__:null,default:n},[y]);var gy={exports:{}},ru={},py={exports:{}},hy={};var _C;function WL(){return _C||(_C=1,(function(e){function t(F,G){var le=F.length;F.push(G);e:for(;0<le;){var te=le-1>>>1,H=F[te];if(0<s(H,G))F[te]=G,F[le]=H,le=te;else break e}}function a(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var G=F[0],le=F.pop();if(le!==G){F[0]=le;e:for(var te=0,H=F.length,j=H>>>1;te<j;){var B=2*(te+1)-1,X=F[B],K=B+1,oe=F[K];if(0>s(X,le))K<H&&0>s(oe,X)?(F[te]=oe,F[K]=le,te=K):(F[te]=X,F[B]=le,te=B);else if(K<H&&0>s(oe,le))F[te]=oe,F[K]=le,te=K;else break e}}return G}function s(F,G){var le=F.sortIndex-G.sortIndex;return le!==0?le:F.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],f=1,h=null,b=3,E=!1,N=!1,S=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(F){for(var G=a(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=F)r(p),G.sortIndex=G.expirationTime,t(m,G);else break;G=a(p)}}function O(F){if(S=!1,M(F),!N)if(a(m)!==null)N=!0,D||(D=!0,I());else{var G=a(p);G!==null&&ue(O,G.startTime-F)}}var D=!1,_=-1,P=5,R=-1;function U(){return w?!0:!(e.unstable_now()-R<P)}function L(){if(w=!1,D){var F=e.unstable_now();R=F;var G=!0;try{e:{N=!1,S&&(S=!1,k(_),_=-1),E=!0;var le=b;try{t:{for(M(F),h=a(m);h!==null&&!(h.expirationTime>F&&U());){var te=h.callback;if(typeof te=="function"){h.callback=null,b=h.priorityLevel;var H=te(h.expirationTime<=F);if(F=e.unstable_now(),typeof H=="function"){h.callback=H,M(F),G=!0;break t}h===a(m)&&r(m),M(F)}else r(m);h=a(m)}if(h!==null)G=!0;else{var j=a(p);j!==null&&ue(O,j.startTime-F),G=!1}}break e}finally{h=null,b=le,E=!1}G=void 0}}finally{G?I():D=!1}}}var I;if(typeof A=="function")I=function(){A(L)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ne=ae.port2;ae.port1.onmessage=L,I=function(){ne.postMessage(null)}}else I=function(){C(L,0)};function ue(F,G){_=C(function(){F(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(F){switch(b){case 1:case 2:case 3:var G=3;break;default:G=b}var le=b;b=G;try{return F()}finally{b=le}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var le=b;b=F;try{return G()}finally{b=le}},e.unstable_scheduleCallback=function(F,G,le){var te=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?te+le:te):le=te,F){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=le+H,F={id:f++,callback:G,priorityLevel:F,startTime:le,expirationTime:H,sortIndex:-1},le>te?(F.sortIndex=le,t(p,F),a(m)===null&&F===a(p)&&(S?(k(_),_=-1):S=!0,ue(O,le-te))):(F.sortIndex=H,t(m,F),N||E||(N=!0,D||(D=!0,I()))),F},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(F){var G=b;return function(){var le=b;b=G;try{return F.apply(this,arguments)}finally{b=le}}}})(hy)),hy}var PC;function ZL(){return PC||(PC=1,py.exports=WL()),py.exports}var yy={exports:{}},Pa={};var MC;function JL(){if(MC)return Pa;MC=1;var e=Yo();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)p+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(m,p,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:h==null?null:""+h,children:m,containerInfo:p,implementation:f}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Pa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Pa.createPortal=function(m,p){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(m,p,null,f)},Pa.flushSync=function(m){var p=c.T,f=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=f,r.d.f()}},Pa.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},Pa.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Pa.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var f=p.as,h=d(f,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;f==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:h,integrity:b,fetchPriority:E}):f==="script"&&r.d.X(m,{crossOrigin:h,integrity:b,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Pa.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var f=d(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},Pa.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var f=p.as,h=d(f,p.crossOrigin);r.d.L(m,f,{crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Pa.preloadModule=function(m,p){if(typeof m=="string")if(p){var f=d(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:f,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},Pa.requestFormReset=function(m){r.d.r(m)},Pa.unstable_batchedUpdates=function(m,p){return m(p)},Pa.useFormState=function(m,p,f){return c.H.useFormState(m,p,f)},Pa.useFormStatus=function(){return c.H.useHostTransitionStatus()},Pa.version="19.2.0",Pa}var RC;function S3(){if(RC)return yy.exports;RC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yy.exports=JL(),yy.exports}var LC;function ej(){if(LC)return ru;LC=1;var e=ZL(),t=Yo(),a=S3();function r(l){var i="https://react.dev/errors/"+l;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+l+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function o(l){var i=l,u=l;if(l.alternate)for(;i.return;)i=i.return;else{l=i;do i=l,(i.flags&4098)!==0&&(u=i.return),l=i.return;while(l)}return i.tag===3?u:null}function c(l){if(l.tag===13){var i=l.memoizedState;if(i===null&&(l=l.alternate,l!==null&&(i=l.memoizedState)),i!==null)return i.dehydrated}return null}function d(l){if(l.tag===31){var i=l.memoizedState;if(i===null&&(l=l.alternate,l!==null&&(i=l.memoizedState)),i!==null)return i.dehydrated}return null}function m(l){if(o(l)!==l)throw Error(r(188))}function p(l){var i=l.alternate;if(!i){if(i=o(l),i===null)throw Error(r(188));return i!==l?null:l}for(var u=l,g=i;;){var v=u.return;if(v===null)break;var x=v.alternate;if(x===null){if(g=v.return,g!==null){u=g;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===u)return m(v),l;if(x===g)return m(v),i;x=x.sibling}throw Error(r(188))}if(u.return!==g.return)u=v,g=x;else{for(var T=!1,z=v.child;z;){if(z===u){T=!0,u=v,g=x;break}if(z===g){T=!0,g=v,u=x;break}z=z.sibling}if(!T){for(z=x.child;z;){if(z===u){T=!0,u=x,g=v;break}if(z===g){T=!0,g=x,u=v;break}z=z.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==g)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?l:i}function f(l){var i=l.tag;if(i===5||i===26||i===27||i===6)return l;for(l=l.child;l!==null;){if(i=f(l),i!==null)return i;l=l.sibling}return null}var h=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function I(l){return l===null||typeof l!="object"?null:(l=L&&l[L]||l["@@iterator"],typeof l=="function"?l:null)}var ae=Symbol.for("react.client.reference");function ne(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===ae?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case S:return"Fragment";case C:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case D:return"SuspenseList";case R:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case N:return"Portal";case A:return l.displayName||"Context";case k:return(l._context.displayName||"Context")+".Consumer";case M:var i=l.render;return l=l.displayName,l||(l=i.displayName||i.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case _:return i=l.displayName||null,i!==null?i:ne(l.type)||"Memo";case P:i=l._payload,l=l._init;try{return ne(l(i))}catch{}}return null}var ue=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},te=[],H=-1;function j(l){return{current:l}}function B(l){0>H||(l.current=te[H],te[H]=null,H--)}function X(l,i){H++,te[H]=l.current,l.current=i}var K=j(null),oe=j(null),Q=j(null),V=j(null);function we(l,i){switch(X(Q,i),X(oe,l),X(K,null),i.nodeType){case 9:case 11:l=(l=i.documentElement)&&(l=l.namespaceURI)?ZS(l):0;break;default:if(l=i.tagName,i=i.namespaceURI)i=ZS(i),l=JS(i,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}B(K),X(K,l)}function W(){B(K),B(oe),B(Q)}function Se(l){l.memoizedState!==null&&X(V,l);var i=K.current,u=JS(i,l.type);i!==u&&(X(oe,l),X(K,u))}function Te(l){oe.current===l&&(B(K),B(oe)),V.current===l&&(B(V),Jc._currentValue=le)}var ge,$e;function Pe(l){if(ge===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);ge=i&&i[1]||"",$e=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+l+$e}var ve=!1;function Ue(l,i){if(!l||ve)return"";ve=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(i){var ye=function(){throw Error()};if(Object.defineProperty(ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ye,[])}catch(ie){var ee=ie}Reflect.construct(l,[],ye)}else{try{ye.call()}catch(ie){ee=ie}l.call(ye.prototype)}}else{try{throw Error()}catch(ie){ee=ie}(ye=l())&&typeof ye.catch=="function"&&ye.catch(function(){})}}catch(ie){if(ie&&ee&&typeof ie.stack=="string")return[ie.stack,ee.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=g.DetermineComponentFrameRoot(),T=x[0],z=x[1];if(T&&z){var $=T.split(`
`),J=z.split(`
`);for(v=g=0;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(g===$.length||v===J.length)for(g=$.length-1,v=J.length-1;1<=g&&0<=v&&$[g]!==J[v];)v--;for(;1<=g&&0<=v;g--,v--)if($[g]!==J[v]){if(g!==1||v!==1)do if(g--,v--,0>v||$[g]!==J[v]){var me=`
`+$[g].replace(" at new "," at ");return l.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",l.displayName)),me}while(1<=g&&0<=v);break}}}finally{ve=!1,Error.prepareStackTrace=u}return(u=l?l.displayName||l.name:"")?Pe(u):""}function xe(l,i){switch(l.tag){case 26:case 27:case 5:return Pe(l.type);case 16:return Pe("Lazy");case 13:return l.child!==i&&i!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Ue(l.type,!1);case 11:return Ue(l.type.render,!1);case 1:return Ue(l.type,!0);case 31:return Pe("Activity");default:return""}}function Le(l){try{var i="",u=null;do i+=xe(l,u),u=l,l=l.return;while(l);return i}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var Et=Object.prototype.hasOwnProperty,Ht=e.unstable_scheduleCallback,Tt=e.unstable_cancelCallback,Ae=e.unstable_shouldYield,ce=e.unstable_requestPaint,pe=e.unstable_now,qe=e.unstable_getCurrentPriorityLevel,He=e.unstable_ImmediatePriority,ht=e.unstable_UserBlockingPriority,Ha=e.unstable_NormalPriority,$n=e.unstable_LowPriority,yn=e.unstable_IdlePriority,Bn=e.log,Vn=e.unstable_setDisableYieldValue,Ga=null,Ne=null;function Oe(l){if(typeof Bn=="function"&&Vn(l),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Ga,l)}catch{}}var je=Math.clz32?Math.clz32:qn,Jt=Math.log,va=Math.LN2;function qn(l){return l>>>=0,l===0?32:31-(Jt(l)/va|0)|0}var vn=256,Hn=262144,Ua=4194304;function Qr(l){var i=l&42;if(i!==0)return i;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function bn(l,i,u){var g=l.pendingLanes;if(g===0)return 0;var v=0,x=l.suspendedLanes,T=l.pingedLanes;l=l.warmLanes;var z=g&134217727;return z!==0?(g=z&~x,g!==0?v=Qr(g):(T&=z,T!==0?v=Qr(T):u||(u=z&~l,u!==0&&(v=Qr(u))))):(z=g&~x,z!==0?v=Qr(z):T!==0?v=Qr(T):u||(u=g&~l,u!==0&&(v=Qr(u)))),v===0?0:i!==0&&i!==v&&(i&x)===0&&(x=v&-v,u=i&-i,x>=u||x===32&&(u&4194048)!==0)?i:v}function xn(l,i){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&i)===0}function de(l,i){switch(l){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Je(){var l=Ua;return Ua<<=1,(Ua&62914560)===0&&(Ua=4194304),l}function En(l){for(var i=[],u=0;31>u;u++)i.push(l);return i}function js(l,i){l.pendingLanes|=i,i!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function rp(l,i,u,g,v,x){var T=l.pendingLanes;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=u,l.entangledLanes&=u,l.errorRecoveryDisabledLanes&=u,l.shellSuspendCounter=0;var z=l.entanglements,$=l.expirationTimes,J=l.hiddenUpdates;for(u=T&~u;0<u;){var me=31-je(u),ye=1<<me;z[me]=0,$[me]=-1;var ee=J[me];if(ee!==null)for(J[me]=null,me=0;me<ee.length;me++){var ie=ee[me];ie!==null&&(ie.lane&=-536870913)}u&=~ye}g!==0&&Rm(l,g,0),x!==0&&v===0&&l.tag!==0&&(l.suspendedLanes|=x&~(T&~i))}function Rm(l,i,u){l.pendingLanes|=i,l.suspendedLanes&=~i;var g=31-je(i);l.entangledLanes|=i,l.entanglements[g]=l.entanglements[g]|1073741824|u&261930}function _i(l,i){var u=l.entangledLanes|=i;for(l=l.entanglements;u;){var g=31-je(u),v=1<<g;v&i|l[g]&i&&(l[g]|=i),u&=~v}}function mc(l,i){var u=i&-i;return u=(u&42)!==0?1:dc(u),(u&(l.suspendedLanes|i))!==0?0:u}function dc(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function fc(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function gc(){var l=G.p;return l!==0?l:(l=window.event,l===void 0?32:NC(l.type))}function Lm(l,i){var u=G.p;try{return G.p=l,i()}finally{G.p=u}}var Xr=Math.random().toString(36).slice(2),ea="__reactFiber$"+Xr,ba="__reactProps$"+Xr,Ul="__reactContainer$"+Xr,pc="__reactEvents$"+Xr,np="__reactListeners$"+Xr,lp="__reactHandles$"+Xr,jm="__reactResources$"+Xr,Il="__reactMarker$"+Xr;function Pi(l){delete l[ea],delete l[ba],delete l[pc],delete l[np],delete l[lp]}function Gn(l){var i=l[ea];if(i)return i;for(var u=l.parentNode;u;){if(i=u[Ul]||u[ea]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(l=sC(l);l!==null;){if(u=l[ea])return u;l=sC(l)}return i}l=u,u=l.parentNode}return null}function Kn(l){if(l=l[ea]||l[Ul]){var i=l.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return l}return null}function fe(l){var i=l.tag;if(i===5||i===26||i===27||i===6)return l.stateNode;throw Error(r(33))}function Me(l){var i=l[jm];return i||(i=l[jm]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ut(l){l[Il]=!0}var FN=new Set,$N={};function zs(l,i){Mi(l,i),Mi(l+"Capture",i)}function Mi(l,i){for($N[l]=i,l=0;l<i.length;l++)FN.add(i[l])}var IR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),BN={},VN={};function FR(l){return Et.call(VN,l)?!0:Et.call(BN,l)?!1:IR.test(l)?VN[l]=!0:(BN[l]=!0,!1)}function zm(l,i,u){if(FR(i))if(u===null)l.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":l.removeAttribute(i);return;case"boolean":var g=i.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(i);return}}l.setAttribute(i,""+u)}}function Um(l,i,u){if(u===null)l.removeAttribute(i);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(i);return}l.setAttribute(i,""+u)}}function Yn(l,i,u,g){if(g===null)l.removeAttribute(u);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttributeNS(i,u,""+g)}}function Er(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function qN(l){var i=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $R(l,i,u){var g=Object.getOwnPropertyDescriptor(l.constructor.prototype,i);if(!l.hasOwnProperty(i)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,x=g.set;return Object.defineProperty(l,i,{configurable:!0,get:function(){return v.call(this)},set:function(T){u=""+T,x.call(this,T)}}),Object.defineProperty(l,i,{enumerable:g.enumerable}),{getValue:function(){return u},setValue:function(T){u=""+T},stopTracking:function(){l._valueTracker=null,delete l[i]}}}}function sp(l){if(!l._valueTracker){var i=qN(l)?"checked":"value";l._valueTracker=$R(l,i,""+l[i])}}function HN(l){if(!l)return!1;var i=l._valueTracker;if(!i)return!0;var u=i.getValue(),g="";return l&&(g=qN(l)?l.checked?"true":"false":l.value),l=g,l!==u?(i.setValue(l),!0):!1}function Im(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var BR=/[\n"\\]/g;function Nr(l){return l.replace(BR,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ip(l,i,u,g,v,x,T,z){l.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?l.type=T:l.removeAttribute("type"),i!=null?T==="number"?(i===0&&l.value===""||l.value!=i)&&(l.value=""+Er(i)):l.value!==""+Er(i)&&(l.value=""+Er(i)):T!=="submit"&&T!=="reset"||l.removeAttribute("value"),i!=null?op(l,T,Er(i)):u!=null?op(l,T,Er(u)):g!=null&&l.removeAttribute("value"),v==null&&x!=null&&(l.defaultChecked=!!x),v!=null&&(l.checked=v&&typeof v!="function"&&typeof v!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.name=""+Er(z):l.removeAttribute("name")}function GN(l,i,u,g,v,x,T,z){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(l.type=x),i!=null||u!=null){if(!(x!=="submit"&&x!=="reset"||i!=null)){sp(l);return}u=u!=null?""+Er(u):"",i=i!=null?""+Er(i):u,z||i===l.value||(l.value=i),l.defaultValue=i}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=z?l.checked:!!g,l.defaultChecked=!!g,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(l.name=T),sp(l)}function op(l,i,u){i==="number"&&Im(l.ownerDocument)===l||l.defaultValue===""+u||(l.defaultValue=""+u)}function Ri(l,i,u,g){if(l=l.options,i){i={};for(var v=0;v<u.length;v++)i["$"+u[v]]=!0;for(u=0;u<l.length;u++)v=i.hasOwnProperty("$"+l[u].value),l[u].selected!==v&&(l[u].selected=v),v&&g&&(l[u].defaultSelected=!0)}else{for(u=""+Er(u),i=null,v=0;v<l.length;v++){if(l[v].value===u){l[v].selected=!0,g&&(l[v].defaultSelected=!0);return}i!==null||l[v].disabled||(i=l[v])}i!==null&&(i.selected=!0)}}function KN(l,i,u){if(i!=null&&(i=""+Er(i),i!==l.value&&(l.value=i),u==null)){l.defaultValue!==i&&(l.defaultValue=i);return}l.defaultValue=u!=null?""+Er(u):""}function YN(l,i,u,g){if(i==null){if(g!=null){if(u!=null)throw Error(r(92));if(ue(g)){if(1<g.length)throw Error(r(93));g=g[0]}u=g}u==null&&(u=""),i=u}u=Er(i),l.defaultValue=u,g=l.textContent,g===u&&g!==""&&g!==null&&(l.value=g),sp(l)}function Li(l,i){if(i){var u=l.firstChild;if(u&&u===l.lastChild&&u.nodeType===3){u.nodeValue=i;return}}l.textContent=i}var VR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function QN(l,i,u){var g=i.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?g?l.setProperty(i,""):i==="float"?l.cssFloat="":l[i]="":g?l.setProperty(i,u):typeof u!="number"||u===0||VR.has(i)?i==="float"?l.cssFloat=u:l[i]=(""+u).trim():l[i]=u+"px"}function XN(l,i,u){if(i!=null&&typeof i!="object")throw Error(r(62));if(l=l.style,u!=null){for(var g in u)!u.hasOwnProperty(g)||i!=null&&i.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var v in i)g=i[v],i.hasOwnProperty(v)&&u[v]!==g&&QN(l,v,g)}else for(var x in i)i.hasOwnProperty(x)&&QN(l,x,i[x])}function cp(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),HR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fm(l){return HR.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Qn(){}var up=null;function mp(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ji=null,zi=null;function WN(l){var i=Kn(l);if(i&&(l=i.stateNode)){var u=l[ba]||null;e:switch(l=i.stateNode,i.type){case"input":if(ip(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),i=u.name,u.type==="radio"&&i!=null){for(u=l;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Nr(""+i)+'"][type="radio"]'),i=0;i<u.length;i++){var g=u[i];if(g!==l&&g.form===l.form){var v=g[ba]||null;if(!v)throw Error(r(90));ip(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(i=0;i<u.length;i++)g=u[i],g.form===l.form&&HN(g)}break e;case"textarea":KN(l,u.value,u.defaultValue);break e;case"select":i=u.value,i!=null&&Ri(l,!!u.multiple,i,!1)}}}var dp=!1;function ZN(l,i,u){if(dp)return l(i,u);dp=!0;try{var g=l(i);return g}finally{if(dp=!1,(ji!==null||zi!==null)&&(Td(),ji&&(i=ji,l=zi,zi=ji=null,WN(i),l)))for(i=0;i<l.length;i++)WN(l[i])}}function hc(l,i){var u=l.stateNode;if(u===null)return null;var g=u[ba]||null;if(g===null)return null;u=g[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(u&&typeof u!="function")throw Error(r(231,i,typeof u));return u}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=!1;if(Xn)try{var yc={};Object.defineProperty(yc,"passive",{get:function(){fp=!0}}),window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{fp=!1}var Fl=null,gp=null,$m=null;function JN(){if($m)return $m;var l,i=gp,u=i.length,g,v="value"in Fl?Fl.value:Fl.textContent,x=v.length;for(l=0;l<u&&i[l]===v[l];l++);var T=u-l;for(g=1;g<=T&&i[u-g]===v[x-g];g++);return $m=v.slice(l,1<g?1-g:void 0)}function Bm(l){var i=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&i===13&&(l=13)):l=i,l===10&&(l=13),32<=l||l===13?l:0}function Vm(){return!0}function ew(){return!1}function Ka(l){function i(u,g,v,x,T){this._reactName=u,this._targetInst=v,this.type=g,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var z in l)l.hasOwnProperty(z)&&(u=l[z],this[z]=u?u(x):x[z]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Vm:ew,this.isPropagationStopped=ew,this}return h(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vm)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vm)},persist:function(){},isPersistent:Vm}),i}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=Ka(Us),vc=h({},Us,{view:0,detail:0}),GR=Ka(vc),pp,hp,bc,Hm=h({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vp,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==bc&&(bc&&l.type==="mousemove"?(pp=l.screenX-bc.screenX,hp=l.screenY-bc.screenY):hp=pp=0,bc=l),pp)},movementY:function(l){return"movementY"in l?l.movementY:hp}}),tw=Ka(Hm),KR=h({},Hm,{dataTransfer:0}),YR=Ka(KR),QR=h({},vc,{relatedTarget:0}),yp=Ka(QR),XR=h({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),WR=Ka(XR),ZR=h({},Us,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),JR=Ka(ZR),e7=h({},Us,{data:0}),aw=Ka(e7),t7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n7(l){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(l):(l=r7[l])?!!i[l]:!1}function vp(){return n7}var l7=h({},vc,{key:function(l){if(l.key){var i=t7[l.key]||l.key;if(i!=="Unidentified")return i}return l.type==="keypress"?(l=Bm(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?a7[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vp,charCode:function(l){return l.type==="keypress"?Bm(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Bm(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),s7=Ka(l7),i7=h({},Hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rw=Ka(i7),o7=h({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vp}),c7=Ka(o7),u7=h({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),m7=Ka(u7),d7=h({},Hm,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),f7=Ka(d7),g7=h({},Us,{newState:0,oldState:0}),p7=Ka(g7),h7=[9,13,27,32],bp=Xn&&"CompositionEvent"in window,xc=null;Xn&&"documentMode"in document&&(xc=document.documentMode);var y7=Xn&&"TextEvent"in window&&!xc,nw=Xn&&(!bp||xc&&8<xc&&11>=xc),lw=" ",sw=!1;function iw(l,i){switch(l){case"keyup":return h7.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ow(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ui=!1;function v7(l,i){switch(l){case"compositionend":return ow(i);case"keypress":return i.which!==32?null:(sw=!0,lw);case"textInput":return l=i.data,l===lw&&sw?null:l;default:return null}}function b7(l,i){if(Ui)return l==="compositionend"||!bp&&iw(l,i)?(l=JN(),$m=gp=Fl=null,Ui=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return nw&&i.locale!=="ko"?null:i.data;default:return null}}var x7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cw(l){var i=l&&l.nodeName&&l.nodeName.toLowerCase();return i==="input"?!!x7[l.type]:i==="textarea"}function uw(l,i,u,g){ji?zi?zi.push(g):zi=[g]:ji=g,i=Rd(i,"onChange"),0<i.length&&(u=new qm("onChange","change",null,u,g),l.push({event:u,listeners:i}))}var Ec=null,Nc=null;function E7(l){GS(l,0)}function Gm(l){var i=fe(l);if(HN(i))return l}function mw(l,i){if(l==="change")return i}var dw=!1;if(Xn){var xp;if(Xn){var Ep="oninput"in document;if(!Ep){var fw=document.createElement("div");fw.setAttribute("oninput","return;"),Ep=typeof fw.oninput=="function"}xp=Ep}else xp=!1;dw=xp&&(!document.documentMode||9<document.documentMode)}function gw(){Ec&&(Ec.detachEvent("onpropertychange",pw),Nc=Ec=null)}function pw(l){if(l.propertyName==="value"&&Gm(Nc)){var i=[];uw(i,Nc,l,mp(l)),ZN(E7,i)}}function N7(l,i,u){l==="focusin"?(gw(),Ec=i,Nc=u,Ec.attachEvent("onpropertychange",pw)):l==="focusout"&&gw()}function w7(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Gm(Nc)}function S7(l,i){if(l==="click")return Gm(i)}function C7(l,i){if(l==="input"||l==="change")return Gm(i)}function A7(l,i){return l===i&&(l!==0||1/l===1/i)||l!==l&&i!==i}var sr=typeof Object.is=="function"?Object.is:A7;function wc(l,i){if(sr(l,i))return!0;if(typeof l!="object"||l===null||typeof i!="object"||i===null)return!1;var u=Object.keys(l),g=Object.keys(i);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var v=u[g];if(!Et.call(i,v)||!sr(l[v],i[v]))return!1}return!0}function hw(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function yw(l,i){var u=hw(l);l=0;for(var g;u;){if(u.nodeType===3){if(g=l+u.textContent.length,l<=i&&g>=i)return{node:u,offset:i-l};l=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hw(u)}}function vw(l,i){return l&&i?l===i?!0:l&&l.nodeType===3?!1:i&&i.nodeType===3?vw(l,i.parentNode):"contains"in l?l.contains(i):l.compareDocumentPosition?!!(l.compareDocumentPosition(i)&16):!1:!1}function bw(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var i=Im(l.document);i instanceof l.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)l=i.contentWindow;else break;i=Im(l.document)}return i}function Np(l){var i=l&&l.nodeName&&l.nodeName.toLowerCase();return i&&(i==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||i==="textarea"||l.contentEditable==="true")}var T7=Xn&&"documentMode"in document&&11>=document.documentMode,Ii=null,wp=null,Sc=null,Sp=!1;function xw(l,i,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Sp||Ii==null||Ii!==Im(g)||(g=Ii,"selectionStart"in g&&Np(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Sc&&wc(Sc,g)||(Sc=g,g=Rd(wp,"onSelect"),0<g.length&&(i=new qm("onSelect","select",null,i,u),l.push({event:i,listeners:g}),i.target=Ii)))}function Is(l,i){var u={};return u[l.toLowerCase()]=i.toLowerCase(),u["Webkit"+l]="webkit"+i,u["Moz"+l]="moz"+i,u}var Fi={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Cp={},Ew={};Xn&&(Ew=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function Fs(l){if(Cp[l])return Cp[l];if(!Fi[l])return l;var i=Fi[l],u;for(u in i)if(i.hasOwnProperty(u)&&u in Ew)return Cp[l]=i[u];return l}var Nw=Fs("animationend"),ww=Fs("animationiteration"),Sw=Fs("animationstart"),O7=Fs("transitionrun"),k7=Fs("transitionstart"),D7=Fs("transitioncancel"),Cw=Fs("transitionend"),Aw=new Map,Ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ap.push("scrollEnd");function Wr(l,i){Aw.set(l,i),zs(i,[l])}var Km=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},wr=[],$i=0,Tp=0;function Ym(){for(var l=$i,i=Tp=$i=0;i<l;){var u=wr[i];wr[i++]=null;var g=wr[i];wr[i++]=null;var v=wr[i];wr[i++]=null;var x=wr[i];if(wr[i++]=null,g!==null&&v!==null){var T=g.pending;T===null?v.next=v:(v.next=T.next,T.next=v),g.pending=v}x!==0&&Tw(u,v,x)}}function Qm(l,i,u,g){wr[$i++]=l,wr[$i++]=i,wr[$i++]=u,wr[$i++]=g,Tp|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function Op(l,i,u,g){return Qm(l,i,u,g),Xm(l)}function $s(l,i){return Qm(l,null,null,i),Xm(l)}function Tw(l,i,u){l.lanes|=u;var g=l.alternate;g!==null&&(g.lanes|=u);for(var v=!1,x=l.return;x!==null;)x.childLanes|=u,g=x.alternate,g!==null&&(g.childLanes|=u),x.tag===22&&(l=x.stateNode,l===null||l._visibility&1||(v=!0)),l=x,x=x.return;return l.tag===3?(x=l.stateNode,v&&i!==null&&(v=31-je(u),l=x.hiddenUpdates,g=l[v],g===null?l[v]=[i]:g.push(i),i.lane=u|536870912),x):null}function Xm(l){if(50<Gc)throw Gc=0,zh=null,Error(r(185));for(var i=l.return;i!==null;)l=i,i=l.return;return l.tag===3?l.stateNode:null}var Bi={};function _7(l,i,u,g){this.tag=l,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(l,i,u,g){return new _7(l,i,u,g)}function kp(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Wn(l,i){var u=l.alternate;return u===null?(u=ir(l.tag,i,l.key,l.mode),u.elementType=l.elementType,u.type=l.type,u.stateNode=l.stateNode,u.alternate=l,l.alternate=u):(u.pendingProps=i,u.type=l.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=l.flags&65011712,u.childLanes=l.childLanes,u.lanes=l.lanes,u.child=l.child,u.memoizedProps=l.memoizedProps,u.memoizedState=l.memoizedState,u.updateQueue=l.updateQueue,i=l.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=l.sibling,u.index=l.index,u.ref=l.ref,u.refCleanup=l.refCleanup,u}function Ow(l,i){l.flags&=65011714;var u=l.alternate;return u===null?(l.childLanes=0,l.lanes=i,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,i=u.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l}function Wm(l,i,u,g,v,x){var T=0;if(g=l,typeof l=="function")kp(l)&&(T=1);else if(typeof l=="string")T=jL(l,u,K.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case R:return l=ir(31,u,i,v),l.elementType=R,l.lanes=x,l;case S:return Bs(u.children,v,x,i);case w:T=8,v|=24;break;case C:return l=ir(12,u,i,v|2),l.elementType=C,l.lanes=x,l;case O:return l=ir(13,u,i,v),l.elementType=O,l.lanes=x,l;case D:return l=ir(19,u,i,v),l.elementType=D,l.lanes=x,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case A:T=10;break e;case k:T=9;break e;case M:T=11;break e;case _:T=14;break e;case P:T=16,g=null;break e}T=29,u=Error(r(130,l===null?"null":typeof l,"")),g=null}return i=ir(T,u,i,v),i.elementType=l,i.type=g,i.lanes=x,i}function Bs(l,i,u,g){return l=ir(7,l,g,i),l.lanes=u,l}function Dp(l,i,u){return l=ir(6,l,null,i),l.lanes=u,l}function kw(l){var i=ir(18,null,null,0);return i.stateNode=l,i}function _p(l,i,u){return i=ir(4,l.children!==null?l.children:[],l.key,i),i.lanes=u,i.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},i}var Dw=new WeakMap;function Sr(l,i){if(typeof l=="object"&&l!==null){var u=Dw.get(l);return u!==void 0?u:(i={value:l,source:i,stack:Le(i)},Dw.set(l,i),i)}return{value:l,source:i,stack:Le(i)}}var Vi=[],qi=0,Zm=null,Cc=0,Cr=[],Ar=0,$l=null,Nn=1,wn="";function Zn(l,i){Vi[qi++]=Cc,Vi[qi++]=Zm,Zm=l,Cc=i}function _w(l,i,u){Cr[Ar++]=Nn,Cr[Ar++]=wn,Cr[Ar++]=$l,$l=l;var g=Nn;l=wn;var v=32-je(g)-1;g&=~(1<<v),u+=1;var x=32-je(i)+v;if(30<x){var T=v-v%5;x=(g&(1<<T)-1).toString(32),g>>=T,v-=T,Nn=1<<32-je(i)+v|u<<v|g,wn=x+l}else Nn=1<<x|u<<v|g,wn=l}function Pp(l){l.return!==null&&(Zn(l,1),_w(l,1,0))}function Mp(l){for(;l===Zm;)Zm=Vi[--qi],Vi[qi]=null,Cc=Vi[--qi],Vi[qi]=null;for(;l===$l;)$l=Cr[--Ar],Cr[Ar]=null,wn=Cr[--Ar],Cr[Ar]=null,Nn=Cr[--Ar],Cr[Ar]=null}function Pw(l,i){Cr[Ar++]=Nn,Cr[Ar++]=wn,Cr[Ar++]=$l,Nn=i.id,wn=i.overflow,$l=l}var Aa=null,St=null,at=!1,Bl=null,Tr=!1,Rp=Error(r(519));function Vl(l){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ac(Sr(i,l)),Rp}function Mw(l){var i=l.stateNode,u=l.type,g=l.memoizedProps;switch(i[ea]=l,i[ba]=g,u){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(u=0;u<Yc.length;u++)Ze(Yc[u],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),GN(i,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),YN(i,g.value,g.defaultValue,g.children)}u=g.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||i.textContent===""+u||g.suppressHydrationWarning===!0||XS(i.textContent,u)?(g.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),g.onScroll!=null&&Ze("scroll",i),g.onScrollEnd!=null&&Ze("scrollend",i),g.onClick!=null&&(i.onclick=Qn),i=!0):i=!1,i||Vl(l,!0)}function Rw(l){for(Aa=l.return;Aa;)switch(Aa.tag){case 5:case 31:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:Aa=Aa.return}}function Hi(l){if(l!==Aa)return!1;if(!at)return Rw(l),at=!0,!1;var i=l.tag,u;if((u=i!==3&&i!==27)&&((u=i===5)&&(u=l.type,u=!(u!=="form"&&u!=="button")||Zh(l.type,l.memoizedProps)),u=!u),u&&St&&Vl(l),Rw(l),i===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));St=lC(l)}else if(i===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));St=lC(l)}else i===27?(i=St,rs(l.type)?(l=ry,ry=null,St=l):St=i):St=Aa?kr(l.stateNode.nextSibling):null;return!0}function Vs(){St=Aa=null,at=!1}function Lp(){var l=Bl;return l!==null&&(Wa===null?Wa=l:Wa.push.apply(Wa,l),Bl=null),l}function Ac(l){Bl===null?Bl=[l]:Bl.push(l)}var jp=j(null),qs=null,Jn=null;function ql(l,i,u){X(jp,i._currentValue),i._currentValue=u}function el(l){l._currentValue=jp.current,B(jp)}function zp(l,i,u){for(;l!==null;){var g=l.alternate;if((l.childLanes&i)!==i?(l.childLanes|=i,g!==null&&(g.childLanes|=i)):g!==null&&(g.childLanes&i)!==i&&(g.childLanes|=i),l===u)break;l=l.return}}function Up(l,i,u,g){var v=l.child;for(v!==null&&(v.return=l);v!==null;){var x=v.dependencies;if(x!==null){var T=v.child;x=x.firstContext;e:for(;x!==null;){var z=x;x=v;for(var $=0;$<i.length;$++)if(z.context===i[$]){x.lanes|=u,z=x.alternate,z!==null&&(z.lanes|=u),zp(x.return,u,l),g||(T=null);break e}x=z.next}}else if(v.tag===18){if(T=v.return,T===null)throw Error(r(341));T.lanes|=u,x=T.alternate,x!==null&&(x.lanes|=u),zp(T,u,l),T=null}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===l){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}}function Gi(l,i,u,g){l=null;for(var v=i,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var T=v.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var z=v.type;sr(v.pendingProps.value,T.value)||(l!==null?l.push(z):l=[z])}}else if(v===V.current){if(T=v.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(l!==null?l.push(Jc):l=[Jc])}v=v.return}l!==null&&Up(i,l,u,g),i.flags|=262144}function Jm(l){for(l=l.firstContext;l!==null;){if(!sr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Hs(l){qs=l,Jn=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Ta(l){return Lw(qs,l)}function ed(l,i){return qs===null&&Hs(l),Lw(l,i)}function Lw(l,i){var u=i._currentValue;if(i={context:i,memoizedValue:u,next:null},Jn===null){if(l===null)throw Error(r(308));Jn=i,l.dependencies={lanes:0,firstContext:i},l.flags|=524288}else Jn=Jn.next=i;return u}var P7=typeof AbortController<"u"?AbortController:function(){var l=[],i=this.signal={aborted:!1,addEventListener:function(u,g){l.push(g)}};this.abort=function(){i.aborted=!0,l.forEach(function(u){return u()})}},M7=e.unstable_scheduleCallback,R7=e.unstable_NormalPriority,ta={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ip(){return{controller:new P7,data:new Map,refCount:0}}function Tc(l){l.refCount--,l.refCount===0&&M7(R7,function(){l.controller.abort()})}var Oc=null,Fp=0,Ki=0,Yi=null;function L7(l,i){if(Oc===null){var u=Oc=[];Fp=0,Ki=Vh(),Yi={status:"pending",value:void 0,then:function(g){u.push(g)}}}return Fp++,i.then(jw,jw),i}function jw(){if(--Fp===0&&Oc!==null){Yi!==null&&(Yi.status="fulfilled");var l=Oc;Oc=null,Ki=0,Yi=null;for(var i=0;i<l.length;i++)(0,l[i])()}}function j7(l,i){var u=[],g={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return l.then(function(){g.status="fulfilled",g.value=i;for(var v=0;v<u.length;v++)(0,u[v])(i)},function(v){for(g.status="rejected",g.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),g}var zw=F.S;F.S=function(l,i){xS=pe(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&L7(l,i),zw!==null&&zw(l,i)};var Gs=j(null);function $p(){var l=Gs.current;return l!==null?l:yt.pooledCache}function td(l,i){i===null?X(Gs,Gs.current):X(Gs,i.pool)}function Uw(){var l=$p();return l===null?null:{parent:ta._currentValue,pool:l}}var Qi=Error(r(460)),Bp=Error(r(474)),ad=Error(r(542)),rd={then:function(){}};function Iw(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Fw(l,i,u){switch(u=l[u],u===void 0?l.push(i):u!==i&&(i.then(Qn,Qn),i=u),i.status){case"fulfilled":return i.value;case"rejected":throw l=i.reason,Bw(l),l;default:if(typeof i.status=="string")i.then(Qn,Qn);else{if(l=yt,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=i,l.status="pending",l.then(function(g){if(i.status==="pending"){var v=i;v.status="fulfilled",v.value=g}},function(g){if(i.status==="pending"){var v=i;v.status="rejected",v.reason=g}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw l=i.reason,Bw(l),l}throw Ys=i,Qi}}function Ks(l){try{var i=l._init;return i(l._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ys=u,Qi):u}}var Ys=null;function $w(){if(Ys===null)throw Error(r(459));var l=Ys;return Ys=null,l}function Bw(l){if(l===Qi||l===ad)throw Error(r(483))}var Xi=null,kc=0;function nd(l){var i=kc;return kc+=1,Xi===null&&(Xi=[]),Fw(Xi,l,i)}function Dc(l,i){i=i.props.ref,l.ref=i!==void 0?i:null}function ld(l,i){throw i.$$typeof===b?Error(r(525)):(l=Object.prototype.toString.call(i),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":l)))}function Vw(l){function i(Y,q){if(l){var Z=Y.deletions;Z===null?(Y.deletions=[q],Y.flags|=16):Z.push(q)}}function u(Y,q){if(!l)return null;for(;q!==null;)i(Y,q),q=q.sibling;return null}function g(Y){for(var q=new Map;Y!==null;)Y.key!==null?q.set(Y.key,Y):q.set(Y.index,Y),Y=Y.sibling;return q}function v(Y,q){return Y=Wn(Y,q),Y.index=0,Y.sibling=null,Y}function x(Y,q,Z){return Y.index=Z,l?(Z=Y.alternate,Z!==null?(Z=Z.index,Z<q?(Y.flags|=67108866,q):Z):(Y.flags|=67108866,q)):(Y.flags|=1048576,q)}function T(Y){return l&&Y.alternate===null&&(Y.flags|=67108866),Y}function z(Y,q,Z,he){return q===null||q.tag!==6?(q=Dp(Z,Y.mode,he),q.return=Y,q):(q=v(q,Z),q.return=Y,q)}function $(Y,q,Z,he){var Re=Z.type;return Re===S?me(Y,q,Z.props.children,he,Z.key):q!==null&&(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===P&&Ks(Re)===q.type)?(q=v(q,Z.props),Dc(q,Z),q.return=Y,q):(q=Wm(Z.type,Z.key,Z.props,null,Y.mode,he),Dc(q,Z),q.return=Y,q)}function J(Y,q,Z,he){return q===null||q.tag!==4||q.stateNode.containerInfo!==Z.containerInfo||q.stateNode.implementation!==Z.implementation?(q=_p(Z,Y.mode,he),q.return=Y,q):(q=v(q,Z.children||[]),q.return=Y,q)}function me(Y,q,Z,he,Re){return q===null||q.tag!==7?(q=Bs(Z,Y.mode,he,Re),q.return=Y,q):(q=v(q,Z),q.return=Y,q)}function ye(Y,q,Z){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Dp(""+q,Y.mode,Z),q.return=Y,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return Z=Wm(q.type,q.key,q.props,null,Y.mode,Z),Dc(Z,q),Z.return=Y,Z;case N:return q=_p(q,Y.mode,Z),q.return=Y,q;case P:return q=Ks(q),ye(Y,q,Z)}if(ue(q)||I(q))return q=Bs(q,Y.mode,Z,null),q.return=Y,q;if(typeof q.then=="function")return ye(Y,nd(q),Z);if(q.$$typeof===A)return ye(Y,ed(Y,q),Z);ld(Y,q)}return null}function ee(Y,q,Z,he){var Re=q!==null?q.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Re!==null?null:z(Y,q,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:return Z.key===Re?$(Y,q,Z,he):null;case N:return Z.key===Re?J(Y,q,Z,he):null;case P:return Z=Ks(Z),ee(Y,q,Z,he)}if(ue(Z)||I(Z))return Re!==null?null:me(Y,q,Z,he,null);if(typeof Z.then=="function")return ee(Y,q,nd(Z),he);if(Z.$$typeof===A)return ee(Y,q,ed(Y,Z),he);ld(Y,Z)}return null}function ie(Y,q,Z,he,Re){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Y=Y.get(Z)||null,z(q,Y,""+he,Re);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case E:return Y=Y.get(he.key===null?Z:he.key)||null,$(q,Y,he,Re);case N:return Y=Y.get(he.key===null?Z:he.key)||null,J(q,Y,he,Re);case P:return he=Ks(he),ie(Y,q,Z,he,Re)}if(ue(he)||I(he))return Y=Y.get(Z)||null,me(q,Y,he,Re,null);if(typeof he.then=="function")return ie(Y,q,Z,nd(he),Re);if(he.$$typeof===A)return ie(Y,q,Z,ed(q,he),Re);ld(q,he)}return null}function De(Y,q,Z,he){for(var Re=null,rt=null,_e=q,Qe=q=0,tt=null;_e!==null&&Qe<Z.length;Qe++){_e.index>Qe?(tt=_e,_e=null):tt=_e.sibling;var nt=ee(Y,_e,Z[Qe],he);if(nt===null){_e===null&&(_e=tt);break}l&&_e&&nt.alternate===null&&i(Y,_e),q=x(nt,q,Qe),rt===null?Re=nt:rt.sibling=nt,rt=nt,_e=tt}if(Qe===Z.length)return u(Y,_e),at&&Zn(Y,Qe),Re;if(_e===null){for(;Qe<Z.length;Qe++)_e=ye(Y,Z[Qe],he),_e!==null&&(q=x(_e,q,Qe),rt===null?Re=_e:rt.sibling=_e,rt=_e);return at&&Zn(Y,Qe),Re}for(_e=g(_e);Qe<Z.length;Qe++)tt=ie(_e,Y,Qe,Z[Qe],he),tt!==null&&(l&&tt.alternate!==null&&_e.delete(tt.key===null?Qe:tt.key),q=x(tt,q,Qe),rt===null?Re=tt:rt.sibling=tt,rt=tt);return l&&_e.forEach(function(os){return i(Y,os)}),at&&Zn(Y,Qe),Re}function ze(Y,q,Z,he){if(Z==null)throw Error(r(151));for(var Re=null,rt=null,_e=q,Qe=q=0,tt=null,nt=Z.next();_e!==null&&!nt.done;Qe++,nt=Z.next()){_e.index>Qe?(tt=_e,_e=null):tt=_e.sibling;var os=ee(Y,_e,nt.value,he);if(os===null){_e===null&&(_e=tt);break}l&&_e&&os.alternate===null&&i(Y,_e),q=x(os,q,Qe),rt===null?Re=os:rt.sibling=os,rt=os,_e=tt}if(nt.done)return u(Y,_e),at&&Zn(Y,Qe),Re;if(_e===null){for(;!nt.done;Qe++,nt=Z.next())nt=ye(Y,nt.value,he),nt!==null&&(q=x(nt,q,Qe),rt===null?Re=nt:rt.sibling=nt,rt=nt);return at&&Zn(Y,Qe),Re}for(_e=g(_e);!nt.done;Qe++,nt=Z.next())nt=ie(_e,Y,Qe,nt.value,he),nt!==null&&(l&&nt.alternate!==null&&_e.delete(nt.key===null?Qe:nt.key),q=x(nt,q,Qe),rt===null?Re=nt:rt.sibling=nt,rt=nt);return l&&_e.forEach(function(KL){return i(Y,KL)}),at&&Zn(Y,Qe),Re}function ft(Y,q,Z,he){if(typeof Z=="object"&&Z!==null&&Z.type===S&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case E:e:{for(var Re=Z.key;q!==null;){if(q.key===Re){if(Re=Z.type,Re===S){if(q.tag===7){u(Y,q.sibling),he=v(q,Z.props.children),he.return=Y,Y=he;break e}}else if(q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===P&&Ks(Re)===q.type){u(Y,q.sibling),he=v(q,Z.props),Dc(he,Z),he.return=Y,Y=he;break e}u(Y,q);break}else i(Y,q);q=q.sibling}Z.type===S?(he=Bs(Z.props.children,Y.mode,he,Z.key),he.return=Y,Y=he):(he=Wm(Z.type,Z.key,Z.props,null,Y.mode,he),Dc(he,Z),he.return=Y,Y=he)}return T(Y);case N:e:{for(Re=Z.key;q!==null;){if(q.key===Re)if(q.tag===4&&q.stateNode.containerInfo===Z.containerInfo&&q.stateNode.implementation===Z.implementation){u(Y,q.sibling),he=v(q,Z.children||[]),he.return=Y,Y=he;break e}else{u(Y,q);break}else i(Y,q);q=q.sibling}he=_p(Z,Y.mode,he),he.return=Y,Y=he}return T(Y);case P:return Z=Ks(Z),ft(Y,q,Z,he)}if(ue(Z))return De(Y,q,Z,he);if(I(Z)){if(Re=I(Z),typeof Re!="function")throw Error(r(150));return Z=Re.call(Z),ze(Y,q,Z,he)}if(typeof Z.then=="function")return ft(Y,q,nd(Z),he);if(Z.$$typeof===A)return ft(Y,q,ed(Y,Z),he);ld(Y,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,q!==null&&q.tag===6?(u(Y,q.sibling),he=v(q,Z),he.return=Y,Y=he):(u(Y,q),he=Dp(Z,Y.mode,he),he.return=Y,Y=he),T(Y)):u(Y,q)}return function(Y,q,Z,he){try{kc=0;var Re=ft(Y,q,Z,he);return Xi=null,Re}catch(_e){if(_e===Qi||_e===ad)throw _e;var rt=ir(29,_e,null,Y.mode);return rt.lanes=he,rt.return=Y,rt}finally{}}}var Qs=Vw(!0),qw=Vw(!1),Hl=!1;function Vp(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qp(l,i){l=l.updateQueue,i.updateQueue===l&&(i.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Gl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Kl(l,i,u){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(st&2)!==0){var v=g.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),g.pending=i,i=Xm(l),Tw(l,null,u),i}return Qm(l,g,i,u),Xm(l)}function _c(l,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194048)!==0)){var g=i.lanes;g&=l.pendingLanes,u|=g,i.lanes=u,_i(l,u)}}function Hp(l,i){var u=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var v=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var T={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};x===null?v=x=T:x=x.next=T,u=u.next}while(u!==null);x===null?v=x=i:x=x.next=i}else v=x=i;u={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:g.shared,callbacks:g.callbacks},l.updateQueue=u;return}l=u.lastBaseUpdate,l===null?u.firstBaseUpdate=i:l.next=i,u.lastBaseUpdate=i}var Gp=!1;function Pc(){if(Gp){var l=Yi;if(l!==null)throw l}}function Mc(l,i,u,g){Gp=!1;var v=l.updateQueue;Hl=!1;var x=v.firstBaseUpdate,T=v.lastBaseUpdate,z=v.shared.pending;if(z!==null){v.shared.pending=null;var $=z,J=$.next;$.next=null,T===null?x=J:T.next=J,T=$;var me=l.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==T&&(z===null?me.firstBaseUpdate=J:z.next=J,me.lastBaseUpdate=$))}if(x!==null){var ye=v.baseState;T=0,me=J=$=null,z=x;do{var ee=z.lane&-536870913,ie=ee!==z.lane;if(ie?(et&ee)===ee:(g&ee)===ee){ee!==0&&ee===Ki&&(Gp=!0),me!==null&&(me=me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var De=l,ze=z;ee=i;var ft=u;switch(ze.tag){case 1:if(De=ze.payload,typeof De=="function"){ye=De.call(ft,ye,ee);break e}ye=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=ze.payload,ee=typeof De=="function"?De.call(ft,ye,ee):De,ee==null)break e;ye=h({},ye,ee);break e;case 2:Hl=!0}}ee=z.callback,ee!==null&&(l.flags|=64,ie&&(l.flags|=8192),ie=v.callbacks,ie===null?v.callbacks=[ee]:ie.push(ee))}else ie={lane:ee,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(J=me=ie,$=ye):me=me.next=ie,T|=ee;if(z=z.next,z===null){if(z=v.shared.pending,z===null)break;ie=z,z=ie.next,ie.next=null,v.lastBaseUpdate=ie,v.shared.pending=null}}while(!0);me===null&&($=ye),v.baseState=$,v.firstBaseUpdate=J,v.lastBaseUpdate=me,x===null&&(v.shared.lanes=0),Zl|=T,l.lanes=T,l.memoizedState=ye}}function Hw(l,i){if(typeof l!="function")throw Error(r(191,l));l.call(i)}function Gw(l,i){var u=l.callbacks;if(u!==null)for(l.callbacks=null,l=0;l<u.length;l++)Hw(u[l],i)}var Wi=j(null),sd=j(0);function Kw(l,i){l=cl,X(sd,l),X(Wi,i),cl=l|i.baseLanes}function Kp(){X(sd,cl),X(Wi,Wi.current)}function Yp(){cl=sd.current,B(Wi),B(sd)}var or=j(null),Or=null;function Yl(l){var i=l.alternate;X(Gt,Gt.current&1),X(or,l),Or===null&&(i===null||Wi.current!==null||i.memoizedState!==null)&&(Or=l)}function Qp(l){X(Gt,Gt.current),X(or,l),Or===null&&(Or=l)}function Yw(l){l.tag===22?(X(Gt,Gt.current),X(or,l),Or===null&&(Or=l)):Ql()}function Ql(){X(Gt,Gt.current),X(or,or.current)}function cr(l){B(or),Or===l&&(Or=null),B(Gt)}var Gt=j(0);function id(l){for(var i=l;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ty(u)||ay(u)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break;for(;i.sibling===null;){if(i.return===null||i.return===l)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tl=0,Ke=null,mt=null,aa=null,od=!1,Zi=!1,Xs=!1,cd=0,Rc=0,Ji=null,z7=0;function It(){throw Error(r(321))}function Xp(l,i){if(i===null)return!1;for(var u=0;u<i.length&&u<l.length;u++)if(!sr(l[u],i[u]))return!1;return!0}function Wp(l,i,u,g,v,x){return tl=x,Ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=l===null||l.memoizedState===null?_2:dh,Xs=!1,x=u(g,v),Xs=!1,Zi&&(x=Xw(i,u,g,v)),Qw(l),x}function Qw(l){F.H=zc;var i=mt!==null&&mt.next!==null;if(tl=0,aa=mt=Ke=null,od=!1,Rc=0,Ji=null,i)throw Error(r(300));l===null||ra||(l=l.dependencies,l!==null&&Jm(l)&&(ra=!0))}function Xw(l,i,u,g){Ke=l;var v=0;do{if(Zi&&(Ji=null),Rc=0,Zi=!1,25<=v)throw Error(r(301));if(v+=1,aa=mt=null,l.updateQueue!=null){var x=l.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}F.H=P2,x=i(u,g)}while(Zi);return x}function U7(){var l=F.H,i=l.useState()[0];return i=typeof i.then=="function"?Lc(i):i,l=l.useState()[0],(mt!==null?mt.memoizedState:null)!==l&&(Ke.flags|=1024),i}function Zp(){var l=cd!==0;return cd=0,l}function Jp(l,i,u){i.updateQueue=l.updateQueue,i.flags&=-2053,l.lanes&=~u}function eh(l){if(od){for(l=l.memoizedState;l!==null;){var i=l.queue;i!==null&&(i.pending=null),l=l.next}od=!1}tl=0,aa=mt=Ke=null,Zi=!1,Rc=cd=0,Ji=null}function Ia(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return aa===null?Ke.memoizedState=aa=l:aa=aa.next=l,aa}function Kt(){if(mt===null){var l=Ke.alternate;l=l!==null?l.memoizedState:null}else l=mt.next;var i=aa===null?Ke.memoizedState:aa.next;if(i!==null)aa=i,mt=l;else{if(l===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));mt=l,l={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},aa===null?Ke.memoizedState=aa=l:aa=aa.next=l}return aa}function ud(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lc(l){var i=Rc;return Rc+=1,Ji===null&&(Ji=[]),l=Fw(Ji,l,i),i=Ke,(aa===null?i.memoizedState:aa.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?_2:dh),l}function md(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Lc(l);if(l.$$typeof===A)return Ta(l)}throw Error(r(438,String(l)))}function th(l){var i=null,u=Ke.updateQueue;if(u!==null&&(i=u.memoCache),i==null){var g=Ke.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(i={data:g.data.map(function(v){return v.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),u===null&&(u=ud(),Ke.updateQueue=u),u.memoCache=i,u=i.data[i.index],u===void 0)for(u=i.data[i.index]=Array(l),g=0;g<l;g++)u[g]=U;return i.index++,u}function al(l,i){return typeof i=="function"?i(l):i}function dd(l){var i=Kt();return ah(i,mt,l)}function ah(l,i,u){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var v=l.baseQueue,x=g.pending;if(x!==null){if(v!==null){var T=v.next;v.next=x.next,x.next=T}i.baseQueue=v=x,g.pending=null}if(x=l.baseState,v===null)l.memoizedState=x;else{i=v.next;var z=T=null,$=null,J=i,me=!1;do{var ye=J.lane&-536870913;if(ye!==J.lane?(et&ye)===ye:(tl&ye)===ye){var ee=J.revertLane;if(ee===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ye===Ki&&(me=!0);else if((tl&ee)===ee){J=J.next,ee===Ki&&(me=!0);continue}else ye={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(z=$=ye,T=x):$=$.next=ye,Ke.lanes|=ee,Zl|=ee;ye=J.action,Xs&&u(x,ye),x=J.hasEagerState?J.eagerState:u(x,ye)}else ee={lane:ye,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},$===null?(z=$=ee,T=x):$=$.next=ee,Ke.lanes|=ye,Zl|=ye;J=J.next}while(J!==null&&J!==i);if($===null?T=x:$.next=z,!sr(x,l.memoizedState)&&(ra=!0,me&&(u=Yi,u!==null)))throw u;l.memoizedState=x,l.baseState=T,l.baseQueue=$,g.lastRenderedState=x}return v===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function rh(l){var i=Kt(),u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=u.dispatch,v=u.pending,x=i.memoizedState;if(v!==null){u.pending=null;var T=v=v.next;do x=l(x,T.action),T=T.next;while(T!==v);sr(x,i.memoizedState)||(ra=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),u.lastRenderedState=x}return[x,g]}function Ww(l,i,u){var g=Ke,v=Kt(),x=at;if(x){if(u===void 0)throw Error(r(407));u=u()}else u=i();var T=!sr((mt||v).memoizedState,u);if(T&&(v.memoizedState=u,ra=!0),v=v.queue,sh(e2.bind(null,g,v,l),[l]),v.getSnapshot!==i||T||aa!==null&&aa.memoizedState.tag&1){if(g.flags|=2048,eo(9,{destroy:void 0},Jw.bind(null,g,v,u,i),null),yt===null)throw Error(r(349));x||(tl&127)!==0||Zw(g,i,u)}return u}function Zw(l,i,u){l.flags|=16384,l={getSnapshot:i,value:u},i=Ke.updateQueue,i===null?(i=ud(),Ke.updateQueue=i,i.stores=[l]):(u=i.stores,u===null?i.stores=[l]:u.push(l))}function Jw(l,i,u,g){i.value=u,i.getSnapshot=g,t2(i)&&a2(l)}function e2(l,i,u){return u(function(){t2(i)&&a2(l)})}function t2(l){var i=l.getSnapshot;l=l.value;try{var u=i();return!sr(l,u)}catch{return!0}}function a2(l){var i=$s(l,2);i!==null&&Za(i,l,2)}function nh(l){var i=Ia();if(typeof l=="function"){var u=l;if(l=u(),Xs){Oe(!0);try{u()}finally{Oe(!1)}}}return i.memoizedState=i.baseState=l,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:l},i}function r2(l,i,u,g){return l.baseState=u,ah(l,mt,typeof g=="function"?g:al)}function I7(l,i,u,g,v){if(pd(l))throw Error(r(485));if(l=i.action,l!==null){var x={payload:v,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){x.listeners.push(T)}};F.T!==null?u(!0):x.isTransition=!1,g(x),u=i.pending,u===null?(x.next=i.pending=x,n2(i,x)):(x.next=u.next,i.pending=u.next=x)}}function n2(l,i){var u=i.action,g=i.payload,v=l.state;if(i.isTransition){var x=F.T,T={};F.T=T;try{var z=u(v,g),$=F.S;$!==null&&$(T,z),l2(l,i,z)}catch(J){lh(l,i,J)}finally{x!==null&&T.types!==null&&(x.types=T.types),F.T=x}}else try{x=u(v,g),l2(l,i,x)}catch(J){lh(l,i,J)}}function l2(l,i,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(g){s2(l,i,g)},function(g){return lh(l,i,g)}):s2(l,i,u)}function s2(l,i,u){i.status="fulfilled",i.value=u,i2(i),l.state=u,i=l.pending,i!==null&&(u=i.next,u===i?l.pending=null:(u=u.next,i.next=u,n2(l,u)))}function lh(l,i,u){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do i.status="rejected",i.reason=u,i2(i),i=i.next;while(i!==g)}l.action=null}function i2(l){l=l.listeners;for(var i=0;i<l.length;i++)(0,l[i])()}function o2(l,i){return i}function c2(l,i){if(at){var u=yt.formState;if(u!==null){e:{var g=Ke;if(at){if(St){t:{for(var v=St,x=Tr;v.nodeType!==8;){if(!x){v=null;break t}if(v=kr(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){St=kr(v.nextSibling),g=v.data==="F!";break e}}Vl(g)}g=!1}g&&(i=u[0])}}return u=Ia(),u.memoizedState=u.baseState=i,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o2,lastRenderedState:i},u.queue=g,u=O2.bind(null,Ke,g),g.dispatch=u,g=nh(!1),x=mh.bind(null,Ke,!1,g.queue),g=Ia(),v={state:i,dispatch:null,action:l,pending:null},g.queue=v,u=I7.bind(null,Ke,v,x,u),v.dispatch=u,g.memoizedState=l,[i,u,!1]}function u2(l){var i=Kt();return m2(i,mt,l)}function m2(l,i,u){if(i=ah(l,i,o2)[0],l=dd(al)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var g=Lc(i)}catch(T){throw T===Qi?ad:T}else g=i;i=Kt();var v=i.queue,x=v.dispatch;return u!==i.memoizedState&&(Ke.flags|=2048,eo(9,{destroy:void 0},F7.bind(null,v,u),null)),[g,x,l]}function F7(l,i){l.action=i}function d2(l){var i=Kt(),u=mt;if(u!==null)return m2(i,u,l);Kt(),i=i.memoizedState,u=Kt();var g=u.queue.dispatch;return u.memoizedState=l,[i,g,!1]}function eo(l,i,u,g){return l={tag:l,create:u,deps:g,inst:i,next:null},i=Ke.updateQueue,i===null&&(i=ud(),Ke.updateQueue=i),u=i.lastEffect,u===null?i.lastEffect=l.next=l:(g=u.next,u.next=l,l.next=g,i.lastEffect=l),l}function f2(){return Kt().memoizedState}function fd(l,i,u,g){var v=Ia();Ke.flags|=l,v.memoizedState=eo(1|i,{destroy:void 0},u,g===void 0?null:g)}function gd(l,i,u,g){var v=Kt();g=g===void 0?null:g;var x=v.memoizedState.inst;mt!==null&&g!==null&&Xp(g,mt.memoizedState.deps)?v.memoizedState=eo(i,x,u,g):(Ke.flags|=l,v.memoizedState=eo(1|i,x,u,g))}function g2(l,i){fd(8390656,8,l,i)}function sh(l,i){gd(2048,8,l,i)}function $7(l){Ke.flags|=4;var i=Ke.updateQueue;if(i===null)i=ud(),Ke.updateQueue=i,i.events=[l];else{var u=i.events;u===null?i.events=[l]:u.push(l)}}function p2(l){var i=Kt().memoizedState;return $7({ref:i,nextImpl:l}),function(){if((st&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function h2(l,i){return gd(4,2,l,i)}function y2(l,i){return gd(4,4,l,i)}function v2(l,i){if(typeof i=="function"){l=l();var u=i(l);return function(){typeof u=="function"?u():i(null)}}if(i!=null)return l=l(),i.current=l,function(){i.current=null}}function b2(l,i,u){u=u!=null?u.concat([l]):null,gd(4,4,v2.bind(null,i,l),u)}function ih(){}function x2(l,i){var u=Kt();i=i===void 0?null:i;var g=u.memoizedState;return i!==null&&Xp(i,g[1])?g[0]:(u.memoizedState=[l,i],l)}function E2(l,i){var u=Kt();i=i===void 0?null:i;var g=u.memoizedState;if(i!==null&&Xp(i,g[1]))return g[0];if(g=l(),Xs){Oe(!0);try{l()}finally{Oe(!1)}}return u.memoizedState=[g,i],g}function oh(l,i,u){return u===void 0||(tl&1073741824)!==0&&(et&261930)===0?l.memoizedState=i:(l.memoizedState=u,l=NS(),Ke.lanes|=l,Zl|=l,u)}function N2(l,i,u,g){return sr(u,i)?u:Wi.current!==null?(l=oh(l,u,g),sr(l,i)||(ra=!0),l):(tl&42)===0||(tl&1073741824)!==0&&(et&261930)===0?(ra=!0,l.memoizedState=u):(l=NS(),Ke.lanes|=l,Zl|=l,i)}function w2(l,i,u,g,v){var x=G.p;G.p=x!==0&&8>x?x:8;var T=F.T,z={};F.T=z,mh(l,!1,i,u);try{var $=v(),J=F.S;if(J!==null&&J(z,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var me=j7($,g);jc(l,i,me,dr(l))}else jc(l,i,g,dr(l))}catch(ye){jc(l,i,{then:function(){},status:"rejected",reason:ye},dr())}finally{G.p=x,T!==null&&z.types!==null&&(T.types=z.types),F.T=T}}function B7(){}function ch(l,i,u,g){if(l.tag!==5)throw Error(r(476));var v=S2(l).queue;w2(l,v,i,le,u===null?B7:function(){return C2(l),u(g)})}function S2(l){var i=l.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:le},next:null};var u={};return i.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:al,lastRenderedState:u},next:null},l.memoizedState=i,l=l.alternate,l!==null&&(l.memoizedState=i),i}function C2(l){var i=S2(l);i.next===null&&(i=l.alternate.memoizedState),jc(l,i.next.queue,{},dr())}function uh(){return Ta(Jc)}function A2(){return Kt().memoizedState}function T2(){return Kt().memoizedState}function V7(l){for(var i=l.return;i!==null;){switch(i.tag){case 24:case 3:var u=dr();l=Gl(u);var g=Kl(i,l,u);g!==null&&(Za(g,i,u),_c(g,i,u)),i={cache:Ip()},l.payload=i;return}i=i.return}}function q7(l,i,u){var g=dr();u={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pd(l)?k2(i,u):(u=Op(l,i,u,g),u!==null&&(Za(u,l,g),D2(u,i,g)))}function O2(l,i,u){var g=dr();jc(l,i,u,g)}function jc(l,i,u,g){var v={lane:g,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(pd(l))k2(i,v);else{var x=l.alternate;if(l.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var T=i.lastRenderedState,z=x(T,u);if(v.hasEagerState=!0,v.eagerState=z,sr(z,T))return Qm(l,i,v,0),yt===null&&Ym(),!1}catch{}finally{}if(u=Op(l,i,v,g),u!==null)return Za(u,l,g),D2(u,i,g),!0}return!1}function mh(l,i,u,g){if(g={lane:2,revertLane:Vh(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},pd(l)){if(i)throw Error(r(479))}else i=Op(l,u,g,2),i!==null&&Za(i,l,2)}function pd(l){var i=l.alternate;return l===Ke||i!==null&&i===Ke}function k2(l,i){Zi=od=!0;var u=l.pending;u===null?i.next=i:(i.next=u.next,u.next=i),l.pending=i}function D2(l,i,u){if((u&4194048)!==0){var g=i.lanes;g&=l.pendingLanes,u|=g,i.lanes=u,_i(l,u)}}var zc={readContext:Ta,use:md,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};zc.useEffectEvent=It;var _2={readContext:Ta,use:md,useCallback:function(l,i){return Ia().memoizedState=[l,i===void 0?null:i],l},useContext:Ta,useEffect:g2,useImperativeHandle:function(l,i,u){u=u!=null?u.concat([l]):null,fd(4194308,4,v2.bind(null,i,l),u)},useLayoutEffect:function(l,i){return fd(4194308,4,l,i)},useInsertionEffect:function(l,i){fd(4,2,l,i)},useMemo:function(l,i){var u=Ia();i=i===void 0?null:i;var g=l();if(Xs){Oe(!0);try{l()}finally{Oe(!1)}}return u.memoizedState=[g,i],g},useReducer:function(l,i,u){var g=Ia();if(u!==void 0){var v=u(i);if(Xs){Oe(!0);try{u(i)}finally{Oe(!1)}}}else v=i;return g.memoizedState=g.baseState=v,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:v},g.queue=l,l=l.dispatch=q7.bind(null,Ke,l),[g.memoizedState,l]},useRef:function(l){var i=Ia();return l={current:l},i.memoizedState=l},useState:function(l){l=nh(l);var i=l.queue,u=O2.bind(null,Ke,i);return i.dispatch=u,[l.memoizedState,u]},useDebugValue:ih,useDeferredValue:function(l,i){var u=Ia();return oh(u,l,i)},useTransition:function(){var l=nh(!1);return l=w2.bind(null,Ke,l.queue,!0,!1),Ia().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,i,u){var g=Ke,v=Ia();if(at){if(u===void 0)throw Error(r(407));u=u()}else{if(u=i(),yt===null)throw Error(r(349));(et&127)!==0||Zw(g,i,u)}v.memoizedState=u;var x={value:u,getSnapshot:i};return v.queue=x,g2(e2.bind(null,g,x,l),[l]),g.flags|=2048,eo(9,{destroy:void 0},Jw.bind(null,g,x,u,i),null),u},useId:function(){var l=Ia(),i=yt.identifierPrefix;if(at){var u=wn,g=Nn;u=(g&~(1<<32-je(g)-1)).toString(32)+u,i="_"+i+"R_"+u,u=cd++,0<u&&(i+="H"+u.toString(32)),i+="_"}else u=z7++,i="_"+i+"r_"+u.toString(32)+"_";return l.memoizedState=i},useHostTransitionStatus:uh,useFormState:c2,useActionState:c2,useOptimistic:function(l){var i=Ia();i.memoizedState=i.baseState=l;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=u,i=mh.bind(null,Ke,!0,u),u.dispatch=i,[l,i]},useMemoCache:th,useCacheRefresh:function(){return Ia().memoizedState=V7.bind(null,Ke)},useEffectEvent:function(l){var i=Ia(),u={impl:l};return i.memoizedState=u,function(){if((st&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},dh={readContext:Ta,use:md,useCallback:x2,useContext:Ta,useEffect:sh,useImperativeHandle:b2,useInsertionEffect:h2,useLayoutEffect:y2,useMemo:E2,useReducer:dd,useRef:f2,useState:function(){return dd(al)},useDebugValue:ih,useDeferredValue:function(l,i){var u=Kt();return N2(u,mt.memoizedState,l,i)},useTransition:function(){var l=dd(al)[0],i=Kt().memoizedState;return[typeof l=="boolean"?l:Lc(l),i]},useSyncExternalStore:Ww,useId:A2,useHostTransitionStatus:uh,useFormState:u2,useActionState:u2,useOptimistic:function(l,i){var u=Kt();return r2(u,mt,l,i)},useMemoCache:th,useCacheRefresh:T2};dh.useEffectEvent=p2;var P2={readContext:Ta,use:md,useCallback:x2,useContext:Ta,useEffect:sh,useImperativeHandle:b2,useInsertionEffect:h2,useLayoutEffect:y2,useMemo:E2,useReducer:rh,useRef:f2,useState:function(){return rh(al)},useDebugValue:ih,useDeferredValue:function(l,i){var u=Kt();return mt===null?oh(u,l,i):N2(u,mt.memoizedState,l,i)},useTransition:function(){var l=rh(al)[0],i=Kt().memoizedState;return[typeof l=="boolean"?l:Lc(l),i]},useSyncExternalStore:Ww,useId:A2,useHostTransitionStatus:uh,useFormState:d2,useActionState:d2,useOptimistic:function(l,i){var u=Kt();return mt!==null?r2(u,mt,l,i):(u.baseState=l,[l,u.queue.dispatch])},useMemoCache:th,useCacheRefresh:T2};P2.useEffectEvent=p2;function fh(l,i,u,g){i=l.memoizedState,u=u(g,i),u=u==null?i:h({},i,u),l.memoizedState=u,l.lanes===0&&(l.updateQueue.baseState=u)}var gh={enqueueSetState:function(l,i,u){l=l._reactInternals;var g=dr(),v=Gl(g);v.payload=i,u!=null&&(v.callback=u),i=Kl(l,v,g),i!==null&&(Za(i,l,g),_c(i,l,g))},enqueueReplaceState:function(l,i,u){l=l._reactInternals;var g=dr(),v=Gl(g);v.tag=1,v.payload=i,u!=null&&(v.callback=u),i=Kl(l,v,g),i!==null&&(Za(i,l,g),_c(i,l,g))},enqueueForceUpdate:function(l,i){l=l._reactInternals;var u=dr(),g=Gl(u);g.tag=2,i!=null&&(g.callback=i),i=Kl(l,g,u),i!==null&&(Za(i,l,u),_c(i,l,u))}};function M2(l,i,u,g,v,x,T){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,x,T):i.prototype&&i.prototype.isPureReactComponent?!wc(u,g)||!wc(v,x):!0}function R2(l,i,u,g){l=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,g),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,g),i.state!==l&&gh.enqueueReplaceState(i,i.state,null)}function Ws(l,i){var u=i;if("ref"in i){u={};for(var g in i)g!=="ref"&&(u[g]=i[g])}if(l=l.defaultProps){u===i&&(u=h({},u));for(var v in l)u[v]===void 0&&(u[v]=l[v])}return u}function L2(l){Km(l)}function j2(l){console.error(l)}function z2(l){Km(l)}function hd(l,i){try{var u=l.onUncaughtError;u(i.value,{componentStack:i.stack})}catch(g){setTimeout(function(){throw g})}}function U2(l,i,u){try{var g=l.onCaughtError;g(u.value,{componentStack:u.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ph(l,i,u){return u=Gl(u),u.tag=3,u.payload={element:null},u.callback=function(){hd(l,i)},u}function I2(l){return l=Gl(l),l.tag=3,l}function F2(l,i,u,g){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var x=g.value;l.payload=function(){return v(x)},l.callback=function(){U2(i,u,g)}}var T=u.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(l.callback=function(){U2(i,u,g),typeof v!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var z=g.stack;this.componentDidCatch(g.value,{componentStack:z!==null?z:""})})}function H7(l,i,u,g,v){if(u.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(i=u.alternate,i!==null&&Gi(i,u,v,!0),u=or.current,u!==null){switch(u.tag){case 31:case 13:return Or===null?Od():u.alternate===null&&Ft===0&&(Ft=3),u.flags&=-257,u.flags|=65536,u.lanes=v,g===rd?u.flags|=16384:(i=u.updateQueue,i===null?u.updateQueue=new Set([g]):i.add(g),Fh(l,g,v)),!1;case 22:return u.flags|=65536,g===rd?u.flags|=16384:(i=u.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([g])},u.updateQueue=i):(u=i.retryQueue,u===null?i.retryQueue=new Set([g]):u.add(g)),Fh(l,g,v)),!1}throw Error(r(435,u.tag))}return Fh(l,g,v),Od(),!1}if(at)return i=or.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=v,g!==Rp&&(l=Error(r(422),{cause:g}),Ac(Sr(l,u)))):(g!==Rp&&(i=Error(r(423),{cause:g}),Ac(Sr(i,u))),l=l.current.alternate,l.flags|=65536,v&=-v,l.lanes|=v,g=Sr(g,u),v=ph(l.stateNode,g,v),Hp(l,v),Ft!==4&&(Ft=2)),!1;var x=Error(r(520),{cause:g});if(x=Sr(x,u),Hc===null?Hc=[x]:Hc.push(x),Ft!==4&&(Ft=2),i===null)return!0;g=Sr(g,u),u=i;do{switch(u.tag){case 3:return u.flags|=65536,l=v&-v,u.lanes|=l,l=ph(u.stateNode,g,l),Hp(u,l),!1;case 1:if(i=u.type,x=u.stateNode,(u.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Jl===null||!Jl.has(x))))return u.flags|=65536,v&=-v,u.lanes|=v,v=I2(v),F2(v,l,u,g),Hp(u,v),!1}u=u.return}while(u!==null);return!1}var hh=Error(r(461)),ra=!1;function Oa(l,i,u,g){i.child=l===null?qw(i,null,u,g):Qs(i,l.child,u,g)}function $2(l,i,u,g,v){u=u.render;var x=i.ref;if("ref"in g){var T={};for(var z in g)z!=="ref"&&(T[z]=g[z])}else T=g;return Hs(i),g=Wp(l,i,u,T,x,v),z=Zp(),l!==null&&!ra?(Jp(l,i,v),rl(l,i,v)):(at&&z&&Pp(i),i.flags|=1,Oa(l,i,g,v),i.child)}function B2(l,i,u,g,v){if(l===null){var x=u.type;return typeof x=="function"&&!kp(x)&&x.defaultProps===void 0&&u.compare===null?(i.tag=15,i.type=x,V2(l,i,x,g,v)):(l=Wm(u.type,null,g,i,i.mode,v),l.ref=i.ref,l.return=i,i.child=l)}if(x=l.child,!Sh(l,v)){var T=x.memoizedProps;if(u=u.compare,u=u!==null?u:wc,u(T,g)&&l.ref===i.ref)return rl(l,i,v)}return i.flags|=1,l=Wn(x,g),l.ref=i.ref,l.return=i,i.child=l}function V2(l,i,u,g,v){if(l!==null){var x=l.memoizedProps;if(wc(x,g)&&l.ref===i.ref)if(ra=!1,i.pendingProps=g=x,Sh(l,v))(l.flags&131072)!==0&&(ra=!0);else return i.lanes=l.lanes,rl(l,i,v)}return yh(l,i,u,g,v)}function q2(l,i,u,g){var v=g.children,x=l!==null?l.memoizedState:null;if(l===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((i.flags&128)!==0){if(x=x!==null?x.baseLanes|u:u,l!==null){for(g=i.child=l.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~x}else g=0,i.child=null;return H2(l,i,x,u,g)}if((u&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},l!==null&&td(i,x!==null?x.cachePool:null),x!==null?Kw(i,x):Kp(),Yw(i);else return g=i.lanes=536870912,H2(l,i,x!==null?x.baseLanes|u:u,u,g)}else x!==null?(td(i,x.cachePool),Kw(i,x),Ql(),i.memoizedState=null):(l!==null&&td(i,null),Kp(),Ql());return Oa(l,i,v,u),i.child}function Uc(l,i){return l!==null&&l.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function H2(l,i,u,g,v){var x=$p();return x=x===null?null:{parent:ta._currentValue,pool:x},i.memoizedState={baseLanes:u,cachePool:x},l!==null&&td(i,null),Kp(),Yw(i),l!==null&&Gi(l,i,g,!0),i.childLanes=v,null}function yd(l,i){return i=bd({mode:i.mode,children:i.children},l.mode),i.ref=l.ref,l.child=i,i.return=l,i}function G2(l,i,u){return Qs(i,l.child,null,u),l=yd(i,i.pendingProps),l.flags|=2,cr(i),i.memoizedState=null,l}function G7(l,i,u){var g=i.pendingProps,v=(i.flags&128)!==0;if(i.flags&=-129,l===null){if(at){if(g.mode==="hidden")return l=yd(i,g),i.lanes=536870912,Uc(null,l);if(Qp(i),(l=St)?(l=nC(l,Tr),l=l!==null&&l.data==="&"?l:null,l!==null&&(i.memoizedState={dehydrated:l,treeContext:$l!==null?{id:Nn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},u=kw(l),u.return=i,i.child=u,Aa=i,St=null)):l=null,l===null)throw Vl(i);return i.lanes=536870912,null}return yd(i,g)}var x=l.memoizedState;if(x!==null){var T=x.dehydrated;if(Qp(i),v)if(i.flags&256)i.flags&=-257,i=G2(l,i,u);else if(i.memoizedState!==null)i.child=l.child,i.flags|=128,i=null;else throw Error(r(558));else if(ra||Gi(l,i,u,!1),v=(u&l.childLanes)!==0,ra||v){if(g=yt,g!==null&&(T=mc(g,u),T!==0&&T!==x.retryLane))throw x.retryLane=T,$s(l,T),Za(g,l,T),hh;Od(),i=G2(l,i,u)}else l=x.treeContext,St=kr(T.nextSibling),Aa=i,at=!0,Bl=null,Tr=!1,l!==null&&Pw(i,l),i=yd(i,g),i.flags|=4096;return i}return l=Wn(l.child,{mode:g.mode,children:g.children}),l.ref=i.ref,i.child=l,l.return=i,l}function vd(l,i){var u=i.ref;if(u===null)l!==null&&l.ref!==null&&(i.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(l===null||l.ref!==u)&&(i.flags|=4194816)}}function yh(l,i,u,g,v){return Hs(i),u=Wp(l,i,u,g,void 0,v),g=Zp(),l!==null&&!ra?(Jp(l,i,v),rl(l,i,v)):(at&&g&&Pp(i),i.flags|=1,Oa(l,i,u,v),i.child)}function K2(l,i,u,g,v,x){return Hs(i),i.updateQueue=null,u=Xw(i,g,u,v),Qw(l),g=Zp(),l!==null&&!ra?(Jp(l,i,x),rl(l,i,x)):(at&&g&&Pp(i),i.flags|=1,Oa(l,i,u,x),i.child)}function Y2(l,i,u,g,v){if(Hs(i),i.stateNode===null){var x=Bi,T=u.contextType;typeof T=="object"&&T!==null&&(x=Ta(T)),x=new u(g,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=gh,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=g,x.state=i.memoizedState,x.refs={},Vp(i),T=u.contextType,x.context=typeof T=="object"&&T!==null?Ta(T):Bi,x.state=i.memoizedState,T=u.getDerivedStateFromProps,typeof T=="function"&&(fh(i,u,T,g),x.state=i.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(T=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),T!==x.state&&gh.enqueueReplaceState(x,x.state,null),Mc(i,g,x,v),Pc(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),g=!0}else if(l===null){x=i.stateNode;var z=i.memoizedProps,$=Ws(u,z);x.props=$;var J=x.context,me=u.contextType;T=Bi,typeof me=="object"&&me!==null&&(T=Ta(me));var ye=u.getDerivedStateFromProps;me=typeof ye=="function"||typeof x.getSnapshotBeforeUpdate=="function",z=i.pendingProps!==z,me||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(z||J!==T)&&R2(i,x,g,T),Hl=!1;var ee=i.memoizedState;x.state=ee,Mc(i,g,x,v),Pc(),J=i.memoizedState,z||ee!==J||Hl?(typeof ye=="function"&&(fh(i,u,ye,g),J=i.memoizedState),($=Hl||M2(i,u,$,g,ee,J,T))?(me||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=g,i.memoizedState=J),x.props=g,x.state=J,x.context=T,g=$):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),g=!1)}else{x=i.stateNode,qp(l,i),T=i.memoizedProps,me=Ws(u,T),x.props=me,ye=i.pendingProps,ee=x.context,J=u.contextType,$=Bi,typeof J=="object"&&J!==null&&($=Ta(J)),z=u.getDerivedStateFromProps,(J=typeof z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==ye||ee!==$)&&R2(i,x,g,$),Hl=!1,ee=i.memoizedState,x.state=ee,Mc(i,g,x,v),Pc();var ie=i.memoizedState;T!==ye||ee!==ie||Hl||l!==null&&l.dependencies!==null&&Jm(l.dependencies)?(typeof z=="function"&&(fh(i,u,z,g),ie=i.memoizedState),(me=Hl||M2(i,u,me,g,ee,ie,$)||l!==null&&l.dependencies!==null&&Jm(l.dependencies))?(J||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(g,ie,$),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(g,ie,$)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===l.memoizedProps&&ee===l.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===l.memoizedProps&&ee===l.memoizedState||(i.flags|=1024),i.memoizedProps=g,i.memoizedState=ie),x.props=g,x.state=ie,x.context=$,g=me):(typeof x.componentDidUpdate!="function"||T===l.memoizedProps&&ee===l.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===l.memoizedProps&&ee===l.memoizedState||(i.flags|=1024),g=!1)}return x=g,vd(l,i),g=(i.flags&128)!==0,x||g?(x=i.stateNode,u=g&&typeof u.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,l!==null&&g?(i.child=Qs(i,l.child,null,v),i.child=Qs(i,null,u,v)):Oa(l,i,u,v),i.memoizedState=x.state,l=i.child):l=rl(l,i,v),l}function Q2(l,i,u,g){return Vs(),i.flags|=256,Oa(l,i,u,g),i.child}var vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bh(l){return{baseLanes:l,cachePool:Uw()}}function xh(l,i,u){return l=l!==null?l.childLanes&~u:0,i&&(l|=mr),l}function X2(l,i,u){var g=i.pendingProps,v=!1,x=(i.flags&128)!==0,T;if((T=x)||(T=l!==null&&l.memoizedState===null?!1:(Gt.current&2)!==0),T&&(v=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,l===null){if(at){if(v?Yl(i):Ql(),(l=St)?(l=nC(l,Tr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(i.memoizedState={dehydrated:l,treeContext:$l!==null?{id:Nn,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},u=kw(l),u.return=i,i.child=u,Aa=i,St=null)):l=null,l===null)throw Vl(i);return ay(l)?i.lanes=32:i.lanes=536870912,null}var z=g.children;return g=g.fallback,v?(Ql(),v=i.mode,z=bd({mode:"hidden",children:z},v),g=Bs(g,v,u,null),z.return=i,g.return=i,z.sibling=g,i.child=z,g=i.child,g.memoizedState=bh(u),g.childLanes=xh(l,T,u),i.memoizedState=vh,Uc(null,g)):(Yl(i),Eh(i,z))}var $=l.memoizedState;if($!==null&&(z=$.dehydrated,z!==null)){if(x)i.flags&256?(Yl(i),i.flags&=-257,i=Nh(l,i,u)):i.memoizedState!==null?(Ql(),i.child=l.child,i.flags|=128,i=null):(Ql(),z=g.fallback,v=i.mode,g=bd({mode:"visible",children:g.children},v),z=Bs(z,v,u,null),z.flags|=2,g.return=i,z.return=i,g.sibling=z,i.child=g,Qs(i,l.child,null,u),g=i.child,g.memoizedState=bh(u),g.childLanes=xh(l,T,u),i.memoizedState=vh,i=Uc(null,g));else if(Yl(i),ay(z)){if(T=z.nextSibling&&z.nextSibling.dataset,T)var J=T.dgst;T=J,g=Error(r(419)),g.stack="",g.digest=T,Ac({value:g,source:null,stack:null}),i=Nh(l,i,u)}else if(ra||Gi(l,i,u,!1),T=(u&l.childLanes)!==0,ra||T){if(T=yt,T!==null&&(g=mc(T,u),g!==0&&g!==$.retryLane))throw $.retryLane=g,$s(l,g),Za(T,l,g),hh;ty(z)||Od(),i=Nh(l,i,u)}else ty(z)?(i.flags|=192,i.child=l.child,i=null):(l=$.treeContext,St=kr(z.nextSibling),Aa=i,at=!0,Bl=null,Tr=!1,l!==null&&Pw(i,l),i=Eh(i,g.children),i.flags|=4096);return i}return v?(Ql(),z=g.fallback,v=i.mode,$=l.child,J=$.sibling,g=Wn($,{mode:"hidden",children:g.children}),g.subtreeFlags=$.subtreeFlags&65011712,J!==null?z=Wn(J,z):(z=Bs(z,v,u,null),z.flags|=2),z.return=i,g.return=i,g.sibling=z,i.child=g,Uc(null,g),g=i.child,z=l.child.memoizedState,z===null?z=bh(u):(v=z.cachePool,v!==null?($=ta._currentValue,v=v.parent!==$?{parent:$,pool:$}:v):v=Uw(),z={baseLanes:z.baseLanes|u,cachePool:v}),g.memoizedState=z,g.childLanes=xh(l,T,u),i.memoizedState=vh,Uc(l.child,g)):(Yl(i),u=l.child,l=u.sibling,u=Wn(u,{mode:"visible",children:g.children}),u.return=i,u.sibling=null,l!==null&&(T=i.deletions,T===null?(i.deletions=[l],i.flags|=16):T.push(l)),i.child=u,i.memoizedState=null,u)}function Eh(l,i){return i=bd({mode:"visible",children:i},l.mode),i.return=l,l.child=i}function bd(l,i){return l=ir(22,l,null,i),l.lanes=0,l}function Nh(l,i,u){return Qs(i,l.child,null,u),l=Eh(i,i.pendingProps.children),l.flags|=2,i.memoizedState=null,l}function W2(l,i,u){l.lanes|=i;var g=l.alternate;g!==null&&(g.lanes|=i),zp(l.return,i,u)}function wh(l,i,u,g,v,x){var T=l.memoizedState;T===null?l.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:v,treeForkCount:x}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=u,T.tailMode=v,T.treeForkCount=x)}function Z2(l,i,u){var g=i.pendingProps,v=g.revealOrder,x=g.tail;g=g.children;var T=Gt.current,z=(T&2)!==0;if(z?(T=T&1|2,i.flags|=128):T&=1,X(Gt,T),Oa(l,i,g,u),g=at?Cc:0,!z&&l!==null&&(l.flags&128)!==0)e:for(l=i.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&W2(l,u,i);else if(l.tag===19)W2(l,u,i);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(v){case"forwards":for(u=i.child,v=null;u!==null;)l=u.alternate,l!==null&&id(l)===null&&(v=u),u=u.sibling;u=v,u===null?(v=i.child,i.child=null):(v=u.sibling,u.sibling=null),wh(i,!1,v,u,x,g);break;case"backwards":case"unstable_legacy-backwards":for(u=null,v=i.child,i.child=null;v!==null;){if(l=v.alternate,l!==null&&id(l)===null){i.child=v;break}l=v.sibling,v.sibling=u,u=v,v=l}wh(i,!0,u,null,x,g);break;case"together":wh(i,!1,null,null,void 0,g);break;default:i.memoizedState=null}return i.child}function rl(l,i,u){if(l!==null&&(i.dependencies=l.dependencies),Zl|=i.lanes,(u&i.childLanes)===0)if(l!==null){if(Gi(l,i,u,!1),(u&i.childLanes)===0)return null}else return null;if(l!==null&&i.child!==l.child)throw Error(r(153));if(i.child!==null){for(l=i.child,u=Wn(l,l.pendingProps),i.child=u,u.return=i;l.sibling!==null;)l=l.sibling,u=u.sibling=Wn(l,l.pendingProps),u.return=i;u.sibling=null}return i.child}function Sh(l,i){return(l.lanes&i)!==0?!0:(l=l.dependencies,!!(l!==null&&Jm(l)))}function K7(l,i,u){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),ql(i,ta,l.memoizedState.cache),Vs();break;case 27:case 5:Se(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:ql(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Qp(i),null;break;case 13:var g=i.memoizedState;if(g!==null)return g.dehydrated!==null?(Yl(i),i.flags|=128,null):(u&i.child.childLanes)!==0?X2(l,i,u):(Yl(i),l=rl(l,i,u),l!==null?l.sibling:null);Yl(i);break;case 19:var v=(l.flags&128)!==0;if(g=(u&i.childLanes)!==0,g||(Gi(l,i,u,!1),g=(u&i.childLanes)!==0),v){if(g)return Z2(l,i,u);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),X(Gt,Gt.current),g)break;return null;case 22:return i.lanes=0,q2(l,i,u,i.pendingProps);case 24:ql(i,ta,l.memoizedState.cache)}return rl(l,i,u)}function J2(l,i,u){if(l!==null)if(l.memoizedProps!==i.pendingProps)ra=!0;else{if(!Sh(l,u)&&(i.flags&128)===0)return ra=!1,K7(l,i,u);ra=(l.flags&131072)!==0}else ra=!1,at&&(i.flags&1048576)!==0&&_w(i,Cc,i.index);switch(i.lanes=0,i.tag){case 16:e:{var g=i.pendingProps;if(l=Ks(i.elementType),i.type=l,typeof l=="function")kp(l)?(g=Ws(l,g),i.tag=1,i=Y2(null,i,l,g,u)):(i.tag=0,i=yh(null,i,l,g,u));else{if(l!=null){var v=l.$$typeof;if(v===M){i.tag=11,i=$2(null,i,l,g,u);break e}else if(v===_){i.tag=14,i=B2(null,i,l,g,u);break e}}throw i=ne(l)||l,Error(r(306,i,""))}}return i;case 0:return yh(l,i,i.type,i.pendingProps,u);case 1:return g=i.type,v=Ws(g,i.pendingProps),Y2(l,i,g,v,u);case 3:e:{if(we(i,i.stateNode.containerInfo),l===null)throw Error(r(387));g=i.pendingProps;var x=i.memoizedState;v=x.element,qp(l,i),Mc(i,g,null,u);var T=i.memoizedState;if(g=T.cache,ql(i,ta,g),g!==x.cache&&Up(i,[ta],u,!0),Pc(),g=T.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=Q2(l,i,g,u);break e}else if(g!==v){v=Sr(Error(r(424)),i),Ac(v),i=Q2(l,i,g,u);break e}else{switch(l=i.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(St=kr(l.firstChild),Aa=i,at=!0,Bl=null,Tr=!0,u=qw(i,null,g,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Vs(),g===v){i=rl(l,i,u);break e}Oa(l,i,g,u)}i=i.child}return i;case 26:return vd(l,i),l===null?(u=uC(i.type,null,i.pendingProps,null))?i.memoizedState=u:at||(u=i.type,l=i.pendingProps,g=Ld(Q.current).createElement(u),g[ea]=i,g[ba]=l,ka(g,u,l),Ut(g),i.stateNode=g):i.memoizedState=uC(i.type,l.memoizedProps,i.pendingProps,l.memoizedState),null;case 27:return Se(i),l===null&&at&&(g=i.stateNode=iC(i.type,i.pendingProps,Q.current),Aa=i,Tr=!0,v=St,rs(i.type)?(ry=v,St=kr(g.firstChild)):St=v),Oa(l,i,i.pendingProps.children,u),vd(l,i),l===null&&(i.flags|=4194304),i.child;case 5:return l===null&&at&&((v=g=St)&&(g=wL(g,i.type,i.pendingProps,Tr),g!==null?(i.stateNode=g,Aa=i,St=kr(g.firstChild),Tr=!1,v=!0):v=!1),v||Vl(i)),Se(i),v=i.type,x=i.pendingProps,T=l!==null?l.memoizedProps:null,g=x.children,Zh(v,x)?g=null:T!==null&&Zh(v,T)&&(i.flags|=32),i.memoizedState!==null&&(v=Wp(l,i,U7,null,null,u),Jc._currentValue=v),vd(l,i),Oa(l,i,g,u),i.child;case 6:return l===null&&at&&((l=u=St)&&(u=SL(u,i.pendingProps,Tr),u!==null?(i.stateNode=u,Aa=i,St=null,l=!0):l=!1),l||Vl(i)),null;case 13:return X2(l,i,u);case 4:return we(i,i.stateNode.containerInfo),g=i.pendingProps,l===null?i.child=Qs(i,null,g,u):Oa(l,i,g,u),i.child;case 11:return $2(l,i,i.type,i.pendingProps,u);case 7:return Oa(l,i,i.pendingProps,u),i.child;case 8:return Oa(l,i,i.pendingProps.children,u),i.child;case 12:return Oa(l,i,i.pendingProps.children,u),i.child;case 10:return g=i.pendingProps,ql(i,i.type,g.value),Oa(l,i,g.children,u),i.child;case 9:return v=i.type._context,g=i.pendingProps.children,Hs(i),v=Ta(v),g=g(v),i.flags|=1,Oa(l,i,g,u),i.child;case 14:return B2(l,i,i.type,i.pendingProps,u);case 15:return V2(l,i,i.type,i.pendingProps,u);case 19:return Z2(l,i,u);case 31:return G7(l,i,u);case 22:return q2(l,i,u,i.pendingProps);case 24:return Hs(i),g=Ta(ta),l===null?(v=$p(),v===null&&(v=yt,x=Ip(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=u),v=x),i.memoizedState={parent:g,cache:v},Vp(i),ql(i,ta,v)):((l.lanes&u)!==0&&(qp(l,i),Mc(i,null,null,u),Pc()),v=l.memoizedState,x=i.memoizedState,v.parent!==g?(v={parent:g,cache:g},i.memoizedState=v,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=v),ql(i,ta,g)):(g=x.cache,ql(i,ta,g),g!==v.cache&&Up(i,[ta],u,!0))),Oa(l,i,i.pendingProps.children,u),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function nl(l){l.flags|=4}function Ch(l,i,u,g,v){if((i=(l.mode&32)!==0)&&(i=!1),i){if(l.flags|=16777216,(v&335544128)===v)if(l.stateNode.complete)l.flags|=8192;else if(AS())l.flags|=8192;else throw Ys=rd,Bp}else l.flags&=-16777217}function eS(l,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!pC(i))if(AS())l.flags|=8192;else throw Ys=rd,Bp}function xd(l,i){i!==null&&(l.flags|=4),l.flags&16384&&(i=l.tag!==22?Je():536870912,l.lanes|=i,no|=i)}function Ic(l,i){if(!at)switch(l.tailMode){case"hidden":i=l.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?l.tail=null:u.sibling=null;break;case"collapsed":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?i||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function Ct(l){var i=l.alternate!==null&&l.alternate.child===l.child,u=0,g=0;if(i)for(var v=l.child;v!==null;)u|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=l,v=v.sibling;else for(v=l.child;v!==null;)u|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=l,v=v.sibling;return l.subtreeFlags|=g,l.childLanes=u,i}function Y7(l,i,u){var g=i.pendingProps;switch(Mp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(i),null;case 1:return Ct(i),null;case 3:return u=i.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),i.memoizedState.cache!==g&&(i.flags|=2048),el(ta),W(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(l===null||l.child===null)&&(Hi(i)?nl(i):l===null||l.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lp())),Ct(i),null;case 26:var v=i.type,x=i.memoizedState;return l===null?(nl(i),x!==null?(Ct(i),eS(i,x)):(Ct(i),Ch(i,v,null,g,u))):x?x!==l.memoizedState?(nl(i),Ct(i),eS(i,x)):(Ct(i),i.flags&=-16777217):(l=l.memoizedProps,l!==g&&nl(i),Ct(i),Ch(i,v,l,g,u)),null;case 27:if(Te(i),u=Q.current,v=i.type,l!==null&&i.stateNode!=null)l.memoizedProps!==g&&nl(i);else{if(!g){if(i.stateNode===null)throw Error(r(166));return Ct(i),null}l=K.current,Hi(i)?Mw(i):(l=iC(v,g,u),i.stateNode=l,nl(i))}return Ct(i),null;case 5:if(Te(i),v=i.type,l!==null&&i.stateNode!=null)l.memoizedProps!==g&&nl(i);else{if(!g){if(i.stateNode===null)throw Error(r(166));return Ct(i),null}if(x=K.current,Hi(i))Mw(i);else{var T=Ld(Q.current);switch(x){case 1:x=T.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=T.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=T.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=T.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof g.is=="string"?T.createElement("select",{is:g.is}):T.createElement("select"),g.multiple?x.multiple=!0:g.size&&(x.size=g.size);break;default:x=typeof g.is=="string"?T.createElement(v,{is:g.is}):T.createElement(v)}}x[ea]=i,x[ba]=g;e:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)x.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break e;for(;T.sibling===null;){if(T.return===null||T.return===i)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=x;e:switch(ka(x,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&nl(i)}}return Ct(i),Ch(i,i.type,l===null?null:l.memoizedProps,i.pendingProps,u),null;case 6:if(l&&i.stateNode!=null)l.memoizedProps!==g&&nl(i);else{if(typeof g!="string"&&i.stateNode===null)throw Error(r(166));if(l=Q.current,Hi(i)){if(l=i.stateNode,u=i.memoizedProps,g=null,v=Aa,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}l[ea]=i,l=!!(l.nodeValue===u||g!==null&&g.suppressHydrationWarning===!0||XS(l.nodeValue,u)),l||Vl(i,!0)}else l=Ld(l).createTextNode(g),l[ea]=i,i.stateNode=l}return Ct(i),null;case 31:if(u=i.memoizedState,l===null||l.memoizedState!==null){if(g=Hi(i),u!==null){if(l===null){if(!g)throw Error(r(318));if(l=i.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[ea]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ct(i),l=!1}else u=Lp(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=u),l=!0;if(!l)return i.flags&256?(cr(i),i):(cr(i),null);if((i.flags&128)!==0)throw Error(r(558))}return Ct(i),null;case 13:if(g=i.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(v=Hi(i),g!==null&&g.dehydrated!==null){if(l===null){if(!v)throw Error(r(318));if(v=i.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[ea]=i}else Vs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ct(i),v=!1}else v=Lp(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=v),v=!0;if(!v)return i.flags&256?(cr(i),i):(cr(i),null)}return cr(i),(i.flags&128)!==0?(i.lanes=u,i):(u=g!==null,l=l!==null&&l.memoizedState!==null,u&&(g=i.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),x=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(x=g.memoizedState.cachePool.pool),x!==v&&(g.flags|=2048)),u!==l&&u&&(i.child.flags|=8192),xd(i,i.updateQueue),Ct(i),null);case 4:return W(),l===null&&Kh(i.stateNode.containerInfo),Ct(i),null;case 10:return el(i.type),Ct(i),null;case 19:if(B(Gt),g=i.memoizedState,g===null)return Ct(i),null;if(v=(i.flags&128)!==0,x=g.rendering,x===null)if(v)Ic(g,!1);else{if(Ft!==0||l!==null&&(l.flags&128)!==0)for(l=i.child;l!==null;){if(x=id(l),x!==null){for(i.flags|=128,Ic(g,!1),l=x.updateQueue,i.updateQueue=l,xd(i,l),i.subtreeFlags=0,l=u,u=i.child;u!==null;)Ow(u,l),u=u.sibling;return X(Gt,Gt.current&1|2),at&&Zn(i,g.treeForkCount),i.child}l=l.sibling}g.tail!==null&&pe()>Cd&&(i.flags|=128,v=!0,Ic(g,!1),i.lanes=4194304)}else{if(!v)if(l=id(x),l!==null){if(i.flags|=128,v=!0,l=l.updateQueue,i.updateQueue=l,xd(i,l),Ic(g,!0),g.tail===null&&g.tailMode==="hidden"&&!x.alternate&&!at)return Ct(i),null}else 2*pe()-g.renderingStartTime>Cd&&u!==536870912&&(i.flags|=128,v=!0,Ic(g,!1),i.lanes=4194304);g.isBackwards?(x.sibling=i.child,i.child=x):(l=g.last,l!==null?l.sibling=x:i.child=x,g.last=x)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=pe(),l.sibling=null,u=Gt.current,X(Gt,v?u&1|2:u&1),at&&Zn(i,g.treeForkCount),l):(Ct(i),null);case 22:case 23:return cr(i),Yp(),g=i.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(i.flags|=8192):g&&(i.flags|=8192),g?(u&536870912)!==0&&(i.flags&128)===0&&(Ct(i),i.subtreeFlags&6&&(i.flags|=8192)):Ct(i),u=i.updateQueue,u!==null&&xd(i,u.retryQueue),u=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),g=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(g=i.memoizedState.cachePool.pool),g!==u&&(i.flags|=2048),l!==null&&B(Gs),null;case 24:return u=null,l!==null&&(u=l.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),el(ta),Ct(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Q7(l,i){switch(Mp(i),i.tag){case 1:return l=i.flags,l&65536?(i.flags=l&-65537|128,i):null;case 3:return el(ta),W(),l=i.flags,(l&65536)!==0&&(l&128)===0?(i.flags=l&-65537|128,i):null;case 26:case 27:case 5:return Te(i),null;case 31:if(i.memoizedState!==null){if(cr(i),i.alternate===null)throw Error(r(340));Vs()}return l=i.flags,l&65536?(i.flags=l&-65537|128,i):null;case 13:if(cr(i),l=i.memoizedState,l!==null&&l.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Vs()}return l=i.flags,l&65536?(i.flags=l&-65537|128,i):null;case 19:return B(Gt),null;case 4:return W(),null;case 10:return el(i.type),null;case 22:case 23:return cr(i),Yp(),l!==null&&B(Gs),l=i.flags,l&65536?(i.flags=l&-65537|128,i):null;case 24:return el(ta),null;case 25:return null;default:return null}}function tS(l,i){switch(Mp(i),i.tag){case 3:el(ta),W();break;case 26:case 27:case 5:Te(i);break;case 4:W();break;case 31:i.memoizedState!==null&&cr(i);break;case 13:cr(i);break;case 19:B(Gt);break;case 10:el(i.type);break;case 22:case 23:cr(i),Yp(),l!==null&&B(Gs);break;case 24:el(ta)}}function Fc(l,i){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&l)===l){g=void 0;var x=u.create,T=u.inst;g=x(),T.destroy=g}u=u.next}while(u!==v)}}catch(z){ot(i,i.return,z)}}function Xl(l,i,u){try{var g=i.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var x=v.next;g=x;do{if((g.tag&l)===l){var T=g.inst,z=T.destroy;if(z!==void 0){T.destroy=void 0,v=i;var $=u,J=z;try{J()}catch(me){ot(v,$,me)}}}g=g.next}while(g!==x)}}catch(me){ot(i,i.return,me)}}function aS(l){var i=l.updateQueue;if(i!==null){var u=l.stateNode;try{Gw(i,u)}catch(g){ot(l,l.return,g)}}}function rS(l,i,u){u.props=Ws(l.type,l.memoizedProps),u.state=l.memoizedState;try{u.componentWillUnmount()}catch(g){ot(l,i,g)}}function $c(l,i){try{var u=l.ref;if(u!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof u=="function"?l.refCleanup=u(g):u.current=g}}catch(v){ot(l,i,v)}}function Sn(l,i){var u=l.ref,g=l.refCleanup;if(u!==null)if(typeof g=="function")try{g()}catch(v){ot(l,i,v)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){ot(l,i,v)}else u.current=null}function nS(l){var i=l.type,u=l.memoizedProps,g=l.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":u.autoFocus&&g.focus();break e;case"img":u.src?g.src=u.src:u.srcSet&&(g.srcset=u.srcSet)}}catch(v){ot(l,l.return,v)}}function Ah(l,i,u){try{var g=l.stateNode;yL(g,l.type,u,i),g[ba]=i}catch(v){ot(l,l.return,v)}}function lS(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&rs(l.type)||l.tag===4}function Th(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||lS(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&rs(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Oh(l,i,u){var g=l.tag;if(g===5||g===6)l=l.stateNode,i?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(l,i):(i=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,i.appendChild(l),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=Qn));else if(g!==4&&(g===27&&rs(l.type)&&(u=l.stateNode,i=null),l=l.child,l!==null))for(Oh(l,i,u),l=l.sibling;l!==null;)Oh(l,i,u),l=l.sibling}function Ed(l,i,u){var g=l.tag;if(g===5||g===6)l=l.stateNode,i?u.insertBefore(l,i):u.appendChild(l);else if(g!==4&&(g===27&&rs(l.type)&&(u=l.stateNode),l=l.child,l!==null))for(Ed(l,i,u),l=l.sibling;l!==null;)Ed(l,i,u),l=l.sibling}function sS(l){var i=l.stateNode,u=l.memoizedProps;try{for(var g=l.type,v=i.attributes;v.length;)i.removeAttributeNode(v[0]);ka(i,g,u),i[ea]=l,i[ba]=u}catch(x){ot(l,l.return,x)}}var ll=!1,na=!1,kh=!1,iS=typeof WeakSet=="function"?WeakSet:Set,xa=null;function X7(l,i){if(l=l.containerInfo,Xh=Bd,l=bw(l),Np(l)){if("selectionStart"in l)var u={start:l.selectionStart,end:l.selectionEnd};else e:{u=(u=l.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var v=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var T=0,z=-1,$=-1,J=0,me=0,ye=l,ee=null;t:for(;;){for(var ie;ye!==u||v!==0&&ye.nodeType!==3||(z=T+v),ye!==x||g!==0&&ye.nodeType!==3||($=T+g),ye.nodeType===3&&(T+=ye.nodeValue.length),(ie=ye.firstChild)!==null;)ee=ye,ye=ie;for(;;){if(ye===l)break t;if(ee===u&&++J===v&&(z=T),ee===x&&++me===g&&($=T),(ie=ye.nextSibling)!==null)break;ye=ee,ee=ye.parentNode}ye=ie}u=z===-1||$===-1?null:{start:z,end:$}}else u=null}u=u||{start:0,end:0}}else u=null;for(Wh={focusedElem:l,selectionRange:u},Bd=!1,xa=i;xa!==null;)if(i=xa,l=i.child,(i.subtreeFlags&1028)!==0&&l!==null)l.return=i,xa=l;else for(;xa!==null;){switch(i=xa,x=i.alternate,l=i.flags,i.tag){case 0:if((l&4)!==0&&(l=i.updateQueue,l=l!==null?l.events:null,l!==null))for(u=0;u<l.length;u++)v=l[u],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&x!==null){l=void 0,u=i,v=x.memoizedProps,x=x.memoizedState,g=u.stateNode;try{var De=Ws(u.type,v);l=g.getSnapshotBeforeUpdate(De,x),g.__reactInternalSnapshotBeforeUpdate=l}catch(ze){ot(u,u.return,ze)}}break;case 3:if((l&1024)!==0){if(l=i.stateNode.containerInfo,u=l.nodeType,u===9)ey(l);else if(u===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":ey(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=i.sibling,l!==null){l.return=i.return,xa=l;break}xa=i.return}}function oS(l,i,u){var g=u.flags;switch(u.tag){case 0:case 11:case 15:il(l,u),g&4&&Fc(5,u);break;case 1:if(il(l,u),g&4)if(l=u.stateNode,i===null)try{l.componentDidMount()}catch(T){ot(u,u.return,T)}else{var v=Ws(u.type,i.memoizedProps);i=i.memoizedState;try{l.componentDidUpdate(v,i,l.__reactInternalSnapshotBeforeUpdate)}catch(T){ot(u,u.return,T)}}g&64&&aS(u),g&512&&$c(u,u.return);break;case 3:if(il(l,u),g&64&&(l=u.updateQueue,l!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{Gw(l,i)}catch(T){ot(u,u.return,T)}}break;case 27:i===null&&g&4&&sS(u);case 26:case 5:il(l,u),i===null&&g&4&&nS(u),g&512&&$c(u,u.return);break;case 12:il(l,u);break;case 31:il(l,u),g&4&&mS(l,u);break;case 13:il(l,u),g&4&&dS(l,u),g&64&&(l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(u=lL.bind(null,u),CL(l,u))));break;case 22:if(g=u.memoizedState!==null||ll,!g){i=i!==null&&i.memoizedState!==null||na,v=ll;var x=na;ll=g,(na=i)&&!x?ol(l,u,(u.subtreeFlags&8772)!==0):il(l,u),ll=v,na=x}break;case 30:break;default:il(l,u)}}function cS(l){var i=l.alternate;i!==null&&(l.alternate=null,cS(i)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(i=l.stateNode,i!==null&&Pi(i)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Ot=null,Ya=!1;function sl(l,i,u){for(u=u.child;u!==null;)uS(l,i,u),u=u.sibling}function uS(l,i,u){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Ga,u)}catch{}switch(u.tag){case 26:na||Sn(u,i),sl(l,i,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:na||Sn(u,i);var g=Ot,v=Ya;rs(u.type)&&(Ot=u.stateNode,Ya=!1),sl(l,i,u),Xc(u.stateNode),Ot=g,Ya=v;break;case 5:na||Sn(u,i);case 6:if(g=Ot,v=Ya,Ot=null,sl(l,i,u),Ot=g,Ya=v,Ot!==null)if(Ya)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(u.stateNode)}catch(x){ot(u,i,x)}else try{Ot.removeChild(u.stateNode)}catch(x){ot(u,i,x)}break;case 18:Ot!==null&&(Ya?(l=Ot,aC(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,u.stateNode),fo(l)):aC(Ot,u.stateNode));break;case 4:g=Ot,v=Ya,Ot=u.stateNode.containerInfo,Ya=!0,sl(l,i,u),Ot=g,Ya=v;break;case 0:case 11:case 14:case 15:Xl(2,u,i),na||Xl(4,u,i),sl(l,i,u);break;case 1:na||(Sn(u,i),g=u.stateNode,typeof g.componentWillUnmount=="function"&&rS(u,i,g)),sl(l,i,u);break;case 21:sl(l,i,u);break;case 22:na=(g=na)||u.memoizedState!==null,sl(l,i,u),na=g;break;default:sl(l,i,u)}}function mS(l,i){if(i.memoizedState===null&&(l=i.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{fo(l)}catch(u){ot(i,i.return,u)}}}function dS(l,i){if(i.memoizedState===null&&(l=i.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{fo(l)}catch(u){ot(i,i.return,u)}}function W7(l){switch(l.tag){case 31:case 13:case 19:var i=l.stateNode;return i===null&&(i=l.stateNode=new iS),i;case 22:return l=l.stateNode,i=l._retryCache,i===null&&(i=l._retryCache=new iS),i;default:throw Error(r(435,l.tag))}}function Nd(l,i){var u=W7(l);i.forEach(function(g){if(!u.has(g)){u.add(g);var v=sL.bind(null,l,g);g.then(v,v)}})}function Qa(l,i){var u=i.deletions;if(u!==null)for(var g=0;g<u.length;g++){var v=u[g],x=l,T=i,z=T;e:for(;z!==null;){switch(z.tag){case 27:if(rs(z.type)){Ot=z.stateNode,Ya=!1;break e}break;case 5:Ot=z.stateNode,Ya=!1;break e;case 3:case 4:Ot=z.stateNode.containerInfo,Ya=!0;break e}z=z.return}if(Ot===null)throw Error(r(160));uS(x,T,v),Ot=null,Ya=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)fS(i,l),i=i.sibling}var Zr=null;function fS(l,i){var u=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Qa(i,l),Xa(l),g&4&&(Xl(3,l,l.return),Fc(3,l),Xl(5,l,l.return));break;case 1:Qa(i,l),Xa(l),g&512&&(na||u===null||Sn(u,u.return)),g&64&&ll&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(u=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=u===null?g:u.concat(g))));break;case 26:var v=Zr;if(Qa(i,l),Xa(l),g&512&&(na||u===null||Sn(u,u.return)),g&4){var x=u!==null?u.memoizedState:null;if(g=l.memoizedState,u===null)if(g===null)if(l.stateNode===null){e:{g=l.type,u=l.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":x=v.getElementsByTagName("title")[0],(!x||x[Il]||x[ea]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(g),v.head.insertBefore(x,v.querySelector("head > title"))),ka(x,g,u),x[ea]=l,Ut(x),g=x;break e;case"link":var T=fC("link","href",v).get(g+(u.href||""));if(T){for(var z=0;z<T.length;z++)if(x=T[z],x.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&x.getAttribute("rel")===(u.rel==null?null:u.rel)&&x.getAttribute("title")===(u.title==null?null:u.title)&&x.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){T.splice(z,1);break t}}x=v.createElement(g),ka(x,g,u),v.head.appendChild(x);break;case"meta":if(T=fC("meta","content",v).get(g+(u.content||""))){for(z=0;z<T.length;z++)if(x=T[z],x.getAttribute("content")===(u.content==null?null:""+u.content)&&x.getAttribute("name")===(u.name==null?null:u.name)&&x.getAttribute("property")===(u.property==null?null:u.property)&&x.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&x.getAttribute("charset")===(u.charSet==null?null:u.charSet)){T.splice(z,1);break t}}x=v.createElement(g),ka(x,g,u),v.head.appendChild(x);break;default:throw Error(r(468,g))}x[ea]=l,Ut(x),g=x}l.stateNode=g}else gC(v,l.type,l.stateNode);else l.stateNode=dC(v,g,l.memoizedProps);else x!==g?(x===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):x.count--,g===null?gC(v,l.type,l.stateNode):dC(v,g,l.memoizedProps)):g===null&&l.stateNode!==null&&Ah(l,l.memoizedProps,u.memoizedProps)}break;case 27:Qa(i,l),Xa(l),g&512&&(na||u===null||Sn(u,u.return)),u!==null&&g&4&&Ah(l,l.memoizedProps,u.memoizedProps);break;case 5:if(Qa(i,l),Xa(l),g&512&&(na||u===null||Sn(u,u.return)),l.flags&32){v=l.stateNode;try{Li(v,"")}catch(De){ot(l,l.return,De)}}g&4&&l.stateNode!=null&&(v=l.memoizedProps,Ah(l,v,u!==null?u.memoizedProps:v)),g&1024&&(kh=!0);break;case 6:if(Qa(i,l),Xa(l),g&4){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,u=l.stateNode;try{u.nodeValue=g}catch(De){ot(l,l.return,De)}}break;case 3:if(Ud=null,v=Zr,Zr=jd(i.containerInfo),Qa(i,l),Zr=v,Xa(l),g&4&&u!==null&&u.memoizedState.isDehydrated)try{fo(i.containerInfo)}catch(De){ot(l,l.return,De)}kh&&(kh=!1,gS(l));break;case 4:g=Zr,Zr=jd(l.stateNode.containerInfo),Qa(i,l),Xa(l),Zr=g;break;case 12:Qa(i,l),Xa(l);break;case 31:Qa(i,l),Xa(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Nd(l,g)));break;case 13:Qa(i,l),Xa(l),l.child.flags&8192&&l.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Sd=pe()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Nd(l,g)));break;case 22:v=l.memoizedState!==null;var $=u!==null&&u.memoizedState!==null,J=ll,me=na;if(ll=J||v,na=me||$,Qa(i,l),na=me,ll=J,Xa(l),g&8192)e:for(i=l.stateNode,i._visibility=v?i._visibility&-2:i._visibility|1,v&&(u===null||$||ll||na||Zs(l)),u=null,i=l;;){if(i.tag===5||i.tag===26){if(u===null){$=u=i;try{if(x=$.stateNode,v)T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{z=$.stateNode;var ye=$.memoizedProps.style,ee=ye!=null&&ye.hasOwnProperty("display")?ye.display:null;z.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(De){ot($,$.return,De)}}}else if(i.tag===6){if(u===null){$=i;try{$.stateNode.nodeValue=v?"":$.memoizedProps}catch(De){ot($,$.return,De)}}}else if(i.tag===18){if(u===null){$=i;try{var ie=$.stateNode;v?rC(ie,!0):rC($.stateNode,!1)}catch(De){ot($,$.return,De)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===l)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;u===i&&(u=null),i=i.return}u===i&&(u=null),i.sibling.return=i.return,i=i.sibling}g&4&&(g=l.updateQueue,g!==null&&(u=g.retryQueue,u!==null&&(g.retryQueue=null,Nd(l,u))));break;case 19:Qa(i,l),Xa(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Nd(l,g)));break;case 30:break;case 21:break;default:Qa(i,l),Xa(l)}}function Xa(l){var i=l.flags;if(i&2){try{for(var u,g=l.return;g!==null;){if(lS(g)){u=g;break}g=g.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,x=Th(l);Ed(l,x,v);break;case 5:var T=u.stateNode;u.flags&32&&(Li(T,""),u.flags&=-33);var z=Th(l);Ed(l,z,T);break;case 3:case 4:var $=u.stateNode.containerInfo,J=Th(l);Oh(l,J,$);break;default:throw Error(r(161))}}catch(me){ot(l,l.return,me)}l.flags&=-3}i&4096&&(l.flags&=-4097)}function gS(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var i=l;gS(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),l=l.sibling}}function il(l,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)oS(l,i.alternate,i),i=i.sibling}function Zs(l){for(l=l.child;l!==null;){var i=l;switch(i.tag){case 0:case 11:case 14:case 15:Xl(4,i,i.return),Zs(i);break;case 1:Sn(i,i.return);var u=i.stateNode;typeof u.componentWillUnmount=="function"&&rS(i,i.return,u),Zs(i);break;case 27:Xc(i.stateNode);case 26:case 5:Sn(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}l=l.sibling}}function ol(l,i,u){for(u=u&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var g=i.alternate,v=l,x=i,T=x.flags;switch(x.tag){case 0:case 11:case 15:ol(v,x,u),Fc(4,x);break;case 1:if(ol(v,x,u),g=x,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){ot(g,g.return,J)}if(g=x,v=g.updateQueue,v!==null){var z=g.stateNode;try{var $=v.shared.hiddenCallbacks;if($!==null)for(v.shared.hiddenCallbacks=null,v=0;v<$.length;v++)Hw($[v],z)}catch(J){ot(g,g.return,J)}}u&&T&64&&aS(x),$c(x,x.return);break;case 27:sS(x);case 26:case 5:ol(v,x,u),u&&g===null&&T&4&&nS(x),$c(x,x.return);break;case 12:ol(v,x,u);break;case 31:ol(v,x,u),u&&T&4&&mS(v,x);break;case 13:ol(v,x,u),u&&T&4&&dS(v,x);break;case 22:x.memoizedState===null&&ol(v,x,u),$c(x,x.return);break;case 30:break;default:ol(v,x,u)}i=i.sibling}}function Dh(l,i){var u=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==u&&(l!=null&&l.refCount++,u!=null&&Tc(u))}function _h(l,i){l=null,i.alternate!==null&&(l=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==l&&(i.refCount++,l!=null&&Tc(l))}function Jr(l,i,u,g){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pS(l,i,u,g),i=i.sibling}function pS(l,i,u,g){var v=i.flags;switch(i.tag){case 0:case 11:case 15:Jr(l,i,u,g),v&2048&&Fc(9,i);break;case 1:Jr(l,i,u,g);break;case 3:Jr(l,i,u,g),v&2048&&(l=null,i.alternate!==null&&(l=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==l&&(i.refCount++,l!=null&&Tc(l)));break;case 12:if(v&2048){Jr(l,i,u,g),l=i.stateNode;try{var x=i.memoizedProps,T=x.id,z=x.onPostCommit;typeof z=="function"&&z(T,i.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch($){ot(i,i.return,$)}}else Jr(l,i,u,g);break;case 31:Jr(l,i,u,g);break;case 13:Jr(l,i,u,g);break;case 23:break;case 22:x=i.stateNode,T=i.alternate,i.memoizedState!==null?x._visibility&2?Jr(l,i,u,g):Bc(l,i):x._visibility&2?Jr(l,i,u,g):(x._visibility|=2,to(l,i,u,g,(i.subtreeFlags&10256)!==0||!1)),v&2048&&Dh(T,i);break;case 24:Jr(l,i,u,g),v&2048&&_h(i.alternate,i);break;default:Jr(l,i,u,g)}}function to(l,i,u,g,v){for(v=v&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var x=l,T=i,z=u,$=g,J=T.flags;switch(T.tag){case 0:case 11:case 15:to(x,T,z,$,v),Fc(8,T);break;case 23:break;case 22:var me=T.stateNode;T.memoizedState!==null?me._visibility&2?to(x,T,z,$,v):Bc(x,T):(me._visibility|=2,to(x,T,z,$,v)),v&&J&2048&&Dh(T.alternate,T);break;case 24:to(x,T,z,$,v),v&&J&2048&&_h(T.alternate,T);break;default:to(x,T,z,$,v)}i=i.sibling}}function Bc(l,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var u=l,g=i,v=g.flags;switch(g.tag){case 22:Bc(u,g),v&2048&&Dh(g.alternate,g);break;case 24:Bc(u,g),v&2048&&_h(g.alternate,g);break;default:Bc(u,g)}i=i.sibling}}var Vc=8192;function ao(l,i,u){if(l.subtreeFlags&Vc)for(l=l.child;l!==null;)hS(l,i,u),l=l.sibling}function hS(l,i,u){switch(l.tag){case 26:ao(l,i,u),l.flags&Vc&&l.memoizedState!==null&&zL(u,Zr,l.memoizedState,l.memoizedProps);break;case 5:ao(l,i,u);break;case 3:case 4:var g=Zr;Zr=jd(l.stateNode.containerInfo),ao(l,i,u),Zr=g;break;case 22:l.memoizedState===null&&(g=l.alternate,g!==null&&g.memoizedState!==null?(g=Vc,Vc=16777216,ao(l,i,u),Vc=g):ao(l,i,u));break;default:ao(l,i,u)}}function yS(l){var i=l.alternate;if(i!==null&&(l=i.child,l!==null)){i.child=null;do i=l.sibling,l.sibling=null,l=i;while(l!==null)}}function qc(l){var i=l.deletions;if((l.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var g=i[u];xa=g,bS(g,l)}yS(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vS(l),l=l.sibling}function vS(l){switch(l.tag){case 0:case 11:case 15:qc(l),l.flags&2048&&Xl(9,l,l.return);break;case 3:qc(l);break;case 12:qc(l);break;case 22:var i=l.stateNode;l.memoizedState!==null&&i._visibility&2&&(l.return===null||l.return.tag!==13)?(i._visibility&=-3,wd(l)):qc(l);break;default:qc(l)}}function wd(l){var i=l.deletions;if((l.flags&16)!==0){if(i!==null)for(var u=0;u<i.length;u++){var g=i[u];xa=g,bS(g,l)}yS(l)}for(l=l.child;l!==null;){switch(i=l,i.tag){case 0:case 11:case 15:Xl(8,i,i.return),wd(i);break;case 22:u=i.stateNode,u._visibility&2&&(u._visibility&=-3,wd(i));break;default:wd(i)}l=l.sibling}}function bS(l,i){for(;xa!==null;){var u=xa;switch(u.tag){case 0:case 11:case 15:Xl(8,u,i);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var g=u.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Tc(u.memoizedState.cache)}if(g=u.child,g!==null)g.return=u,xa=g;else e:for(u=l;xa!==null;){g=xa;var v=g.sibling,x=g.return;if(cS(g),g===u){xa=null;break e}if(v!==null){v.return=x,xa=v;break e}xa=x}}}var Z7={getCacheForType:function(l){var i=Ta(ta),u=i.data.get(l);return u===void 0&&(u=l(),i.data.set(l,u)),u},cacheSignal:function(){return Ta(ta).controller.signal}},J7=typeof WeakMap=="function"?WeakMap:Map,st=0,yt=null,We=null,et=0,it=0,ur=null,Wl=!1,ro=!1,Ph=!1,cl=0,Ft=0,Zl=0,Js=0,Mh=0,mr=0,no=0,Hc=null,Wa=null,Rh=!1,Sd=0,xS=0,Cd=1/0,Ad=null,Jl=null,ua=0,es=null,lo=null,ul=0,Lh=0,jh=null,ES=null,Gc=0,zh=null;function dr(){return(st&2)!==0&&et!==0?et&-et:F.T!==null?Vh():gc()}function NS(){if(mr===0)if((et&536870912)===0||at){var l=Hn;Hn<<=1,(Hn&3932160)===0&&(Hn=262144),mr=l}else mr=536870912;return l=or.current,l!==null&&(l.flags|=32),mr}function Za(l,i,u){(l===yt&&(it===2||it===9)||l.cancelPendingCommit!==null)&&(so(l,0),ts(l,et,mr,!1)),js(l,u),((st&2)===0||l!==yt)&&(l===yt&&((st&2)===0&&(Js|=u),Ft===4&&ts(l,et,mr,!1)),Cn(l))}function wS(l,i,u){if((st&6)!==0)throw Error(r(327));var g=!u&&(i&127)===0&&(i&l.expiredLanes)===0||xn(l,i),v=g?aL(l,i):Ih(l,i,!0),x=g;do{if(v===0){ro&&!g&&ts(l,i,0,!1);break}else{if(u=l.current.alternate,x&&!eL(u)){v=Ih(l,i,!1),x=!1;continue}if(v===2){if(x=i,l.errorRecoveryDisabledLanes&x)var T=0;else T=l.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var z=l;v=Hc;var $=z.current.memoizedState.isDehydrated;if($&&(so(z,T).flags|=256),T=Ih(z,T,!1),T!==2){if(Ph&&!$){z.errorRecoveryDisabledLanes|=x,Js|=x,v=4;break e}x=Wa,Wa=v,x!==null&&(Wa===null?Wa=x:Wa.push.apply(Wa,x))}v=T}if(x=!1,v!==2)continue}}if(v===1){so(l,0),ts(l,i,0,!0);break}e:{switch(g=l,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ts(g,i,mr,!Wl);break e;case 2:Wa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(v=Sd+300-pe(),10<v)){if(ts(g,i,mr,!Wl),bn(g,0,!0)!==0)break e;ul=i,g.timeoutHandle=eC(SS.bind(null,g,u,Wa,Ad,Rh,i,mr,Js,no,Wl,x,"Throttled",-0,0),v);break e}SS(g,u,Wa,Ad,Rh,i,mr,Js,no,Wl,x,null,-0,0)}}break}while(!0);Cn(l)}function SS(l,i,u,g,v,x,T,z,$,J,me,ye,ee,ie){if(l.timeoutHandle=-1,ye=i.subtreeFlags,ye&8192||(ye&16785408)===16785408){ye={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},hS(i,x,ye);var De=(x&62914560)===x?Sd-pe():(x&4194048)===x?xS-pe():0;if(De=UL(ye,De),De!==null){ul=x,l.cancelPendingCommit=De(PS.bind(null,l,i,x,u,g,v,T,z,$,me,ye,null,ee,ie)),ts(l,x,T,!J);return}}PS(l,i,x,u,g,v,T,z,$)}function eL(l){for(var i=l;;){var u=i.tag;if((u===0||u===11||u===15)&&i.flags&16384&&(u=i.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var g=0;g<u.length;g++){var v=u[g],x=v.getSnapshot;v=v.value;try{if(!sr(x(),v))return!1}catch{return!1}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===l)break;for(;i.sibling===null;){if(i.return===null||i.return===l)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ts(l,i,u,g){i&=~Mh,i&=~Js,l.suspendedLanes|=i,l.pingedLanes&=~i,g&&(l.warmLanes|=i),g=l.expirationTimes;for(var v=i;0<v;){var x=31-je(v),T=1<<x;g[x]=-1,v&=~T}u!==0&&Rm(l,u,i)}function Td(){return(st&6)===0?(Kc(0),!1):!0}function Uh(){if(We!==null){if(it===0)var l=We.return;else l=We,Jn=qs=null,eh(l),Xi=null,kc=0,l=We;for(;l!==null;)tS(l.alternate,l),l=l.return;We=null}}function so(l,i){var u=l.timeoutHandle;u!==-1&&(l.timeoutHandle=-1,xL(u)),u=l.cancelPendingCommit,u!==null&&(l.cancelPendingCommit=null,u()),ul=0,Uh(),yt=l,We=u=Wn(l.current,null),et=i,it=0,ur=null,Wl=!1,ro=xn(l,i),Ph=!1,no=mr=Mh=Js=Zl=Ft=0,Wa=Hc=null,Rh=!1,(i&8)!==0&&(i|=i&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=i;0<g;){var v=31-je(g),x=1<<v;i|=l[v],g&=~x}return cl=i,Ym(),u}function CS(l,i){Ke=null,F.H=zc,i===Qi||i===ad?(i=$w(),it=3):i===Bp?(i=$w(),it=4):it=i===hh?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ur=i,We===null&&(Ft=1,hd(l,Sr(i,l.current)))}function AS(){var l=or.current;return l===null?!0:(et&4194048)===et?Or===null:(et&62914560)===et||(et&536870912)!==0?l===Or:!1}function TS(){var l=F.H;return F.H=zc,l===null?zc:l}function OS(){var l=F.A;return F.A=Z7,l}function Od(){Ft=4,Wl||(et&4194048)!==et&&or.current!==null||(ro=!0),(Zl&134217727)===0&&(Js&134217727)===0||yt===null||ts(yt,et,mr,!1)}function Ih(l,i,u){var g=st;st|=2;var v=TS(),x=OS();(yt!==l||et!==i)&&(Ad=null,so(l,i)),i=!1;var T=Ft;e:do try{if(it!==0&&We!==null){var z=We,$=ur;switch(it){case 8:Uh(),T=6;break e;case 3:case 2:case 9:case 6:or.current===null&&(i=!0);var J=it;if(it=0,ur=null,io(l,z,$,J),u&&ro){T=0;break e}break;default:J=it,it=0,ur=null,io(l,z,$,J)}}tL(),T=Ft;break}catch(me){CS(l,me)}while(!0);return i&&l.shellSuspendCounter++,Jn=qs=null,st=g,F.H=v,F.A=x,We===null&&(yt=null,et=0,Ym()),T}function tL(){for(;We!==null;)kS(We)}function aL(l,i){var u=st;st|=2;var g=TS(),v=OS();yt!==l||et!==i?(Ad=null,Cd=pe()+500,so(l,i)):ro=xn(l,i);e:do try{if(it!==0&&We!==null){i=We;var x=ur;t:switch(it){case 1:it=0,ur=null,io(l,i,x,1);break;case 2:case 9:if(Iw(x)){it=0,ur=null,DS(i);break}i=function(){it!==2&&it!==9||yt!==l||(it=7),Cn(l)},x.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Iw(x)?(it=0,ur=null,DS(i)):(it=0,ur=null,io(l,i,x,7));break;case 5:var T=null;switch(We.tag){case 26:T=We.memoizedState;case 5:case 27:var z=We;if(T?pC(T):z.stateNode.complete){it=0,ur=null;var $=z.sibling;if($!==null)We=$;else{var J=z.return;J!==null?(We=J,kd(J)):We=null}break t}}it=0,ur=null,io(l,i,x,5);break;case 6:it=0,ur=null,io(l,i,x,6);break;case 8:Uh(),Ft=6;break e;default:throw Error(r(462))}}rL();break}catch(me){CS(l,me)}while(!0);return Jn=qs=null,F.H=g,F.A=v,st=u,We!==null?0:(yt=null,et=0,Ym(),Ft)}function rL(){for(;We!==null&&!Ae();)kS(We)}function kS(l){var i=J2(l.alternate,l,cl);l.memoizedProps=l.pendingProps,i===null?kd(l):We=i}function DS(l){var i=l,u=i.alternate;switch(i.tag){case 15:case 0:i=K2(u,i,i.pendingProps,i.type,void 0,et);break;case 11:i=K2(u,i,i.pendingProps,i.type.render,i.ref,et);break;case 5:eh(i);default:tS(u,i),i=We=Ow(i,cl),i=J2(u,i,cl)}l.memoizedProps=l.pendingProps,i===null?kd(l):We=i}function io(l,i,u,g){Jn=qs=null,eh(i),Xi=null,kc=0;var v=i.return;try{if(H7(l,v,i,u,et)){Ft=1,hd(l,Sr(u,l.current)),We=null;return}}catch(x){if(v!==null)throw We=v,x;Ft=1,hd(l,Sr(u,l.current)),We=null;return}i.flags&32768?(at||g===1?l=!0:ro||(et&536870912)!==0?l=!1:(Wl=l=!0,(g===2||g===9||g===3||g===6)&&(g=or.current,g!==null&&g.tag===13&&(g.flags|=16384))),_S(i,l)):kd(i)}function kd(l){var i=l;do{if((i.flags&32768)!==0){_S(i,Wl);return}l=i.return;var u=Y7(i.alternate,i,cl);if(u!==null){We=u;return}if(i=i.sibling,i!==null){We=i;return}We=i=l}while(i!==null);Ft===0&&(Ft=5)}function _S(l,i){do{var u=Q7(l.alternate,l);if(u!==null){u.flags&=32767,We=u;return}if(u=l.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!i&&(l=l.sibling,l!==null)){We=l;return}We=l=u}while(l!==null);Ft=6,We=null}function PS(l,i,u,g,v,x,T,z,$){l.cancelPendingCommit=null;do Dd();while(ua!==0);if((st&6)!==0)throw Error(r(327));if(i!==null){if(i===l.current)throw Error(r(177));if(x=i.lanes|i.childLanes,x|=Tp,rp(l,u,x,T,z,$),l===yt&&(We=yt=null,et=0),lo=i,es=l,ul=u,Lh=x,jh=v,ES=g,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,iL(Ha,function(){return zS(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,v=G.p,G.p=2,T=st,st|=4;try{X7(l,i,u)}finally{st=T,G.p=v,F.T=g}}ua=1,MS(),RS(),LS()}}function MS(){if(ua===1){ua=0;var l=es,i=lo,u=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var g=G.p;G.p=2;var v=st;st|=4;try{fS(i,l);var x=Wh,T=bw(l.containerInfo),z=x.focusedElem,$=x.selectionRange;if(T!==z&&z&&z.ownerDocument&&vw(z.ownerDocument.documentElement,z)){if($!==null&&Np(z)){var J=$.start,me=$.end;if(me===void 0&&(me=J),"selectionStart"in z)z.selectionStart=J,z.selectionEnd=Math.min(me,z.value.length);else{var ye=z.ownerDocument||document,ee=ye&&ye.defaultView||window;if(ee.getSelection){var ie=ee.getSelection(),De=z.textContent.length,ze=Math.min($.start,De),ft=$.end===void 0?ze:Math.min($.end,De);!ie.extend&&ze>ft&&(T=ft,ft=ze,ze=T);var Y=yw(z,ze),q=yw(z,ft);if(Y&&q&&(ie.rangeCount!==1||ie.anchorNode!==Y.node||ie.anchorOffset!==Y.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var Z=ye.createRange();Z.setStart(Y.node,Y.offset),ie.removeAllRanges(),ze>ft?(ie.addRange(Z),ie.extend(q.node,q.offset)):(Z.setEnd(q.node,q.offset),ie.addRange(Z))}}}}for(ye=[],ie=z;ie=ie.parentNode;)ie.nodeType===1&&ye.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<ye.length;z++){var he=ye[z];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Bd=!!Xh,Wh=Xh=null}finally{st=v,G.p=g,F.T=u}}l.current=i,ua=2}}function RS(){if(ua===2){ua=0;var l=es,i=lo,u=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var g=G.p;G.p=2;var v=st;st|=4;try{oS(l,i.alternate,i)}finally{st=v,G.p=g,F.T=u}}ua=3}}function LS(){if(ua===4||ua===3){ua=0,ce();var l=es,i=lo,u=ul,g=ES;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ua=5:(ua=0,lo=es=null,jS(l,l.pendingLanes));var v=l.pendingLanes;if(v===0&&(Jl=null),fc(u),i=i.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Ga,i,void 0,(i.current.flags&128)===128)}catch{}if(g!==null){i=F.T,v=G.p,G.p=2,F.T=null;try{for(var x=l.onRecoverableError,T=0;T<g.length;T++){var z=g[T];x(z.value,{componentStack:z.stack})}}finally{F.T=i,G.p=v}}(ul&3)!==0&&Dd(),Cn(l),v=l.pendingLanes,(u&261930)!==0&&(v&42)!==0?l===zh?Gc++:(Gc=0,zh=l):Gc=0,Kc(0)}}function jS(l,i){(l.pooledCacheLanes&=i)===0&&(i=l.pooledCache,i!=null&&(l.pooledCache=null,Tc(i)))}function Dd(){return MS(),RS(),LS(),zS()}function zS(){if(ua!==5)return!1;var l=es,i=Lh;Lh=0;var u=fc(ul),g=F.T,v=G.p;try{G.p=32>u?32:u,F.T=null,u=jh,jh=null;var x=es,T=ul;if(ua=0,lo=es=null,ul=0,(st&6)!==0)throw Error(r(331));var z=st;if(st|=4,vS(x.current),pS(x,x.current,T,u),st=z,Kc(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Ga,x)}catch{}return!0}finally{G.p=v,F.T=g,jS(l,i)}}function US(l,i,u){i=Sr(u,i),i=ph(l.stateNode,i,2),l=Kl(l,i,2),l!==null&&(js(l,2),Cn(l))}function ot(l,i,u){if(l.tag===3)US(l,l,u);else for(;i!==null;){if(i.tag===3){US(i,l,u);break}else if(i.tag===1){var g=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Jl===null||!Jl.has(g))){l=Sr(u,l),u=I2(2),g=Kl(i,u,2),g!==null&&(F2(u,g,i,l),js(g,2),Cn(g));break}}i=i.return}}function Fh(l,i,u){var g=l.pingCache;if(g===null){g=l.pingCache=new J7;var v=new Set;g.set(i,v)}else v=g.get(i),v===void 0&&(v=new Set,g.set(i,v));v.has(u)||(Ph=!0,v.add(u),l=nL.bind(null,l,i,u),i.then(l,l))}function nL(l,i,u){var g=l.pingCache;g!==null&&g.delete(i),l.pingedLanes|=l.suspendedLanes&u,l.warmLanes&=~u,yt===l&&(et&u)===u&&(Ft===4||Ft===3&&(et&62914560)===et&&300>pe()-Sd?(st&2)===0&&so(l,0):Mh|=u,no===et&&(no=0)),Cn(l)}function IS(l,i){i===0&&(i=Je()),l=$s(l,i),l!==null&&(js(l,i),Cn(l))}function lL(l){var i=l.memoizedState,u=0;i!==null&&(u=i.retryLane),IS(l,u)}function sL(l,i){var u=0;switch(l.tag){case 31:case 13:var g=l.stateNode,v=l.memoizedState;v!==null&&(u=v.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(i),IS(l,u)}function iL(l,i){return Ht(l,i)}var _d=null,oo=null,$h=!1,Pd=!1,Bh=!1,as=0;function Cn(l){l!==oo&&l.next===null&&(oo===null?_d=oo=l:oo=oo.next=l),Pd=!0,$h||($h=!0,cL())}function Kc(l,i){if(!Bh&&Pd){Bh=!0;do for(var u=!1,g=_d;g!==null;){if(l!==0){var v=g.pendingLanes;if(v===0)var x=0;else{var T=g.suspendedLanes,z=g.pingedLanes;x=(1<<31-je(42|l)+1)-1,x&=v&~(T&~z),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(u=!0,VS(g,x))}else x=et,x=bn(g,g===yt?x:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(x&3)===0||xn(g,x)||(u=!0,VS(g,x));g=g.next}while(u);Bh=!1}}function oL(){FS()}function FS(){Pd=$h=!1;var l=0;as!==0&&bL()&&(l=as);for(var i=pe(),u=null,g=_d;g!==null;){var v=g.next,x=$S(g,i);x===0?(g.next=null,u===null?_d=v:u.next=v,v===null&&(oo=u)):(u=g,(l!==0||(x&3)!==0)&&(Pd=!0)),g=v}ua!==0&&ua!==5||Kc(l),as!==0&&(as=0)}function $S(l,i){for(var u=l.suspendedLanes,g=l.pingedLanes,v=l.expirationTimes,x=l.pendingLanes&-62914561;0<x;){var T=31-je(x),z=1<<T,$=v[T];$===-1?((z&u)===0||(z&g)!==0)&&(v[T]=de(z,i)):$<=i&&(l.expiredLanes|=z),x&=~z}if(i=yt,u=et,u=bn(l,l===i?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,u===0||l===i&&(it===2||it===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&Tt(g),l.callbackNode=null,l.callbackPriority=0;if((u&3)===0||xn(l,u)){if(i=u&-u,i===l.callbackPriority)return i;switch(g!==null&&Tt(g),fc(u)){case 2:case 8:u=ht;break;case 32:u=Ha;break;case 268435456:u=yn;break;default:u=Ha}return g=BS.bind(null,l),u=Ht(u,g),l.callbackPriority=i,l.callbackNode=u,i}return g!==null&&g!==null&&Tt(g),l.callbackPriority=2,l.callbackNode=null,2}function BS(l,i){if(ua!==0&&ua!==5)return l.callbackNode=null,l.callbackPriority=0,null;var u=l.callbackNode;if(Dd()&&l.callbackNode!==u)return null;var g=et;return g=bn(l,l===yt?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(wS(l,g,i),$S(l,pe()),l.callbackNode!=null&&l.callbackNode===u?BS.bind(null,l):null)}function VS(l,i){if(Dd())return null;wS(l,i,!0)}function cL(){EL(function(){(st&6)!==0?Ht(He,oL):FS()})}function Vh(){if(as===0){var l=Ki;l===0&&(l=vn,vn<<=1,(vn&261888)===0&&(vn=256)),as=l}return as}function qS(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Fm(""+l)}function HS(l,i){var u=i.ownerDocument.createElement("input");return u.name=i.name,u.value=i.value,l.id&&u.setAttribute("form",l.id),i.parentNode.insertBefore(u,i),l=new FormData(l),u.parentNode.removeChild(u),l}function uL(l,i,u,g,v){if(i==="submit"&&u&&u.stateNode===v){var x=qS((v[ba]||null).action),T=g.submitter;T&&(i=(i=T[ba]||null)?qS(i.formAction):T.getAttribute("formAction"),i!==null&&(x=i,T=null));var z=new qm("action","action",null,g,v);l.push({event:z,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(as!==0){var $=T?HS(v,T):new FormData(v);ch(u,{pending:!0,data:$,method:v.method,action:x},null,$)}}else typeof x=="function"&&(z.preventDefault(),$=T?HS(v,T):new FormData(v),ch(u,{pending:!0,data:$,method:v.method,action:x},x,$))},currentTarget:v}]})}}for(var qh=0;qh<Ap.length;qh++){var Hh=Ap[qh],mL=Hh.toLowerCase(),dL=Hh[0].toUpperCase()+Hh.slice(1);Wr(mL,"on"+dL)}Wr(Nw,"onAnimationEnd"),Wr(ww,"onAnimationIteration"),Wr(Sw,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(O7,"onTransitionRun"),Wr(k7,"onTransitionStart"),Wr(D7,"onTransitionCancel"),Wr(Cw,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zs("onBeforeInput",["compositionend","keypress","textInput","paste"]),zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yc));function GS(l,i){i=(i&4)!==0;for(var u=0;u<l.length;u++){var g=l[u],v=g.event;g=g.listeners;e:{var x=void 0;if(i)for(var T=g.length-1;0<=T;T--){var z=g[T],$=z.instance,J=z.currentTarget;if(z=z.listener,$!==x&&v.isPropagationStopped())break e;x=z,v.currentTarget=J;try{x(v)}catch(me){Km(me)}v.currentTarget=null,x=$}else for(T=0;T<g.length;T++){if(z=g[T],$=z.instance,J=z.currentTarget,z=z.listener,$!==x&&v.isPropagationStopped())break e;x=z,v.currentTarget=J;try{x(v)}catch(me){Km(me)}v.currentTarget=null,x=$}}}}function Ze(l,i){var u=i[pc];u===void 0&&(u=i[pc]=new Set);var g=l+"__bubble";u.has(g)||(KS(i,l,2,!1),u.add(g))}function Gh(l,i,u){var g=0;i&&(g|=4),KS(u,l,g,i)}var Md="_reactListening"+Math.random().toString(36).slice(2);function Kh(l){if(!l[Md]){l[Md]=!0,FN.forEach(function(u){u!=="selectionchange"&&(fL.has(u)||Gh(u,!1,l),Gh(u,!0,l))});var i=l.nodeType===9?l:l.ownerDocument;i===null||i[Md]||(i[Md]=!0,Gh("selectionchange",!1,i))}}function KS(l,i,u,g){switch(NC(i)){case 2:var v=$L;break;case 8:v=BL;break;default:v=oy}u=v.bind(null,i,u,l),v=void 0,!fp||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),g?v!==void 0?l.addEventListener(i,u,{capture:!0,passive:v}):l.addEventListener(i,u,!0):v!==void 0?l.addEventListener(i,u,{passive:v}):l.addEventListener(i,u,!1)}function Yh(l,i,u,g,v){var x=g;if((i&1)===0&&(i&2)===0&&g!==null)e:for(;;){if(g===null)return;var T=g.tag;if(T===3||T===4){var z=g.stateNode.containerInfo;if(z===v)break;if(T===4)for(T=g.return;T!==null;){var $=T.tag;if(($===3||$===4)&&T.stateNode.containerInfo===v)return;T=T.return}for(;z!==null;){if(T=Gn(z),T===null)return;if($=T.tag,$===5||$===6||$===26||$===27){g=x=T;continue e}z=z.parentNode}}g=g.return}ZN(function(){var J=x,me=mp(u),ye=[];e:{var ee=Aw.get(l);if(ee!==void 0){var ie=qm,De=l;switch(l){case"keypress":if(Bm(u)===0)break e;case"keydown":case"keyup":ie=s7;break;case"focusin":De="focus",ie=yp;break;case"focusout":De="blur",ie=yp;break;case"beforeblur":case"afterblur":ie=yp;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=tw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=YR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=c7;break;case Nw:case ww:case Sw:ie=WR;break;case Cw:ie=m7;break;case"scroll":case"scrollend":ie=GR;break;case"wheel":ie=f7;break;case"copy":case"cut":case"paste":ie=JR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=rw;break;case"toggle":case"beforetoggle":ie=p7}var ze=(i&4)!==0,ft=!ze&&(l==="scroll"||l==="scrollend"),Y=ze?ee!==null?ee+"Capture":null:ee;ze=[];for(var q=J,Z;q!==null;){var he=q;if(Z=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||Z===null||Y===null||(he=hc(q,Y),he!=null&&ze.push(Qc(q,he,Z))),ft)break;q=q.return}0<ze.length&&(ee=new ie(ee,De,null,u,me),ye.push({event:ee,listeners:ze}))}}if((i&7)===0){e:{if(ee=l==="mouseover"||l==="pointerover",ie=l==="mouseout"||l==="pointerout",ee&&u!==up&&(De=u.relatedTarget||u.fromElement)&&(Gn(De)||De[Ul]))break e;if((ie||ee)&&(ee=me.window===me?me:(ee=me.ownerDocument)?ee.defaultView||ee.parentWindow:window,ie?(De=u.relatedTarget||u.toElement,ie=J,De=De?Gn(De):null,De!==null&&(ft=o(De),ze=De.tag,De!==ft||ze!==5&&ze!==27&&ze!==6)&&(De=null)):(ie=null,De=J),ie!==De)){if(ze=tw,he="onMouseLeave",Y="onMouseEnter",q="mouse",(l==="pointerout"||l==="pointerover")&&(ze=rw,he="onPointerLeave",Y="onPointerEnter",q="pointer"),ft=ie==null?ee:fe(ie),Z=De==null?ee:fe(De),ee=new ze(he,q+"leave",ie,u,me),ee.target=ft,ee.relatedTarget=Z,he=null,Gn(me)===J&&(ze=new ze(Y,q+"enter",De,u,me),ze.target=Z,ze.relatedTarget=ft,he=ze),ft=he,ie&&De)t:{for(ze=gL,Y=ie,q=De,Z=0,he=Y;he;he=ze(he))Z++;he=0;for(var Re=q;Re;Re=ze(Re))he++;for(;0<Z-he;)Y=ze(Y),Z--;for(;0<he-Z;)q=ze(q),he--;for(;Z--;){if(Y===q||q!==null&&Y===q.alternate){ze=Y;break t}Y=ze(Y),q=ze(q)}ze=null}else ze=null;ie!==null&&YS(ye,ee,ie,ze,!1),De!==null&&ft!==null&&YS(ye,ft,De,ze,!0)}}e:{if(ee=J?fe(J):window,ie=ee.nodeName&&ee.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ee.type==="file")var rt=mw;else if(cw(ee))if(dw)rt=C7;else{rt=w7;var _e=N7}else ie=ee.nodeName,!ie||ie.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?J&&cp(J.elementType)&&(rt=mw):rt=S7;if(rt&&(rt=rt(l,J))){uw(ye,rt,u,me);break e}_e&&_e(l,ee,J),l==="focusout"&&J&&ee.type==="number"&&J.memoizedProps.value!=null&&op(ee,"number",ee.value)}switch(_e=J?fe(J):window,l){case"focusin":(cw(_e)||_e.contentEditable==="true")&&(Ii=_e,wp=J,Sc=null);break;case"focusout":Sc=wp=Ii=null;break;case"mousedown":Sp=!0;break;case"contextmenu":case"mouseup":case"dragend":Sp=!1,xw(ye,u,me);break;case"selectionchange":if(T7)break;case"keydown":case"keyup":xw(ye,u,me)}var Qe;if(bp)e:{switch(l){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Ui?iw(l,u)&&(tt="onCompositionEnd"):l==="keydown"&&u.keyCode===229&&(tt="onCompositionStart");tt&&(nw&&u.locale!=="ko"&&(Ui||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Ui&&(Qe=JN()):(Fl=me,gp="value"in Fl?Fl.value:Fl.textContent,Ui=!0)),_e=Rd(J,tt),0<_e.length&&(tt=new aw(tt,l,null,u,me),ye.push({event:tt,listeners:_e}),Qe?tt.data=Qe:(Qe=ow(u),Qe!==null&&(tt.data=Qe)))),(Qe=y7?v7(l,u):b7(l,u))&&(tt=Rd(J,"onBeforeInput"),0<tt.length&&(_e=new aw("onBeforeInput","beforeinput",null,u,me),ye.push({event:_e,listeners:tt}),_e.data=Qe)),uL(ye,l,J,u,me)}GS(ye,i)})}function Qc(l,i,u){return{instance:l,listener:i,currentTarget:u}}function Rd(l,i){for(var u=i+"Capture",g=[];l!==null;){var v=l,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=hc(l,u),v!=null&&g.unshift(Qc(l,v,x)),v=hc(l,i),v!=null&&g.push(Qc(l,v,x))),l.tag===3)return g;l=l.return}return[]}function gL(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function YS(l,i,u,g,v){for(var x=i._reactName,T=[];u!==null&&u!==g;){var z=u,$=z.alternate,J=z.stateNode;if(z=z.tag,$!==null&&$===g)break;z!==5&&z!==26&&z!==27||J===null||($=J,v?(J=hc(u,x),J!=null&&T.unshift(Qc(u,J,$))):v||(J=hc(u,x),J!=null&&T.push(Qc(u,J,$)))),u=u.return}T.length!==0&&l.push({event:i,listeners:T})}var pL=/\r\n?/g,hL=/\u0000|\uFFFD/g;function QS(l){return(typeof l=="string"?l:""+l).replace(pL,`
`).replace(hL,"")}function XS(l,i){return i=QS(i),QS(l)===i}function dt(l,i,u,g,v,x){switch(u){case"children":typeof g=="string"?i==="body"||i==="textarea"&&g===""||Li(l,g):(typeof g=="number"||typeof g=="bigint")&&i!=="body"&&Li(l,""+g);break;case"className":Um(l,"class",g);break;case"tabIndex":Um(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Um(l,u,g);break;case"style":XN(l,g,x);break;case"data":if(i!=="object"){Um(l,"data",g);break}case"src":case"href":if(g===""&&(i!=="a"||u!=="href")){l.removeAttribute(u);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(u);break}g=Fm(""+g),l.setAttribute(u,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(u==="formAction"?(i!=="input"&&dt(l,i,"name",v.name,v,null),dt(l,i,"formEncType",v.formEncType,v,null),dt(l,i,"formMethod",v.formMethod,v,null),dt(l,i,"formTarget",v.formTarget,v,null)):(dt(l,i,"encType",v.encType,v,null),dt(l,i,"method",v.method,v,null),dt(l,i,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(u);break}g=Fm(""+g),l.setAttribute(u,g);break;case"onClick":g!=null&&(l.onclick=Qn);break;case"onScroll":g!=null&&Ze("scroll",l);break;case"onScrollEnd":g!=null&&Ze("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(u=g.__html,u!=null){if(v.children!=null)throw Error(r(60));l.innerHTML=u}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}u=Fm(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(u,""+g):l.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(u,""):l.removeAttribute(u);break;case"capture":case"download":g===!0?l.setAttribute(u,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(u,g):l.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(u,g):l.removeAttribute(u);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(u):l.setAttribute(u,g);break;case"popover":Ze("beforetoggle",l),Ze("toggle",l),zm(l,"popover",g);break;case"xlinkActuate":Yn(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Yn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Yn(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Yn(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Yn(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Yn(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Yn(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Yn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Yn(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":zm(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=qR.get(u)||u,zm(l,u,g))}}function Qh(l,i,u,g,v,x){switch(u){case"style":XN(l,g,x);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(u=g.__html,u!=null){if(v.children!=null)throw Error(r(60));l.innerHTML=u}}break;case"children":typeof g=="string"?Li(l,g):(typeof g=="number"||typeof g=="bigint")&&Li(l,""+g);break;case"onScroll":g!=null&&Ze("scroll",l);break;case"onScrollEnd":g!=null&&Ze("scrollend",l);break;case"onClick":g!=null&&(l.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$N.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),i=u.slice(2,v?u.length-7:void 0),x=l[ba]||null,x=x!=null?x[u]:null,typeof x=="function"&&l.removeEventListener(i,x,v),typeof g=="function")){typeof x!="function"&&x!==null&&(u in l?l[u]=null:l.hasAttribute(u)&&l.removeAttribute(u)),l.addEventListener(i,g,v);break e}u in l?l[u]=g:g===!0?l.setAttribute(u,""):zm(l,u,g)}}}function ka(l,i,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",l),Ze("load",l);var g=!1,v=!1,x;for(x in u)if(u.hasOwnProperty(x)){var T=u[x];if(T!=null)switch(x){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(l,i,x,T,u,null)}}v&&dt(l,i,"srcSet",u.srcSet,u,null),g&&dt(l,i,"src",u.src,u,null);return;case"input":Ze("invalid",l);var z=x=T=v=null,$=null,J=null;for(g in u)if(u.hasOwnProperty(g)){var me=u[g];if(me!=null)switch(g){case"name":v=me;break;case"type":T=me;break;case"checked":$=me;break;case"defaultChecked":J=me;break;case"value":x=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,i));break;default:dt(l,i,g,me,u,null)}}GN(l,x,z,$,J,T,v,!1);return;case"select":Ze("invalid",l),g=T=x=null;for(v in u)if(u.hasOwnProperty(v)&&(z=u[v],z!=null))switch(v){case"value":x=z;break;case"defaultValue":T=z;break;case"multiple":g=z;default:dt(l,i,v,z,u,null)}i=x,u=T,l.multiple=!!g,i!=null?Ri(l,!!g,i,!1):u!=null&&Ri(l,!!g,u,!0);return;case"textarea":Ze("invalid",l),x=v=g=null;for(T in u)if(u.hasOwnProperty(T)&&(z=u[T],z!=null))switch(T){case"value":g=z;break;case"defaultValue":v=z;break;case"children":x=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(91));break;default:dt(l,i,T,z,u,null)}YN(l,g,v,x);return;case"option":for($ in u)if(u.hasOwnProperty($)&&(g=u[$],g!=null))switch($){case"selected":l.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:dt(l,i,$,g,u,null)}return;case"dialog":Ze("beforetoggle",l),Ze("toggle",l),Ze("cancel",l),Ze("close",l);break;case"iframe":case"object":Ze("load",l);break;case"video":case"audio":for(g=0;g<Yc.length;g++)Ze(Yc[g],l);break;case"image":Ze("error",l),Ze("load",l);break;case"details":Ze("toggle",l);break;case"embed":case"source":case"link":Ze("error",l),Ze("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in u)if(u.hasOwnProperty(J)&&(g=u[J],g!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:dt(l,i,J,g,u,null)}return;default:if(cp(i)){for(me in u)u.hasOwnProperty(me)&&(g=u[me],g!==void 0&&Qh(l,i,me,g,u,void 0));return}}for(z in u)u.hasOwnProperty(z)&&(g=u[z],g!=null&&dt(l,i,z,g,u,null))}function yL(l,i,u,g){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,T=null,z=null,$=null,J=null,me=null;for(ie in u){var ye=u[ie];if(u.hasOwnProperty(ie)&&ye!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":$=ye;default:g.hasOwnProperty(ie)||dt(l,i,ie,null,g,ye)}}for(var ee in g){var ie=g[ee];if(ye=u[ee],g.hasOwnProperty(ee)&&(ie!=null||ye!=null))switch(ee){case"type":x=ie;break;case"name":v=ie;break;case"checked":J=ie;break;case"defaultChecked":me=ie;break;case"value":T=ie;break;case"defaultValue":z=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,i));break;default:ie!==ye&&dt(l,i,ee,ie,g,ye)}}ip(l,T,z,$,J,me,x,v);return;case"select":ie=T=z=ee=null;for(x in u)if($=u[x],u.hasOwnProperty(x)&&$!=null)switch(x){case"value":break;case"multiple":ie=$;default:g.hasOwnProperty(x)||dt(l,i,x,null,g,$)}for(v in g)if(x=g[v],$=u[v],g.hasOwnProperty(v)&&(x!=null||$!=null))switch(v){case"value":ee=x;break;case"defaultValue":z=x;break;case"multiple":T=x;default:x!==$&&dt(l,i,v,x,g,$)}i=z,u=T,g=ie,ee!=null?Ri(l,!!u,ee,!1):!!g!=!!u&&(i!=null?Ri(l,!!u,i,!0):Ri(l,!!u,u?[]:"",!1));return;case"textarea":ie=ee=null;for(z in u)if(v=u[z],u.hasOwnProperty(z)&&v!=null&&!g.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:dt(l,i,z,null,g,v)}for(T in g)if(v=g[T],x=u[T],g.hasOwnProperty(T)&&(v!=null||x!=null))switch(T){case"value":ee=v;break;case"defaultValue":ie=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&dt(l,i,T,v,g,x)}KN(l,ee,ie);return;case"option":for(var De in u)if(ee=u[De],u.hasOwnProperty(De)&&ee!=null&&!g.hasOwnProperty(De))switch(De){case"selected":l.selected=!1;break;default:dt(l,i,De,null,g,ee)}for($ in g)if(ee=g[$],ie=u[$],g.hasOwnProperty($)&&ee!==ie&&(ee!=null||ie!=null))switch($){case"selected":l.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:dt(l,i,$,ee,g,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in u)ee=u[ze],u.hasOwnProperty(ze)&&ee!=null&&!g.hasOwnProperty(ze)&&dt(l,i,ze,null,g,ee);for(J in g)if(ee=g[J],ie=u[J],g.hasOwnProperty(J)&&ee!==ie&&(ee!=null||ie!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,i));break;default:dt(l,i,J,ee,g,ie)}return;default:if(cp(i)){for(var ft in u)ee=u[ft],u.hasOwnProperty(ft)&&ee!==void 0&&!g.hasOwnProperty(ft)&&Qh(l,i,ft,void 0,g,ee);for(me in g)ee=g[me],ie=u[me],!g.hasOwnProperty(me)||ee===ie||ee===void 0&&ie===void 0||Qh(l,i,me,ee,g,ie);return}}for(var Y in u)ee=u[Y],u.hasOwnProperty(Y)&&ee!=null&&!g.hasOwnProperty(Y)&&dt(l,i,Y,null,g,ee);for(ye in g)ee=g[ye],ie=u[ye],!g.hasOwnProperty(ye)||ee===ie||ee==null&&ie==null||dt(l,i,ye,ee,g,ie)}function WS(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vL(){if(typeof performance.getEntriesByType=="function"){for(var l=0,i=0,u=performance.getEntriesByType("resource"),g=0;g<u.length;g++){var v=u[g],x=v.transferSize,T=v.initiatorType,z=v.duration;if(x&&z&&WS(T)){for(T=0,z=v.responseEnd,g+=1;g<u.length;g++){var $=u[g],J=$.startTime;if(J>z)break;var me=$.transferSize,ye=$.initiatorType;me&&WS(ye)&&($=$.responseEnd,T+=me*($<z?1:(z-J)/($-J)))}if(--g,i+=8*(x+T)/(v.duration/1e3),l++,10<l)break}}if(0<l)return i/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Xh=null,Wh=null;function Ld(l){return l.nodeType===9?l:l.ownerDocument}function ZS(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JS(l,i){if(l===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&i==="foreignObject"?0:l}function Zh(l,i){return l==="textarea"||l==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jh=null;function bL(){var l=window.event;return l&&l.type==="popstate"?l===Jh?!1:(Jh=l,!0):(Jh=null,!1)}var eC=typeof setTimeout=="function"?setTimeout:void 0,xL=typeof clearTimeout=="function"?clearTimeout:void 0,tC=typeof Promise=="function"?Promise:void 0,EL=typeof queueMicrotask=="function"?queueMicrotask:typeof tC<"u"?function(l){return tC.resolve(null).then(l).catch(NL)}:eC;function NL(l){setTimeout(function(){throw l})}function rs(l){return l==="head"}function aC(l,i){var u=i,g=0;do{var v=u.nextSibling;if(l.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"||u==="/&"){if(g===0){l.removeChild(v),fo(i);return}g--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")g++;else if(u==="html")Xc(l.ownerDocument.documentElement);else if(u==="head"){u=l.ownerDocument.head,Xc(u);for(var x=u.firstChild;x;){var T=x.nextSibling,z=x.nodeName;x[Il]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&x.rel.toLowerCase()==="stylesheet"||u.removeChild(x),x=T}}else u==="body"&&Xc(l.ownerDocument.body);u=v}while(u);fo(i)}function rC(l,i){var u=l;l=0;do{var g=u.nextSibling;if(u.nodeType===1?i?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(i?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(l===0)break;l--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||l++;u=g}while(u)}function ey(l){var i=l.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var u=i;switch(i=i.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ey(u),Pi(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}l.removeChild(u)}}function wL(l,i,u,g){for(;l.nodeType===1;){var v=u;if(l.nodeName.toLowerCase()!==i.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[Il])switch(i){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(x=l.getAttribute("rel"),x==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(x!==v.rel||l.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||l.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||l.getAttribute("title")!==(v.title==null?null:v.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(x=l.getAttribute("src"),(x!==(v.src==null?null:v.src)||l.getAttribute("type")!==(v.type==null?null:v.type)||l.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(i==="input"&&l.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&l.getAttribute("name")===x)return l}else return l;if(l=kr(l.nextSibling),l===null)break}return null}function SL(l,i,u){if(i==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=kr(l.nextSibling),l===null))return null;return l}function nC(l,i){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!i||(l=kr(l.nextSibling),l===null))return null;return l}function ty(l){return l.data==="$?"||l.data==="$~"}function ay(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function CL(l,i){var u=l.ownerDocument;if(l.data==="$~")l._reactRetry=i;else if(l.data!=="$?"||u.readyState!=="loading")i();else{var g=function(){i(),u.removeEventListener("DOMContentLoaded",g)};u.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function kr(l){for(;l!=null;l=l.nextSibling){var i=l.nodeType;if(i===1||i===3)break;if(i===8){if(i=l.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return l}var ry=null;function lC(l){l=l.nextSibling;for(var i=0;l;){if(l.nodeType===8){var u=l.data;if(u==="/$"||u==="/&"){if(i===0)return kr(l.nextSibling);i--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||i++}l=l.nextSibling}return null}function sC(l){l=l.previousSibling;for(var i=0;l;){if(l.nodeType===8){var u=l.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(i===0)return l;i--}else u!=="/$"&&u!=="/&"||i++}l=l.previousSibling}return null}function iC(l,i,u){switch(i=Ld(u),l){case"html":if(l=i.documentElement,!l)throw Error(r(452));return l;case"head":if(l=i.head,!l)throw Error(r(453));return l;case"body":if(l=i.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Xc(l){for(var i=l.attributes;i.length;)l.removeAttributeNode(i[0]);Pi(l)}var Dr=new Map,oC=new Set;function jd(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ml=G.d;G.d={f:AL,r:TL,D:OL,C:kL,L:DL,m:_L,X:ML,S:PL,M:RL};function AL(){var l=ml.f(),i=Td();return l||i}function TL(l){var i=Kn(l);i!==null&&i.tag===5&&i.type==="form"?C2(i):ml.r(l)}var co=typeof document>"u"?null:document;function cC(l,i,u){var g=co;if(g&&typeof i=="string"&&i){var v=Nr(i);v='link[rel="'+l+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),oC.has(v)||(oC.add(v),l={rel:l,crossOrigin:u,href:i},g.querySelector(v)===null&&(i=g.createElement("link"),ka(i,"link",l),Ut(i),g.head.appendChild(i)))}}function OL(l){ml.D(l),cC("dns-prefetch",l,null)}function kL(l,i){ml.C(l,i),cC("preconnect",l,i)}function DL(l,i,u){ml.L(l,i,u);var g=co;if(g&&l&&i){var v='link[rel="preload"][as="'+Nr(i)+'"]';i==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Nr(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Nr(u.imageSizes)+'"]')):v+='[href="'+Nr(l)+'"]';var x=v;switch(i){case"style":x=uo(l);break;case"script":x=mo(l)}Dr.has(x)||(l=h({rel:"preload",href:i==="image"&&u&&u.imageSrcSet?void 0:l,as:i},u),Dr.set(x,l),g.querySelector(v)!==null||i==="style"&&g.querySelector(Wc(x))||i==="script"&&g.querySelector(Zc(x))||(i=g.createElement("link"),ka(i,"link",l),Ut(i),g.head.appendChild(i)))}}function _L(l,i){ml.m(l,i);var u=co;if(u&&l){var g=i&&typeof i.as=="string"?i.as:"script",v='link[rel="modulepreload"][as="'+Nr(g)+'"][href="'+Nr(l)+'"]',x=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=mo(l)}if(!Dr.has(x)&&(l=h({rel:"modulepreload",href:l},i),Dr.set(x,l),u.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Zc(x)))return}g=u.createElement("link"),ka(g,"link",l),Ut(g),u.head.appendChild(g)}}}function PL(l,i,u){ml.S(l,i,u);var g=co;if(g&&l){var v=Me(g).hoistableStyles,x=uo(l);i=i||"default";var T=v.get(x);if(!T){var z={loading:0,preload:null};if(T=g.querySelector(Wc(x)))z.loading=5;else{l=h({rel:"stylesheet",href:l,"data-precedence":i},u),(u=Dr.get(x))&&ny(l,u);var $=T=g.createElement("link");Ut($),ka($,"link",l),$._p=new Promise(function(J,me){$.onload=J,$.onerror=me}),$.addEventListener("load",function(){z.loading|=1}),$.addEventListener("error",function(){z.loading|=2}),z.loading|=4,zd(T,i,g)}T={type:"stylesheet",instance:T,count:1,state:z},v.set(x,T)}}}function ML(l,i){ml.X(l,i);var u=co;if(u&&l){var g=Me(u).hoistableScripts,v=mo(l),x=g.get(v);x||(x=u.querySelector(Zc(v)),x||(l=h({src:l,async:!0},i),(i=Dr.get(v))&&ly(l,i),x=u.createElement("script"),Ut(x),ka(x,"link",l),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(v,x))}}function RL(l,i){ml.M(l,i);var u=co;if(u&&l){var g=Me(u).hoistableScripts,v=mo(l),x=g.get(v);x||(x=u.querySelector(Zc(v)),x||(l=h({src:l,async:!0,type:"module"},i),(i=Dr.get(v))&&ly(l,i),x=u.createElement("script"),Ut(x),ka(x,"link",l),u.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},g.set(v,x))}}function uC(l,i,u,g){var v=(v=Q.current)?jd(v):null;if(!v)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(i=uo(u.href),u=Me(v).hoistableStyles,g=u.get(i),g||(g={type:"style",instance:null,count:0,state:null},u.set(i,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){l=uo(u.href);var x=Me(v).hoistableStyles,T=x.get(l);if(T||(v=v.ownerDocument||v,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(l,T),(x=v.querySelector(Wc(l)))&&!x._p&&(T.instance=x,T.state.loading=5),Dr.has(l)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Dr.set(l,u),x||LL(v,l,u,T.state))),i&&g===null)throw Error(r(528,""));return T}if(i&&g!==null)throw Error(r(529,""));return null;case"script":return i=u.async,u=u.src,typeof u=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=mo(u),u=Me(v).hoistableScripts,g=u.get(i),g||(g={type:"script",instance:null,count:0,state:null},u.set(i,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function uo(l){return'href="'+Nr(l)+'"'}function Wc(l){return'link[rel="stylesheet"]['+l+"]"}function mC(l){return h({},l,{"data-precedence":l.precedence,precedence:null})}function LL(l,i,u,g){l.querySelector('link[rel="preload"][as="style"]['+i+"]")?g.loading=1:(i=l.createElement("link"),g.preload=i,i.addEventListener("load",function(){return g.loading|=1}),i.addEventListener("error",function(){return g.loading|=2}),ka(i,"link",u),Ut(i),l.head.appendChild(i))}function mo(l){return'[src="'+Nr(l)+'"]'}function Zc(l){return"script[async]"+l}function dC(l,i,u){if(i.count++,i.instance===null)switch(i.type){case"style":var g=l.querySelector('style[data-href~="'+Nr(u.href)+'"]');if(g)return i.instance=g,Ut(g),g;var v=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),Ut(g),ka(g,"style",v),zd(g,u.precedence,l),i.instance=g;case"stylesheet":v=uo(u.href);var x=l.querySelector(Wc(v));if(x)return i.state.loading|=4,i.instance=x,Ut(x),x;g=mC(u),(v=Dr.get(v))&&ny(g,v),x=(l.ownerDocument||l).createElement("link"),Ut(x);var T=x;return T._p=new Promise(function(z,$){T.onload=z,T.onerror=$}),ka(x,"link",g),i.state.loading|=4,zd(x,u.precedence,l),i.instance=x;case"script":return x=mo(u.src),(v=l.querySelector(Zc(x)))?(i.instance=v,Ut(v),v):(g=u,(v=Dr.get(x))&&(g=h({},u),ly(g,v)),l=l.ownerDocument||l,v=l.createElement("script"),Ut(v),ka(v,"link",g),l.head.appendChild(v),i.instance=v);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(g=i.instance,i.state.loading|=4,zd(g,u.precedence,l));return i.instance}function zd(l,i,u){for(var g=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,x=v,T=0;T<g.length;T++){var z=g[T];if(z.dataset.precedence===i)x=z;else if(x!==v)break}x?x.parentNode.insertBefore(l,x.nextSibling):(i=u.nodeType===9?u.head:u,i.insertBefore(l,i.firstChild))}function ny(l,i){l.crossOrigin==null&&(l.crossOrigin=i.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=i.referrerPolicy),l.title==null&&(l.title=i.title)}function ly(l,i){l.crossOrigin==null&&(l.crossOrigin=i.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=i.referrerPolicy),l.integrity==null&&(l.integrity=i.integrity)}var Ud=null;function fC(l,i,u){if(Ud===null){var g=new Map,v=Ud=new Map;v.set(u,g)}else v=Ud,g=v.get(u),g||(g=new Map,v.set(u,g));if(g.has(l))return g;for(g.set(l,null),u=u.getElementsByTagName(l),v=0;v<u.length;v++){var x=u[v];if(!(x[Il]||x[ea]||l==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var T=x.getAttribute(i)||"";T=l+T;var z=g.get(T);z?z.push(x):g.set(T,[x])}}return g}function gC(l,i,u){l=l.ownerDocument||l,l.head.insertBefore(u,i==="title"?l.querySelector("head > title"):null)}function jL(l,i,u){if(u===1||i.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return l=i.disabled,typeof i.precedence=="string"&&l==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pC(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function zL(l,i,u,g){if(u.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var v=uo(g.href),x=i.querySelector(Wc(v));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(l.count++,l=Id.bind(l),i.then(l,l)),u.state.loading|=4,u.instance=x,Ut(x);return}x=i.ownerDocument||i,g=mC(g),(v=Dr.get(v))&&ny(g,v),x=x.createElement("link"),Ut(x);var T=x;T._p=new Promise(function(z,$){T.onload=z,T.onerror=$}),ka(x,"link",g),u.instance=x}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(u,i),(i=u.state.preload)&&(u.state.loading&3)===0&&(l.count++,u=Id.bind(l),i.addEventListener("load",u),i.addEventListener("error",u))}}var sy=0;function UL(l,i){return l.stylesheets&&l.count===0&&$d(l,l.stylesheets),0<l.count||0<l.imgCount?function(u){var g=setTimeout(function(){if(l.stylesheets&&$d(l,l.stylesheets),l.unsuspend){var x=l.unsuspend;l.unsuspend=null,x()}},6e4+i);0<l.imgBytes&&sy===0&&(sy=62500*vL());var v=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&$d(l,l.stylesheets),l.unsuspend)){var x=l.unsuspend;l.unsuspend=null,x()}},(l.imgBytes>sy?50:800)+i);return l.unsuspend=u,function(){l.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function Id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Fd=null;function $d(l,i){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Fd=new Map,i.forEach(IL,l),Fd=null,Id.call(l))}function IL(l,i){if(!(i.state.loading&4)){var u=Fd.get(l);if(u)var g=u.get(null);else{u=new Map,Fd.set(l,u);for(var v=l.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var T=v[x];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(u.set(T.dataset.precedence,T),g=T)}g&&u.set(null,g)}v=i.instance,T=v.getAttribute("data-precedence"),x=u.get(T)||g,x===g&&u.set(null,v),u.set(T,v),this.count++,g=Id.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),x?x.parentNode.insertBefore(v,x.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(v,l.firstChild)),i.state.loading|=4}}var Jc={$$typeof:A,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function FL(l,i,u,g,v,x,T,z,$){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=En(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=En(0),this.hiddenUpdates=En(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function hC(l,i,u,g,v,x,T,z,$,J,me,ye){return l=new FL(l,i,u,T,$,J,me,ye,z),i=1,x===!0&&(i|=24),x=ir(3,null,null,i),l.current=x,x.stateNode=l,i=Ip(),i.refCount++,l.pooledCache=i,i.refCount++,x.memoizedState={element:g,isDehydrated:u,cache:i},Vp(x),l}function yC(l){return l?(l=Bi,l):Bi}function vC(l,i,u,g,v,x){v=yC(v),g.context===null?g.context=v:g.pendingContext=v,g=Gl(i),g.payload={element:u},x=x===void 0?null:x,x!==null&&(g.callback=x),u=Kl(l,g,i),u!==null&&(Za(u,l,i),_c(u,l,i))}function bC(l,i){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var u=l.retryLane;l.retryLane=u!==0&&u<i?u:i}}function iy(l,i){bC(l,i),(l=l.alternate)&&bC(l,i)}function xC(l){if(l.tag===13||l.tag===31){var i=$s(l,67108864);i!==null&&Za(i,l,67108864),iy(l,67108864)}}function EC(l){if(l.tag===13||l.tag===31){var i=dr();i=dc(i);var u=$s(l,i);u!==null&&Za(u,l,i),iy(l,i)}}var Bd=!0;function $L(l,i,u,g){var v=F.T;F.T=null;var x=G.p;try{G.p=2,oy(l,i,u,g)}finally{G.p=x,F.T=v}}function BL(l,i,u,g){var v=F.T;F.T=null;var x=G.p;try{G.p=8,oy(l,i,u,g)}finally{G.p=x,F.T=v}}function oy(l,i,u,g){if(Bd){var v=cy(g);if(v===null)Yh(l,i,g,Vd,u),wC(l,g);else if(qL(v,l,i,u,g))g.stopPropagation();else if(wC(l,g),i&4&&-1<VL.indexOf(l)){for(;v!==null;){var x=Kn(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var T=Qr(x.pendingLanes);if(T!==0){var z=x;for(z.pendingLanes|=2,z.entangledLanes|=2;T;){var $=1<<31-je(T);z.entanglements[1]|=$,T&=~$}Cn(x),(st&6)===0&&(Cd=pe()+500,Kc(0))}}break;case 31:case 13:z=$s(x,2),z!==null&&Za(z,x,2),Td(),iy(x,2)}if(x=cy(g),x===null&&Yh(l,i,g,Vd,u),x===v)break;v=x}v!==null&&g.stopPropagation()}else Yh(l,i,g,null,u)}}function cy(l){return l=mp(l),uy(l)}var Vd=null;function uy(l){if(Vd=null,l=Gn(l),l!==null){var i=o(l);if(i===null)l=null;else{var u=i.tag;if(u===13){if(l=c(i),l!==null)return l;l=null}else if(u===31){if(l=d(i),l!==null)return l;l=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;l=null}else i!==l&&(l=null)}}return Vd=l,null}function NC(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qe()){case He:return 2;case ht:return 8;case Ha:case $n:return 32;case yn:return 268435456;default:return 32}default:return 32}}var my=!1,ns=null,ls=null,ss=null,eu=new Map,tu=new Map,is=[],VL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wC(l,i){switch(l){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":eu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(i.pointerId)}}function au(l,i,u,g,v,x){return l===null||l.nativeEvent!==x?(l={blockedOn:i,domEventName:u,eventSystemFlags:g,nativeEvent:x,targetContainers:[v]},i!==null&&(i=Kn(i),i!==null&&xC(i)),l):(l.eventSystemFlags|=g,i=l.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),l)}function qL(l,i,u,g,v){switch(i){case"focusin":return ns=au(ns,l,i,u,g,v),!0;case"dragenter":return ls=au(ls,l,i,u,g,v),!0;case"mouseover":return ss=au(ss,l,i,u,g,v),!0;case"pointerover":var x=v.pointerId;return eu.set(x,au(eu.get(x)||null,l,i,u,g,v)),!0;case"gotpointercapture":return x=v.pointerId,tu.set(x,au(tu.get(x)||null,l,i,u,g,v)),!0}return!1}function SC(l){var i=Gn(l.target);if(i!==null){var u=o(i);if(u!==null){if(i=u.tag,i===13){if(i=c(u),i!==null){l.blockedOn=i,Lm(l.priority,function(){EC(u)});return}}else if(i===31){if(i=d(u),i!==null){l.blockedOn=i,Lm(l.priority,function(){EC(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){l.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}l.blockedOn=null}function qd(l){if(l.blockedOn!==null)return!1;for(var i=l.targetContainers;0<i.length;){var u=cy(l.nativeEvent);if(u===null){u=l.nativeEvent;var g=new u.constructor(u.type,u);up=g,u.target.dispatchEvent(g),up=null}else return i=Kn(u),i!==null&&xC(i),l.blockedOn=u,!1;i.shift()}return!0}function CC(l,i,u){qd(l)&&u.delete(i)}function HL(){my=!1,ns!==null&&qd(ns)&&(ns=null),ls!==null&&qd(ls)&&(ls=null),ss!==null&&qd(ss)&&(ss=null),eu.forEach(CC),tu.forEach(CC)}function Hd(l,i){l.blockedOn===i&&(l.blockedOn=null,my||(my=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,HL)))}var Gd=null;function AC(l){Gd!==l&&(Gd=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Gd===l&&(Gd=null);for(var i=0;i<l.length;i+=3){var u=l[i],g=l[i+1],v=l[i+2];if(typeof g!="function"){if(uy(g||u)===null)continue;break}var x=Kn(u);x!==null&&(l.splice(i,3),i-=3,ch(x,{pending:!0,data:v,method:u.method,action:g},g,v))}}))}function fo(l){function i($){return Hd($,l)}ns!==null&&Hd(ns,l),ls!==null&&Hd(ls,l),ss!==null&&Hd(ss,l),eu.forEach(i),tu.forEach(i);for(var u=0;u<is.length;u++){var g=is[u];g.blockedOn===l&&(g.blockedOn=null)}for(;0<is.length&&(u=is[0],u.blockedOn===null);)SC(u),u.blockedOn===null&&is.shift();if(u=(l.ownerDocument||l).$$reactFormReplay,u!=null)for(g=0;g<u.length;g+=3){var v=u[g],x=u[g+1],T=v[ba]||null;if(typeof x=="function")T||AC(u);else if(T){var z=null;if(x&&x.hasAttribute("formAction")){if(v=x,T=x[ba]||null)z=T.formAction;else if(uy(v)!==null)continue}else z=T.action;typeof z=="function"?u[g+1]=z:(u.splice(g,3),g-=3),AC(u)}}}function TC(){function l(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(T){return v=T})},focusReset:"manual",scroll:"manual"})}function i(){v!==null&&(v(),v=null),g||setTimeout(u,20)}function u(){if(!g&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(u,100),function(){g=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),v!==null&&(v(),v=null)}}}function dy(l){this._internalRoot=l}Kd.prototype.render=dy.prototype.render=function(l){var i=this._internalRoot;if(i===null)throw Error(r(409));var u=i.current,g=dr();vC(u,g,l,i,null,null)},Kd.prototype.unmount=dy.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var i=l.containerInfo;vC(l.current,2,null,l,null,null),Td(),i[Ul]=null}};function Kd(l){this._internalRoot=l}Kd.prototype.unstable_scheduleHydration=function(l){if(l){var i=gc();l={blockedOn:null,target:l,priority:i};for(var u=0;u<is.length&&i!==0&&i<is[u].priority;u++);is.splice(u,0,l),u===0&&SC(l)}};var OC=t.version;if(OC!=="19.2.0")throw Error(r(527,OC,"19.2.0"));G.findDOMNode=function(l){var i=l._reactInternals;if(i===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=p(i),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var GL={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Ga=Yd.inject(GL),Ne=Yd}catch{}}return ru.createRoot=function(l,i){if(!s(l))throw Error(r(299));var u=!1,g="",v=L2,x=j2,T=z2;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onUncaughtError!==void 0&&(v=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=hC(l,1,!1,null,null,u,g,null,v,x,T,TC),l[Ul]=i.current,Kh(l),new dy(i)},ru.hydrateRoot=function(l,i,u){if(!s(l))throw Error(r(299));var g=!1,v="",x=L2,T=j2,z=z2,$=null;return u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(x=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(z=u.onRecoverableError),u.formState!==void 0&&($=u.formState)),i=hC(l,1,!0,i,u??null,g,v,$,x,T,z,TC),i.context=yC(null),u=i.current,g=dr(),g=dc(g),v=Gl(g),v.callback=null,Kl(u,v,g),u=g,i.current.lanes=u,js(i,u),Cn(i),l[Ul]=i.current,Kh(l),new Kd(i)},ru.version="19.2.0",ru}var jC;function tj(){if(jC)return gy.exports;jC=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gy.exports=ej(),gy.exports}var aj=tj();var zC="popstate";function rj(e={}){function t(r,s){let{pathname:o,search:c,hash:d}=r.location;return wb("",{pathname:o,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(r,s){return typeof s=="string"?s:ku(s)}return lj(t,a,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Br(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nj(){return Math.random().toString(36).substring(2,10)}function UC(e,t){return{usr:e.state,key:e.key,idx:t}}function wb(e,t,a=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Qo(t):t,state:a,key:t&&t.key||r||nj()}}function ku({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Qo(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function lj(e,t,a,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,d="POP",m=null,p=f();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function f(){return(c.state||{idx:null}).idx}function h(){d="POP";let w=f(),C=w==null?null:w-p;p=w,m&&m({action:d,location:S.location,delta:C})}function b(w,C){d="PUSH";let k=wb(S.location,w,C);p=f()+1;let A=UC(k,p),M=S.createHref(k);try{c.pushState(A,"",M)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(M)}o&&m&&m({action:d,location:S.location,delta:1})}function E(w,C){d="REPLACE";let k=wb(S.location,w,C);p=f();let A=UC(k,p),M=S.createHref(k);c.replaceState(A,"",M),o&&m&&m({action:d,location:S.location,delta:0})}function N(w){return sj(w)}let S={get action(){return d},get location(){return e(s,c)},listen(w){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(zC,h),m=w,()=>{s.removeEventListener(zC,h),m=null}},createHref(w){return t(s,w)},createURL:N,encodeLocation(w){let C=N(w);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:E,go(w){return c.go(w)}};return S}function sj(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(a,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:ku(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function C3(e,t,a="/"){return ij(e,t,a,!1)}function ij(e,t,a,r){let s=typeof t=="string"?Qo(t):t,o=xl(s.pathname||"/",a);if(o==null)return null;let c=A3(e);oj(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=bj(o);d=yj(c[m],p,r)}return d}function A3(e,t=[],a=[],r="",s=!1){let o=(c,d,m=s,p)=>{let f={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&m)return;Pt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let h=yl([r,f.relativePath]),b=a.concat(f);c.children&&c.children.length>0&&(Pt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),A3(c.children,t,b,h,m)),!(c.path==null&&!c.index)&&t.push({path:h,score:pj(h,c.index),routesMeta:b})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let m of T3(c.path))o(c,d,!0,m)}),t}function T3(e){let t=e.split("/");if(t.length===0)return[];let[a,...r]=t,s=a.endsWith("?"),o=a.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=T3(r.join("/")),d=[];return d.push(...c.map(m=>m===""?o:[o,m].join("/"))),s&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function oj(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:hj(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var cj=/^:[\w-]+$/,uj=3,mj=2,dj=1,fj=10,gj=-2,IC=e=>e==="*";function pj(e,t){let a=e.split("/"),r=a.length;return a.some(IC)&&(r+=gj),t&&(r+=mj),a.filter(s=>!IC(s)).reduce((s,o)=>s+(cj.test(o)?uj:o===""?dj:fj),r)}function hj(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function yj(e,t,a=!1){let{routesMeta:r}=e,s={},o="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],p=d===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",h=Qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},f),b=m.route;if(!h&&p&&a&&!r[r.length-1].route.index&&(h=Qf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},f)),!h)return null;Object.assign(s,h.params),c.push({params:s,pathname:yl([o,h.pathname]),pathnameBase:Sj(yl([o,h.pathnameBase])),route:b}),h.pathnameBase!=="/"&&(o=yl([o,h.pathnameBase]))}return c}function Qf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=vj(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:f,isOptional:h},b)=>{if(f==="*"){let N=d[b]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const E=d[b];return h&&!E?p[f]=void 0:p[f]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:e}}function vj(e,t=!1,a=!0){Br(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function bj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Br(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function xl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}var xj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ej=e=>xj.test(e);function Nj(e,t="/"){let{pathname:a,search:r="",hash:s=""}=typeof e=="string"?Qo(e):e,o;if(a)if(Ej(a))o=a;else{if(a.includes("//")){let c=a;a=a.replace(/\/\/+/g,"/"),Br(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${a}`)}a.startsWith("/")?o=FC(a.substring(1),"/"):o=FC(a,t)}else o=t;return{pathname:o,search:Cj(r),hash:Aj(s)}}function FC(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function vy(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wj(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function aE(e){let t=wj(e);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function rE(e,t,a,r=!1){let s;typeof e=="string"?s=Qo(e):(s={...e},Pt(!s.pathname||!s.pathname.includes("?"),vy("?","pathname","search",s)),Pt(!s.pathname||!s.pathname.includes("#"),vy("#","pathname","hash",s)),Pt(!s.search||!s.search.includes("#"),vy("#","search","hash",s)));let o=e===""||s.pathname==="",c=o?"/":s.pathname,d;if(c==null)d=a;else{let h=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),h-=1;s.pathname=b.join("/")}d=h>=0?t[h]:"/"}let m=Nj(s,d),p=c&&c!=="/"&&c.endsWith("/"),f=(o||c===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(p||f)&&(m.pathname+="/"),m}var yl=e=>e.join("/").replace(/\/\/+/g,"/"),Sj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Cj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Aj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O3=["POST","PUT","PATCH","DELETE"];new Set(O3);var Oj=["GET",...O3];new Set(Oj);var Xo=y.createContext(null);Xo.displayName="DataRouter";var a0=y.createContext(null);a0.displayName="DataRouterState";y.createContext(!1);var k3=y.createContext({isTransitioning:!1});k3.displayName="ViewTransition";var kj=y.createContext(new Map);kj.displayName="Fetchers";var Dj=y.createContext(null);Dj.displayName="Await";var fn=y.createContext(null);fn.displayName="Navigation";var em=y.createContext(null);em.displayName="Location";var gn=y.createContext({outlet:null,matches:[],isDataRoute:!1});gn.displayName="Route";var nE=y.createContext(null);nE.displayName="RouteError";function _j(e,{relative:t}={}){Pt(Wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=y.useContext(fn),{hash:s,pathname:o,search:c}=tm(e,{relative:t}),d=o;return a!=="/"&&(d=o==="/"?a:yl([a,o])),r.createHref({pathname:d,search:c,hash:s})}function Wo(){return y.useContext(em)!=null}function Gr(){return Pt(Wo(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(em).location}var D3="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _3(e){y.useContext(fn).static||y.useLayoutEffect(e)}function r0(){let{isDataRoute:e}=y.useContext(gn);return e?Gj():Pj()}function Pj(){Pt(Wo(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Xo),{basename:t,navigator:a}=y.useContext(fn),{matches:r}=y.useContext(gn),{pathname:s}=Gr(),o=JSON.stringify(aE(r)),c=y.useRef(!1);return _3(()=>{c.current=!0}),y.useCallback((m,p={})=>{if(Br(c.current,D3),!c.current)return;if(typeof m=="number"){a.go(m);return}let f=rE(m,JSON.parse(o),s,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:yl([t,f.pathname])),(p.replace?a.replace:a.push)(f,p.state,p)},[t,a,o,s,e])}var Mj=y.createContext(null);function Rj(e){let t=y.useContext(gn).outlet;return y.useMemo(()=>t&&y.createElement(Mj.Provider,{value:e},t),[t,e])}function tm(e,{relative:t}={}){let{matches:a}=y.useContext(gn),{pathname:r}=Gr(),s=JSON.stringify(aE(a));return y.useMemo(()=>rE(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Lj(e,t){return P3(e,t)}function P3(e,t,a,r,s){Pt(Wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=y.useContext(fn),{matches:c}=y.useContext(gn),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",f=d?d.pathnameBase:"/",h=d&&d.route;{let k=h&&h.path||"";M3(p,!h||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Gr(),E;if(t){let k=typeof t=="string"?Qo(t):t;Pt(f==="/"||k.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),E=k}else E=b;let N=E.pathname||"/",S=N;if(f!=="/"){let k=f.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=C3(e,{pathname:S});Br(h||w!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Br(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Fj(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},m,k.params),pathname:yl([f,o.encodeLocation?o.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:yl([f,o.encodeLocation?o.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,a,r,s);return t&&C?y.createElement(em.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},C):C}function jj(){let e=Hj(),t=Tj(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:o},"ErrorBoundary")," or"," ",y.createElement("code",{style:o},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),a?y.createElement("pre",{style:s},a):null,c)}var zj=y.createElement(jj,null),Uj=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?y.createElement(gn.Provider,{value:this.props.routeContext},y.createElement(nE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ij({routeContext:e,match:t,children:a}){let r=y.useContext(Xo);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(gn.Provider,{value:e},a)}function Fj(e,t=[],a=null,r=null,s=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let o=e,c=a?.errors;if(c!=null){let f=o.findIndex(h=>h.route.id&&c?.[h.route.id]!==void 0);Pt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,m=-1;if(a)for(let f=0;f<o.length;f++){let h=o[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(m=f),h.route.id){let{loaderData:b,errors:E}=a,N=h.route.loader&&!b.hasOwnProperty(h.route.id)&&(!E||E[h.route.id]===void 0);if(h.route.lazy||N){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}let p=a&&r?(f,h)=>{r(f,{location:a.location,params:a.matches?.[0]?.params??{},errorInfo:h})}:void 0;return o.reduceRight((f,h,b)=>{let E,N=!1,S=null,w=null;a&&(E=c&&h.route.id?c[h.route.id]:void 0,S=h.route.errorElement||zj,d&&(m<0&&b===0?(M3("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,w=null):m===b&&(N=!0,w=h.route.hydrateFallbackElement||null)));let C=t.concat(o.slice(0,b+1)),k=()=>{let A;return E?A=S:N?A=w:h.route.Component?A=y.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=f,y.createElement(Ij,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:a!=null},children:A})};return a&&(h.route.ErrorBoundary||h.route.errorElement||b===0)?y.createElement(Uj,{location:a.location,revalidation:a.revalidation,component:S,error:E,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):k()},null)}function lE(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $j(e){let t=y.useContext(Xo);return Pt(t,lE(e)),t}function Bj(e){let t=y.useContext(a0);return Pt(t,lE(e)),t}function Vj(e){let t=y.useContext(gn);return Pt(t,lE(e)),t}function sE(e){let t=Vj(e),a=t.matches[t.matches.length-1];return Pt(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function qj(){return sE("useRouteId")}function Hj(){let e=y.useContext(nE),t=Bj("useRouteError"),a=sE("useRouteError");return e!==void 0?e:t.errors?.[a]}function Gj(){let{router:e}=$j("useNavigate"),t=sE("useNavigate"),a=y.useRef(!1);return _3(()=>{a.current=!0}),y.useCallback(async(s,o={})=>{Br(a.current,D3),a.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var $C={};function M3(e,t,a){!t&&!$C[e]&&($C[e]=!0,Br(!1,a))}y.memo(Kj);function Kj({routes:e,future:t,state:a,unstable_onError:r}){return P3(e,void 0,a,r,t)}function Xf({to:e,replace:t,state:a,relative:r}){Pt(Wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=y.useContext(fn);Br(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=y.useContext(gn),{pathname:c}=Gr(),d=r0(),m=rE(e,aE(o),c,r==="path"),p=JSON.stringify(m);return y.useEffect(()=>{d(JSON.parse(p),{replace:t,state:a,relative:r})},[d,p,r,t,a]),null}function Yj(e){return Rj(e.context)}function ma(e){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qj({basename:e="/",children:t=null,location:a,navigationType:r="POP",navigator:s,static:o=!1}){Pt(!Wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:s,static:o,future:{}}),[c,s,o]);typeof a=="string"&&(a=Qo(a));let{pathname:m="/",search:p="",hash:f="",state:h=null,key:b="default"}=a,E=y.useMemo(()=>{let N=xl(m,c);return N==null?null:{location:{pathname:N,search:p,hash:f,state:h,key:b},navigationType:r}},[c,m,p,f,h,b,r]);return Br(E!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:y.createElement(fn.Provider,{value:d},y.createElement(em.Provider,{children:t,value:E}))}function Xj({children:e,location:t}){return Lj(Sb(e),t)}function Sb(e,t=[]){let a=[];return y.Children.forEach(e,(r,s)=>{if(!y.isValidElement(r))return;let o=[...t,s];if(r.type===y.Fragment){a.push.apply(a,Sb(r.props.children,o));return}Pt(r.type===ma,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Sb(r.props.children,o)),a.push(c)}),a}var Pf="get",Mf="application/x-www-form-urlencoded";function n0(e){return e!=null&&typeof e.tagName=="string"}function Wj(e){return n0(e)&&e.tagName.toLowerCase()==="button"}function Zj(e){return n0(e)&&e.tagName.toLowerCase()==="form"}function Jj(e){return n0(e)&&e.tagName.toLowerCase()==="input"}function e9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function t9(e,t){return e.button===0&&(!t||t==="_self")&&!e9(e)}var Qd=null;function a9(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var r9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function by(e){return e!=null&&!r9.has(e)?(Br(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mf}"`),null):e}function n9(e,t){let a,r,s,o,c;if(Zj(e)){let d=e.getAttribute("action");r=d?xl(d,t):null,a=e.getAttribute("method")||Pf,s=by(e.getAttribute("enctype"))||Mf,o=new FormData(e)}else if(Wj(e)||Jj(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?xl(m,t):null,a=e.getAttribute("formmethod")||d.getAttribute("method")||Pf,s=by(e.getAttribute("formenctype"))||by(d.getAttribute("enctype"))||Mf,o=new FormData(d,e),!a9()){let{name:p,type:f,value:h}=e;if(f==="image"){let b=p?`${p}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else p&&o.append(p,h)}}else{if(n0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Pf,r=null,s=Mf,c=e}return o&&s==="text/plain"&&(c=o,o=void 0),{action:r,method:a.toLowerCase(),encType:s,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iE(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function l9(e,t,a){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&xl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function s9(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i9(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function o9(e,t,a){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let c=await s9(o,a);return c.links?c.links():[]}return[]}));return d9(r.flat(1).filter(i9).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function BC(e,t,a,r,s,o){let c=(m,p)=>a[p]?m.route.id!==a[p].route.id:!0,d=(m,p)=>a[p].pathname!==m.pathname||a[p].route.path?.endsWith("*")&&a[p].params["*"]!==m.params["*"];return o==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):o==="data"?t.filter((m,p)=>{let f=r.routes[m.route.id];if(!f||!f.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let h=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function c9(e,t,{includeHydrateFallback:a}={}){return u9(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),a&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function u9(e){return[...new Set(e)]}function m9(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}function d9(e,t){let a=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(m9(s));return a.has(o)||(a.add(o),r.push({key:o,link:s})),r},[])}function R3(){let e=y.useContext(Xo);return iE(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function f9(){let e=y.useContext(a0);return iE(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var oE=y.createContext(void 0);oE.displayName="FrameworkContext";function L3(){let e=y.useContext(oE);return iE(e,"You must render this element inside a <HydratedRouter> element"),e}function g9(e,t){let a=y.useContext(oE),[r,s]=y.useState(!1),[o,c]=y.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:f,onTouchStart:h}=t,b=y.useRef(null);y.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let S=C=>{C.forEach(k=>{c(k.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return b.current&&w.observe(b.current),()=>{w.disconnect()}}},[e]),y.useEffect(()=>{if(r){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[r]);let E=()=>{s(!0)},N=()=>{s(!1),c(!1)};return a?e!=="intent"?[o,b,{}]:[o,b,{onFocus:nu(d,E),onBlur:nu(m,N),onMouseEnter:nu(p,E),onMouseLeave:nu(f,N),onTouchStart:nu(h,E)}]:[!1,b,{}]}function nu(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function p9({page:e,...t}){let{router:a}=R3(),r=y.useMemo(()=>C3(a.routes,e,a.basename),[a.routes,e,a.basename]);return r?y.createElement(y9,{page:e,matches:r,...t}):null}function h9(e){let{manifest:t,routeModules:a}=L3(),[r,s]=y.useState([]);return y.useEffect(()=>{let o=!1;return o9(e,t,a).then(c=>{o||s(c)}),()=>{o=!0}},[e,t,a]),r}function y9({page:e,matches:t,...a}){let r=Gr(),{manifest:s,routeModules:o}=L3(),{basename:c}=R3(),{loaderData:d,matches:m}=f9(),p=y.useMemo(()=>BC(e,t,m,s,r,"data"),[e,t,m,s,r]),f=y.useMemo(()=>BC(e,t,m,s,r,"assets"),[e,t,m,s,r]),h=y.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let N=new Set,S=!1;if(t.forEach(C=>{let k=s.routes[C.route.id];!k||!k.hasLoader||(!p.some(A=>A.route.id===C.route.id)&&C.route.id in d&&o[C.route.id]?.shouldRevalidate||k.hasClientLoader?S=!0:N.add(C.route.id))}),N.size===0)return[];let w=l9(e,c,"data");return S&&N.size>0&&w.searchParams.set("_routes",t.filter(C=>N.has(C.route.id)).map(C=>C.route.id).join(",")),[w.pathname+w.search]},[c,d,r,s,p,t,e,o]),b=y.useMemo(()=>c9(f,s),[f,s]),E=h9(f);return y.createElement(y.Fragment,null,h.map(N=>y.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),b.map(N=>y.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),E.map(({key:N,link:S})=>y.createElement("link",{key:N,nonce:a.nonce,...S})))}function v9(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var j3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{j3&&(window.__reactRouterVersion="7.9.6")}catch{}function b9({basename:e,children:t,window:a}){let r=y.useRef();r.current==null&&(r.current=rj({window:a,v5Compat:!0}));let s=r.current,[o,c]=y.useState({action:s.action,location:s.location}),d=y.useCallback(m=>{y.startTransition(()=>c(m))},[c]);return y.useLayoutEffect(()=>s.listen(d),[s,d]),y.createElement(Qj,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var z3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cE=y.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:s,reloadDocument:o,replace:c,state:d,target:m,to:p,preventScrollReset:f,viewTransition:h,...b},E){let{basename:N}=y.useContext(fn),S=typeof p=="string"&&z3.test(p),w,C=!1;if(typeof p=="string"&&S&&(w=p,j3))try{let R=new URL(window.location.href),U=p.startsWith("//")?new URL(R.protocol+p):new URL(p),L=xl(U.pathname,N);U.origin===R.origin&&L!=null?p=L+U.search+U.hash:C=!0}catch{Br(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=_j(p,{relative:s}),[A,M,O]=g9(r,b),D=w9(p,{replace:c,state:d,target:m,preventScrollReset:f,relative:s,viewTransition:h});function _(R){t&&t(R),R.defaultPrevented||D(R)}let P=y.createElement("a",{...b,...O,href:w||k,onClick:C||o?t:_,ref:v9(E,M),target:m,"data-discover":!S&&a==="render"?"true":void 0});return A&&!S?y.createElement(y.Fragment,null,P,y.createElement(p9,{page:k})):P});cE.displayName="Link";var x9=y.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:s=!1,style:o,to:c,viewTransition:d,children:m,...p},f){let h=tm(c,{relative:p.relative}),b=Gr(),E=y.useContext(a0),{navigator:N,basename:S}=y.useContext(fn),w=E!=null&&O9(h)&&d===!0,C=N.encodeLocation?N.encodeLocation(h).pathname:h.pathname,k=b.pathname,A=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;a||(k=k.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&S&&(A=xl(A,S)||A);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let O=k===C||!s&&k.startsWith(C)&&k.charAt(M)==="/",D=A!=null&&(A===C||!s&&A.startsWith(C)&&A.charAt(C.length)==="/"),_={isActive:O,isPending:D,isTransitioning:w},P=O?t:void 0,R;typeof r=="function"?R=r(_):R=[r,O?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(_):o;return y.createElement(cE,{...p,"aria-current":P,className:R,ref:f,style:U,to:c,viewTransition:d},typeof m=="function"?m(_):m)});x9.displayName="NavLink";var E9=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:s,state:o,method:c=Pf,action:d,onSubmit:m,relative:p,preventScrollReset:f,viewTransition:h,...b},E)=>{let N=A9(),S=T9(d,{relative:p}),w=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&z3.test(d),k=A=>{if(m&&m(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,O=M?.getAttribute("formmethod")||c;N(M||A.currentTarget,{fetcherKey:t,method:O,navigate:a,replace:s,state:o,relative:p,preventScrollReset:f,viewTransition:h})};return y.createElement("form",{ref:E,method:w,action:S,onSubmit:r?m:k,...b,"data-discover":!C&&e==="render"?"true":void 0})});E9.displayName="Form";function N9(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U3(e){let t=y.useContext(Xo);return Pt(t,N9(e)),t}function w9(e,{target:t,replace:a,state:r,preventScrollReset:s,relative:o,viewTransition:c}={}){let d=r0(),m=Gr(),p=tm(e,{relative:o});return y.useCallback(f=>{if(t9(f,t)){f.preventDefault();let h=a!==void 0?a:ku(m)===ku(p);d(e,{replace:h,state:r,preventScrollReset:s,relative:o,viewTransition:c})}},[m,d,p,a,r,t,e,s,o,c])}var S9=0,C9=()=>`__${String(++S9)}__`;function A9(){let{router:e}=U3("useSubmit"),{basename:t}=y.useContext(fn),a=qj();return y.useCallback(async(r,s={})=>{let{action:o,method:c,encType:d,formData:m,body:p}=n9(r,t);if(s.navigate===!1){let f=s.fetcherKey||C9();await e.fetch(f,a,s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:a,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,a])}function T9(e,{relative:t}={}){let{basename:a}=y.useContext(fn),r=y.useContext(gn);Pt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...tm(e||".",{relative:t})},c=Gr();if(e==null){o.search=c.search;let d=new URLSearchParams(o.search),m=d.getAll("index");if(m.some(f=>f==="")){d.delete("index"),m.filter(h=>h).forEach(h=>d.append("index",h));let f=d.toString();o.search=f?`?${f}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(o.pathname=o.pathname==="/"?a:yl([a,o.pathname])),ku(o)}function O9(e,{relative:t}={}){let a=y.useContext(k3);Pt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=U3("useViewTransitionState"),s=tm(e,{relative:t});if(!a.isTransitioning)return!1;let o=xl(a.currentLocation.pathname,r)||a.currentLocation.pathname,c=xl(a.nextLocation.pathname,r)||a.nextLocation.pathname;return Qf(s.pathname,c)!=null||Qf(s.pathname,o)!=null}var uE=S3();function I3(e,t){return function(){return e.apply(t,arguments)}}const{toString:k9}=Object.prototype,{getPrototypeOf:mE}=Object,{iterator:l0,toStringTag:F3}=Symbol,s0=(e=>t=>{const a=k9.call(t);return e[a]||(e[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),pn=e=>(e=e.toLowerCase(),t=>s0(t)===e),i0=e=>t=>typeof t===e,{isArray:Zo}=Array,Ro=i0("undefined");function am(e){return e!==null&&!Ro(e)&&e.constructor!==null&&!Ro(e.constructor)&&rr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const $3=pn("ArrayBuffer");function D9(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&$3(e.buffer),t}const _9=i0("string"),rr=i0("function"),B3=i0("number"),rm=e=>e!==null&&typeof e=="object",P9=e=>e===!0||e===!1,Rf=e=>{if(s0(e)!=="object")return!1;const t=mE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(F3 in e)&&!(l0 in e)},M9=e=>{if(!rm(e)||am(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},R9=pn("Date"),L9=pn("File"),j9=pn("Blob"),z9=pn("FileList"),U9=e=>rm(e)&&rr(e.pipe),I9=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rr(e.append)&&((t=s0(e))==="formdata"||t==="object"&&rr(e.toString)&&e.toString()==="[object FormData]"))},F9=pn("URLSearchParams"),[$9,B9,V9,q9]=["ReadableStream","Request","Response","Headers"].map(pn),H9=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nm(e,t,{allOwnKeys:a=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Zo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(am(e))return;const o=a?Object.getOwnPropertyNames(e):Object.keys(e),c=o.length;let d;for(r=0;r<c;r++)d=o[r],t.call(null,e[d],d,e)}}function V3(e,t){if(am(e))return null;t=t.toLowerCase();const a=Object.keys(e);let r=a.length,s;for(;r-- >0;)if(s=a[r],t===s.toLowerCase())return s;return null}const oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,q3=e=>!Ro(e)&&e!==oi;function Cb(){const{caseless:e,skipUndefined:t}=q3(this)&&this||{},a={},r=(s,o)=>{const c=e&&V3(a,o)||o;Rf(a[c])&&Rf(s)?a[c]=Cb(a[c],s):Rf(s)?a[c]=Cb({},s):Zo(s)?a[c]=s.slice():(!t||!Ro(s))&&(a[c]=s)};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&nm(arguments[s],r);return a}const G9=(e,t,a,{allOwnKeys:r}={})=>(nm(t,(s,o)=>{a&&rr(s)?e[o]=I3(s,a):e[o]=s},{allOwnKeys:r}),e),K9=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Y9=(e,t,a,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},Q9=(e,t,a,r)=>{let s,o,c;const d={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),o=s.length;o-- >0;)c=s[o],(!r||r(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=a!==!1&&mE(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},X9=(e,t,a)=>{e=String(e),(a===void 0||a>e.length)&&(a=e.length),a-=t.length;const r=e.indexOf(t,a);return r!==-1&&r===a},W9=e=>{if(!e)return null;if(Zo(e))return e;let t=e.length;if(!B3(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},Z9=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&mE(Uint8Array)),J9=(e,t)=>{const r=(e&&e[l0]).call(e);let s;for(;(s=r.next())&&!s.done;){const o=s.value;t.call(e,o[0],o[1])}},ez=(e,t)=>{let a;const r=[];for(;(a=e.exec(t))!==null;)r.push(a);return r},tz=pn("HTMLFormElement"),az=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,s){return r.toUpperCase()+s}),VC=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),rz=pn("RegExp"),H3=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),r={};nm(a,(s,o)=>{let c;(c=t(s,o,e))!==!1&&(r[o]=c||s)}),Object.defineProperties(e,r)},nz=e=>{H3(e,(t,a)=>{if(rr(e)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=e[a];if(rr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},lz=(e,t)=>{const a={},r=s=>{s.forEach(o=>{a[o]=!0})};return Zo(e)?r(e):r(String(e).split(t)),a},sz=()=>{},iz=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function oz(e){return!!(e&&rr(e.append)&&e[F3]==="FormData"&&e[l0])}const cz=e=>{const t=new Array(10),a=(r,s)=>{if(rm(r)){if(t.indexOf(r)>=0)return;if(am(r))return r;if(!("toJSON"in r)){t[s]=r;const o=Zo(r)?[]:{};return nm(r,(c,d)=>{const m=a(c,s+1);!Ro(m)&&(o[d]=m)}),t[s]=void 0,o}}return r};return a(e,0)},uz=pn("AsyncFunction"),mz=e=>e&&(rm(e)||rr(e))&&rr(e.then)&&rr(e.catch),G3=((e,t)=>e?setImmediate:t?((a,r)=>(oi.addEventListener("message",({source:s,data:o})=>{s===oi&&o===a&&r.length&&r.shift()()},!1),s=>{r.push(s),oi.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",rr(oi.postMessage)),dz=typeof queueMicrotask<"u"?queueMicrotask.bind(oi):typeof process<"u"&&process.nextTick||G3,fz=e=>e!=null&&rr(e[l0]),se={isArray:Zo,isArrayBuffer:$3,isBuffer:am,isFormData:I9,isArrayBufferView:D9,isString:_9,isNumber:B3,isBoolean:P9,isObject:rm,isPlainObject:Rf,isEmptyObject:M9,isReadableStream:$9,isRequest:B9,isResponse:V9,isHeaders:q9,isUndefined:Ro,isDate:R9,isFile:L9,isBlob:j9,isRegExp:rz,isFunction:rr,isStream:U9,isURLSearchParams:F9,isTypedArray:Z9,isFileList:z9,forEach:nm,merge:Cb,extend:G9,trim:H9,stripBOM:K9,inherits:Y9,toFlatObject:Q9,kindOf:s0,kindOfTest:pn,endsWith:X9,toArray:W9,forEachEntry:J9,matchAll:ez,isHTMLForm:tz,hasOwnProperty:VC,hasOwnProp:VC,reduceDescriptors:H3,freezeMethods:nz,toObjectSet:lz,toCamelCase:az,noop:sz,toFiniteNumber:iz,findKey:V3,global:oi,isContextDefined:q3,isSpecCompliantForm:oz,toJSONObject:cz,isAsyncFn:uz,isThenable:mz,setImmediate:G3,asap:dz,isIterable:fz};function Ye(e,t,a,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}se.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const K3=Ye.prototype,Y3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Y3[e]={value:e}});Object.defineProperties(Ye,Y3);Object.defineProperty(K3,"isAxiosError",{value:!0});Ye.from=(e,t,a,r,s,o)=>{const c=Object.create(K3);se.toFlatObject(e,c,function(f){return f!==Error.prototype},p=>p!=="isAxiosError");const d=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return Ye.call(c,d,m,a,r,s),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",o&&Object.assign(c,o),c};const gz=null;function Ab(e){return se.isPlainObject(e)||se.isArray(e)}function Q3(e){return se.endsWith(e,"[]")?e.slice(0,-2):e}function qC(e,t,a){return e?e.concat(t).map(function(s,o){return s=Q3(s),!a&&o?"["+s+"]":s}).join(a?".":""):t}function pz(e){return se.isArray(e)&&!e.some(Ab)}const hz=se.toFlatObject(se,{},null,function(t){return/^is[A-Z]/.test(t)});function o0(e,t,a){if(!se.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,a=se.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,w){return!se.isUndefined(w[S])});const r=a.metaTokens,s=a.visitor||f,o=a.dots,c=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(t);if(!se.isFunction(s))throw new TypeError("visitor must be a function");function p(N){if(N===null)return"";if(se.isDate(N))return N.toISOString();if(se.isBoolean(N))return N.toString();if(!m&&se.isBlob(N))throw new Ye("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(N)||se.isTypedArray(N)?m&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function f(N,S,w){let C=N;if(N&&!w&&typeof N=="object"){if(se.endsWith(S,"{}"))S=r?S:S.slice(0,-2),N=JSON.stringify(N);else if(se.isArray(N)&&pz(N)||(se.isFileList(N)||se.endsWith(S,"[]"))&&(C=se.toArray(N)))return S=Q3(S),C.forEach(function(A,M){!(se.isUndefined(A)||A===null)&&t.append(c===!0?qC([S],M,o):c===null?S:S+"[]",p(A))}),!1}return Ab(N)?!0:(t.append(qC(w,S,o),p(N)),!1)}const h=[],b=Object.assign(hz,{defaultVisitor:f,convertValue:p,isVisitable:Ab});function E(N,S){if(!se.isUndefined(N)){if(h.indexOf(N)!==-1)throw Error("Circular reference detected in "+S.join("."));h.push(N),se.forEach(N,function(C,k){(!(se.isUndefined(C)||C===null)&&s.call(t,C,se.isString(k)?k.trim():k,S,b))===!0&&E(C,S?S.concat(k):[k])}),h.pop()}}if(!se.isObject(e))throw new TypeError("data must be an object");return E(e),t}function HC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function dE(e,t){this._pairs=[],e&&o0(e,this,t)}const X3=dE.prototype;X3.append=function(t,a){this._pairs.push([t,a])};X3.toString=function(t){const a=t?function(r){return t.call(this,r,HC)}:HC;return this._pairs.map(function(s){return a(s[0])+"="+a(s[1])},"").join("&")};function yz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function W3(e,t,a){if(!t)return e;const r=a&&a.encode||yz;se.isFunction(a)&&(a={serialize:a});const s=a&&a.serialize;let o;if(s?o=s(t,a):o=se.isURLSearchParams(t)?t.toString():new dE(t,a).toString(r),o){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class GC{constructor(){this.handlers=[]}use(t,a,r){return this.handlers.push({fulfilled:t,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){se.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Z3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vz=typeof URLSearchParams<"u"?URLSearchParams:dE,bz=typeof FormData<"u"?FormData:null,xz=typeof Blob<"u"?Blob:null,Ez={isBrowser:!0,classes:{URLSearchParams:vz,FormData:bz,Blob:xz},protocols:["http","https","file","blob","url","data"]},fE=typeof window<"u"&&typeof document<"u",Tb=typeof navigator=="object"&&navigator||void 0,Nz=fE&&(!Tb||["ReactNative","NativeScript","NS"].indexOf(Tb.product)<0),wz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sz=fE&&window.location.href||"http://localhost",Cz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:fE,hasStandardBrowserEnv:Nz,hasStandardBrowserWebWorkerEnv:wz,navigator:Tb,origin:Sz},Symbol.toStringTag,{value:"Module"})),La={...Cz,...Ez};function Az(e,t){return o0(e,new La.classes.URLSearchParams,{visitor:function(a,r,s,o){return La.isNode&&se.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Tz(e){return se.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Oz(e){const t={},a=Object.keys(e);let r;const s=a.length;let o;for(r=0;r<s;r++)o=a[r],t[o]=e[o];return t}function J3(e){function t(a,r,s,o){let c=a[o++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),m=o>=a.length;return c=!c&&se.isArray(s)?s.length:c,m?(se.hasOwnProp(s,c)?s[c]=[s[c],r]:s[c]=r,!d):((!s[c]||!se.isObject(s[c]))&&(s[c]=[]),t(a,r,s[c],o)&&se.isArray(s[c])&&(s[c]=Oz(s[c])),!d)}if(se.isFormData(e)&&se.isFunction(e.entries)){const a={};return se.forEachEntry(e,(r,s)=>{t(Tz(r),s,a,0)}),a}return null}function kz(e,t,a){if(se.isString(e))try{return(t||JSON.parse)(e),se.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(e)}const lm={transitional:Z3,adapter:["xhr","http","fetch"],transformRequest:[function(t,a){const r=a.getContentType()||"",s=r.indexOf("application/json")>-1,o=se.isObject(t);if(o&&se.isHTMLForm(t)&&(t=new FormData(t)),se.isFormData(t))return s?JSON.stringify(J3(t)):t;if(se.isArrayBuffer(t)||se.isBuffer(t)||se.isStream(t)||se.isFile(t)||se.isBlob(t)||se.isReadableStream(t))return t;if(se.isArrayBufferView(t))return t.buffer;if(se.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Az(t,this.formSerializer).toString();if((d=se.isFileList(t))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return o0(d?{"files[]":t}:t,m&&new m,this.formSerializer)}}return o||s?(a.setContentType("application/json",!1),kz(t)):t}],transformResponse:[function(t){const a=this.transitional||lm.transitional,r=a&&a.forcedJSONParsing,s=this.responseType==="json";if(se.isResponse(t)||se.isReadableStream(t))return t;if(t&&se.isString(t)&&(r&&!this.responseType||s)){const c=!(a&&a.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?Ye.from(d,Ye.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:La.classes.FormData,Blob:La.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],e=>{lm.headers[e]={}});const Dz=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_z=e=>{const t={};let a,r,s;return e&&e.split(`
`).forEach(function(c){s=c.indexOf(":"),a=c.substring(0,s).trim().toLowerCase(),r=c.substring(s+1).trim(),!(!a||t[a]&&Dz[a])&&(a==="set-cookie"?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)}),t},KC=Symbol("internals");function lu(e){return e&&String(e).trim().toLowerCase()}function Lf(e){return e===!1||e==null?e:se.isArray(e)?e.map(Lf):String(e)}function Pz(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)t[r[1]]=r[2];return t}const Mz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function xy(e,t,a,r,s){if(se.isFunction(r))return r.call(this,t,a);if(s&&(t=a),!!se.isString(t)){if(se.isString(r))return t.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(t)}}function Rz(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,r)=>a.toUpperCase()+r)}function Lz(e,t){const a=se.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+a,{value:function(s,o,c){return this[r].call(this,t,s,o,c)},configurable:!0})})}let nr=class{constructor(t){t&&this.set(t)}set(t,a,r){const s=this;function o(d,m,p){const f=lu(m);if(!f)throw new Error("header name must be a non-empty string");const h=se.findKey(s,f);(!h||s[h]===void 0||p===!0||p===void 0&&s[h]!==!1)&&(s[h||m]=Lf(d))}const c=(d,m)=>se.forEach(d,(p,f)=>o(p,f,m));if(se.isPlainObject(t)||t instanceof this.constructor)c(t,a);else if(se.isString(t)&&(t=t.trim())&&!Mz(t))c(_z(t),a);else if(se.isObject(t)&&se.isIterable(t)){let d={},m,p;for(const f of t){if(!se.isArray(f))throw TypeError("Object iterator must return a key-value pair");d[p=f[0]]=(m=d[p])?se.isArray(m)?[...m,f[1]]:[m,f[1]]:f[1]}c(d,a)}else t!=null&&o(a,t,r);return this}get(t,a){if(t=lu(t),t){const r=se.findKey(this,t);if(r){const s=this[r];if(!a)return s;if(a===!0)return Pz(s);if(se.isFunction(a))return a.call(this,s,r);if(se.isRegExp(a))return a.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=lu(t),t){const r=se.findKey(this,t);return!!(r&&this[r]!==void 0&&(!a||xy(this,this[r],r,a)))}return!1}delete(t,a){const r=this;let s=!1;function o(c){if(c=lu(c),c){const d=se.findKey(r,c);d&&(!a||xy(r,r[d],d,a))&&(delete r[d],s=!0)}}return se.isArray(t)?t.forEach(o):o(t),s}clear(t){const a=Object.keys(this);let r=a.length,s=!1;for(;r--;){const o=a[r];(!t||xy(this,this[o],o,t,!0))&&(delete this[o],s=!0)}return s}normalize(t){const a=this,r={};return se.forEach(this,(s,o)=>{const c=se.findKey(r,o);if(c){a[c]=Lf(s),delete a[o];return}const d=t?Rz(o):String(o).trim();d!==o&&delete a[o],a[d]=Lf(s),r[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return se.forEach(this,(r,s)=>{r!=null&&r!==!1&&(a[s]=t&&se.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const r=new this(t);return a.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[KC]=this[KC]={accessors:{}}).accessors,s=this.prototype;function o(c){const d=lu(c);r[d]||(Lz(s,c),r[d]=!0)}return se.isArray(t)?t.forEach(o):o(t),this}};nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(nr.prototype,({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[a]=r}}});se.freezeMethods(nr);function Ey(e,t){const a=this||lm,r=t||a,s=nr.from(r.headers);let o=r.data;return se.forEach(e,function(d){o=d.call(a,o,s.normalize(),t?t.status:void 0)}),s.normalize(),o}function eD(e){return!!(e&&e.__CANCEL__)}function Jo(e,t,a){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,a),this.name="CanceledError"}se.inherits(Jo,Ye,{__CANCEL__:!0});function tD(e,t,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?e(a):t(new Ye("Request failed with status code "+a.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function jz(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zz(e,t){e=e||10;const a=new Array(e),r=new Array(e);let s=0,o=0,c;return t=t!==void 0?t:1e3,function(m){const p=Date.now(),f=r[o];c||(c=p),a[s]=m,r[s]=p;let h=o,b=0;for(;h!==s;)b+=a[h++],h=h%e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),p-c<t)return;const E=f&&p-f;return E?Math.round(b*1e3/E):void 0}}function Uz(e,t){let a=0,r=1e3/t,s,o;const c=(p,f=Date.now())=>{a=f,s=null,o&&(clearTimeout(o),o=null),e(...p)};return[(...p)=>{const f=Date.now(),h=f-a;h>=r?c(p,f):(s=p,o||(o=setTimeout(()=>{o=null,c(s)},r-h)))},()=>s&&c(s)]}const Wf=(e,t,a=3)=>{let r=0;const s=zz(50,250);return Uz(o=>{const c=o.loaded,d=o.lengthComputable?o.total:void 0,m=c-r,p=s(m),f=c<=d;r=c;const h={loaded:c,total:d,progress:d?c/d:void 0,bytes:m,rate:p||void 0,estimated:p&&d&&f?(d-c)/p:void 0,event:o,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(h)},a)},YC=(e,t)=>{const a=e!=null;return[r=>t[0]({lengthComputable:a,total:e,loaded:r}),t[1]]},QC=e=>(...t)=>se.asap(()=>e(...t)),Iz=La.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,La.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(La.origin),La.navigator&&/(msie|trident)/i.test(La.navigator.userAgent)):()=>!0,Fz=La.hasStandardBrowserEnv?{write(e,t,a,r,s,o,c){if(typeof document>"u")return;const d=[`${e}=${encodeURIComponent(t)}`];se.isNumber(a)&&d.push(`expires=${new Date(a).toUTCString()}`),se.isString(r)&&d.push(`path=${r}`),se.isString(s)&&d.push(`domain=${s}`),o===!0&&d.push("secure"),se.isString(c)&&d.push(`SameSite=${c}`),document.cookie=d.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function $z(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Bz(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function aD(e,t,a){let r=!$z(t);return e&&(r||a==!1)?Bz(e,t):t}const XC=e=>e instanceof nr?{...e}:e;function Ei(e,t){t=t||{};const a={};function r(p,f,h,b){return se.isPlainObject(p)&&se.isPlainObject(f)?se.merge.call({caseless:b},p,f):se.isPlainObject(f)?se.merge({},f):se.isArray(f)?f.slice():f}function s(p,f,h,b){if(se.isUndefined(f)){if(!se.isUndefined(p))return r(void 0,p,h,b)}else return r(p,f,h,b)}function o(p,f){if(!se.isUndefined(f))return r(void 0,f)}function c(p,f){if(se.isUndefined(f)){if(!se.isUndefined(p))return r(void 0,p)}else return r(void 0,f)}function d(p,f,h){if(h in t)return r(p,f);if(h in e)return r(void 0,p)}const m={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(p,f,h)=>s(XC(p),XC(f),h,!0)};return se.forEach(Object.keys({...e,...t}),function(f){const h=m[f]||s,b=h(e[f],t[f],f);se.isUndefined(b)&&h!==d||(a[f]=b)}),a}const rD=e=>{const t=Ei({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:o,headers:c,auth:d}=t;if(t.headers=c=nr.from(c),t.url=W3(aD(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),se.isFormData(a)){if(La.hasStandardBrowserEnv||La.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(se.isFunction(a.getHeaders)){const m=a.getHeaders(),p=["content-type","content-length"];Object.entries(m).forEach(([f,h])=>{p.includes(f.toLowerCase())&&c.set(f,h)})}}if(La.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(t)),r||r!==!1&&Iz(t.url))){const m=s&&o&&Fz.read(o);m&&c.set(s,m)}return t},Vz=typeof XMLHttpRequest<"u",qz=Vz&&function(e){return new Promise(function(a,r){const s=rD(e);let o=s.data;const c=nr.from(s.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:p}=s,f,h,b,E,N;function S(){E&&E(),N&&N(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function C(){if(!w)return;const A=nr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),O={data:!d||d==="text"||d==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:A,config:e,request:w};tD(function(_){a(_),S()},function(_){r(_),S()},O),w=null}"onloadend"in w?w.onloadend=C:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(C)},w.onabort=function(){w&&(r(new Ye("Request aborted",Ye.ECONNABORTED,e,w)),w=null)},w.onerror=function(M){const O=M&&M.message?M.message:"Network Error",D=new Ye(O,Ye.ERR_NETWORK,e,w);D.event=M||null,r(D),w=null},w.ontimeout=function(){let M=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||Z3;s.timeoutErrorMessage&&(M=s.timeoutErrorMessage),r(new Ye(M,O.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,w)),w=null},o===void 0&&c.setContentType(null),"setRequestHeader"in w&&se.forEach(c.toJSON(),function(M,O){w.setRequestHeader(O,M)}),se.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),d&&d!=="json"&&(w.responseType=s.responseType),p&&([b,N]=Wf(p,!0),w.addEventListener("progress",b)),m&&w.upload&&([h,E]=Wf(m),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",E)),(s.cancelToken||s.signal)&&(f=A=>{w&&(r(!A||A.type?new Jo(null,e,w):A),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const k=jz(s.url);if(k&&La.protocols.indexOf(k)===-1){r(new Ye("Unsupported protocol "+k+":",Ye.ERR_BAD_REQUEST,e));return}w.send(o||null)})},Hz=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let r=new AbortController,s;const o=function(p){if(!s){s=!0,d();const f=p instanceof Error?p:this.reason;r.abort(f instanceof Ye?f:new Jo(f instanceof Error?f.message:f))}};let c=t&&setTimeout(()=>{c=null,o(new Ye(`timeout ${t} of ms exceeded`,Ye.ETIMEDOUT))},t);const d=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),e=null)};e.forEach(p=>p.addEventListener("abort",o));const{signal:m}=r;return m.unsubscribe=()=>se.asap(d),m}},Gz=function*(e,t){let a=e.byteLength;if(a<t){yield e;return}let r=0,s;for(;r<a;)s=r+t,yield e.slice(r,s),r=s},Kz=async function*(e,t){for await(const a of Yz(e))yield*Gz(a,t)},Yz=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:a,value:r}=await t.read();if(a)break;yield r}}finally{await t.cancel()}},WC=(e,t,a,r)=>{const s=Kz(e,t);let o=0,c,d=m=>{c||(c=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:p,value:f}=await s.next();if(p){d(),m.close();return}let h=f.byteLength;if(a){let b=o+=h;a(b)}m.enqueue(new Uint8Array(f))}catch(p){throw d(p),p}},cancel(m){return d(m),s.return()}},{highWaterMark:2})},ZC=64*1024,{isFunction:Xd}=se,Qz=(({Request:e,Response:t})=>({Request:e,Response:t}))(se.global),{ReadableStream:JC,TextEncoder:eA}=se.global,tA=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Xz=e=>{e=se.merge.call({skipUndefined:!0},Qz,e);const{fetch:t,Request:a,Response:r}=e,s=t?Xd(t):typeof fetch=="function",o=Xd(a),c=Xd(r);if(!s)return!1;const d=s&&Xd(JC),m=s&&(typeof eA=="function"?(N=>S=>N.encode(S))(new eA):async N=>new Uint8Array(await new a(N).arrayBuffer())),p=o&&d&&tA(()=>{let N=!1;const S=new a(La.origin,{body:new JC,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!S}),f=c&&d&&tA(()=>se.isReadableStream(new r("").body)),h={stream:f&&(N=>N.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!h[N]&&(h[N]=(S,w)=>{let C=S&&S[N];if(C)return C.call(S);throw new Ye(`Response type '${N}' is not supported`,Ye.ERR_NOT_SUPPORT,w)})});const b=async N=>{if(N==null)return 0;if(se.isBlob(N))return N.size;if(se.isSpecCompliantForm(N))return(await new a(La.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(se.isArrayBufferView(N)||se.isArrayBuffer(N))return N.byteLength;if(se.isURLSearchParams(N)&&(N=N+""),se.isString(N))return(await m(N)).byteLength},E=async(N,S)=>{const w=se.toFiniteNumber(N.getContentLength());return w??b(S)};return async N=>{let{url:S,method:w,data:C,signal:k,cancelToken:A,timeout:M,onDownloadProgress:O,onUploadProgress:D,responseType:_,headers:P,withCredentials:R="same-origin",fetchOptions:U}=rD(N),L=t||fetch;_=_?(_+"").toLowerCase():"text";let I=Hz([k,A&&A.toAbortSignal()],M),ae=null;const ne=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let ue;try{if(D&&p&&w!=="get"&&w!=="head"&&(ue=await E(P,C))!==0){let j=new a(S,{method:"POST",body:C,duplex:"half"}),B;if(se.isFormData(C)&&(B=j.headers.get("content-type"))&&P.setContentType(B),j.body){const[X,K]=YC(ue,Wf(QC(D)));C=WC(j.body,ZC,X,K)}}se.isString(R)||(R=R?"include":"omit");const F=o&&"credentials"in a.prototype,G={...U,signal:I,method:w.toUpperCase(),headers:P.normalize().toJSON(),body:C,duplex:"half",credentials:F?R:void 0};ae=o&&new a(S,G);let le=await(o?L(ae,U):L(S,G));const te=f&&(_==="stream"||_==="response");if(f&&(O||te&&ne)){const j={};["status","statusText","headers"].forEach(oe=>{j[oe]=le[oe]});const B=se.toFiniteNumber(le.headers.get("content-length")),[X,K]=O&&YC(B,Wf(QC(O),!0))||[];le=new r(WC(le.body,ZC,X,()=>{K&&K(),ne&&ne()}),j)}_=_||"text";let H=await h[se.findKey(h,_)||"text"](le,N);return!te&&ne&&ne(),await new Promise((j,B)=>{tD(j,B,{data:H,headers:nr.from(le.headers),status:le.status,statusText:le.statusText,config:N,request:ae})})}catch(F){throw ne&&ne(),F&&F.name==="TypeError"&&/Load failed|fetch/i.test(F.message)?Object.assign(new Ye("Network Error",Ye.ERR_NETWORK,N,ae),{cause:F.cause||F}):Ye.from(F,F&&F.code,N,ae)}}},Wz=new Map,nD=e=>{let t=e&&e.env||{};const{fetch:a,Request:r,Response:s}=t,o=[r,s,a];let c=o.length,d=c,m,p,f=Wz;for(;d--;)m=o[d],p=f.get(m),p===void 0&&f.set(m,p=d?new Map:Xz(t)),f=p;return p};nD();const gE={http:gz,xhr:qz,fetch:{get:nD}};se.forEach(gE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const aA=e=>`- ${e}`,Zz=e=>se.isFunction(e)||e===null||e===!1;function Jz(e,t){e=se.isArray(e)?e:[e];const{length:a}=e;let r,s;const o={};for(let c=0;c<a;c++){r=e[c];let d;if(s=r,!Zz(r)&&(s=gE[(d=String(r)).toLowerCase()],s===void 0))throw new Ye(`Unknown adapter '${d}'`);if(s&&(se.isFunction(s)||(s=s.get(t))))break;o[d||"#"+c]=s}if(!s){const c=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let d=a?c.length>1?`since :
`+c.map(aA).join(`
`):" "+aA(c[0]):"as no adapter specified";throw new Ye("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return s}const lD={getAdapter:Jz,adapters:gE};function Ny(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jo(null,e)}function rA(e){return Ny(e),e.headers=nr.from(e.headers),e.data=Ey.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),lD.getAdapter(e.adapter||lm.adapter,e)(e).then(function(r){return Ny(e),r.data=Ey.call(e,e.transformResponse,r),r.headers=nr.from(r.headers),r},function(r){return eD(r)||(Ny(e),r&&r.response&&(r.response.data=Ey.call(e,e.transformResponse,r.response),r.response.headers=nr.from(r.response.headers))),Promise.reject(r)})}const sD="1.13.2",c0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{c0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const nA={};c0.transitional=function(t,a,r){function s(o,c){return"[Axios v"+sD+"] Transitional option '"+o+"'"+c+(r?". "+r:"")}return(o,c,d)=>{if(t===!1)throw new Ye(s(c," has been removed"+(a?" in "+a:"")),Ye.ERR_DEPRECATED);return a&&!nA[c]&&(nA[c]=!0,console.warn(s(c," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(o,c,d):!0}};c0.spelling=function(t){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function eU(e,t,a){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const o=r[s],c=t[o];if(c){const d=e[o],m=d===void 0||c(d,o,e);if(m!==!0)throw new Ye("option "+o+" must be "+m,Ye.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Ye("Unknown option "+o,Ye.ERR_BAD_OPTION)}}const jf={assertOptions:eU,validators:c0},An=jf.validators;let fi=class{constructor(t){this.defaults=t||{},this.interceptors={request:new GC,response:new GC}}async request(t,a){try{return await this._request(t,a)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=Ei(this.defaults,a);const{transitional:r,paramsSerializer:s,headers:o}=a;r!==void 0&&jf.assertOptions(r,{silentJSONParsing:An.transitional(An.boolean),forcedJSONParsing:An.transitional(An.boolean),clarifyTimeoutError:An.transitional(An.boolean)},!1),s!=null&&(se.isFunction(s)?a.paramsSerializer={serialize:s}:jf.assertOptions(s,{encode:An.function,serialize:An.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),jf.assertOptions(a,{baseUrl:An.spelling("baseURL"),withXsrfToken:An.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let c=o&&se.merge(o.common,o[a.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],N=>{delete o[N]}),a.headers=nr.concat(c,o);const d=[];let m=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(a)===!1||(m=m&&S.synchronous,d.unshift(S.fulfilled,S.rejected))});const p=[];this.interceptors.response.forEach(function(S){p.push(S.fulfilled,S.rejected)});let f,h=0,b;if(!m){const N=[rA.bind(this),void 0];for(N.unshift(...d),N.push(...p),b=N.length,f=Promise.resolve(a);h<b;)f=f.then(N[h++],N[h++]);return f}b=d.length;let E=a;for(;h<b;){const N=d[h++],S=d[h++];try{E=N(E)}catch(w){S.call(this,w);break}}try{f=rA.call(this,E)}catch(N){return Promise.reject(N)}for(h=0,b=p.length;h<b;)f=f.then(p[h++],p[h++]);return f}getUri(t){t=Ei(this.defaults,t);const a=aD(t.baseURL,t.url,t.allowAbsoluteUrls);return W3(a,t.params,t.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(t){fi.prototype[t]=function(a,r){return this.request(Ei(r||{},{method:t,url:a,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(t){function a(r){return function(o,c,d){return this.request(Ei(d||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}fi.prototype[t]=a(),fi.prototype[t+"Form"]=a(!0)});let tU=class iD{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(s=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](s);r._listeners=null}),this.promise.then=s=>{let o;const c=new Promise(d=>{r.subscribe(d),o=d}).then(s);return c.cancel=function(){r.unsubscribe(o)},c},t(function(o,c,d){r.reason||(r.reason=new Jo(o,c,d),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const t=new AbortController,a=r=>{t.abort(r)};return this.subscribe(a),t.signal.unsubscribe=()=>this.unsubscribe(a),t.signal}static source(){let t;return{token:new iD(function(s){t=s}),cancel:t}}};function aU(e){return function(a){return e.apply(null,a)}}function rU(e){return se.isObject(e)&&e.isAxiosError===!0}const Ob={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ob).forEach(([e,t])=>{Ob[t]=e});function oD(e){const t=new fi(e),a=I3(fi.prototype.request,t);return se.extend(a,fi.prototype,t,{allOwnKeys:!0}),se.extend(a,t,null,{allOwnKeys:!0}),a.create=function(s){return oD(Ei(e,s))},a}const qt=oD(lm);qt.Axios=fi;qt.CanceledError=Jo;qt.CancelToken=tU;qt.isCancel=eD;qt.VERSION=sD;qt.toFormData=o0;qt.AxiosError=Ye;qt.Cancel=qt.CanceledError;qt.all=function(t){return Promise.all(t)};qt.spread=aU;qt.isAxiosError=rU;qt.mergeConfig=Ei;qt.AxiosHeaders=nr;qt.formToJSON=e=>J3(se.isHTMLForm(e)?new FormData(e):e);qt.getAdapter=lD.getAdapter;qt.HttpStatusCode=Ob;qt.default=qt;const{Axios:tue,AxiosError:aue,CanceledError:rue,isCancel:nue,CancelToken:lue,VERSION:sue,all:iue,Cancel:oue,isAxiosError:cue,spread:uue,toFormData:mue,AxiosHeaders:due,HttpStatusCode:fue,formToJSON:gue,getAdapter:pue,mergeConfig:hue}=qt,Ra={ACCESS_TOKEN:"accessToken",REFRESH_TOKEN:"refreshToken",ADMIN_DATA:"adminData",REMEMBER_ME:"rememberMe"},Su=()=>localStorage.getItem(Ra.REMEMBER_ME)==="true"?localStorage:sessionStorage,rn={getAccessToken:()=>{const e=Su().getItem(Ra.ACCESS_TOKEN);return console.log("[Storage] Getting access token:",e?"exists":"null"),e},getRefreshToken:()=>{const e=Su().getItem(Ra.REFRESH_TOKEN);return console.log("[Storage] Getting refresh token:",e?"exists":"null"),e},setTokens:({accessToken:e,refreshToken:t},a=!1)=>{console.log("[Storage] Setting tokens, rememberMe:",a),localStorage.setItem(Ra.REMEMBER_ME,String(a));const r=a?localStorage:sessionStorage;e&&r.setItem(Ra.ACCESS_TOKEN,e),t&&r.setItem(Ra.REFRESH_TOKEN,t)},setAccessToken:e=>{console.log("[Storage] Updating access token"),Su().setItem(Ra.ACCESS_TOKEN,e)},clearTokens:()=>{console.log("[Storage] Clearing all tokens"),localStorage.removeItem(Ra.ACCESS_TOKEN),localStorage.removeItem(Ra.REFRESH_TOKEN),localStorage.removeItem(Ra.REMEMBER_ME),sessionStorage.removeItem(Ra.ACCESS_TOKEN),sessionStorage.removeItem(Ra.REFRESH_TOKEN)},hasTokens:()=>!!rn.getAccessToken()&&!!rn.getRefreshToken()},ys={getAdmin:()=>{try{const e=Su().getItem(Ra.ADMIN_DATA),t=e?JSON.parse(e):null;return console.log("[Storage] Getting admin data:",t?t.email:"null"),t}catch(e){return console.error("[Storage] Error parsing admin data:",e),null}},setAdmin:e=>{console.log("[Storage] Setting admin data:",e?.email),Su().setItem(Ra.ADMIN_DATA,JSON.stringify(e))},clearAdmin:()=>{console.log("[Storage] Clearing admin data"),localStorage.removeItem(Ra.ADMIN_DATA),sessionStorage.removeItem(Ra.ADMIN_DATA)}},kb=()=>{console.log("[Storage] Clearing all auth data"),rn.clearTokens(),ys.clearAdmin()},pE="http://localhost:5000/api";console.log("[API] Initializing with base URL:",pE);const fl=qt.create({baseURL:pE,timeout:3e4,headers:{"Content-Type":"application/json"}});let Wd=!1,zf=[];const lA=(e,t=null)=>{console.log("[API] Processing queued requests:",zf.length),zf.forEach(a=>{e?a.reject(e):a.resolve(t)}),zf=[]},Zf=e=>{if(!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(Zf);const t=["password","currentPassword","newPassword","refreshToken","accessToken"],a={...e};return Object.keys(a).forEach(r=>{t.includes(r)?a[r]="***MASKED***":typeof a[r]=="object"&&a[r]!==null&&(a[r]=Zf(a[r]))}),a};fl.interceptors.request.use(e=>{const t=rn.getAccessToken();return t&&(e.headers.Authorization=`Bearer ${t}`),console.log(`[API] Request: ${e.method?.toUpperCase()} ${e.url}`,{hasAuth:!!t,body:e.data?Zf(e.data):null,params:e.params||null}),e},e=>(console.error("[API] Request error:",e.message),Promise.reject(e)));fl.interceptors.response.use(e=>(console.log(`[API] Response: ${e.status} ${e.config.url}`,{message:e.data?.message,data:e.data?.data?Zf(e.data.data):null}),e),async e=>{const t=e.config;if(console.error("[API] Response error:",{status:e.response?.status,url:t?.url,message:e.response?.data?.message||e.message}),e.response?.status===401&&!t._retry&&!t.url?.includes("/auth/refresh-token")&&!t.url?.includes("/auth/login")){if(console.log("[API] Token expired, attempting refresh..."),Wd)return console.log("[API] Refresh in progress, queueing request"),new Promise((r,s)=>{zf.push({resolve:r,reject:s})}).then(r=>(t.headers.Authorization=`Bearer ${r}`,fl(t))).catch(r=>Promise.reject(r));t._retry=!0,Wd=!0;const a=rn.getRefreshToken();if(!a)return console.log("[API] No refresh token available, clearing auth"),Wd=!1,kb(),window.location.href="/login",Promise.reject(e);try{console.log("[API] Refreshing access token...");const r=await qt.post(`${pE}/web/auth/refresh-token`,{refreshToken:a}),{accessToken:s}=r.data.data;return console.log("[API] Token refresh successful"),rn.setAccessToken(s),lA(null,s),t.headers.Authorization=`Bearer ${s}`,fl(t)}catch(r){return console.error("[API] Token refresh failed:",r.response?.data?.message),lA(r,null),kb(),window.location.href="/login",Promise.reject(r)}finally{Wd=!1}}return Promise.reject(e)});const Ee=async e=>{try{const t=await e;return{success:!0,data:t.data.data,message:t.data.message,error:null,status:t.data.status||t.status}}catch(t){const a={success:!1,data:null,message:t.response?.data?.message||"An unexpected error occurred",error:t.response?.data?.error||t.message,status:t.response?.status||500};return console.error("[API] Handled error:",a),a}},be={get:(e,t={})=>fl.get(e,t),post:(e,t={},a={})=>fl.post(e,t,a),put:(e,t={},a={})=>fl.put(e,t,a),delete:(e,t={})=>fl.delete(e,t),patch:(e,t={},a={})=>fl.patch(e,t,a)},ei={LOGIN:"/web/auth/login",REGISTER:"/web/auth/register",LOGOUT:"/web/auth/logout",REFRESH_TOKEN:"/web/auth/refresh-token",PROFILE:"/web/auth/profile",CHANGE_PASSWORD:"/web/auth/change-password"},cs={login:async(e,t=!1)=>{console.log("[Auth] Attempting login for:",e.username);const a=await Ee(be.post(ei.LOGIN,{username:e.username,password:e.password}));if(a.success&&a.data){const{admin:r,tokens:s}=a.data;rn.setTokens({accessToken:s.accessToken,refreshToken:s.refreshToken},t),ys.setAdmin(r),console.log("[Auth] Login successful for:",r.username),console.log("[Auth] Admin role:",r.role)}else console.error("[Auth] Login failed:",a.message);return a},register:async(e,t=!1)=>{console.log("[Auth] Attempting registration for:",e.username);const a=await Ee(be.post(ei.REGISTER,e));if(a.success&&a.data){const{admin:r,tokens:s}=a.data;rn.setTokens({accessToken:s.accessToken,refreshToken:s.refreshToken},t),ys.setAdmin(r),console.log("[Auth] Registration successful for:",r.username)}else console.error("[Auth] Registration failed:",a.message);return a},logout:async()=>{console.log("[Auth] Attempting logout");try{await Ee(be.post(ei.LOGOUT)),console.log("[Auth] Server logout successful")}catch(e){console.warn("[Auth] Server logout failed, clearing local data anyway:",e.message)}return kb(),console.log("[Auth] Local auth data cleared"),{success:!0,message:"Logged out successfully"}},getProfile:async()=>{console.log("[Auth] Fetching profile");const e=await Ee(be.get(ei.PROFILE));return e.success&&e.data&&(ys.setAdmin(e.data.admin),console.log("[Auth] Profile fetched for:",e.data.admin.username)),e},updateProfile:async e=>{console.log("[Auth] Updating profile");const t=await Ee(be.put(ei.PROFILE,e));return t.success&&t.data&&(ys.setAdmin(t.data.admin),console.log("[Auth] Profile updated successfully")),t},changePassword:async e=>{console.log("[Auth] Changing password");const t=await Ee(be.put(ei.CHANGE_PASSWORD,e));return t.success?console.log("[Auth] Password changed successfully"):console.error("[Auth] Password change failed:",t.message),t},refreshToken:async()=>{const e=rn.getRefreshToken();if(!e)return console.log("[Auth] No refresh token available"),{success:!1,accessToken:null,error:"No refresh token"};console.log("[Auth] Refreshing access token");const t=await Ee(be.post(ei.REFRESH_TOKEN,{refreshToken:e}));return t.success&&t.data?(rn.setAccessToken(t.data.accessToken),console.log("[Auth] Token refreshed successfully"),{success:!0,accessToken:t.data.accessToken,error:null}):(console.error("[Auth] Token refresh failed:",t.message),{success:!1,accessToken:null,error:t.message})},isAuthenticated:()=>{const e=rn.hasTokens();return console.log("[Auth] Checking authentication:",e),e},getStoredAdmin:()=>ys.getAdmin(),hasRole:e=>{const t=ys.getAdmin();return t?(Array.isArray(e)?e:[e]).includes(t.role):!1},hasAccess:e=>{const t=ys.getAdmin();return t&&t.access?.includes(e)||!1}},cD=y.createContext(null),nU=({children:e})=>{const[t,a]=y.useState(null),[r,s]=y.useState(!1),[o,c]=y.useState(!0),[d,m]=y.useState(null);y.useEffect(()=>{(async()=>{console.log("[AuthContext] Initializing auth state...");try{if(cs.isAuthenticated()){console.log("[AuthContext] Found stored tokens, fetching profile...");const M=await cs.getProfile();M.success?(a(M.data.admin),s(!0),console.log("[AuthContext] Auth initialized successfully")):(console.log("[AuthContext] Profile fetch failed, token may be expired"),s(!1),a(null))}else console.log("[AuthContext] No stored tokens found"),s(!1),a(null)}catch(M){console.error("[AuthContext] Error initializing auth:",M),s(!1),a(null)}finally{c(!1)}})()},[]);const p=y.useCallback(async(A,M=!1)=>{console.log("[AuthContext] Login attempt"),m(null),c(!0);try{const O=await cs.login(A,M);return O.success?(a(O.data.admin),s(!0),console.log("[AuthContext] Login successful"),{success:!0,data:O.data}):(m(O.message),console.error("[AuthContext] Login failed:",O.message),{success:!1,error:O.message})}catch(O){const D="An unexpected error occurred during login";return m(D),console.error("[AuthContext] Login error:",O),{success:!1,error:D}}finally{c(!1)}},[]),f=y.useCallback(async(A,M=!1)=>{console.log("[AuthContext] Register attempt"),m(null),c(!0);try{const O=await cs.register(A,M);return O.success?(a(O.data.admin),s(!0),console.log("[AuthContext] Registration successful"),{success:!0,data:O.data}):(m(O.message),console.error("[AuthContext] Registration failed:",O.message),{success:!1,error:O.message})}catch(O){const D="An unexpected error occurred during registration";return m(D),console.error("[AuthContext] Registration error:",O),{success:!1,error:D}}finally{c(!1)}},[]),h=y.useCallback(async()=>{console.log("[AuthContext] Logout attempt"),c(!0);try{return await cs.logout(),a(null),s(!1),m(null),console.log("[AuthContext] Logout successful"),{success:!0}}catch(A){return console.error("[AuthContext] Logout error:",A),a(null),s(!1),{success:!0}}finally{c(!1)}},[]),b=y.useCallback(async()=>{console.log("[AuthContext] Refreshing profile");try{const A=await cs.getProfile();return A.success?(a(A.data.admin),console.log("[AuthContext] Profile refreshed"),{success:!0,data:A.data.admin}):(console.error("[AuthContext] Profile refresh failed:",A.message),{success:!1,error:A.message})}catch(A){return console.error("[AuthContext] Profile refresh error:",A),{success:!1,error:"Failed to refresh profile"}}},[]),E=y.useCallback(async A=>{console.log("[AuthContext] Updating profile"),m(null);try{const M=await cs.updateProfile(A);return M.success?(a(M.data.admin),console.log("[AuthContext] Profile updated"),{success:!0,data:M.data.admin}):(m(M.message),{success:!1,error:M.message})}catch{const O="Failed to update profile";return m(O),{success:!1,error:O}}},[]),N=y.useCallback(async A=>{console.log("[AuthContext] Changing password"),m(null);try{const M=await cs.changePassword(A);return M.success?(console.log("[AuthContext] Password changed"),{success:!0}):(m(M.message),{success:!1,error:M.message})}catch{const O="Failed to change password";return m(O),{success:!1,error:O}}},[]),S=y.useCallback(()=>{m(null)},[]),w=y.useCallback(A=>t?(Array.isArray(A)?A:[A]).includes(t.role):!1,[t]),C=y.useCallback(A=>t&&t.access?.includes(A)||!1,[t]),k={admin:t,isAuthenticated:r,isLoading:o,error:d,login:p,register:f,logout:h,refreshProfile:b,updateProfile:E,changePassword:N,clearError:S,hasRole:w,hasAccess:C};return n.createElement(cD.Provider,{value:k},e)},Fn=()=>{const e=y.useContext(cD);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},uD=()=>n.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-100"},n.createElement("div",{className:"flex flex-col items-center gap-4"},n.createElement("div",{className:"w-12 h-12 border-4 border-gray-800 border-t-transparent rounded-full animate-spin"}),n.createElement("p",{className:"text-gray-600"},"Loading..."))),sA=()=>n.createElement("div",{className:"min-h-screen flex items-center justify-center bg-gray-100"},n.createElement("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center max-w-md"},n.createElement("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4"},n.createElement("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))),n.createElement("h2",{className:"text-xl font-semibold text-gray-900 mb-2"},"Access Denied"),n.createElement("p",{className:"text-gray-600 mb-6"},"You don't have permission to access this page."),n.createElement("a",{href:"/dashboard",className:"inline-block px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Go to Dashboard"))),lU=({children:e,allowedRoles:t=[],requiredAccess:a=[],redirectTo:r="/login"})=>{const{isAuthenticated:s,isLoading:o,admin:c,hasRole:d,hasAccess:m}=Fn(),p=Gr();return console.log("[ProtectedRoute] Checking access:",{isAuthenticated:s,isLoading:o,path:p.pathname,adminRole:c?.role}),o?(console.log("[ProtectedRoute] Loading auth state..."),n.createElement(uD,null)):s?t.length>0&&!d(t)?(console.log("[ProtectedRoute] Access denied - role mismatch:",{required:t,actual:c?.role}),n.createElement(sA,null)):a.length>0&&!a.every(h=>m(h))?(console.log("[ProtectedRoute] Access denied - missing permissions:",{required:a,actual:c?.access}),n.createElement(sA,null)):(console.log("[ProtectedRoute] Access granted"),e):(console.log("[ProtectedRoute] Not authenticated, redirecting to:",r),n.createElement(Xf,{to:r,state:{from:p},replace:!0}))},sU=({children:e,redirectTo:t="/dashboard"})=>{const{isAuthenticated:a,isLoading:r}=Fn(),s=Gr();if(console.log("[PublicRoute] Checking:",{isAuthenticated:a,isLoading:r}),r)return n.createElement(uD,null);if(a){const o=s.state?.from?.pathname||t;return console.log("[PublicRoute] Already authenticated, redirecting to:",o),n.createElement(Xf,{to:o,replace:!0})}return e};const iU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),iA=e=>{const t=oU(e);return t.charAt(0).toUpperCase()+t.slice(1)},mD=(...e)=>e.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),cU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var uU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const mU=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:c,...d},m)=>y.createElement("svg",{ref:m,...uU,width:t,height:t,stroke:e,strokeWidth:r?Number(a)*24/Number(t):a,className:mD("lucide",s),...!o&&!cU(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,f])=>y.createElement(p,f)),...Array.isArray(o)?o:[o]]));const Ce=(e,t)=>{const a=y.forwardRef(({className:r,...s},o)=>y.createElement(mU,{ref:o,iconNode:t,className:mD(`lucide-${iU(iA(e))}`,`lucide-${e}`,r),...s}));return a.displayName=iA(e),a};const dU=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],oA=Ce("award",dU);const fU=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],gU=Ce("banknote",fU);const pU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jf=Ce("bell",pU);const hU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],yU=Ce("calendar-check",hU);const vU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],Zd=Ce("calendar-x",vU);const bU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rt=Ce("calendar",bU);const xU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Dn=Ce("chart-column",xU);const EU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cn=Ce("check",EU);const NU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ln=Ce("chevron-down",NU);const wU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dD=Ce("chevron-right",wU);const SU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fD=Ce("chevron-left",SU);const CU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AU=Ce("chevron-up",CU);const TU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Mt=Ce("circle-alert",TU);const OU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ml=Ce("circle-check-big",OU);const kU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],gD=Ce("circle-check",kU);const DU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Uf=Ce("circle-question-mark",DU);const _U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ti=Ce("circle-x",_U);const PU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],If=Ce("clipboard-list",PU);const MU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oa=Ce("clock",MU);const RU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],eg=Ce("copy",RU);const LU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jU=Ce("credit-card",LU);const zU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],UU=Ce("dollar-sign",zU);const IU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hE=Ce("external-link",IU);const FU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pD=Ce("eye-off",FU);const $U=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vt=Ce("eye",$U);const BU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]],VU=Ce("file-play",BU);const qU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],hD=Ce("file-text",qU);const HU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jn=Ce("funnel",HU);const GU=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],KU=Ce("gift",GU);const YU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Db=Ce("globe",YU);const QU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],u0=Ce("grip-vertical",QU);const XU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],yE=Ce("hash",XU);const WU=[["path",{d:"M15 15.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997a1 1 0 0 1-1.517-.86z",key:"nrt1m3"}],["path",{d:"M21 12.17V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"99hgts"}],["path",{d:"m6 21 5-5",key:"1wyjai"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ZU=Ce("image-play",WU);const JU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ni=Ce("image",JU);const eI=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],tI=Ce("indian-rupee",eI);const aI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rI=Ce("layout-dashboard",aI);const nI=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yD=Ce("layout-grid",nI);const lI=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],sI=Ce("link",lI);const iI=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}]],tg=Ce("list-checks",iI);const oI=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],vE=Ce("list",oI);const cI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Fe=Ce("loader-circle",cI);const uI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mI=Ce("lock",uI);const dI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],fI=Ce("log-out",dI);const gI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pI=Ce("mail",gI);const hI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bE=Ce("map-pin",hI);const yI=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],_b=Ce("message-circle",yI);const vI=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vD=Ce("pen",vI);const bI=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],xI=Ce("percent",bI);const EI=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ag=Ce("phone",EI);const NI=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],bD=Ce("play",NI);const wI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qt=Ce("plus",wI);const SI=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zn=Ce("refresh-cw",SI);const CI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],rg=Ce("rotate-ccw",CI);const AI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],za=Ce("search",AI);const TI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],OI=Ce("shield-check",TI);const kI=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],DI=Ce("sliders-horizontal",kI);const _I=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PI=Ce("square-check-big",_I);const MI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Fa=Ce("square-pen",MI);const RI=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Du=Ce("tag",RI);const LI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Lo=Ce("target",LI);const jI=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],zI=Ce("text-align-start",jI);const UI=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],No=Ce("ticket",UI);const II=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Un=Ce("toggle-left",II);const FI=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],El=Ce("toggle-right",FI);const $I=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],pt=Ce("trash-2",$I);const BI=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VI=Ce("trash",BI);const qI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xD=Ce("trending-up",qI);const HI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],m0=Ce("triangle-alert",HI);const GI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Do=Ce("trophy",GI);const KI=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],YI=Ce("upload",KI);const QI=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XI=Ce("user-cog",QI);const WI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ns=Ce("user",WI);const ZI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sm=Ce("users",ZI);const JI=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],vl=Ce("video",JI);const eF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Na=Ce("x",eF);const tF=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ED=Ce("zap",tF),ND="/assets/Motivata-Dba061jL.png",aF="/assets/logo2-NMKQARNi.png";function rF({activeMenu:e,collapsed:t,isOpen:a,onClose:r}){const s=r0(),{logout:o,admin:c}=Fn(),d=()=>{o(),s("/login")},m=[{id:"dashboard",label:"Dashboard",icon:rI,path:"/dashboard",color:"blue"},{id:"events",label:"Events",icon:Rt,path:"/events",color:"purple"},{id:"users",label:"Users",icon:XI,path:"/users",color:"green"},{id:"admins",label:"Admins",icon:OI,path:"/admins",color:"orange"},{id:"cashtickets",label:"Cash Tickets",icon:gU,path:"/cash-tickets",color:"cyan"},{id:"vouchers",label:"Vouchers",icon:KU,path:"/vouchers",color:"pink"},{id:"sessions",label:"Sessions",icon:vl,path:"/sessions",color:"indigo"},{id:"quizes",label:"Quizes",icon:If,path:"/quizes",color:"amber"},{id:"challenges",label:"Challenges",icon:Do,path:"/challenges",color:"emerald"},{id:"polls",label:"Polls",icon:Dn,path:"/polls",color:"rose"},{id:"stories",label:"Stories",icon:ZU,path:"/stories",color:"sky"}],p=c?.name||c?.username||"Admin",f=c?.email||"admin@motivata.com",h=c?.role||"Administrator",b=E=>E.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2);return n.createElement("aside",{className:`
        ${t?"lg:w-20":"lg:w-72"}
        fixed lg:static inset-y-0 left-0 z-50
        w-72
        ${a?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        bg-gradient-to-b from-white to-gray-50/50
        border-r border-gray-200
        shadow-2xl lg:shadow-none
        flex flex-col
        transition-all duration-300 ease-in-out
        h-screen
        overflow-hidden
      `},n.createElement("div",{className:"p-5 lg:p-6 border-b border-gray-200/80 shrink-0 bg-white/80 backdrop-blur-sm"},n.createElement("div",{className:"flex items-start justify-between"},n.createElement("div",{className:`flex flex-col ${t?"items-center":"items-start"} min-w-0 flex-1`},n.createElement("img",{src:t?aF:ND,alt:"Motivata",className:`${t?"h-12 w-12":"h-16"} object-contain`}),!t&&n.createElement("p",{className:"text-xs text-gray-500 font-medium -mt-1 ml-4"},"Admin Panel")),n.createElement("button",{onClick:r,className:"lg:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-all active:scale-95","aria-label":"Close sidebar"},n.createElement(Na,{className:"h-5 w-5"})))),n.createElement("nav",{className:"flex-1 p-3 lg:p-4 overflow-y-auto overflow-x-hidden custom-scrollbar"},n.createElement("ul",{className:"space-y-1"},m.map(E=>{const N=e===E.id;return n.createElement("li",{key:E.id},n.createElement(cE,{to:E.path,className:`
                    w-full flex items-center gap-3 px-3 py-3 rounded-xl
                    transition-all duration-200 group relative
                    ${N?"bg-gradient-to-r from-gray-800 to-gray-900 text-white shadow-lg shadow-gray-500/30":"text-gray-700 hover:bg-gray-100/80 hover:translate-x-1"}
                    ${t?"lg:justify-center lg:px-2":""}
                  `,title:t?E.label:""},n.createElement(E.icon,{className:`
                      h-5 w-5 shrink-0 transition-transform duration-200
                      ${N?"scale-110":"group-hover:scale-110"}
                    `}),!t&&n.createElement("span",{className:"font-semibold text-sm truncate"},E.label)))}))),n.createElement("div",{className:"border-t border-gray-200/80 shrink-0 bg-white/50 backdrop-blur-sm"},n.createElement("div",{className:`p-4 ${t?"lg:p-2":""}`},n.createElement("div",{className:`
              flex items-center gap-3 p-3 rounded-xl
              bg-gradient-to-br from-gray-50 to-gray-100/50
              border border-gray-200/50
              transition-all duration-200 hover:shadow-md
              ${t?"lg:justify-center lg:p-2":""}
            `,title:t?`${p} - ${h}`:""},n.createElement("div",{className:"relative shrink-0"},n.createElement("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-gray-800 via-purple-600 to-pink-600 flex items-center justify-center text-white font-bold text-sm shadow-md ring-2 ring-white"},b(p)),n.createElement("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white shadow-sm"})),!t&&n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"text-sm font-bold text-gray-900 truncate"},p),n.createElement("p",{className:"text-xs text-gray-600 truncate"},f),n.createElement("div",{className:"flex items-center gap-1 mt-1"},n.createElement("span",{className:"inline-flex items-center px-2 py-0.5 rounded-md text-[10px] font-semibold bg-blue-100 text-gray-900 border border-blue-200"},h))))),n.createElement("div",{className:"p-4 pt-0"},n.createElement("button",{onClick:d,className:`
              w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl
              bg-gradient-to-r from-red-50 to-red-100/50
              text-red-600 font-semibold text-sm
              border border-red-200
              hover:from-red-100 hover:to-red-200/50
              hover:border-red-300 hover:shadow-md
              active:scale-[0.98]
              transition-all duration-200
              group
              ${t?"lg:px-2":""}
            `,title:"Logout"},n.createElement(fI,{className:"h-4 w-4 shrink-0 group-hover:scale-110 transition-transform"}),!t&&n.createElement("span",null,"Logout")))))}function nF({toggleSidebar:e}){const[t,a]=y.useState(!1),[r,s]=y.useState("");return n.createElement("header",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 px-4 lg:px-6 py-3 lg:py-4 flex items-center justify-between flex-shrink-0 sticky top-0 z-30 shadow-sm"},n.createElement("div",{className:"flex items-center gap-3 lg:gap-4 flex-1"},n.createElement("button",{onClick:e,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-105 active:scale-95 group","aria-label":"Toggle Sidebar"},n.createElement("div",{className:"relative h-6 w-6"},n.createElement("span",{className:"absolute left-0 top-1 w-6 h-0.5 bg-gray-600 rounded transition-all group-hover:w-5"}),n.createElement("span",{className:"absolute left-0 top-3 w-6 h-0.5 bg-gray-600 rounded"}),n.createElement("span",{className:"absolute left-0 top-5 w-6 h-0.5 bg-gray-600 rounded transition-all group-hover:w-4"}))),n.createElement("div",{className:"hidden lg:block"},n.createElement("h1",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Welcome back"),n.createElement("p",{className:"text-xs text-gray-500"},new Date().toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"relative hidden md:block"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"}),n.createElement("input",{type:"text",placeholder:"Search anything...",value:r,onChange:o=>s(o.target.value),className:"pl-10 pr-4 py-2 w-64 lg:w-80 bg-gray-50 border border-gray-200 rounded-lg focus:border-gray-800 outline-none text-sm transition-all placeholder:text-gray-400"}),r&&n.createElement("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-0.5 hover:bg-gray-200 rounded"},n.createElement(Na,{className:"h-3.5 w-3.5 text-gray-400"}))),n.createElement("button",{onClick:()=>a(!t),className:"md:hidden p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all active:scale-95","aria-label":"Search"},n.createElement(za,{className:"h-5 w-5"})),n.createElement("button",{className:"relative p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all hover:scale-105 active:scale-95 group","aria-label":"Notifications",title:"Notifications"},n.createElement(Jf,{className:"h-5 w-5 group-hover:animate-pulse"}),n.createElement("span",{className:"absolute top-1.5 right-1.5 h-2 w-2 bg-red-500 rounded-full ring-2 ring-white"}),n.createElement("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center ring-2 ring-white"},"3"))),t&&n.createElement("div",{className:"md:hidden fixed inset-x-0 top-[57px] bg-white border-b border-gray-200 p-4 shadow-lg z-40 animate-in slide-in-from-top"},n.createElement("div",{className:"relative"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{type:"text",placeholder:"Search anything...",autoFocus:!0,value:r,onChange:o=>s(o.target.value),className:"w-full pl-10 pr-10 py-2.5 bg-gray-50 border border-gray-200 rounded-lg focus:border-gray-800 outline-none text-sm"}),n.createElement("button",{onClick:()=>{a(!1),s("")},className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-gray-200 rounded"},n.createElement(Na,{className:"h-4 w-4 text-gray-400"})))))}function lF(){const[e,t]=y.useState(!1),[a,r]=y.useState(!1),s=Gr(),o=()=>{window.innerWidth<1024?r(!a):t(!e)},c=()=>r(!1);y.useEffect(()=>{r(!1)},[s.pathname]),y.useEffect(()=>{const p=()=>{window.innerWidth>=1024&&r(!1)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const d={"/dashboard":"dashboard","/events":"events","/enrollments":"enrollments","/coupons":"coupons","/users":"users","/admins":"admins","/payments":"payments","/cash-tickets":"cashtickets","/vouchers":"vouchers","/sessions":"sessions","/quizes":"quizes","/challenges":"challenges","/polls":"polls"},m=()=>d[s.pathname]||"dashboard";return n.createElement("div",{className:"h-screen bg-gradient-to-br from-gray-50 via-gray-50 to-blue-50/30 flex overflow-hidden"},a&&n.createElement("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden transition-opacity",onClick:c}),n.createElement(rF,{activeMenu:m(),collapsed:e,isOpen:a,onClose:c}),n.createElement("div",{className:"flex-1 flex flex-col overflow-hidden"},n.createElement(nF,{toggleSidebar:o}),n.createElement("main",{className:"flex-1 overflow-auto custom-scrollbar"},n.createElement("div",{className:"p-4 sm:p-6 lg:p-8 max-w-[1920px] mx-auto"},n.createElement(Yj,null)))))}function sF(){const[e,t]=y.useState(""),[a,r]=y.useState(""),[s,o]=y.useState(!1),[c,d]=y.useState(!1),[m,p]=y.useState(!1),[f,h]=y.useState(""),b=r0(),E=Gr(),{login:N}=Fn(),S=E.state?.from?.pathname||"/dashboard",w=async C=>{if(C.preventDefault(),h(""),!e.trim()){h("Username is required");return}if(!a.trim()){h("Password is required");return}console.log("[Login] Attempting login for:",e),p(!0);try{const k=await N({username:e,password:a},c);k.success?(console.log("[Login] Login successful, redirecting to:",S),b(S,{replace:!0})):(console.error("[Login] Login failed:",k.error),k.error?.includes("deactivated")?h("Your account has been deactivated. Please contact an administrator."):k.error?.includes("Invalid")?h("Invalid username or password. Please try again."):h(k.error||"Login failed. Please try again."))}catch(k){console.error("[Login] Unexpected error:",k),h("An unexpected error occurred. Please try again.")}finally{p(!1)}};return n.createElement("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4"},n.createElement("div",{className:"w-full max-w-md"},n.createElement("div",{className:"text-center mb-8"},n.createElement("img",{src:ND,alt:"Motivata",className:"h-16 mx-auto mb-4"}),n.createElement("p",{className:"text-gray-600"},"Sign in to your account")),n.createElement("div",{className:"bg-white rounded-xl shadow-lg p-8"},f&&n.createElement("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("p",{className:"text-sm text-red-700"},f)),n.createElement("form",{onSubmit:w,className:"space-y-6"},n.createElement("div",null,n.createElement("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2"},"Username"),n.createElement("div",{className:"relative"},n.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},n.createElement(Ns,{className:"h-5 w-5 text-gray-400"})),n.createElement("input",{id:"username",type:"text",value:e,onChange:C=>t(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:border-gray-800 outline-none transition-all disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Enter your username",disabled:m,autoComplete:"username"}))),n.createElement("div",null,n.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2"},"Password"),n.createElement("div",{className:"relative"},n.createElement("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},n.createElement(mI,{className:"h-5 w-5 text-gray-400"})),n.createElement("input",{id:"password",type:s?"text":"password",value:a,onChange:C=>r(C.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:border-gray-800 outline-none transition-all disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Enter your password",disabled:m,autoComplete:"current-password"}),n.createElement("button",{type:"button",onClick:()=>o(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center disabled:cursor-not-allowed",disabled:m,tabIndex:-1},s?n.createElement(pD,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):n.createElement(Vt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})))),n.createElement("div",{className:"flex items-center justify-between"},n.createElement("label",{className:"flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:c,onChange:C=>d(C.target.checked),className:"h-4 w-4 text-gray-800 border-gray-300 rounded focus:ring-gray-700 cursor-pointer",disabled:m}),n.createElement("span",{className:"ml-2 text-sm text-gray-600"},"Remember me")),n.createElement("a",{href:"#",className:"text-sm text-gray-800 hover:text-black font-medium"},"Forgot password?")),n.createElement("button",{type:"submit",disabled:m,className:"w-full bg-gray-800 text-white py-3 px-4 rounded-lg font-medium hover:bg-gray-900 focus:ring-4 focus:ring-gray-300 transition-all disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center gap-2"},m?n.createElement(n.Fragment,null,n.createElement(Fe,{className:"h-5 w-5 animate-spin"}),"Signing in..."):"Log In")))))}var wD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cA=n.createContext&&n.createContext(wD),iF=["attr","size","title"];function oF(e,t){if(e==null)return{};var a=cF(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cF(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ng.apply(this,arguments)}function uA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function lg(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(a),!0).forEach(function(r){uF(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):uA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function uF(e,t,a){return t=mF(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mF(e){var t=dF(e,"string");return typeof t=="symbol"?t:t+""}function dF(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SD(e){return e&&e.map((t,a)=>n.createElement(t.tag,lg({key:a},t.attr),SD(t.child)))}function ut(e){return t=>n.createElement(fF,ng({attr:lg({},e.attr)},t),SD(e.child))}function fF(e){var t=a=>{var{attr:r,size:s,title:o}=e,c=oF(e,iF),d=s||a.size||"1em",m;return a.className&&(m=a.className),e.className&&(m=(m?m+" ":"")+e.className),n.createElement("svg",ng({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,c,{className:m,style:lg(lg({color:e.color||a.color},a.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return cA!==void 0?n.createElement(cA.Consumer,null,a=>t(a)):t(wD)}function gF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 11c.34 0 .67.04 1 .09V6.27L10.5 3 3 6.27v4.91c0 4.54 3.2 8.79 7.5 9.82.55-.13 1.08-.32 1.6-.55-.69-.98-1.1-2.17-1.1-3.45 0-3.31 2.69-6 6-6z"},child:[]},{tag:"path",attr:{d:"M17 13c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 1.38c.62 0 1.12.51 1.12 1.12s-.51 1.12-1.12 1.12-1.12-.51-1.12-1.12.5-1.12 1.12-1.12zm0 5.37c-.93 0-1.74-.46-2.24-1.17.05-.72 1.51-1.08 2.24-1.08s2.19.36 2.24 1.08c-.5.71-1.31 1.17-2.24 1.17z"},child:[]}]})(e)}function pF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"},child:[]}]})(e)}function hF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"},child:[]}]})(e)}function sg(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(e)}function mA(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"},child:[]}]})(e)}function yF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M13 3a9 9 0 0 0-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42A8.954 8.954 0 0 0 13 21a9 9 0 0 0 0-18zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"},child:[]}]})(e)}function CD(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"},child:[]}]})(e)}function vF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"},child:[]}]})(e)}function bF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"},child:[]}]})(e)}function AD(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"},child:[]}]})(e)}function xF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"},child:[]}]})(e)}function EF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M8 5v14l11-7z"},child:[]}]})(e)}function NF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5a2.5 2.5 0 0 1 0-5 2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}function wF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.16 7.26-1.41-1.41-3.56 3.55 1.41 1.41s3.45-3.52 3.56-3.55zM11 3h2v5h-2zM6.4 10.81 7.81 9.4 4.26 5.84 2.84 7.26c.11.03 3.56 3.55 3.56 3.55zM20 12h-5c0 1.66-1.34 3-3 3s-3-1.34-3-3H4c-1.1 0-2 .9-2 2v5c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-5c0-1.1-.9-2-2-2z"},child:[]}]})(e)}function dA(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12.79 21 3 11.21v2c0 .53.21 1.04.59 1.41l7.79 7.79c.78.78 2.05.78 2.83 0l6.21-6.21c.78-.78.78-2.05 0-2.83L12.79 21z"},child:[]},{tag:"path",attr:{d:"M11.38 17.41c.78.78 2.05.78 2.83 0l6.21-6.21c.78-.78.78-2.05 0-2.83L12.63.58A2.04 2.04 0 0 0 11.21 0H5C3.9 0 3 .9 3 2v6.21c0 .53.21 1.04.59 1.41l7.79 7.79zM7.25 3a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5z"},child:[]}]})(e)}function SF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"},child:[]}]})(e)}function CF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58.55 0 1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.55-.23-1.06-.59-1.42zM5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7z"},child:[]}]})(e)}function AF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(e)}function TF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M22 10V6a2 2 0 0 0-2-2H4c-1.1 0-1.99.89-1.99 2v4c1.1 0 1.99.9 1.99 2s-.89 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.9-2-2s.9-2 2-2zm-9 7.5h-2v-2h2v2zm0-4.5h-2v-2h2v2zm0-4.5h-2v-2h2v2z"},child:[]}]})(e)}function OF(e){return ut({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},child:[]}]})(e)}function TD(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=TD(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function Xt(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=TD(e))&&(r&&(r+=" "),r+=t);return r}function kF(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}kF(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var xE=e=>typeof e=="number"&&!isNaN(e),_u=e=>typeof e=="string",OD=e=>typeof e=="function",DF=e=>_u(e)||xE(e),_F=e=>y.isValidElement(e)||_u(e)||OD(e)||xE(e),PF=1,kD=()=>`${PF++}`,_n=new Map,Pb=[],fA=new Set,DD=()=>_n.size>0,MF=(e,{containerId:t})=>{var a;return(a=_n.get(t||1))==null?void 0:a.toasts.get(e)};function RF(e,t){var a;if(t)return!!((a=_n.get(t))!=null&&a.isToastActive(e));let r=!1;return _n.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function LF(e){if(!DD()){Pb=Pb.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||DF(e))_n.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=_n.get(e.containerId);t?t.removeToast(e.id):_n.forEach(a=>{a.removeToast(e.id)})}}var jF=(e={})=>{_n.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function zF(e,t){_F(e)&&(DD()||Pb.push({content:e,options:t}),_n.forEach(a=>{a.buildToast(e,t)}))}function _D(e,t){_n.forEach(a=>{(t==null||!(t!=null&&t.containerId)||t?.containerId===a.id)&&a.toggle(e,t?.id)})}function UF(e){return fA.add(e),()=>{fA.delete(e)}}function IF(e){return e&&(_u(e.toastId)||xE(e.toastId))?e.toastId:kD()}function im(e,t){return zF(e,t),t.toastId}function d0(e,t){return{...t,type:t&&t.type||e,toastId:IF(t)}}function f0(e){return(t,a)=>im(t,d0(e,a))}function bt(e,t){return im(e,d0("default",t))}bt.loading=(e,t)=>im(e,d0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function FF(e,{pending:t,error:a,success:r},s){let o;t&&(o=_u(t)?bt.loading(t,s):bt.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(p,f,h)=>{if(f==null){bt.dismiss(o);return}let b={type:p,...c,...s,data:h},E=_u(f)?{render:f}:f;return o?bt.update(o,{...b,...E}):bt(E.render,{...b,...E}),h},m=OD(e)?e():e;return m.then(p=>d("success",r,p)).catch(p=>d("error",a,p)),m}bt.promise=FF;bt.success=f0("success");bt.info=f0("info");bt.error=f0("error");bt.warning=f0("warning");bt.warn=bt.warning;bt.dark=(e,t)=>im(e,d0("default",{theme:"dark",...t}));function $F(e){LF(e)}bt.dismiss=$F;bt.clearWaitingQueue=jF;bt.isActive=RF;bt.update=(e,t={})=>{let a=MF(e,t);if(a){let{props:r,content:s}=a,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:kD()};o.toastId!==e&&(o.staleId=e);let c=o.render||s;delete o.render,im(c,o)}};bt.done=e=>{bt.update(e,{progress:1})};bt.onChange=UF;bt.play=e=>_D(!0,e);bt.pause=e=>_D(!1,e);var wy={exports:{}},su={};var gA;function BF(){if(gA)return su;gA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,s,o){var c=null;if(o!==void 0&&(c=""+o),s.key!==void 0&&(c=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:o}}return su.Fragment=t,su.jsx=a,su.jsxs=a,su}var pA;function VF(){return pA||(pA=1,wy.exports=BF()),wy.exports}var Mb=VF();const PD=y.createContext({});function qF(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const EE=typeof window<"u",HF=EE?y.useLayoutEffect:y.useEffect,NE=y.createContext(null);function wE(e,t){e.indexOf(t)===-1&&e.push(t)}function SE(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const Nl=(e,t,a)=>a>t?t:a<e?e:a;let CE=()=>{};const wl={},MD=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function RD(e){return typeof e=="object"&&e!==null}const LD=e=>/^0[^.\s]+$/u.test(e);function AE(e){let t;return()=>(t===void 0&&(t=e()),t)}const $r=e=>e,GF=(e,t)=>a=>t(e(a)),om=(...e)=>e.reduce(GF),Pu=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r};class TE{constructor(){this.subscriptions=[]}add(t){return wE(this.subscriptions,t),()=>SE(this.subscriptions,t)}notify(t,a,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,a,r);else for(let o=0;o<s;o++){const c=this.subscriptions[o];c&&c(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pn=e=>e*1e3,Ir=e=>e/1e3;function jD(e,t){return t?e*(1e3/t):0}const zD=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,KF=1e-7,YF=12;function QF(e,t,a,r,s){let o,c,d=0;do c=t+(a-t)/2,o=zD(c,r,s)-e,o>0?a=c:t=c;while(Math.abs(o)>KF&&++d<YF);return c}function cm(e,t,a,r){if(e===t&&a===r)return $r;const s=o=>QF(o,0,1,e,a);return o=>o===0||o===1?o:zD(s(o),t,r)}const UD=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ID=e=>t=>1-e(1-t),FD=cm(.33,1.53,.69,.99),OE=ID(FD),$D=UD(OE),BD=e=>(e*=2)<1?.5*OE(e):.5*(2-Math.pow(2,-10*(e-1))),kE=e=>1-Math.sin(Math.acos(e)),VD=ID(kE),qD=UD(kE),XF=cm(.42,0,1,1),WF=cm(0,0,.58,1),HD=cm(.42,0,.58,1),ZF=e=>Array.isArray(e)&&typeof e[0]!="number",GD=e=>Array.isArray(e)&&typeof e[0]=="number",JF={linear:$r,easeIn:XF,easeInOut:HD,easeOut:WF,circIn:kE,circInOut:qD,circOut:VD,backIn:OE,backInOut:$D,backOut:FD,anticipate:BD},e$=e=>typeof e=="string",hA=e=>{if(GD(e)){CE(e.length===4);const[t,a,r,s]=e;return cm(t,a,r,s)}else if(e$(e))return JF[e];return e},Jd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function t$(e,t){let a=new Set,r=new Set,s=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(f){c.has(f)&&(p.schedule(f),e()),f(d)}const p={schedule:(f,h=!1,b=!1)=>{const N=b&&s?a:r;return h&&c.add(f),N.has(f)||N.add(f),f},cancel:f=>{r.delete(f),c.delete(f)},process:f=>{if(d=f,s){o=!0;return}s=!0,[a,r]=[r,a],a.forEach(m),a.clear(),s=!1,o&&(o=!1,p.process(f))}};return p}const a$=40;function KD(e,t){let a=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>a=!0,c=Jd.reduce((A,M)=>(A[M]=t$(o),A),{}),{setup:d,read:m,resolveKeyframes:p,preUpdate:f,update:h,preRender:b,render:E,postRender:N}=c,S=()=>{const A=wl.useManualTiming?s.timestamp:performance.now();a=!1,wl.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,a$),1)),s.timestamp=A,s.isProcessing=!0,d.process(s),m.process(s),p.process(s),f.process(s),h.process(s),b.process(s),E.process(s),N.process(s),s.isProcessing=!1,a&&t&&(r=!1,e(S))},w=()=>{a=!0,r=!0,s.isProcessing||e(S)};return{schedule:Jd.reduce((A,M)=>{const O=c[M];return A[M]=(D,_=!1,P=!1)=>(a||w(),O.schedule(D,_,P)),A},{}),cancel:A=>{for(let M=0;M<Jd.length;M++)c[Jd[M]].cancel(A)},state:s,steps:c}}const{schedule:Dt,cancel:ws,state:_a,steps:Sy}=KD(typeof requestAnimationFrame<"u"?requestAnimationFrame:$r,!0);let Ff;function r$(){Ff=void 0}const er={now:()=>(Ff===void 0&&er.set(_a.isProcessing||wl.useManualTiming?_a.timestamp:performance.now()),Ff),set:e=>{Ff=e,queueMicrotask(r$)}},YD=e=>t=>typeof t=="string"&&t.startsWith(e),DE=YD("--"),n$=YD("var(--"),_E=e=>n$(e)?l$.test(e.split("/*")[0].trim()):!1,l$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ec={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Mu={...ec,transform:e=>Nl(0,1,e)},ef={...ec,default:1},Cu=e=>Math.round(e*1e5)/1e5,PE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function s$(e){return e==null}const i$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ME=(e,t)=>a=>!!(typeof a=="string"&&i$.test(a)&&a.startsWith(e)||t&&!s$(a)&&Object.prototype.hasOwnProperty.call(a,t)),QD=(e,t,a)=>r=>{if(typeof r!="string")return r;const[s,o,c,d]=r.match(PE);return{[e]:parseFloat(s),[t]:parseFloat(o),[a]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},o$=e=>Nl(0,255,e),Cy={...ec,transform:e=>Math.round(o$(e))},ci={test:ME("rgb","red"),parse:QD("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+Cy.transform(e)+", "+Cy.transform(t)+", "+Cy.transform(a)+", "+Cu(Mu.transform(r))+")"};function c$(e){let t="",a="",r="",s="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,a+=a,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Rb={test:ME("#"),parse:c$,transform:ci.transform},um=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vs=um("deg"),Mn=um("%"),Ie=um("px"),u$=um("vh"),m$=um("vw"),yA={...Mn,parse:e=>Mn.parse(e)/100,transform:e=>Mn.transform(e*100)},wo={test:ME("hsl","hue"),parse:QD("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+Mn.transform(Cu(t))+", "+Mn.transform(Cu(a))+", "+Cu(Mu.transform(r))+")"},sa={test:e=>ci.test(e)||Rb.test(e)||wo.test(e),parse:e=>ci.test(e)?ci.parse(e):wo.test(e)?wo.parse(e):Rb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ci.transform(e):wo.transform(e),getAnimatableNone:e=>{const t=sa.parse(e);return t.alpha=0,sa.transform(t)}},d$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f$(e){return isNaN(e)&&typeof e=="string"&&(e.match(PE)?.length||0)+(e.match(d$)?.length||0)>0}const XD="number",WD="color",g$="var",p$="var(",vA="${}",h$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ru(e){const t=e.toString(),a=[],r={color:[],number:[],var:[]},s=[];let o=0;const d=t.replace(h$,m=>(sa.test(m)?(r.color.push(o),s.push(WD),a.push(sa.parse(m))):m.startsWith(p$)?(r.var.push(o),s.push(g$),a.push(m)):(r.number.push(o),s.push(XD),a.push(parseFloat(m))),++o,vA)).split(vA);return{values:a,split:d,indexes:r,types:s}}function ZD(e){return Ru(e).values}function JD(e){const{split:t,types:a}=Ru(e),r=t.length;return s=>{let o="";for(let c=0;c<r;c++)if(o+=t[c],s[c]!==void 0){const d=a[c];d===XD?o+=Cu(s[c]):d===WD?o+=sa.transform(s[c]):o+=s[c]}return o}}const y$=e=>typeof e=="number"?0:sa.test(e)?sa.getAnimatableNone(e):e;function v$(e){const t=ZD(e);return JD(e)(t.map(y$))}const Ss={test:f$,parse:ZD,createTransformer:JD,getAnimatableNone:v$};function Ay(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function b$({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let s=0,o=0,c=0;if(!t)s=o=c=a;else{const d=a<.5?a*(1+t):a+t-a*t,m=2*a-d;s=Ay(m,d,e+1/3),o=Ay(m,d,e),c=Ay(m,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:r}}function ig(e,t){return a=>a>0?t:e}const jt=(e,t,a)=>e+(t-e)*a,Ty=(e,t,a)=>{const r=e*e,s=a*(t*t-r)+r;return s<0?0:Math.sqrt(s)},x$=[Rb,ci,wo],E$=e=>x$.find(t=>t.test(e));function bA(e){const t=E$(e);if(!t)return!1;let a=t.parse(e);return t===wo&&(a=b$(a)),a}const xA=(e,t)=>{const a=bA(e),r=bA(t);if(!a||!r)return ig(e,t);const s={...a};return o=>(s.red=Ty(a.red,r.red,o),s.green=Ty(a.green,r.green,o),s.blue=Ty(a.blue,r.blue,o),s.alpha=jt(a.alpha,r.alpha,o),ci.transform(s))},Lb=new Set(["none","hidden"]);function N$(e,t){return Lb.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function w$(e,t){return a=>jt(e,t,a)}function RE(e){return typeof e=="number"?w$:typeof e=="string"?_E(e)?ig:sa.test(e)?xA:A$:Array.isArray(e)?e_:typeof e=="object"?sa.test(e)?xA:S$:ig}function e_(e,t){const a=[...e],r=a.length,s=e.map((o,c)=>RE(o)(o,t[c]));return o=>{for(let c=0;c<r;c++)a[c]=s[c](o);return a}}function S$(e,t){const a={...e,...t},r={};for(const s in a)e[s]!==void 0&&t[s]!==void 0&&(r[s]=RE(e[s])(e[s],t[s]));return s=>{for(const o in r)a[o]=r[o](s);return a}}function C$(e,t){const a=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],c=e.indexes[o][r[o]],d=e.values[c]??0;a[s]=d,r[o]++}return a}const A$=(e,t)=>{const a=Ss.createTransformer(t),r=Ru(e),s=Ru(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Lb.has(e)&&!s.values.length||Lb.has(t)&&!r.values.length?N$(e,t):om(e_(C$(r,s),s.values),a):ig(e,t)};function t_(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?jt(e,t,a):RE(e)(e,t)}const T$=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>Dt.update(t,a),stop:()=>ws(t),now:()=>_a.isProcessing?_a.timestamp:er.now()}},a_=(e,t,a=10)=>{let r="";const s=Math.max(Math.round(t/a),2);for(let o=0;o<s;o++)r+=Math.round(e(o/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},og=2e4;function LE(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<og;)t+=a,r=e.next(t);return t>=og?1/0:t}function O$(e,t=100,a){const r=a({...e,keyframes:[0,t]}),s=Math.min(LE(r),og);return{type:"keyframes",ease:o=>r.next(s*o).value/t,duration:Ir(s)}}const k$=5;function r_(e,t,a){const r=Math.max(t-k$,0);return jD(a-e(r),t-r)}const $t={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oy=.001;function D$({duration:e=$t.duration,bounce:t=$t.bounce,velocity:a=$t.velocity,mass:r=$t.mass}){let s,o,c=1-t;c=Nl($t.minDamping,$t.maxDamping,c),e=Nl($t.minDuration,$t.maxDuration,Ir(e)),c<1?(s=p=>{const f=p*c,h=f*e,b=f-a,E=jb(p,c),N=Math.exp(-h);return Oy-b/E*N},o=p=>{const h=p*c*e,b=h*a+a,E=Math.pow(c,2)*Math.pow(p,2)*e,N=Math.exp(-h),S=jb(Math.pow(p,2),c);return(-s(p)+Oy>0?-1:1)*((b-E)*N)/S}):(s=p=>{const f=Math.exp(-p*e),h=(p-a)*e+1;return-Oy+f*h},o=p=>{const f=Math.exp(-p*e),h=(a-p)*(e*e);return f*h});const d=5/e,m=P$(s,o,d);if(e=Pn(e),isNaN(m))return{stiffness:$t.stiffness,damping:$t.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const _$=12;function P$(e,t,a){let r=a;for(let s=1;s<_$;s++)r=r-e(r)/t(r);return r}function jb(e,t){return e*Math.sqrt(1-t*t)}const M$=["duration","bounce"],R$=["stiffness","damping","mass"];function EA(e,t){return t.some(a=>e[a]!==void 0)}function L$(e){let t={velocity:$t.velocity,stiffness:$t.stiffness,damping:$t.damping,mass:$t.mass,isResolvedFromDuration:!1,...e};if(!EA(e,R$)&&EA(e,M$))if(e.visualDuration){const a=e.visualDuration,r=2*Math.PI/(a*1.2),s=r*r,o=2*Nl(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:$t.mass,stiffness:s,damping:o}}else{const a=D$(e);t={...t,...a,mass:$t.mass},t.isResolvedFromDuration=!0}return t}function cg(e=$t.visualDuration,t=$t.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=a;const o=a.keyframes[0],c=a.keyframes[a.keyframes.length-1],d={done:!1,value:o},{stiffness:m,damping:p,mass:f,duration:h,velocity:b,isResolvedFromDuration:E}=L$({...a,velocity:-Ir(a.velocity||0)}),N=b||0,S=p/(2*Math.sqrt(m*f)),w=c-o,C=Ir(Math.sqrt(m/f)),k=Math.abs(w)<5;r||(r=k?$t.restSpeed.granular:$t.restSpeed.default),s||(s=k?$t.restDelta.granular:$t.restDelta.default);let A;if(S<1){const O=jb(C,S);A=D=>{const _=Math.exp(-S*C*D);return c-_*((N+S*C*w)/O*Math.sin(O*D)+w*Math.cos(O*D))}}else if(S===1)A=O=>c-Math.exp(-C*O)*(w+(N+C*w)*O);else{const O=C*Math.sqrt(S*S-1);A=D=>{const _=Math.exp(-S*C*D),P=Math.min(O*D,300);return c-_*((N+S*C*w)*Math.sinh(P)+O*w*Math.cosh(P))/O}}const M={calculatedDuration:E&&h||null,next:O=>{const D=A(O);if(E)d.done=O>=h;else{let _=O===0?N:0;S<1&&(_=O===0?Pn(N):r_(A,O,D));const P=Math.abs(_)<=r,R=Math.abs(c-D)<=s;d.done=P&&R}return d.value=d.done?c:D,d},toString:()=>{const O=Math.min(LE(M),og),D=a_(_=>M.next(O*_).value,O,30);return O+"ms "+D},toTransition:()=>{}};return M}cg.applyToOptions=e=>{const t=O$(e,100,cg);return e.ease=t.ease,e.duration=Pn(t.duration),e.type="keyframes",e};function zb({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:m,restDelta:p=.5,restSpeed:f}){const h=e[0],b={done:!1,value:h},E=P=>d!==void 0&&P<d||m!==void 0&&P>m,N=P=>d===void 0?m:m===void 0||Math.abs(d-P)<Math.abs(m-P)?d:m;let S=a*t;const w=h+S,C=c===void 0?w:c(w);C!==w&&(S=C-h);const k=P=>-S*Math.exp(-P/r),A=P=>C+k(P),M=P=>{const R=k(P),U=A(P);b.done=Math.abs(R)<=p,b.value=b.done?C:U};let O,D;const _=P=>{E(b.value)&&(O=P,D=cg({keyframes:[b.value,N(b.value)],velocity:r_(A,P,b.value),damping:s,stiffness:o,restDelta:p,restSpeed:f}))};return _(0),{calculatedDuration:null,next:P=>{let R=!1;return!D&&O===void 0&&(R=!0,M(P),_(P)),O!==void 0&&P>=O?D.next(P-O):(!R&&M(P),b)}}}function j$(e,t,a){const r=[],s=a||wl.mix||t_,o=e.length-1;for(let c=0;c<o;c++){let d=s(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||$r:t;d=om(m,d)}r.push(d)}return r}function z$(e,t,{clamp:a=!0,ease:r,mixer:s}={}){const o=e.length;if(CE(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=j$(t,r,s),m=d.length,p=f=>{if(c&&f<e[0])return t[0];let h=0;if(m>1)for(;h<e.length-2&&!(f<e[h+1]);h++);const b=Pu(e[h],e[h+1],f);return d[h](b)};return a?f=>p(Nl(e[0],e[o-1],f)):p}function U$(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const s=Pu(0,t,r);e.push(jt(a,1,s))}}function I$(e){const t=[0];return U$(t,e.length-1),t}function F$(e,t){return e.map(a=>a*t)}function $$(e,t){return e.map(()=>t||HD).splice(0,e.length-1)}function Au({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const s=ZF(r)?r.map(hA):hA(r),o={done:!1,value:t[0]},c=F$(a&&a.length===t.length?a:I$(t),e),d=z$(c,t,{ease:Array.isArray(s)?s:$$(t,s)});return{calculatedDuration:e,next:m=>(o.value=d(m),o.done=m>=e,o)}}const B$=e=>e!==null;function jE(e,{repeat:t,repeatType:a="loop"},r,s=1){const o=e.filter(B$),d=s<0||t&&a!=="loop"&&t%2===1?0:o.length-1;return!d||r===void 0?o[d]:r}const V$={decay:zb,inertia:zb,tween:Au,keyframes:Au,spring:cg};function n_(e){typeof e.type=="string"&&(e.type=V$[e.type])}class zE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const q$=e=>e/100;class UE extends zE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==er.now()&&this.tick(er.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;n_(t);const{type:a=Au,repeat:r=0,repeatDelay:s=0,repeatType:o,velocity:c=0}=t;let{keyframes:d}=t;const m=a||Au;m!==Au&&typeof d[0]!="number"&&(this.mixKeyframes=om(q$,t_(d[0],d[1])),d=[0,100]);const p=m({...t,keyframes:d});o==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=LE(p));const{calculatedDuration:f}=p;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=p}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:s,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:f,repeat:h,repeatType:b,repeatDelay:E,type:N,onUpdate:S,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const C=this.currentTime-p*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?C<0:C>s;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,M=r;if(h){const P=Math.min(this.currentTime,s)/d;let R=Math.floor(P),U=P%1;!U&&P>=1&&(U=1),U===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(b==="reverse"?(U=1-U,E&&(U-=E/d)):b==="mirror"&&(M=c)),A=Nl(0,1,U)*d}const O=k?{done:!1,value:f[0]}:M.next(A);o&&(O.value=o(O.value));let{done:D}=O;!k&&m!==null&&(D=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return _&&N!==zb&&(O.value=jE(f,this.options,w,this.speed)),S&&S(O.value),_&&this.finish(),O}then(t,a){return this.finished.then(t,a)}get duration(){return Ir(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ir(t)}get time(){return Ir(this.currentTime)}set time(t){t=Pn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(er.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=Ir(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=T$,startTime:a}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(er.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function H$(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ui=e=>e*180/Math.PI,Ub=e=>{const t=ui(Math.atan2(e[1],e[0]));return Ib(t)},G$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ub,rotateZ:Ub,skewX:e=>ui(Math.atan(e[1])),skewY:e=>ui(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Ib=e=>(e=e%360,e<0&&(e+=360),e),NA=Ub,wA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),SA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),K$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wA,scaleY:SA,scale:e=>(wA(e)+SA(e))/2,rotateX:e=>Ib(ui(Math.atan2(e[6],e[5]))),rotateY:e=>Ib(ui(Math.atan2(-e[2],e[0]))),rotateZ:NA,rotate:NA,skewX:e=>ui(Math.atan(e[4])),skewY:e=>ui(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Fb(e){return e.includes("scale")?1:0}function $b(e,t){if(!e||e==="none")return Fb(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(a)r=K$,s=a;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=G$,s=d}if(!s)return Fb(t);const o=r[t],c=s[1].split(",").map(Q$);return typeof o=="function"?o(c):c[o]}const Y$=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return $b(a,t)};function Q$(e){return parseFloat(e.trim())}const tc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ac=new Set(tc),CA=e=>e===ec||e===Ie,X$=new Set(["x","y","z"]),W$=tc.filter(e=>!X$.has(e));function Z$(e){const t=[];return W$.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const gi={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$b(t,"x"),y:(e,{transform:t})=>$b(t,"y")};gi.translateX=gi.x;gi.translateY=gi.y;const pi=new Set;let Bb=!1,Vb=!1,qb=!1;function l_(){if(Vb){const e=Array.from(pi).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),a=new Map;t.forEach(r=>{const s=Z$(r);s.length&&(a.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=a.get(r);s&&s.forEach(([o,c])=>{r.getValue(o)?.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vb=!1,Bb=!1,pi.forEach(e=>e.complete(qb)),pi.clear()}function s_(){pi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vb=!0)})}function J$(){qb=!0,s_(),l_(),qb=!1}class IE{constructor(t,a,r,s,o,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=s,this.element=o,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(pi.add(this),Bb||(Bb=!0,Dt.read(s_),Dt.resolveKeyframes(l_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:s}=this;if(t[0]===null){const o=s?.get(),c=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&a){const d=r.readValue(a,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&o===void 0&&s.set(t[0])}H$(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),pi.delete(this)}cancel(){this.state==="scheduled"&&(pi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eB=e=>e.startsWith("--");function tB(e,t,a){eB(t)?e.style.setProperty(t,a):e.style[t]=a}const aB=AE(()=>window.ScrollTimeline!==void 0),rB={};function nB(e,t){const a=AE(e);return()=>rB[t]??a()}const i_=nB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Eu=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,AA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Eu([0,.65,.55,1]),circOut:Eu([.55,0,1,.45]),backIn:Eu([.31,.01,.66,-.59]),backOut:Eu([.33,1.53,.69,.99])};function o_(e,t){if(e)return typeof e=="function"?i_()?a_(e,t):"ease-out":GD(e)?Eu(e):Array.isArray(e)?e.map(a=>o_(a,t)||AA.easeOut):AA[e]}function lB(e,t,a,{delay:r=0,duration:s=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:m}={},p=void 0){const f={[t]:a};m&&(f.offset=m);const h=o_(d,s);Array.isArray(h)&&(f.easing=h);const b={delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),e.animate(f,b)}function c_(e){return typeof e=="function"&&"applyToOptions"in e}function sB({type:e,...t}){return c_(e)&&i_()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class iB extends zE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:s,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=t,CE(typeof t.type!="string");const p=sB(t);this.animation=lB(a,r,s,p,o),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const f=jE(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(f):tB(a,r,f),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Ir(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ir(t)}get time(){return Ir(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Pn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&aB()?(this.animation.timeline=t,$r):a(this)}}const u_={anticipate:BD,backInOut:$D,circInOut:qD};function oB(e){return e in u_}function cB(e){typeof e.ease=="string"&&oB(e.ease)&&(e.ease=u_[e.ease])}const TA=10;class uB extends iB{constructor(t){cB(t),n_(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:s,element:o,...c}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const d=new UE({...c,autoplay:!1}),m=Pn(this.finishedTime??this.time);a.setWithVelocity(d.sample(m-TA).value,d.sample(m).value,TA),d.stop()}}const OA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ss.test(e)||e==="0")&&!e.startsWith("url("));function mB(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function dB(e,t,a,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],c=OA(s,t),d=OA(o,t);return!c||!d?!1:mB(e)||(a==="spring"||c_(a))&&r}function Hb(e){e.duration=0,e.type="keyframes"}const fB=new Set(["opacity","clipPath","filter","transform"]),gB=AE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pB(e){const{motionValue:t,name:a,repeatDelay:r,repeatType:s,damping:o,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return gB()&&a&&fB.has(a)&&(a!=="transform"||!p)&&!m&&!r&&s!=="mirror"&&o!==0&&c!=="inertia"}const hB=40;class yB extends zE{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:m,motionValue:p,element:f,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=er.now();const b={autoplay:t,delay:a,type:r,repeat:s,repeatDelay:o,repeatType:c,name:m,motionValue:p,element:f,...h},E=f?.KeyframeResolver||IE;this.keyframeResolver=new E(d,(N,S,w)=>this.onKeyframesResolved(N,S,b,!w),m,p,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,a,r,s){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:m,isHandoff:p,onUpdate:f}=r;this.resolvedAt=er.now(),dB(t,o,c,d)||((wl.instantAnimations||!m)&&f?.(jE(t,r,a)),t[0]=t[t.length-1],Hb(r),r.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>hB?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},E=!p&&pB(b)?new uB({...b,element:b.motionValue.owner.current}):new UE(b);E.finished.then(()=>this.notifyFinished()).catch($r),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),J$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const vB=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bB(e){const t=vB.exec(e);if(!t)return[,];const[,a,r,s]=t;return[`--${a??r}`,s]}function m_(e,t,a=1){const[r,s]=bB(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const c=o.trim();return MD(c)?parseFloat(c):c}return _E(s)?m_(s,t,a+1):s}function FE(e,t){return e?.[t]??e?.default??e}const d_=new Set(["width","height","top","left","right","bottom",...tc]),xB={test:e=>e==="auto",parse:e=>e},f_=e=>t=>t.test(e),g_=[ec,Ie,Mn,vs,m$,u$,xB],kA=e=>g_.find(f_(e));function EB(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||LD(e):!0}const NB=new Set(["brightness","contrast","saturate","opacity"]);function wB(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match(PE)||[];if(!r)return e;const s=a.replace(r,"");let o=NB.has(t)?1:0;return r!==a&&(o*=100),t+"("+o+s+")"}const SB=/\b([a-z-]*)\(.*?\)/gu,Gb={...Ss,getAnimatableNone:e=>{const t=e.match(SB);return t?t.map(wB).join(" "):e}},DA={...ec,transform:Math.round},CB={rotate:vs,rotateX:vs,rotateY:vs,rotateZ:vs,scale:ef,scaleX:ef,scaleY:ef,scaleZ:ef,skew:vs,skewX:vs,skewY:vs,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Mu,originX:yA,originY:yA,originZ:Ie},$E={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie,...CB,zIndex:DA,fillOpacity:Mu,strokeOpacity:Mu,numOctaves:DA},AB={...$E,color:sa,backgroundColor:sa,outlineColor:sa,fill:sa,stroke:sa,borderColor:sa,borderTopColor:sa,borderRightColor:sa,borderBottomColor:sa,borderLeftColor:sa,filter:Gb,WebkitFilter:Gb},p_=e=>AB[e];function h_(e,t){let a=p_(e);return a!==Gb&&(a=Ss),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const TB=new Set(["auto","none","0"]);function OB(e,t,a){let r=0,s;for(;r<e.length&&!s;){const o=e[r];typeof o=="string"&&!TB.has(o)&&Ru(o).values.length&&(s=e[r]),r++}if(s&&a)for(const o of t)e[o]=h_(a,s)}class kB extends IE{constructor(t,a,r,s,o){super(t,a,r,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),_E(p))){const f=m_(p,a.current);f!==void 0&&(t[m]=f),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!d_.has(r)||t.length!==2)return;const[s,o]=t,c=kA(s),d=kA(o);if(c!==d)if(CA(c)&&CA(d))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else gi[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||EB(t[s]))&&r.push(s);r.length&&OB(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const s=a[a.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(a);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,c=r[o];r[o]=gi[a](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,m])=>{t.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function DB(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=a?.[e]??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const y_=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function _B(e){return RD(e)&&"offsetHeight"in e}const _A=30,PB=e=>!isNaN(parseFloat(e));class MB{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const s=er.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=er.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=PB(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new TE);const r=this.events[t].add(a);return t==="change"?()=>{r(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=er.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_A)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,_A);return jD(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jo(e,t){return new MB(e,t)}const{schedule:BE}=KD(queueMicrotask,!1),an={x:!1,y:!1};function v_(){return an.x||an.y}function RB(e){return e==="x"||e==="y"?an[e]?null:(an[e]=!0,()=>{an[e]=!1}):an.x||an.y?null:(an.x=an.y=!0,()=>{an.x=an.y=!1})}function b_(e,t){const a=DB(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[a,s,()=>r.abort()]}function PA(e){return!(e.pointerType==="touch"||v_())}function LB(e,t,a={}){const[r,s,o]=b_(e,a),c=d=>{if(!PA(d))return;const{target:m}=d,p=t(m,d);if(typeof p!="function"||!m)return;const f=h=>{PA(h)&&(p(h),m.removeEventListener("pointerleave",f))};m.addEventListener("pointerleave",f,s)};return r.forEach(d=>{d.addEventListener("pointerenter",c,s)}),o}const x_=(e,t)=>t?e===t?!0:x_(e,t.parentElement):!1,VE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,jB=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zB(e){return jB.has(e.tagName)||e.tabIndex!==-1}const $f=new WeakSet;function MA(e){return t=>{t.key==="Enter"&&e(t)}}function ky(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const UB=(e,t)=>{const a=e.currentTarget;if(!a)return;const r=MA(()=>{if($f.has(a))return;ky(a,"down");const s=MA(()=>{ky(a,"up")}),o=()=>ky(a,"cancel");a.addEventListener("keyup",s,t),a.addEventListener("blur",o,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function RA(e){return VE(e)&&!v_()}function IB(e,t,a={}){const[r,s,o]=b_(e,a),c=d=>{const m=d.currentTarget;if(!RA(d))return;$f.add(m);const p=t(m,d),f=(E,N)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",b),$f.has(m)&&$f.delete(m),RA(E)&&typeof p=="function"&&p(E,{success:N})},h=E=>{f(E,m===window||m===document||a.useGlobalTarget||x_(m,E.target))},b=E=>{f(E,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",b,s)};return r.forEach(d=>{(a.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),_B(d)&&(d.addEventListener("focus",p=>UB(p,s)),!zB(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function E_(e){return RD(e)&&"ownerSVGElement"in e}function FB(e){return E_(e)&&e.tagName==="svg"}const ja=e=>!!(e&&e.getVelocity),$B=[...g_,sa,Ss],BB=e=>$B.find(f_(e)),N_=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function VB(e=!0){const t=y.useContext(NE);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:s}=t,o=y.useId();y.useEffect(()=>{if(e)return s(o)},[e]);const c=y.useCallback(()=>e&&r&&r(o),[o,r,e]);return!a&&r?[!1,c]:[!0]}const w_=y.createContext({strict:!1}),LA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zo={};for(const e in LA)zo[e]={isEnabled:t=>LA[e].some(a=>!!t[a])};function qB(e){for(const t in e)zo[t]={...zo[t],...e[t]}}const HB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ug(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HB.has(e)}let S_=e=>!ug(e);function GB(e){typeof e=="function"&&(S_=t=>t.startsWith("on")?!ug(t):e(t))}try{GB(require("@emotion/is-prop-valid").default)}catch{}function KB(e,t,a){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(S_(s)||a===!0&&ug(s)||!t&&!ug(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const g0=y.createContext({});function p0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Lu(e){return typeof e=="string"||Array.isArray(e)}const qE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HE=["initial",...qE];function h0(e){return p0(e.animate)||HE.some(t=>Lu(e[t]))}function C_(e){return!!(h0(e)||e.variants)}function YB(e,t){if(h0(e)){const{initial:a,animate:r}=e;return{initial:a===!1||Lu(a)?a:void 0,animate:Lu(r)?r:void 0}}return e.inherit!==!1?t:{}}function QB(e){const{initial:t,animate:a}=YB(e,y.useContext(g0));return y.useMemo(()=>({initial:t,animate:a}),[jA(t),jA(a)])}function jA(e){return Array.isArray(e)?e.join(" "):e}const ju={};function XB(e){for(const t in e)ju[t]=e[t],DE(t)&&(ju[t].isCSSVariable=!0)}function A_(e,{layout:t,layoutId:a}){return ac.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!ju[e]||e==="opacity")}const WB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZB=tc.length;function JB(e,t,a){let r="",s=!0;for(let o=0;o<ZB;o++){const c=tc[o],d=e[c];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(c.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||a){const p=y_(d,$E[c]);if(!m){s=!1;const f=WB[c]||c;r+=`${f}(${p}) `}a&&(t[c]=p)}}return r=r.trim(),a?r=a(t,s?"":r):s&&(r="none"),r}function GE(e,t,a){const{style:r,vars:s,transformOrigin:o}=e;let c=!1,d=!1;for(const m in t){const p=t[m];if(ac.has(m)){c=!0;continue}else if(DE(m)){s[m]=p;continue}else{const f=y_(p,$E[m]);m.startsWith("origin")?(d=!0,o[m]=f):r[m]=f}}if(t.transform||(c||a?r.transform=JB(t,e.transform,a):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:p="50%",originZ:f=0}=o;r.transformOrigin=`${m} ${p} ${f}`}}const KE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function T_(e,t,a){for(const r in t)!ja(t[r])&&!A_(r,a)&&(e[r]=t[r])}function eV({transformTemplate:e},t){return y.useMemo(()=>{const a=KE();return GE(a,t,e),Object.assign({},a.vars,a.style)},[t])}function tV(e,t){const a=e.style||{},r={};return T_(r,a,e),Object.assign(r,eV(e,t)),r}function aV(e,t){const a={},r=tV(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=r,a}const rV={offset:"stroke-dashoffset",array:"stroke-dasharray"},nV={offset:"strokeDashoffset",array:"strokeDasharray"};function lV(e,t,a=1,r=0,s=!0){e.pathLength=1;const o=s?rV:nV;e[o.offset]=Ie.transform(-r);const c=Ie.transform(t),d=Ie.transform(a);e[o.array]=`${c} ${d}`}function O_(e,{attrX:t,attrY:a,attrScale:r,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...d},m,p,f){if(GE(e,d,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:b}=e;h.transform&&(b.transform=h.transform,delete h.transform),(b.transform||h.transformOrigin)&&(b.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),b.transform&&(b.transformBox=f?.transformBox??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),a!==void 0&&(h.y=a),r!==void 0&&(h.scale=r),s!==void 0&&lV(h,s,o,c,!1)}const k_=()=>({...KE(),attrs:{}}),D_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function sV(e,t,a,r){const s=y.useMemo(()=>{const o=k_();return O_(o,t,D_(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};T_(o,e.style,e),s.style={...o,...s.style}}return s}const iV=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function YE(e){return typeof e!="string"||e.includes("-")?!1:!!(iV.indexOf(e)>-1||/[A-Z]/u.test(e))}function oV(e,t,a,{latestValues:r},s,o=!1){const d=(YE(e)?sV:aV)(t,r,s,e),m=KB(t,typeof e=="string",o),p=e!==y.Fragment?{...m,...d,ref:a}:{},{children:f}=t,h=y.useMemo(()=>ja(f)?f.get():f,[f]);return y.createElement(e,{...p,children:h})}function zA(e){const t=[{},{}];return e?.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function QE(e,t,a,r){if(typeof t=="function"){const[s,o]=zA(r);t=t(a!==void 0?a:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=zA(r);t=t(a!==void 0?a:e.custom,s,o)}return t}function Bf(e){return ja(e)?e.get():e}function cV({scrapeMotionValuesFromProps:e,createRenderState:t},a,r,s){return{latestValues:uV(a,r,s,e),renderState:t()}}function uV(e,t,a,r){const s={},o=r(e,{});for(const b in o)s[b]=Bf(o[b]);let{initial:c,animate:d}=e;const m=h0(e),p=C_(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let f=a?a.initial===!1:!1;f=f||c===!1;const h=f?d:c;if(h&&typeof h!="boolean"&&!p0(h)){const b=Array.isArray(h)?h:[h];for(let E=0;E<b.length;E++){const N=QE(e,b[E]);if(N){const{transitionEnd:S,transition:w,...C}=N;for(const k in C){let A=C[k];if(Array.isArray(A)){const M=f?A.length-1:0;A=A[M]}A!==null&&(s[k]=A)}for(const k in S)s[k]=S[k]}}}return s}const __=e=>(t,a)=>{const r=y.useContext(g0),s=y.useContext(NE),o=()=>cV(e,t,r,s);return a?o():qF(o)};function XE(e,t,a){const{style:r}=e,s={};for(const o in r)(ja(r[o])||t.style&&ja(t.style[o])||A_(o,e)||a?.getValue(o)?.liveStyle!==void 0)&&(s[o]=r[o]);return s}const mV=__({scrapeMotionValuesFromProps:XE,createRenderState:KE});function P_(e,t,a){const r=XE(e,t,a);for(const s in e)if(ja(e[s])||ja(t[s])){const o=tc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[o]=e[s]}return r}const dV=__({scrapeMotionValuesFromProps:P_,createRenderState:k_}),fV=Symbol.for("motionComponentSymbol");function So(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function gV(e,t,a){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):So(a)&&(a.current=r))},[t])}const WE=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pV="framerAppearId",M_="data-"+WE(pV),R_=y.createContext({});function hV(e,t,a,r,s){const{visualElement:o}=y.useContext(g0),c=y.useContext(w_),d=y.useContext(NE),m=y.useContext(N_).reducedMotion,p=y.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:o,props:a,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const f=p.current,h=y.useContext(R_);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&yV(p.current,a,s,h);const b=y.useRef(!1);y.useInsertionEffect(()=>{f&&b.current&&f.update(a,d)});const E=a[M_],N=y.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return HF(()=>{f&&(b.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),N.current&&f.animationState&&f.animationState.animateChanges())}),y.useEffect(()=>{f&&(!N.current&&f.animationState&&f.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),N.current=!1),f.enteringChildren=void 0)}),f}function yV(e,t,a,r){const{layoutId:s,layout:o,drag:c,dragConstraints:d,layoutScroll:m,layoutRoot:p,layoutCrossfade:f}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:L_(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!c||d&&So(d),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:m,layoutRoot:p})}function L_(e){if(e)return e.options.allowProjection!==!1?e.projection:L_(e.parent)}function Dy(e,{forwardMotionProps:t=!1}={},a,r){a&&qB(a);const s=YE(e)?dV:mV;function o(d,m){let p;const f={...y.useContext(N_),...d,layoutId:vV(d)},{isStatic:h}=f,b=QB(d),E=s(d,h);if(!h&&EE){bV();const N=xV(f);p=N.MeasureLayout,b.visualElement=hV(e,E,f,r,N.ProjectionNode)}return Mb.jsxs(g0.Provider,{value:b,children:[p&&b.visualElement?Mb.jsx(p,{visualElement:b.visualElement,...f}):null,oV(e,d,gV(E,b.visualElement,m),E,h,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=y.forwardRef(o);return c[fV]=e,c}function vV({layoutId:e}){const t=y.useContext(PD).id;return t&&e!==void 0?t+"-"+e:e}function bV(e,t){y.useContext(w_).strict}function xV(e){const{drag:t,layout:a}=zo;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t?.isEnabled(e)||a?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function EV(e,t){if(typeof Proxy>"u")return Dy;const a=new Map,r=(o,c)=>Dy(o,c,e,t),s=(o,c)=>r(o,c);return new Proxy(s,{get:(o,c)=>c==="create"?r:(a.has(c)||a.set(c,Dy(c,void 0,e,t)),a.get(c))})}function j_({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function NV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wV(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function _y(e){return e===void 0||e===1}function Kb({scale:e,scaleX:t,scaleY:a}){return!_y(e)||!_y(t)||!_y(a)}function ni(e){return Kb(e)||z_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function z_(e){return UA(e.x)||UA(e.y)}function UA(e){return e&&e!=="0%"}function mg(e,t,a){const r=e-a,s=t*r;return a+s}function IA(e,t,a,r,s){return s!==void 0&&(e=mg(e,s,r)),mg(e,a,r)+t}function Yb(e,t=0,a=1,r,s){e.min=IA(e.min,t,a,r,s),e.max=IA(e.max,t,a,r,s)}function U_(e,{x:t,y:a}){Yb(e.x,t.translate,t.scale,t.originPoint),Yb(e.y,a.translate,a.scale,a.originPoint)}const FA=.999999999999,$A=1.0000000000001;function SV(e,t,a,r=!1){const s=a.length;if(!s)return;t.x=t.y=1;let o,c;for(let d=0;d<s;d++){o=a[d],c=o.projectionDelta;const{visualElement:m}=o.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Ao(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,U_(e,c)),r&&ni(o.latestValues)&&Ao(e,o.latestValues))}t.x<$A&&t.x>FA&&(t.x=1),t.y<$A&&t.y>FA&&(t.y=1)}function Co(e,t){e.min=e.min+t,e.max=e.max+t}function BA(e,t,a,r,s=.5){const o=jt(e.min,e.max,s);Yb(e,t,a,o,r)}function Ao(e,t){BA(e.x,t.x,t.scaleX,t.scale,t.originX),BA(e.y,t.y,t.scaleY,t.scale,t.originY)}function I_(e,t){return j_(wV(e.getBoundingClientRect(),t))}function CV(e,t,a){const r=I_(e,a),{scroll:s}=t;return s&&(Co(r.x,s.offset.x),Co(r.y,s.offset.y)),r}const VA=()=>({translate:0,scale:1,origin:0,originPoint:0}),To=()=>({x:VA(),y:VA()}),qA=()=>({min:0,max:0}),da=()=>({x:qA(),y:qA()}),Qb={current:null},F_={current:!1};function AV(){if(F_.current=!0,!!EE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Qb.current=e.matches;e.addEventListener("change",t),t()}else Qb.current=!1}const TV=new WeakMap;function OV(e,t,a){for(const r in t){const s=t[r],o=a[r];if(ja(s))e.addValue(r,s);else if(ja(o))e.addValue(r,jo(s,{owner:e}));else if(o!==s)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(r);e.addValue(r,jo(c!==void 0?c:s,{owner:e}))}}for(const r in a)t[r]===void 0&&e.removeValue(r);return t}const HA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class kV{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=IE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=er.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Dt.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=a.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=h0(a),this.isVariantNode=C_(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(a,{},this);for(const b in h){const E=h[b];m[b]!==void 0&&ja(E)&&E.set(m[b])}}mount(t){this.current=t,TV.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),F_.current||AV(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qb.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ws(this.notifyUpdate),ws(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ac.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=a.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Dt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{s(),o&&o(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in zo){const a=zo[t];if(!a)continue;const{isEnabled:r,Feature:s}=a;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):da()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<HA.length;r++){const s=HA[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,c=t[o];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=OV(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=jo(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(MD(r)||LD(r))?r=parseFloat(r):!BB(r)&&Ss.test(a)&&(r=h_(t,a)),this.setBaseTarget(t,ja(r)?r.get():r)),ja(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const o=QE(this.props,a,this.presenceContext?.custom);o&&(r=o[t])}if(a&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!ja(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new TE),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){BE.render(this.render)}}class $_ extends kV{constructor(){super(...arguments),this.KeyframeResolver=kB}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ja(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function B_(e,{style:t,vars:a},r,s){const o=e.style;let c;for(c in t)o[c]=t[c];s?.applyProjectionStyles(o,r);for(c in a)o.setProperty(c,a[c])}function DV(e){return window.getComputedStyle(e)}class _V extends $_{constructor(){super(...arguments),this.type="html",this.renderInstance=B_}readValueFromInstance(t,a){if(ac.has(a))return this.projection?.isProjecting?Fb(a):Y$(t,a);{const r=DV(t),s=(DE(a)?r.getPropertyValue(a):r[a])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:a}){return I_(t,a)}build(t,a,r){GE(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return XE(t,a,r)}}const V_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PV(e,t,a,r){B_(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(V_.has(s)?s:WE(s),t.attrs[s])}class MV extends $_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=da}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(ac.has(a)){const r=p_(a);return r&&r.default||0}return a=V_.has(a)?a:WE(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return P_(t,a,r)}build(t,a,r){O_(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,s){PV(t,a,r,s)}mount(t){this.isSVGTag=D_(t.tagName),super.mount(t)}}const RV=(e,t)=>YE(e)?new MV(t):new _V(t,{allowProjection:e!==y.Fragment});function _o(e,t,a){const r=e.getProps();return QE(r,t,a!==void 0?a:r.custom,e)}const Xb=e=>Array.isArray(e);function LV(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,jo(a))}function jV(e){return Xb(e)?e[e.length-1]||0:e}function zV(e,t){const a=_o(e,t);let{transitionEnd:r={},transition:s={},...o}=a||{};o={...o,...r};for(const c in o){const d=jV(o[c]);LV(e,c,d)}}function UV(e){return!!(ja(e)&&e.add)}function Wb(e,t){const a=e.getValue("willChange");if(UV(a))return a.add(t);if(!a&&wl.WillChange){const r=new wl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function q_(e){return e.props[M_]}const IV=e=>e!==null;function FV(e,{repeat:t,repeatType:a="loop"},r){const s=e.filter(IV),o=t&&a!=="loop"&&t%2===1?0:s.length-1;return s[o]}const $V={type:"spring",stiffness:500,damping:25,restSpeed:10},BV=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VV={type:"keyframes",duration:.8},qV={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HV=(e,{keyframes:t})=>t.length>2?VV:ac.has(e)?e.startsWith("scale")?BV(t[1]):$V:qV;function GV({when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:s,repeat:o,repeatType:c,repeatDelay:d,from:m,elapsed:p,...f}){return!!Object.keys(f).length}const ZE=(e,t,a,r={},s,o)=>c=>{const d=FE(r,e)||{},m=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Pn(m);const f={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-p,onUpdate:b=>{t.set(b),d.onUpdate&&d.onUpdate(b)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:o?void 0:s};GV(d)||Object.assign(f,HV(e,f)),f.duration&&(f.duration=Pn(f.duration)),f.repeatDelay&&(f.repeatDelay=Pn(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Hb(f),f.delay===0&&(h=!0)),(wl.instantAnimations||wl.skipAnimations)&&(h=!0,Hb(f),f.delay=0),f.allowFlatten=!d.type&&!d.ease,h&&!o&&t.get()!==void 0){const b=FV(f.keyframes,d);if(b!==void 0){Dt.update(()=>{f.onUpdate(b),f.onComplete()});return}}return d.isSync?new UE(f):new yB(f)};function KV({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function H_(e,t,{delay:a=0,transitionOverride:r,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(o=r);const m=[],p=s&&e.animationState&&e.animationState.getState()[s];for(const f in d){const h=e.getValue(f,e.latestValues[f]??null),b=d[f];if(b===void 0||p&&KV(p,f))continue;const E={delay:a,...FE(o||{},f)},N=h.get();if(N!==void 0&&!h.isAnimating&&!Array.isArray(b)&&b===N&&!E.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const C=q_(e);if(C){const k=window.MotionHandoffAnimation(C,f,Dt);k!==null&&(E.startTime=k,S=!0)}}Wb(e,f),h.start(ZE(f,h,b,e.shouldReduceMotion&&d_.has(f)?{type:!1}:E,e,S));const w=h.animation;w&&m.push(w)}return c&&Promise.all(m).then(()=>{Dt.update(()=>{c&&zV(e,c)})}),m}function G_(e,t,a,r=0,s=1){const o=Array.from(e).sort((p,f)=>p.sortNodePosition(f)).indexOf(t),c=e.size,d=(c-1)*r;return typeof a=="function"?a(o,c):s===1?o*r:d-o*r}function Zb(e,t,a={}){const r=_o(e,t,a.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(s=a.transitionOverride);const o=r?()=>Promise.all(H_(e,r,a)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:f,staggerDirection:h}=s;return YV(e,t,m,p,f,h,a)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,p]=d==="beforeChildren"?[o,c]:[c,o];return m().then(()=>p())}else return Promise.all([o(),c(a.delay)])}function YV(e,t,a=0,r=0,s=0,o=1,c){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(Zb(m,t,{...c,delay:a+(typeof r=="function"?0:r)+G_(e.variantChildren,m,r,s,o)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function QV(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(o=>Zb(e,o,a));r=Promise.all(s)}else if(typeof t=="string")r=Zb(e,t,a);else{const s=typeof t=="function"?_o(e,t,a.custom):t;r=Promise.all(H_(e,s,a))}return r.then(()=>{e.notify("AnimationComplete",t)})}function K_(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}const XV=HE.length;function Y_(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?Y_(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<XV;a++){const r=HE[a],s=e.props[r];(Lu(s)||s===!1)&&(t[r]=s)}return t}const WV=[...qE].reverse(),ZV=qE.length;function JV(e){return t=>Promise.all(t.map(({animation:a,options:r})=>QV(e,a,r)))}function eq(e){let t=JV(e),a=GA(),r=!0;const s=m=>(p,f)=>{const h=_o(e,f,m==="exit"?e.presenceContext?.custom:void 0);if(h){const{transition:b,transitionEnd:E,...N}=h;p={...p,...N,...E}}return p};function o(m){t=m(e)}function c(m){const{props:p}=e,f=Y_(e.parent)||{},h=[],b=new Set;let E={},N=1/0;for(let w=0;w<ZV;w++){const C=WV[w],k=a[C],A=p[C]!==void 0?p[C]:f[C],M=Lu(A),O=C===m?k.isActive:null;O===!1&&(N=w);let D=A===f[C]&&A!==p[C]&&M;if(D&&r&&e.manuallyAnimateOnMount&&(D=!1),k.protectedKeys={...E},!k.isActive&&O===null||!A&&!k.prevProp||p0(A)||typeof A=="boolean")continue;const _=tq(k.prevProp,A);let P=_||C===m&&k.isActive&&!D&&M||w>N&&M,R=!1;const U=Array.isArray(A)?A:[A];let L=U.reduce(s(C),{});O===!1&&(L={});const{prevResolvedValues:I={}}=k,ae={...I,...L},ne=G=>{P=!0,b.has(G)&&(R=!0,b.delete(G)),k.needsAnimating[G]=!0;const le=e.getValue(G);le&&(le.liveStyle=!1)};for(const G in ae){const le=L[G],te=I[G];if(E.hasOwnProperty(G))continue;let H=!1;Xb(le)&&Xb(te)?H=!K_(le,te):H=le!==te,H?le!=null?ne(G):b.add(G):le!==void 0&&b.has(G)?ne(G):k.protectedKeys[G]=!0}k.prevProp=A,k.prevResolvedValues=L,k.isActive&&(E={...E,...L}),r&&e.blockInitialAnimation&&(P=!1);const ue=D&&_;P&&(!ue||R)&&h.push(...U.map(G=>{const le={type:C};if(typeof G=="string"&&r&&!ue&&e.manuallyAnimateOnMount&&e.parent){const{parent:te}=e,H=_o(te,G);if(te.enteringChildren&&H){const{delayChildren:j}=H.transition||{};le.delay=G_(te.enteringChildren,e,j)}}return{animation:G,options:le}}))}if(b.size){const w={};if(typeof p.initial!="boolean"){const C=_o(e,Array.isArray(p.initial)?p.initial[0]:p.initial);C&&C.transition&&(w.transition=C.transition)}b.forEach(C=>{const k=e.getBaseTarget(C),A=e.getValue(C);A&&(A.liveStyle=!0),w[C]=k??null}),h.push({animation:w})}let S=!!h.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(h):Promise.resolve()}function d(m,p){if(a[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(h=>h.animationState?.setActive(m,p)),a[m].isActive=p;const f=c(m);for(const h in a)a[h].protectedKeys={};return f}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>a,reset:()=>{a=GA()}}}function tq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!K_(t,e):!1}function ti(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GA(){return{animate:ti(!0),whileInView:ti(),whileHover:ti(),whileTap:ti(),whileDrag:ti(),whileFocus:ti(),exit:ti()}}class ks{constructor(t){this.isMounted=!1,this.node=t}update(){}}class aq extends ks{constructor(t){super(t),t.animationState||(t.animationState=eq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();p0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rq=0;class nq extends ks{constructor(){super(...arguments),this.id=rq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);a&&!t&&s.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const lq={animation:{Feature:aq},exit:{Feature:nq}};function zu(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}function mm(e){return{point:{x:e.pageX,y:e.pageY}}}const sq=e=>t=>VE(t)&&e(t,mm(t));function Tu(e,t,a,r){return zu(e,t,sq(a),r)}const Q_=1e-4,iq=1-Q_,oq=1+Q_,X_=.01,cq=0-X_,uq=0+X_;function $a(e){return e.max-e.min}function mq(e,t,a){return Math.abs(e-t)<=a}function KA(e,t,a,r=.5){e.origin=r,e.originPoint=jt(t.min,t.max,e.origin),e.scale=$a(a)/$a(t),e.translate=jt(a.min,a.max,e.origin)-e.originPoint,(e.scale>=iq&&e.scale<=oq||isNaN(e.scale))&&(e.scale=1),(e.translate>=cq&&e.translate<=uq||isNaN(e.translate))&&(e.translate=0)}function Ou(e,t,a,r){KA(e.x,t.x,a.x,r?r.originX:void 0),KA(e.y,t.y,a.y,r?r.originY:void 0)}function YA(e,t,a){e.min=a.min+t.min,e.max=e.min+$a(t)}function dq(e,t,a){YA(e.x,t.x,a.x),YA(e.y,t.y,a.y)}function QA(e,t,a){e.min=t.min-a.min,e.max=e.min+$a(t)}function dg(e,t,a){QA(e.x,t.x,a.x),QA(e.y,t.y,a.y)}function Lr(e){return[e("x"),e("y")]}const W_=({current:e})=>e?e.ownerDocument.defaultView:null,XA=(e,t)=>Math.abs(e-t);function fq(e,t){const a=XA(e.x,t.x),r=XA(e.y,t.y);return Math.sqrt(a**2+r**2)}class Z_{constructor(t,a,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=My(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,N=fq(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!N)return;const{point:S}=b,{timestamp:w}=_a;this.history.push({...S,timestamp:w});const{onStart:C,onMove:k}=this.handlers;E||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,b)},this.handlePointerMove=(b,E)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Py(E,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(b,E)=>{this.end();const{onEnd:N,onSessionEnd:S,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=My(b.type==="pointercancel"?this.lastMoveEventInfo:Py(E,this.transformPagePoint),this.history);this.startEvent&&N&&N(b,C),S&&S(b,C)},!VE(t))return;this.dragSnapToOrigin=o,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const d=mm(t),m=Py(d,this.transformPagePoint),{point:p}=m,{timestamp:f}=_a;this.history=[{...p,timestamp:f}];const{onSessionStart:h}=a;h&&h(t,My(m,this.history)),this.removeListeners=om(Tu(this.contextWindow,"pointermove",this.handlePointerMove),Tu(this.contextWindow,"pointerup",this.handlePointerUp),Tu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ws(this.updatePoint)}}function Py(e,t){return t?{point:t(e.point)}:e}function WA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function My({point:e},t){return{point:e,delta:WA(e,J_(t)),offset:WA(e,gq(t)),velocity:pq(t,.1)}}function gq(e){return e[0]}function J_(e){return e[e.length-1]}function pq(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const s=J_(e);for(;a>=0&&(r=e[a],!(s.timestamp-r.timestamp>Pn(t)));)a--;if(!r)return{x:0,y:0};const o=Ir(s.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const c={x:(s.x-r.x)/o,y:(s.y-r.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function hq(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?jt(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?jt(a,e,r.max):Math.min(e,a)),e}function ZA(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function yq(e,{top:t,left:a,bottom:r,right:s}){return{x:ZA(e.x,a,s),y:ZA(e.y,t,r)}}function JA(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function vq(e,t){return{x:JA(e.x,t.x),y:JA(e.y,t.y)}}function bq(e,t){let a=.5;const r=$a(e),s=$a(t);return s>r?a=Pu(t.min,t.max-r,e.min):r>s&&(a=Pu(e.min,e.max-s,t.min)),Nl(0,1,a)}function xq(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const Jb=.35;function Eq(e=Jb){return e===!1?e=0:e===!0&&(e=Jb),{x:e4(e,"left","right"),y:e4(e,"top","bottom")}}function e4(e,t,a){return{min:t4(e,t),max:t4(e,a)}}function t4(e,t){return typeof e=="number"?e:e[t]||0}const Nq=new WeakMap;class wq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=da(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=h=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(mm(h).point)},c=(h,b)=>{const{drag:E,dragPropagation:N,onDragStart:S}=this.getProps();if(E&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RB(E),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lr(C=>{let k=this.getAxisMotionValue(C).get()||0;if(Mn.test(k)){const{projection:A}=this.visualElement;if(A&&A.layout){const M=A.layout.layoutBox[C];M&&(k=$a(M)*(parseFloat(k)/100))}}this.originPoint[C]=k}),S&&Dt.postRender(()=>S(h,b)),Wb(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},d=(h,b)=>{this.latestPointerEvent=h,this.latestPanInfo=b;const{dragPropagation:E,dragDirectionLock:N,onDirectionLock:S,onDrag:w}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:C}=b;if(N&&this.currentDirection===null){this.currentDirection=Sq(C),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),w&&w(h,b)},m=(h,b)=>{this.latestPointerEvent=h,this.latestPanInfo=b,this.stop(h,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Lr(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Z_(t,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:W_(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,s=a||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Dt.postRender(()=>d(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:s}=this.getProps();if(!r||!tf(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=hq(c,this.constraints[t],this.elastic[t])),o.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&So(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=yq(r.layoutBox,t):this.constraints=!1,this.elastic=Eq(a),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Lr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=xq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!So(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=CV(r,s.root,this.visualElement.getTransformPagePoint());let c=vq(s.layout.layoutBox,o);if(a){const d=a(NV(c));this.hasMutatedConstraints=!!d,d&&(c=j_(d))}return c}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:s,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},p=Lr(f=>{if(!tf(f,a,this.currentDirection))return;let h=m&&m[f]||{};c&&(h={min:0,max:0});const b=s?200:1e6,E=s?40:1e7,N={type:"inertia",velocity:r?t[f]:0,bounceStiffness:b,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...h};return this.startAxisValueAnimation(f,N)});return Promise.all(p).then(d)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return Wb(this.visualElement,t),r.start(ZE(t,r,0,a,this.visualElement,!1))}stopAnimation(){Lr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Lr(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[a];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Lr(a=>{const{drag:r}=this.getProps();if(!tf(a,r,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(a);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[a];o.set(t[a]-jt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!So(a)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Lr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const m=d.get();s[c]=bq({min:m,max:m},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Lr(c=>{if(!tf(c,t,null))return;const d=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];d.set(jt(m,p,s[c]))})}addListeners(){if(!this.visualElement.current)return;Nq.set(this.visualElement,this);const t=this.visualElement.current,a=Tu(t,"pointerdown",m=>{const{drag:p,dragListener:f=!0}=this.getProps();p&&f&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();So(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Dt.read(r);const c=zu(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(Lr(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=m[f].translate,h.set(h.get()+m[f].translate))}),this.visualElement.render())}));return()=>{c(),a(),o(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:c=Jb,dragMomentum:d=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:s,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function tf(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function Sq(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class Cq extends ks{constructor(t){super(t),this.removeGroupControls=$r,this.removeListeners=$r,this.controls=new wq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$r}unmount(){this.removeGroupControls(),this.removeListeners()}}const a4=e=>(t,a)=>{e&&Dt.postRender(()=>e(t,a))};class Aq extends ks{constructor(){super(...arguments),this.removePointerDownListener=$r}onPointerDown(t){this.session=new Z_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:a4(t),onStart:a4(a),onMove:r,onEnd:(o,c)=>{delete this.session,s&&Dt.postRender(()=>s(o,c))}}}mount(){this.removePointerDownListener=Tu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const iu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ie.test(e))e=parseFloat(e);else return e;const a=r4(e,t.target.x),r=r4(e,t.target.y);return`${a}% ${r}%`}},Tq={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,s=Ss.parse(e);if(s.length>5)return r;const o=Ss.createTransformer(e),c=typeof s[0]!="number"?1:0,d=a.x.scale*t.x,m=a.y.scale*t.y;s[0+c]/=d,s[1+c]/=m;const p=jt(d,m,.5);return typeof s[2+c]=="number"&&(s[2+c]/=p),typeof s[3+c]=="number"&&(s[3+c]/=p),o(s)}};let Ry=!1;class Oq extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:s}=this.props,{projection:o}=t;XB(kq),o&&(a.group&&a.group.add(o),r&&r.register&&s&&r.register(o),Ry&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Vf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:s,isPresent:o}=this.props,{projection:c}=r;return c&&(c.isPresent=o,Ry=!0,s||t.layoutDependency!==a||a===void 0||t.isPresent!==o?c.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?c.promote():c.relegate()||Dt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),BE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:s}=t;Ry=!0,s&&(s.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function eP(e){const[t,a]=VB(),r=y.useContext(PD);return Mb.jsx(Oq,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(R_),isPresent:t,safeToRemove:a})}const kq={borderRadius:{...iu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:iu,borderTopRightRadius:iu,borderBottomLeftRadius:iu,borderBottomRightRadius:iu,boxShadow:Tq};function Dq(e,t,a){const r=ja(e)?e:jo(e);return r.start(ZE("",r,t,a)),r.animation}const _q=(e,t)=>e.depth-t.depth;class Pq{constructor(){this.children=[],this.isDirty=!1}add(t){wE(this.children,t),this.isDirty=!0}remove(t){SE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_q),this.isDirty=!1,this.children.forEach(t)}}function Mq(e,t){const a=er.now(),r=({timestamp:s})=>{const o=s-a;o>=t&&(ws(r),e(o-t))};return Dt.setup(r,!0),()=>ws(r)}const tP=["TopLeft","TopRight","BottomLeft","BottomRight"],Rq=tP.length,n4=e=>typeof e=="string"?parseFloat(e):e,l4=e=>typeof e=="number"||Ie.test(e);function Lq(e,t,a,r,s,o){s?(e.opacity=jt(0,a.opacity??1,jq(r)),e.opacityExit=jt(t.opacity??1,0,zq(r))):o&&(e.opacity=jt(t.opacity??1,a.opacity??1,r));for(let c=0;c<Rq;c++){const d=`border${tP[c]}Radius`;let m=s4(t,d),p=s4(a,d);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||l4(m)===l4(p)?(e[d]=Math.max(jt(n4(m),n4(p),r),0),(Mn.test(p)||Mn.test(m))&&(e[d]+="%")):e[d]=p}(t.rotate||a.rotate)&&(e.rotate=jt(t.rotate||0,a.rotate||0,r))}function s4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const jq=aP(0,.5,VD),zq=aP(.5,.95,$r);function aP(e,t,a){return r=>r<e?0:r>t?1:a(Pu(e,t,r))}function i4(e,t){e.min=t.min,e.max=t.max}function en(e,t){i4(e.x,t.x),i4(e.y,t.y)}function o4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function c4(e,t,a,r,s){return e-=t,e=mg(e,1/a,r),s!==void 0&&(e=mg(e,1/s,r)),e}function Uq(e,t=0,a=1,r=.5,s,o=e,c=e){if(Mn.test(t)&&(t=parseFloat(t),t=jt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=jt(o.min,o.max,r);e===o&&(d-=t),e.min=c4(e.min,t,a,d,s),e.max=c4(e.max,t,a,d,s)}function u4(e,t,[a,r,s],o,c){Uq(e,t[a],t[r],t[s],t.scale,o,c)}const Iq=["x","scaleX","originX"],Fq=["y","scaleY","originY"];function m4(e,t,a,r){u4(e.x,t,Iq,a?a.x:void 0,r?r.x:void 0),u4(e.y,t,Fq,a?a.y:void 0,r?r.y:void 0)}function d4(e){return e.translate===0&&e.scale===1}function rP(e){return d4(e.x)&&d4(e.y)}function f4(e,t){return e.min===t.min&&e.max===t.max}function $q(e,t){return f4(e.x,t.x)&&f4(e.y,t.y)}function g4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function nP(e,t){return g4(e.x,t.x)&&g4(e.y,t.y)}function p4(e){return $a(e.x)/$a(e.y)}function h4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Bq{constructor(){this.members=[]}add(t){wE(this.members,t),t.scheduleRender()}remove(t){if(SE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(s=>t===s);if(a===0)return!1;let r;for(let s=a;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vq(e,t,a){let r="";const s=e.x.translate/t.x,o=e.y.translate/t.y,c=a?.z||0;if((s||o||c)&&(r=`translate3d(${s}px, ${o}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:p,rotate:f,rotateX:h,rotateY:b,skewX:E,skewY:N}=a;p&&(r=`perspective(${p}px) ${r}`),f&&(r+=`rotate(${f}deg) `),h&&(r+=`rotateX(${h}deg) `),b&&(r+=`rotateY(${b}deg) `),E&&(r+=`skewX(${E}deg) `),N&&(r+=`skewY(${N}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Ly=["","X","Y","Z"],qq=1e3;let Hq=0;function jy(e,t,a,r){const{latestValues:s}=t;s[e]&&(a[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function lP(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=q_(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",Dt,!(s||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&lP(r)}function sP({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},d=t?.()){this.id=Hq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yq),this.nodes.forEach(Zq),this.nodes.forEach(Jq),this.nodes.forEach(Qq)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new Pq)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new TE),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const m=this.eventHandlers.get(c);m&&m.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=E_(c)&&!FB(c),this.instance=c;const{layoutId:d,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let f,h=0;const b=()=>this.root.updateBlockedByResize=!1;Dt.read(()=>{h=window.innerWidth}),e(c,()=>{const E=window.innerWidth;E!==h&&(h=E,this.root.updateBlockedByResize=!0,f&&f(),f=Mq(b,250),Vf.hasAnimatedSinceResize&&(Vf.hasAnimatedSinceResize=!1,this.nodes.forEach(b4)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||m)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:b,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||nH,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=p.getProps(),C=!this.targetLayout||!nP(this.targetLayout,E),k=!h&&b;if(this.options.layoutRoot||this.resumeFrom||k||h&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...FE(N,"layout"),onPlay:S,onComplete:w};(p.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(f,k)}else h||b4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ws(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eH),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(v4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Wq),this.nodes.forEach(Gq),this.nodes.forEach(Kq)):this.nodes.forEach(v4),this.clearAllSnapshots();const d=er.now();_a.delta=Nl(0,1e3/60,d-_a.timestamp),_a.timestamp=d,_a.isProcessing=!0,Sy.update.process(_a),Sy.preRender.process(_a),Sy.render.process(_a),_a.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,BE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xq),this.sharedNodes.forEach(tH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$a(this.snapshot.measuredBox.x)&&!$a(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=da(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!rP(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,f=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||ni(this.latestValues)||f)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return c&&(m=this.removeTransform(m)),lH(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return da();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sH))){const{scroll:p}=this.root;p&&(Co(d.x,p.offset.x),Co(d.y,p.offset.y))}return d}removeElementScroll(c){const d=da();if(en(d,c),this.scroll?.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:f,options:h}=p;p!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&en(d,c),Co(d.x,f.offset.x),Co(d.y,f.offset.y))}return d}applyTransform(c,d=!1){const m=da();en(m,c);for(let p=0;p<this.path.length;p++){const f=this.path[p];!d&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Ao(m,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ni(f.latestValues)&&Ao(m,f.latestValues)}return ni(this.latestValues)&&Ao(m,this.latestValues),m}removeTransform(c){const d=da();en(d,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ni(p.latestValues))continue;Kb(p.latestValues)&&p.updateSnapshot();const f=da(),h=p.measurePageBox();en(f,h),m4(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,f)}return ni(this.latestValues)&&m4(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_a.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!this.layout||!(f||h))return;this.resolvedRelativeTargetAt=_a.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=da(),this.targetWithTransforms=da()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),U_(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Kb(this.parent.latestValues)||z_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,m){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=da(),this.relativeTargetOrigin=da(),dg(this.relativeTargetOrigin,d,m),en(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===_a.timestamp&&(m=!1),m)return;const{layout:p,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||f))return;en(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,b=this.treeScale.y;SV(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=da());const{target:E}=c;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(o4(this.prevProjectionDelta.x,this.projectionDelta.x),o4(this.prevProjectionDelta.y,this.projectionDelta.y)),Ou(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==b||!h4(this.projectionDelta.x,this.prevProjectionDelta.x)||!h4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=To(),this.projectionDelta=To(),this.projectionDeltaWithTransform=To()}setAnimationOrigin(c,d=!1){const m=this.snapshot,p=m?m.latestValues:{},f={...this.latestValues},h=To();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const b=da(),E=m?m.source:void 0,N=this.layout?this.layout.source:void 0,S=E!==N,w=this.getStack(),C=!w||w.members.length<=1,k=!!(S&&!C&&this.options.crossfade===!0&&!this.path.some(rH));this.animationProgress=0;let A;this.mixTargetDelta=M=>{const O=M/1e3;x4(h.x,c.x,O),x4(h.y,c.y,O),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dg(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aH(this.relativeTarget,this.relativeTargetOrigin,b,O),A&&$q(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=da()),en(A,this.relativeTarget)),S&&(this.animationValues=f,Lq(f,p,this.latestValues,O,k,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ws(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{Vf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jo(0)),this.currentAnimation=Dq(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:m,layout:p,latestValues:f}=c;if(!(!d||!m||!p)){if(this!==c&&this.layout&&p&&iP(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||da();const h=$a(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+h;const b=$a(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}en(d,m),Ao(d,f),Ou(this.projectionDeltaWithTransform,this.layoutCorrected,d,f)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Bq),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const p={};m.z&&jy("z",c,p,this.animationValues);for(let f=0;f<Ly.length;f++)jy(`rotate${Ly[f]}`,c,p,this.animationValues),jy(`skew${Ly[f]}`,c,p,this.animationValues);c.render();for(const f in p)c.setStaticValue(f,p[f]),this.animationValues&&(this.animationValues[f]=p[f]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Bf(d?.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Bf(d?.pointerEvents)||""),this.hasProjected&&!ni(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const f=p.animationValues||p.latestValues;this.applyTransformsToTarget();let h=Vq(this.projectionDeltaWithTransform,this.treeScale,f);m&&(h=m(f,h)),c.transform=h;const{x:b,y:E}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${E.origin*100}% 0`,p.animationValues?c.opacity=p===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=p===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const N in ju){if(f[N]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:C}=ju[N],k=h==="none"?f[N]:S(f[N],p);if(w){const A=w.length;for(let M=0;M<A;M++)c[w[M]]=k}else C?this.options.visualElement.renderState.vars[N]=k:c[N]=k}this.options.layoutId&&(c.pointerEvents=p===this?Bf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(y4),this.root.sharedNodes.clear()}}}function Gq(e){e.updateLayout()}function Kq(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Lr(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],b=$a(h);h.min=a[f].min,h.max=h.min+b}):iP(s,t.layoutBox,a)&&Lr(f=>{const h=o?t.measuredBox[f]:t.layoutBox[f],b=$a(a[f]);h.max=h.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+b)});const c=To();Ou(c,a,t.layoutBox);const d=To();o?Ou(d,e.applyTransform(r,!0),t.measuredBox):Ou(d,a,t.layoutBox);const m=!rP(c);let p=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:b}=f;if(h&&b){const E=da();dg(E,t.layoutBox,h.layoutBox);const N=da();dg(N,a,b.layoutBox),nP(E,N)||(p=!0),f.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=E,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function Yq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xq(e){e.clearSnapshot()}function y4(e){e.clearMeasurements()}function v4(e){e.isLayoutDirty=!1}function Wq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function b4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Zq(e){e.resolveTargetDelta()}function Jq(e){e.calcProjection()}function eH(e){e.resetSkewAndRotation()}function tH(e){e.removeLeadSnapshot()}function x4(e,t,a){e.translate=jt(t.translate,0,a),e.scale=jt(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function E4(e,t,a,r){e.min=jt(t.min,a.min,r),e.max=jt(t.max,a.max,r)}function aH(e,t,a,r){E4(e.x,t.x,a.x,r),E4(e.y,t.y,a.y,r)}function rH(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nH={duration:.45,ease:[.4,0,.1,1]},N4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),w4=N4("applewebkit/")&&!N4("chrome/")?Math.round:$r;function S4(e){e.min=w4(e.min),e.max=w4(e.max)}function lH(e){S4(e.x),S4(e.y)}function iP(e,t,a){return e==="position"||e==="preserve-aspect"&&!mq(p4(t),p4(a),.2)}function sH(e){return e!==e.root&&e.scroll?.wasRoot}const iH=sP({attachResizeListener:(e,t)=>zu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zy={current:void 0},oP=sP({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zy.current){const e=new iH({});e.mount(window),e.setOptions({layoutScroll:!0}),zy.current=e}return zy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oH={pan:{Feature:Aq},drag:{Feature:Cq,ProjectionNode:oP,MeasureLayout:eP}};function C4(e,t,a){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",a==="Start");const s="onHover"+a,o=r[s];o&&Dt.postRender(()=>o(t,mm(t)))}class cH extends ks{mount(){const{current:t}=this.node;t&&(this.unmount=LB(t,(a,r)=>(C4(this.node,r,"Start"),s=>C4(this.node,s,"End"))))}unmount(){}}class uH extends ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=om(zu(this.node.current,"focus",()=>this.onFocus()),zu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function A4(e,t,a){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",a==="Start");const s="onTap"+(a==="End"?"":a),o=r[s];o&&Dt.postRender(()=>o(t,mm(t)))}class mH extends ks{mount(){const{current:t}=this.node;t&&(this.unmount=IB(t,(a,r)=>(A4(this.node,r,"Start"),(s,{success:o})=>A4(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ex=new WeakMap,Uy=new WeakMap,dH=e=>{const t=ex.get(e.target);t&&t(e)},fH=e=>{e.forEach(dH)};function gH({root:e,...t}){const a=e||document;Uy.has(a)||Uy.set(a,{});const r=Uy.get(a),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(fH,{root:e,...t})),r[s]}function pH(e,t,a){const r=gH(t);return ex.set(e,a),r.observe(e),()=>{ex.delete(e),r.unobserve(e)}}const hH={some:0,all:1};class yH extends ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:s="some",once:o}=t,c={root:a?a.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:hH[s]},d=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),b=p?f:h;b&&b(m)};return pH(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(vH(t,a))&&this.startObserver()}unmount(){}}function vH({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const bH={inView:{Feature:yH},tap:{Feature:mH},focus:{Feature:uH},hover:{Feature:cH}},xH={layout:{ProjectionNode:oP,MeasureLayout:eP}},EH={...lq,...bH,...oH,...xH},cP=EV(EH,RV),NH=[{value:"lifetime",label:"All Time",icon:""},{value:"last12Months",label:"12 Months",icon:"12M"},{value:"last6Months",label:"6 Months",icon:"6M"},{value:"last3Months",label:"3 Months",icon:"3M"},{value:"lastMonth",label:"Last Month",icon:"1M"},{value:"thisMonth",label:"This Month",icon:"TM"}],wH=({selected:e,onChange:t})=>n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-2"},n.createElement("div",{className:"flex flex-wrap gap-2"},NH.map(a=>n.createElement(cP.button,{key:a.value,whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(a.value),className:`
              px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200
              ${e===a.value?"bg-gray-800 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-gray-100"}
            `},n.createElement("span",{className:"hidden sm:inline"},a.label),n.createElement("span",{className:"sm:hidden font-semibold"},a.icon)))));function SH(e){return ut({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"},child:[]}]})(e)}function CH(e){return ut({attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(e)}const vt=({title:e,value:t,subtitle:a,icon:r,trend:s,trendDirection:o="neutral",bgColor:c="bg-white",iconColor:d="text-gray-800",children:m,loading:p=!1})=>{const f={up:"text-green-600 bg-green-50",down:"text-red-600 bg-red-50",neutral:"text-gray-600 bg-gray-50"};return p?n.createElement("div",{className:`${c} rounded-lg shadow-sm border border-gray-100 p-4 animate-pulse`},n.createElement("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-3"}),n.createElement("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-2"}),n.createElement("div",{className:"h-2 bg-gray-200 rounded w-1/3"})):n.createElement(cP.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`${c} rounded-lg shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 p-4`},n.createElement("div",{className:"flex items-start justify-between mb-2"},n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"text-xs font-medium text-gray-600 mb-1 uppercase tracking-wide"},e),n.createElement("h3",{className:"text-xl font-bold text-gray-900 truncate"},t),a&&n.createElement("p",{className:"text-xs text-gray-500 mt-0.5 truncate"},a)),r&&n.createElement("div",{className:`${d} bg-opacity-10 p-2 rounded-lg flex-shrink-0 ml-2`},r)),s&&n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",{className:`text-xs font-medium px-2 py-1 rounded-full ${f[o]}`},s),n.createElement("span",{className:"text-xs text-gray-500"},"vs last period")),m&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-100"},m))},AH=async()=>Ee(be.get("/web/analytics/dashboard")),Ur=e=>!e&&e!==0?"0":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e/100),Xe=e=>!e&&e!==0?"0":e>=1e7?`${(e/1e7).toFixed(1)}Cr`:e>=1e5?`${(e/1e5).toFixed(1)}L`:e>=1e3?`${(e/1e3).toFixed(1)}K`:e.toString(),TH=e=>{if(!e)return"N/A";const t=new Date(e);return new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric"}).format(t)},OH=({data:e,loading:t})=>{if(!e)return n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},[1,2,3,4].map(o=>n.createElement(vt,{key:o,loading:!0})));const{email:a,whatsapp:r,totalCommunications:s}=e;return n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Communication Analytics"),n.createElement("div",{className:"flex items-center gap-1.5 text-xs font-medium text-gray-600 bg-green-50 px-2 py-1 rounded-full border border-green-200"},n.createElement("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),n.createElement("span",null,"Real-time"))),n.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3"},n.createElement(vt,{title:"Total Communications",value:Xe(s),subtitle:"All channels combined",icon:n.createElement(SH,{className:"w-6 h-6"}),iconColor:"text-purple-600",loading:t}),n.createElement(vt,{title:"Email Messages",value:Xe(a.total),subtitle:`${a.successRate} success rate`,icon:n.createElement(CH,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:t}),n.createElement(vt,{title:"WhatsApp Messages",value:Xe(r.total),subtitle:`${r.successRate} success rate`,icon:n.createElement("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},n.createElement("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})),iconColor:"text-green-600",loading:t}),n.createElement(vt,{title:"Overall Success Rate",value:s>0?((a.successful+r.successful)/s*100).toFixed(1)+"%":"0%",subtitle:"Across all channels",icon:n.createElement(sg,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:t})))};function kH(e){return ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(e)}function tx(e){return ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(e)}function ax(e){return ut({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function ou(e){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M223.75 130.75L154.62 15.54A31.997 31.997 0 0 0 127.18 0H16.03C3.08 0-4.5 14.57 2.92 25.18l111.27 158.96c29.72-27.77 67.52-46.83 109.56-53.39zM495.97 0H384.82c-11.24 0-21.66 5.9-27.44 15.54l-69.13 115.21c42.04 6.56 79.84 25.62 109.56 53.38L509.08 25.18C516.5 14.57 508.92 0 495.97 0zM256 160c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm92.52 157.26l-37.93 36.96 8.97 52.22c1.6 9.36-8.26 16.51-16.65 12.09L256 393.88l-46.9 24.65c-8.4 4.45-18.25-2.74-16.65-12.09l8.97-52.22-37.93-36.96c-6.82-6.64-3.05-18.23 6.35-19.59l52.43-7.64 23.43-47.52c2.11-4.28 6.19-6.39 10.28-6.39 4.11 0 8.22 2.14 10.33 6.39l23.43 47.52 52.43 7.64c9.4 1.36 13.17 12.95 6.35 19.59z"},child:[]}]})(e)}function fg(e){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function DH(e){return ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function uP(e){return ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}const _H=({usersData:e,adminsData:t,loading:a})=>n.createElement("div",{className:"space-y-4"},n.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Users & Admins"),n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4"},e&&n.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},n.createElement("div",{className:"flex items-start justify-between mb-3"},n.createElement("div",null,n.createElement("h3",{className:"text-xs font-medium text-gray-600 mb-1"},"Total Users"),n.createElement("p",{className:"text-3xl font-bold text-gray-900"},Xe(e.total))),n.createElement("div",{className:"p-2 bg-blue-50 rounded-lg"},n.createElement(uP,{className:"w-6 h-6 text-gray-800"}))),e.growth&&n.createElement("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 border border-green-200 mb-3"},n.createElement("span",{className:"text-xs font-bold text-green-700"},e.growth),n.createElement("span",{className:"text-xs text-gray-600"},"growth")),n.createElement("div",{className:"grid grid-cols-2 gap-2 mt-3"},n.createElement("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 p-3 rounded-lg border border-green-100"},n.createElement("div",{className:"flex items-center gap-1.5 mb-1"},n.createElement(DH,{className:"w-3 h-3 text-green-600"}),n.createElement("p",{className:"text-xs font-medium text-gray-600"},"This Month")),n.createElement("p",{className:"text-xl font-bold text-green-700"},Xe(e.thisMonth))),n.createElement("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-200"},n.createElement("p",{className:"text-xs font-medium text-gray-600 mb-1"},"Last Month"),n.createElement("p",{className:"text-xl font-bold text-gray-900"},Xe(e.lastMonth))))),t&&n.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},n.createElement("div",{className:"flex items-start justify-between mb-3"},n.createElement("div",null,n.createElement("h3",{className:"text-xs font-medium text-gray-600 mb-1"},"Total Admins"),n.createElement("p",{className:"text-3xl font-bold text-gray-900"},Xe(t.total))),n.createElement("div",{className:"p-2 bg-purple-50 rounded-lg"},n.createElement(gF,{className:"w-6 h-6 text-purple-600"}))),n.createElement("div",{className:"flex items-center gap-2 mb-3"},n.createElement("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-50 border border-green-200"},n.createElement(xF,{className:"w-3 h-3 text-green-600"}),n.createElement("span",{className:"text-xs font-bold text-gray-900"},t.active),n.createElement("span",{className:"text-xs text-gray-600"},"active")),n.createElement("div",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-gray-100 border border-gray-200"},n.createElement("span",{className:"text-xs font-bold text-gray-900"},t.inactive),n.createElement("span",{className:"text-xs text-gray-600"},"inactive"))),t.byRole&&Object.keys(t.byRole).length>0&&n.createElement("div",{className:"space-y-1.5 mt-3 pt-3 border-t border-gray-200"},n.createElement("p",{className:"text-xs font-semibold text-gray-600 uppercase mb-1.5"},"By Role"),Object.entries(t.byRole).map(([r,s])=>n.createElement("div",{key:r,className:"flex items-center justify-between text-xs p-2 rounded-lg bg-purple-50 hover:bg-purple-100 transition-colors"},n.createElement("span",{className:"font-medium text-gray-900 capitalize"},r.replace("_"," ")),n.createElement("span",{className:"font-bold text-purple-700"},s)))))));var PH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JE(e){if(typeof e!="string")return!1;var t=PH;return t.includes(e)}var MH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],RH=new Set(MH);function mP(e){return typeof e!="string"?!1:RH.has(e)}function dP(e){return typeof e=="string"&&e.startsWith("data-")}function Uo(e){if(typeof e!="object"||e===null)return{};var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(mP(a)||dP(a))&&(t[a]=e[a]);return t}function rx(e){if(e==null)return null;if(y.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Uo(t)}return typeof e=="object"&&!Array.isArray(e)?Uo(e):null}function Vr(e){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(mP(a)||dP(a)||JE(a))&&(t[a]=e[a]);return t}var LH=["children","width","height","viewBox","className","style","title","desc"];function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},nx.apply(null,arguments)}function jH(e,t){if(e==null)return{};var a,r,s=zH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function zH(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var e1=y.forwardRef((e,t)=>{var{children:a,width:r,height:s,viewBox:o,className:c,style:d,title:m,desc:p}=e,f=jH(e,LH),h=o||{width:r,height:s,x:0,y:0},b=Xt("recharts-surface",c);return y.createElement("svg",nx({},Vr(f),{className:b,width:r,height:s,style:d,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:t}),y.createElement("title",null,m),y.createElement("desc",null,p),a)}),UH=["children","className"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},lx.apply(null,arguments)}function IH(e,t){if(e==null)return{};var a,r,s=FH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function FH(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Cs=y.forwardRef((e,t)=>{var{children:a,className:r}=e,s=IH(e,UH),o=Xt("recharts-layer",r);return y.createElement("g",lx({className:o},Vr(s),{ref:t}),a)}),fP=y.createContext(null),$H=()=>y.useContext(fP);function Nt(e){return function(){return e}}const gP=Math.cos,gg=Math.sin,hn=Math.sqrt,pg=Math.PI,y0=2*pg,sx=Math.PI,ix=2*sx,li=1e-6,BH=ix-li;function pP(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function VH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return pP;const a=10**t;return function(r){this._+=r[0];for(let s=1,o=r.length;s<o;++s)this._+=Math.round(arguments[s]*a)/a+r[s]}}class qH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?pP:VH(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,s){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,a,r,s,o,c){this._append`C${+t},${+a},${+r},${+s},${this._x1=+o},${this._y1=+c}`}arcTo(t,a,r,s,o){if(t=+t,a=+a,r=+r,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let c=this._x1,d=this._y1,m=r-t,p=s-a,f=c-t,h=d-a,b=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(b>li)if(!(Math.abs(h*m-p*f)>li)||!o)this._append`L${this._x1=t},${this._y1=a}`;else{let E=r-c,N=s-d,S=m*m+p*p,w=E*E+N*N,C=Math.sqrt(S),k=Math.sqrt(b),A=o*Math.tan((sx-Math.acos((S+b-w)/(2*C*k)))/2),M=A/k,O=A/C;Math.abs(M-1)>li&&this._append`L${t+M*f},${a+M*h}`,this._append`A${o},${o},0,0,${+(h*E>f*N)},${this._x1=t+O*m},${this._y1=a+O*p}`}}arc(t,a,r,s,o,c){if(t=+t,a=+a,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),m=r*Math.sin(s),p=t+d,f=a+m,h=1^c,b=c?s-o:o-s;this._x1===null?this._append`M${p},${f}`:(Math.abs(this._x1-p)>li||Math.abs(this._y1-f)>li)&&this._append`L${p},${f}`,r&&(b<0&&(b=b%ix+ix),b>BH?this._append`A${r},${r},0,1,${h},${t-d},${a-m}A${r},${r},0,1,${h},${this._x1=p},${this._y1=f}`:b>li&&this._append`A${r},${r},0,${+(b>=sx)},${h},${this._x1=t+r*Math.cos(o)},${this._y1=a+r*Math.sin(o)}`)}rect(t,a,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function t1(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new qH(t)}function a1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hP(e){this._context=e}hP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function v0(e){return new hP(e)}function yP(e){return e[0]}function vP(e){return e[1]}function bP(e,t){var a=Nt(!0),r=null,s=v0,o=null,c=t1(d);e=typeof e=="function"?e:e===void 0?yP:Nt(e),t=typeof t=="function"?t:t===void 0?vP:Nt(t);function d(m){var p,f=(m=a1(m)).length,h,b=!1,E;for(r==null&&(o=s(E=c())),p=0;p<=f;++p)!(p<f&&a(h=m[p],p,m))===b&&((b=!b)?o.lineStart():o.lineEnd()),b&&o.point(+e(h,p,m),+t(h,p,m));if(E)return o=null,E+""||null}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Nt(+m),d):e},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Nt(+m),d):t},d.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Nt(!!m),d):a},d.curve=function(m){return arguments.length?(s=m,r!=null&&(o=s(r)),d):s},d.context=function(m){return arguments.length?(m==null?r=o=null:o=s(r=m),d):r},d}function af(e,t,a){var r=null,s=Nt(!0),o=null,c=v0,d=null,m=t1(p);e=typeof e=="function"?e:e===void 0?yP:Nt(+e),t=typeof t=="function"?t:Nt(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?vP:Nt(+a);function p(h){var b,E,N,S=(h=a1(h)).length,w,C=!1,k,A=new Array(S),M=new Array(S);for(o==null&&(d=c(k=m())),b=0;b<=S;++b){if(!(b<S&&s(w=h[b],b,h))===C)if(C=!C)E=b,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),N=b-1;N>=E;--N)d.point(A[N],M[N]);d.lineEnd(),d.areaEnd()}C&&(A[b]=+e(w,b,h),M[b]=+t(w,b,h),d.point(r?+r(w,b,h):A[b],a?+a(w,b,h):M[b]))}if(k)return d=null,k+""||null}function f(){return bP().defined(s).curve(c).context(o)}return p.x=function(h){return arguments.length?(e=typeof h=="function"?h:Nt(+h),r=null,p):e},p.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Nt(+h),p):e},p.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Nt(+h),p):r},p.y=function(h){return arguments.length?(t=typeof h=="function"?h:Nt(+h),a=null,p):t},p.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Nt(+h),p):t},p.y1=function(h){return arguments.length?(a=h==null?null:typeof h=="function"?h:Nt(+h),p):a},p.lineX0=p.lineY0=function(){return f().x(e).y(t)},p.lineY1=function(){return f().x(e).y(a)},p.lineX1=function(){return f().x(r).y(t)},p.defined=function(h){return arguments.length?(s=typeof h=="function"?h:Nt(!!h),p):s},p.curve=function(h){return arguments.length?(c=h,o!=null&&(d=c(o)),p):c},p.context=function(h){return arguments.length?(h==null?o=d=null:d=c(o=h),p):o},p}class xP{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function HH(e){return new xP(e,!0)}function GH(e){return new xP(e,!1)}const r1={draw(e,t){const a=hn(t/pg);e.moveTo(a,0),e.arc(0,0,a,0,y0)}},KH={draw(e,t){const a=hn(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},EP=hn(1/3),YH=EP*2,QH={draw(e,t){const a=hn(t/YH),r=a*EP;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},XH={draw(e,t){const a=hn(t),r=-a/2;e.rect(r,r,a,a)}},WH=.8908130915292852,NP=gg(pg/10)/gg(7*pg/10),ZH=gg(y0/10)*NP,JH=-gP(y0/10)*NP,eG={draw(e,t){const a=hn(t*WH),r=ZH*a,s=JH*a;e.moveTo(0,-a),e.lineTo(r,s);for(let o=1;o<5;++o){const c=y0*o/5,d=gP(c),m=gg(c);e.lineTo(m*a,-d*a),e.lineTo(d*r-m*s,m*r+d*s)}e.closePath()}},Iy=hn(3),tG={draw(e,t){const a=-hn(t/(Iy*3));e.moveTo(0,a*2),e.lineTo(-Iy*a,-a),e.lineTo(Iy*a,-a),e.closePath()}},_r=-.5,Pr=hn(3)/2,ox=1/hn(12),aG=(ox/2+1)*3,rG={draw(e,t){const a=hn(t/aG),r=a/2,s=a*ox,o=r,c=a*ox+a,d=-o,m=c;e.moveTo(r,s),e.lineTo(o,c),e.lineTo(d,m),e.lineTo(_r*r-Pr*s,Pr*r+_r*s),e.lineTo(_r*o-Pr*c,Pr*o+_r*c),e.lineTo(_r*d-Pr*m,Pr*d+_r*m),e.lineTo(_r*r+Pr*s,_r*s-Pr*r),e.lineTo(_r*o+Pr*c,_r*c-Pr*o),e.lineTo(_r*d+Pr*m,_r*m-Pr*d),e.closePath()}};function nG(e,t){let a=null,r=t1(s);e=typeof e=="function"?e:Nt(e||r1),t=typeof t=="function"?t:Nt(t===void 0?64:+t);function s(){let o;if(a||(a=o=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),o)return a=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:Nt(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:Nt(+o),s):t},s.context=function(o){return arguments.length?(a=o??null,s):a},s}function hg(){}function yg(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function wP(e){this._context=e}wP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lG(e){return new wP(e)}function SP(e){this._context=e}SP.prototype={areaStart:hg,areaEnd:hg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sG(e){return new SP(e)}function CP(e){this._context=e}CP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:yg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iG(e){return new CP(e)}function AP(e){this._context=e}AP.prototype={areaStart:hg,areaEnd:hg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oG(e){return new AP(e)}function T4(e){return e<0?-1:1}function O4(e,t,a){var r=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(r||s<0&&-0),c=(a-e._y1)/(s||r<0&&-0),d=(o*s+c*r)/(r+s);return(T4(o)+T4(c))*Math.min(Math.abs(o),Math.abs(c),.5*Math.abs(d))||0}function k4(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Fy(e,t,a){var r=e._x0,s=e._y0,o=e._x1,c=e._y1,d=(o-r)/3;e._context.bezierCurveTo(r+d,s+d*t,o-d,c-d*a,o,c)}function vg(e){this._context=e}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fy(this,this._t0,k4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fy(this,k4(this,a=O4(this,e,t)),a);break;default:Fy(this,this._t0,a=O4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function TP(e){this._context=new OP(e)}(TP.prototype=Object.create(vg.prototype)).point=function(e,t){vg.prototype.point.call(this,t,e)};function OP(e){this._context=e}OP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,o){this._context.bezierCurveTo(t,e,r,a,o,s)}};function cG(e){return new vg(e)}function uG(e){return new TP(e)}function kP(e){this._context=e}kP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=D4(e),s=D4(t),o=0,c=1;c<a;++o,++c)this._context.bezierCurveTo(r[0][o],s[0][o],r[1][o],s[1][o],e[c],t[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function D4(e){var t,a=e.length-1,r,s=new Array(a),o=new Array(a),c=new Array(a);for(s[0]=0,o[0]=2,c[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,o[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,o[a-1]=7,c[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/o[t-1],o[t]-=r,c[t]-=r*c[t-1];for(s[a-1]=c[a-1]/o[a-1],t=a-2;t>=0;--t)s[t]=(c[t]-s[t+1])/o[t];for(o[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function mG(e){return new kP(e)}function b0(e,t){this._context=e,this._t=t}b0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function dG(e){return new b0(e,.5)}function fG(e){return new b0(e,0)}function gG(e){return new b0(e,1)}function Io(e,t){if((c=e.length)>1)for(var a=1,r,s,o=e[t[0]],c,d=o.length;a<c;++a)for(s=o,o=e[t[a]],r=0;r<d;++r)o[r][1]+=o[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function cx(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function pG(e,t){return e[t]}function hG(e){const t=[];return t.key=e,t}function yG(){var e=Nt([]),t=cx,a=Io,r=pG;function s(o){var c=Array.from(e.apply(this,arguments),hG),d,m=c.length,p=-1,f;for(const h of o)for(d=0,++p;d<m;++d)(c[d][p]=[0,+r(h,c[d].key,p,o)]).data=h;for(d=0,f=a1(t(c));d<m;++d)c[f[d]].index=d;return a(c,f),c}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:Nt(Array.from(o)),s):e},s.value=function(o){return arguments.length?(r=typeof o=="function"?o:Nt(+o),s):r},s.order=function(o){return arguments.length?(t=o==null?cx:typeof o=="function"?o:Nt(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(a=o??Io,s):a},s}function vG(e,t){if((r=e.length)>0){for(var a,r,s=0,o=e[0].length,c;s<o;++s){for(c=a=0;a<r;++a)c+=e[a][s][1]||0;if(c)for(a=0;a<r;++a)e[a][s][1]/=c}Io(e,t)}}function bG(e,t){if((s=e.length)>0){for(var a=0,r=e[t[0]],s,o=r.length;a<o;++a){for(var c=0,d=0;c<s;++c)d+=e[c][a][1]||0;r[a][1]+=r[a][0]=-d/2}Io(e,t)}}function xG(e,t){if(!(!((c=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var a=0,r=1,s,o,c;r<o;++r){for(var d=0,m=0,p=0;d<c;++d){for(var f=e[t[d]],h=f[r][1]||0,b=f[r-1][1]||0,E=(h-b)/2,N=0;N<d;++N){var S=e[t[N]],w=S[r][1]||0,C=S[r-1][1]||0;E+=w-C}m+=h,p+=E*h}s[r-1][1]+=s[r-1][0]=a,m&&(a-=p/m)}s[r-1][1]+=s[r-1][0]=a,Io(e,t)}}var $y={},By={},_4;function EG(){return _4||(_4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t})(By)),By}var Vy={},P4;function DP(){return P4||(P4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t})(Vy)),Vy}var qy={},M4;function n1(){return M4||(M4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}e.toKey=t})(qy)),qy}var Hy={},Gy={},R4;function NG(){return R4||(R4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(t).join(",");const r=String(a);return r==="0"&&Object.is(Number(a),-0)?"-0":r}e.toString=t})(Gy)),Gy}var L4;function l1(){return L4||(L4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NG(),a=n1();function r(s){if(Array.isArray(s))return s.map(a.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const o=[],c=s.length;if(c===0)return o;let d=0,m="",p="",f=!1;for(s.charCodeAt(0)===46&&(o.push(""),d++);d<c;){const h=s[d];p?h==="\\"&&d+1<c?(d++,m+=s[d]):h===p?p="":m+=h:f?h==='"'||h==="'"?p=h:h==="]"?(f=!1,o.push(m),m=""):m+=h:h==="["?(f=!0,m&&(o.push(m),m="")):h==="."?m&&(o.push(m),m=""):m+=h,d++}return m&&o.push(m),o}e.toPath=r})(Hy)),Hy}var j4;function s1(){return j4||(j4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EG(),a=DP(),r=n1(),s=l1();function o(d,m,p){if(d==null)return p;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return p;const f=d[m];return f===void 0?a.isDeepKey(m)?o(d,s.toPath(m),p):p:f}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const f=d[m];return f===void 0?p:f}default:{if(Array.isArray(m))return c(d,m,p);if(Object.is(m?.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return p;const f=d[m];return f===void 0?p:f}}}function c(d,m,p){if(m.length===0)return p;let f=d;for(let h=0;h<m.length;h++){if(f==null||t.isUnsafeProperty(m[h]))return p;f=f[m[h]]}return f===void 0?p:f}e.get=o})($y)),$y}var Ky,z4;function wG(){return z4||(z4=1,Ky=s1().get),Ky}var SG=wG();const Uu=Pl(SG);var tr=e=>e===0?0:e>0?1:-1,Sl=e=>typeof e=="number"&&e!=+e,Cl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Be=e=>(typeof e=="number"||e instanceof Number)&&!Sl(e),Al=e=>Be(e)||typeof e=="string",CG=0,Iu=e=>{var t=++CG;return"".concat(e||"").concat(t)},yr=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(t)&&typeof t!="string")return r;var o;if(Cl(t)){if(a==null)return r;var c=t.indexOf("%");o=a*parseFloat(t.slice(0,c))/100}else o=+t;return Sl(o)&&(o=r),s&&a!=null&&o>a&&(o=a),o},_P=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1};function nn(e,t,a){return Be(e)&&Be(t)?e+a*(t-e):t}function AG(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Uu(r,t))===a)}var br=e=>e===null||typeof e>"u",dm=e=>br(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function TG(e){return e!=null}function fm(){}var OG=["type","size","sizeType"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ux.apply(null,arguments)}function U4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function I4(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?U4(Object(a),!0).forEach(function(r){kG(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kG(e,t,a){return(t=DG(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function DG(e){var t=_G(e,"string");return typeof t=="symbol"?t:t+""}function _G(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PG(e,t){if(e==null)return{};var a,r,s=MG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function MG(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var PP={symbolCircle:r1,symbolCross:KH,symbolDiamond:QH,symbolSquare:XH,symbolStar:eG,symbolTriangle:tG,symbolWye:rG},RG=Math.PI/180,LG=e=>{var t="symbol".concat(dm(e));return PP[t]||r1},jG=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*RG;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zG=(e,t)=>{PP["symbol".concat(dm(e))]=t},i1=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,s=PG(e,OG),o=I4(I4({},s),{},{type:t,size:a,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var d=()=>{var b=LG(c),E=nG().type(b).size(jG(a,r,c)),N=E();if(N!==null)return N},{className:m,cx:p,cy:f}=o,h=Vr(o);return Be(p)&&Be(f)&&Be(a)?y.createElement("path",ux({},h,{className:Xt("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(f,")"),d:d()})):null};i1.registerSymbol=zG;var MP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,UG=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(y.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(s=>{JE(s)&&(r[s]=(o=>a[s](a,o)))}),r},IG=(e,t,a)=>r=>(e(t,a,r),null),RP=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var o=e[s];JE(s)&&typeof o=="function"&&(r||(r={}),r[s]=IG(o,t,a))}),r};function F4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function FG(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(a),!0).forEach(function(r){$G(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function $G(e,t,a){return(t=BG(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function BG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kr(e,t){var a=FG({},e),r=t,s=Object.keys(t),o=s.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),a);return o}function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},bg.apply(null,arguments)}function $4(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function qG(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$4(Object(a),!0).forEach(function(r){HG(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$4(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function HG(e,t,a){return(t=GG(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function GG(e){var t=KG(e,"string");return typeof t=="symbol"?t:t+""}function KG(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jr=32,YG={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function QG(e){var{data:t,iconType:a,inactiveColor:r}=e,s=jr/2,o=jr/6,c=jr/3,d=t.inactive?r:t.color,m=a??t.type;if(m==="none")return null;if(m==="plainline"){var p;return y.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:(p=t.payload)===null||p===void 0?void 0:p.strokeDasharray,x1:0,y1:s,x2:jr,y2:s,className:"recharts-legend-icon"})}if(m==="line")return y.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(jr,"M").concat(2*c,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(m==="rect")return y.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(jr/8,"h").concat(jr,"v").concat(jr*3/4,"h").concat(-jr,"z"),className:"recharts-legend-icon"});if(y.isValidElement(t.legendIcon)){var f=qG({},t);return delete f.legendIcon,y.cloneElement(t.legendIcon,f)}return y.createElement(i1,{fill:d,cx:s,cy:s,size:jr,sizeType:"diameter",type:m})}function XG(e){var{payload:t,iconSize:a,layout:r,formatter:s,inactiveColor:o,iconType:c}=e,d={x:0,y:0,width:jr,height:jr},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,h)=>{var b=f.formatter||s,E=Xt({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var N=f.inactive?o:f.color,S=b?b(f.value,f,h):f.value;return y.createElement("li",bg({className:E,style:m,key:"legend-item-".concat(h)},RP(e,f,h)),y.createElement(e1,{width:a,height:a,viewBox:d,style:p,"aria-label":"".concat(S," legend icon")},y.createElement(QG,{data:f,iconType:c,inactiveColor:o})),y.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},S))})}var WG=e=>{var t=Kr(e,YG),{payload:a,layout:r,align:s}=t;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?s:"left"};return y.createElement("ul",{className:"recharts-default-legend",style:o},y.createElement(XG,bg({},t,{payload:a})))},Yy={},Qy={},B4;function ZG(){return B4||(B4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const s=new Map;for(let o=0;o<a.length;o++){const c=a[o],d=r(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t})(Qy)),Qy}var Xy={},V4;function LP(){return V4||(V4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t})(Xy)),Xy}var Wy={},Zy={},Jy={},q4;function JG(){return q4||(q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t})(Jy)),Jy}var H4;function o1(){return H4||(H4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JG();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a})(Zy)),Zy}var ev={},G4;function eK(){return G4||(G4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t})(ev)),ev}var K4;function tK(){return K4||(K4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o1(),a=eK();function r(s){return a.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r})(Wy)),Wy}var tv={},av={},Y4;function aK(){return Y4||(Y4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s1();function a(r){return function(s){return t.get(s,r)}}e.property=a})(av)),av}var rv={},nv={},lv={},sv={},Q4;function jP(){return Q4||(Q4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t})(sv)),sv}var iv={},X4;function zP(){return X4||(X4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t})(iv)),iv}var ov={},W4;function UP(){return W4||(W4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t})(ov)),ov}var Z4;function rK(){return Z4||(Z4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP(),a=zP(),r=UP();function s(f,h,b){return typeof b!="function"?s(f,h,()=>{}):o(f,h,function E(N,S,w,C,k,A){const M=b(N,S,w,C,k,A);return M!==void 0?!!M:o(N,S,E,A)},new Map)}function o(f,h,b,E){if(h===f)return!0;switch(typeof h){case"object":return c(f,h,b,E);case"function":return Object.keys(h).length>0?o(f,{...h},b,E):r.eq(f,h);default:return t.isObject(f)?typeof h=="string"?h==="":!0:r.eq(f,h)}}function c(f,h,b,E){if(h==null)return!0;if(Array.isArray(h))return m(f,h,b,E);if(h instanceof Map)return d(f,h,b,E);if(h instanceof Set)return p(f,h,b,E);const N=Object.keys(h);if(f==null)return N.length===0;if(N.length===0)return!0;if(E?.has(h))return E.get(h)===f;E?.set(h,f);try{for(let S=0;S<N.length;S++){const w=N[S];if(!a.isPrimitive(f)&&!(w in f)||h[w]===void 0&&f[w]!==void 0||h[w]===null&&f[w]!==null||!b(f[w],h[w],w,f,h,E))return!1}return!0}finally{E?.delete(h)}}function d(f,h,b,E){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[N,S]of h.entries()){const w=f.get(N);if(b(w,S,N,f,h,E)===!1)return!1}return!0}function m(f,h,b,E){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const N=new Set;for(let S=0;S<h.length;S++){const w=h[S];let C=!1;for(let k=0;k<f.length;k++){if(N.has(k))continue;const A=f[k];let M=!1;if(b(A,w,S,f,h,E)&&(M=!0),M){N.add(k),C=!0;break}}if(!C)return!1}return!0}function p(f,h,b,E){return h.size===0?!0:f instanceof Set?m([...f],[...h],b,E):!1}e.isMatchWith=s,e.isSetMatch=p})(lv)),lv}var J4;function IP(){return J4||(J4=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rK();function a(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=a})(nv)),nv}var cv={},uv={},mv={},e5;function nK(){return e5||(e5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t})(mv)),mv}var dv={},t5;function FP(){return t5||(t5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t})(dv)),dv}var fv={},a5;function $P(){return a5||(a5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",s="[object Boolean]",o="[object Arguments]",c="[object Symbol]",d="[object Date]",m="[object Map]",p="[object Set]",f="[object Array]",h="[object Function]",b="[object ArrayBuffer]",E="[object Object]",N="[object Error]",S="[object DataView]",w="[object Uint8Array]",C="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",M="[object BigUint64Array]",O="[object Int8Array]",D="[object Int16Array]",_="[object Int32Array]",P="[object BigInt64Array]",R="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=b,e.arrayTag=f,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=M,e.booleanTag=s,e.dataViewTag=S,e.dateTag=d,e.errorTag=N,e.float32ArrayTag=R,e.float64ArrayTag=U,e.functionTag=h,e.int16ArrayTag=D,e.int32ArrayTag=_,e.int8ArrayTag=O,e.mapTag=m,e.numberTag=r,e.objectTag=E,e.regexpTag=t,e.setTag=p,e.stringTag=a,e.symbolTag=c,e.uint16ArrayTag=k,e.uint32ArrayTag=A,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=C})(fv)),fv}var gv={},r5;function lK(){return r5||(r5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t})(gv)),gv}var n5;function BP(){return n5||(n5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nK(),a=FP(),r=$P(),s=zP(),o=lK();function c(f,h){return d(f,void 0,f,new Map,h)}function d(f,h,b,E=new Map,N=void 0){const S=N?.(f,h,b,E);if(S!==void 0)return S;if(s.isPrimitive(f))return f;if(E.has(f))return E.get(f);if(Array.isArray(f)){const w=new Array(f.length);E.set(f,w);for(let C=0;C<f.length;C++)w[C]=d(f[C],C,b,E,N);return Object.hasOwn(f,"index")&&(w.index=f.index),Object.hasOwn(f,"input")&&(w.input=f.input),w}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const w=new RegExp(f.source,f.flags);return w.lastIndex=f.lastIndex,w}if(f instanceof Map){const w=new Map;E.set(f,w);for(const[C,k]of f)w.set(C,d(k,C,b,E,N));return w}if(f instanceof Set){const w=new Set;E.set(f,w);for(const C of f)w.add(d(C,void 0,b,E,N));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(o.isTypedArray(f)){const w=new(Object.getPrototypeOf(f)).constructor(f.length);E.set(f,w);for(let C=0;C<f.length;C++)w[C]=d(f[C],C,b,E,N);return w}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const w=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return E.set(f,w),m(w,f,b,E,N),w}if(typeof File<"u"&&f instanceof File){const w=new File([f],f.name,{type:f.type});return E.set(f,w),m(w,f,b,E,N),w}if(typeof Blob<"u"&&f instanceof Blob){const w=new Blob([f],{type:f.type});return E.set(f,w),m(w,f,b,E,N),w}if(f instanceof Error){const w=new f.constructor;return E.set(f,w),w.message=f.message,w.name=f.name,w.stack=f.stack,w.cause=f.cause,m(w,f,b,E,N),w}if(f instanceof Boolean){const w=new Boolean(f.valueOf());return E.set(f,w),m(w,f,b,E,N),w}if(f instanceof Number){const w=new Number(f.valueOf());return E.set(f,w),m(w,f,b,E,N),w}if(f instanceof String){const w=new String(f.valueOf());return E.set(f,w),m(w,f,b,E,N),w}if(typeof f=="object"&&p(f)){const w=Object.create(Object.getPrototypeOf(f));return E.set(f,w),m(w,f,b,E,N),w}return f}function m(f,h,b=f,E,N){const S=[...Object.keys(h),...t.getSymbols(h)];for(let w=0;w<S.length;w++){const C=S[w],k=Object.getOwnPropertyDescriptor(f,C);(k==null||k.writable)&&(f[C]=d(h[C],C,b,E,N))}}function p(f){switch(a.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=m})(uv)),uv}var l5;function sK(){return l5||(l5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BP();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a})(cv)),cv}var s5;function iK(){return s5||(s5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IP(),a=sK();function r(s){return s=a.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=r})(rv)),rv}var pv={},hv={},yv={},i5;function oK(){return i5||(i5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BP(),a=$P();function r(s,o){return t.cloneDeepWith(s,(c,d,m,p)=>{const f=o?.(c,d,m,p);if(f!==void 0)return f;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const h=new s.constructor(s?.valueOf());return t.copyProperties(h,s),h}case a.argumentsTag:{const h={};return t.copyProperties(h,s),h.length=s.length,h[Symbol.iterator]=s[Symbol.iterator],h}default:return}})}e.cloneDeepWith=r})(yv)),yv}var o5;function cK(){return o5||(o5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oK();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a})(hv)),hv}var vv={},bv={},c5;function VP(){return c5||(c5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a})(bv)),bv}var xv={},u5;function uK(){return u5||(u5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FP();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a})(xv)),xv}var m5;function mK(){return m5||(m5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DP(),a=VP(),r=uK(),s=l1();function o(c,d){let m;if(Array.isArray(d)?m=d:typeof d=="string"&&t.isDeepKey(d)&&c?.[d]==null?m=s.toPath(d):m=[d],m.length===0)return!1;let p=c;for(let f=0;f<m.length;f++){const h=m[f];if((p==null||!Object.hasOwn(p,h))&&!((Array.isArray(p)||r.isArguments(p))&&a.isIndex(h)&&h<p.length))return!1;p=p[h]}return!0}e.has=o})(vv)),vv}var d5;function dK(){return d5||(d5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IP(),a=n1(),r=cK(),s=s1(),o=mK();function c(d,m){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=a.toKey(d);break}}return m=r.cloneDeep(m),function(p){const f=s.get(p,d);return f===void 0?o.has(p,d):m===void 0?f===void 0:t.isMatch(f,m)}}e.matchesProperty=c})(pv)),pv}var f5;function fK(){return f5||(f5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LP(),a=aK(),r=iK(),s=dK();function o(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return a.property(c)}}e.iteratee=o})(tv)),tv}var g5;function gK(){return g5||(g5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZG(),a=LP(),r=tK(),s=fK();function o(c,d=a.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=o})(Yy)),Yy}var Ev,p5;function pK(){return p5||(p5=1,Ev=gK().uniqBy),Ev}var hK=pK();const h5=Pl(hK);function qP(e,t,a){return t===!0?h5(e,a):typeof t=="function"?h5(e,t):e}var Nv={exports:{}},wv={},Sv={exports:{}},Cv={};var y5;function yK(){if(y5)return Cv;y5=1;var e=Yo();function t(h,b){return h===b&&(h!==0||1/h===1/b)||h!==h&&b!==b}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function d(h,b){var E=b(),N=r({inst:{value:E,getSnapshot:b}}),S=N[0].inst,w=N[1];return o(function(){S.value=E,S.getSnapshot=b,m(S)&&w({inst:S})},[h,E,b]),s(function(){return m(S)&&w({inst:S}),h(function(){m(S)&&w({inst:S})})},[h]),c(E),E}function m(h){var b=h.getSnapshot;h=h.value;try{var E=b();return!a(h,E)}catch{return!0}}function p(h,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return Cv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Cv}var v5;function vK(){return v5||(v5=1,Sv.exports=yK()),Sv.exports}var b5;function bK(){if(b5)return wv;b5=1;var e=Yo(),t=vK();function a(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var r=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,o=e.useRef,c=e.useEffect,d=e.useMemo,m=e.useDebugValue;return wv.useSyncExternalStoreWithSelector=function(p,f,h,b,E){var N=o(null);if(N.current===null){var S={hasValue:!1,value:null};N.current=S}else S=N.current;N=d(function(){function C(D){if(!k){if(k=!0,A=D,D=b(D),E!==void 0&&S.hasValue){var _=S.value;if(E(_,D))return M=_}return M=D}if(_=M,r(A,D))return _;var P=b(D);return E!==void 0&&E(_,P)?(A=D,_):(A=D,M=P)}var k=!1,A,M,O=h===void 0?null:h;return[function(){return C(f())},O===null?void 0:function(){return C(O())}]},[f,h,b,E]);var w=s(p,N[0],N[1]);return c(function(){S.hasValue=!0,S.value=w},[w]),m(w),w},wv}var x5;function xK(){return x5||(x5=1,Nv.exports=bK()),Nv.exports}var EK=xK(),c1=y.createContext(null),NK=e=>e,Wt=()=>{var e=y.useContext(c1);return e?e.store.dispatch:NK},qf=()=>{},wK=()=>qf,SK=(e,t)=>e===t;function Ge(e){var t=y.useContext(c1);return EK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:wK,t?t.store.getState:qf,t?t.store.getState:qf,t?e:qf,SK)}function CK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function AK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function TK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var E5=e=>Array.isArray(e)?e:[e];function OK(e){const t=Array.isArray(e[0])?e[0]:e;return TK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function kK(e,t){const a=[],{length:r}=e;for(let s=0;s<r;s++)a.push(e[s].apply(null,t));return a}var DK=class{constructor(e){this.value=e}deref(){return this.value}},_K=typeof WeakRef<"u"?WeakRef:DK,PK=0,N5=1;function rf(){return{s:PK,v:void 0,o:null,p:null}}function HP(e,t={}){let a=rf();const{resultEqualityCheck:r}=t;let s,o=0;function c(){let d=a;const{length:m}=arguments;for(let h=0,b=m;h<b;h++){const E=arguments[h];if(typeof E=="function"||typeof E=="object"&&E!==null){let N=d.o;N===null&&(d.o=N=new WeakMap);const S=N.get(E);S===void 0?(d=rf(),N.set(E,d)):d=S}else{let N=d.p;N===null&&(d.p=N=new Map);const S=N.get(E);S===void 0?(d=rf(),N.set(E,d)):d=S}}const p=d;let f;if(d.s===N5)f=d.v;else if(f=e.apply(null,arguments),o++,r){const h=s?.deref?.()??s;h!=null&&r(h,f)&&(f=h,o!==0&&o--),s=typeof f=="object"&&f!==null||typeof f=="function"?new _K(f):f}return p.s=N5,p.v=f,f}return c.clearCache=()=>{a=rf(),c.resetResultsCount()},c.resultsCount=()=>o,c.resetResultsCount=()=>{o=0},c}function MK(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let o=0,c=0,d,m={},p=s.pop();typeof p=="object"&&(m=p,p=s.pop()),CK(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const f={...a,...m},{memoize:h,memoizeOptions:b=[],argsMemoize:E=HP,argsMemoizeOptions:N=[]}=f,S=E5(b),w=E5(N),C=OK(s),k=h(function(){return o++,p.apply(null,arguments)},...S),A=E(function(){c++;const O=kK(C,arguments);return d=k.apply(null,O),d},...w);return Object.assign(A,{resultFunc:p,memoizedResultFunc:k,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:h,argsMemoize:E})};return Object.assign(r,{withTypes:()=>r}),r}var re=MK(HP),RK=Object.assign((e,t=re)=>{AK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(o=>e[o]);return t(r,(...o)=>o.reduce((c,d,m)=>(c[a[m]]=d,c),{}))},{withTypes:()=>RK}),Av={},Tv={},Ov={},w5;function LK(){return w5||(w5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,s,o)=>{if(r!==s){const c=t(r),d=t(s);if(c===d&&c===0){if(r<s)return o==="desc"?1:-1;if(r>s)return o==="desc"?-1:1}return o==="desc"?d-c:c-d}return 0};e.compareValues=a})(Ov)),Ov}var kv={},Dv={},S5;function GP(){return S5||(S5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t})(Dv)),Dv}var C5;function jK(){return C5||(C5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(o,c){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!a.test(o))||c!=null&&Object.hasOwn(c,o)}e.isKey=s})(kv)),kv}var A5;function zK(){return A5||(A5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),a=jK(),r=l1();function s(o,c,d,m){if(o==null)return[];d=m?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(E=>String(E));const p=(E,N)=>{let S=E;for(let w=0;w<N.length&&S!=null;++w)S=S[N[w]];return S},f=(E,N)=>N==null||E==null?N:typeof E=="object"&&"key"in E?Object.hasOwn(N,E.key)?N[E.key]:p(N,E.path):typeof E=="function"?E(N):Array.isArray(E)?p(N,E):typeof N=="object"?N[E]:N,h=c.map(E=>(Array.isArray(E)&&E.length===1&&(E=E[0]),E==null||typeof E=="function"||Array.isArray(E)||a.isKey(E)?E:{key:E,path:r.toPath(E)}));return o.map(E=>({original:E,criteria:h.map(N=>f(N,E))})).slice().sort((E,N)=>{for(let S=0;S<h.length;S++){const w=t.compareValues(E.criteria[S],N.criteria[S],d[S]);if(w!==0)return w}return 0}).map(E=>E.original)}e.orderBy=s})(Tv)),Tv}var _v={},T5;function UK(){return T5||(T5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const s=[],o=Math.floor(r),c=(d,m)=>{for(let p=0;p<d.length;p++){const f=d[p];Array.isArray(f)&&m<o?c(f,m+1):s.push(f)}};return c(a,0),s}e.flatten=t})(_v)),_v}var Pv={},O5;function KP(){return O5||(O5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP(),a=o1(),r=jP(),s=UP();function o(c,d,m){return r.isObject(m)&&(typeof d=="number"&&a.isArrayLike(m)&&t.isIndex(d)&&d<m.length||typeof d=="string"&&d in m)?s.eq(m[d],c):!1}e.isIterateeCall=o})(Pv)),Pv}var k5;function IK(){return k5||(k5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK(),a=UK(),r=KP();function s(o,...c){const d=c.length;return d>1&&r.isIterateeCall(o,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(o,a.flatten(c),["asc"])}e.sortBy=s})(Av)),Av}var Mv,D5;function FK(){return D5||(D5=1,Mv=IK().sortBy),Mv}var $K=FK();const x0=Pl($K);var YP=e=>e.legend.settings,BK=e=>e.legend.size,VK=e=>e.legend.payload,qK=re([VK,YP],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?x0(r,a):r});function HK(){return Ge(qK)}var nf=1;function QP(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=y.useState({height:0,left:0,top:0,width:0}),r=y.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),c={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(c.height-t.height)>nf||Math.abs(c.left-t.left)>nf||Math.abs(c.top-t.top)>nf||Math.abs(c.width-t.width)>nf)&&a({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Da(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var GK=typeof Symbol=="function"&&Symbol.observable||"@@observable",_5=GK,Rv=()=>Math.random().toString(36).substring(7).split("").join("."),KK={INIT:`@@redux/INIT${Rv()}`,REPLACE:`@@redux/REPLACE${Rv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rv()}`},xg=KK;function u1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function XP(e,t,a){if(typeof e!="function")throw new Error(Da(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Da(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Da(1));return a(XP)(e,t)}let r=e,s=t,o=new Map,c=o,d=0,m=!1;function p(){c===o&&(c=new Map,o.forEach((w,C)=>{c.set(C,w)}))}function f(){if(m)throw new Error(Da(3));return s}function h(w){if(typeof w!="function")throw new Error(Da(4));if(m)throw new Error(Da(5));let C=!0;p();const k=d++;return c.set(k,w),function(){if(C){if(m)throw new Error(Da(6));C=!1,p(),c.delete(k),o=null}}}function b(w){if(!u1(w))throw new Error(Da(7));if(typeof w.type>"u")throw new Error(Da(8));if(typeof w.type!="string")throw new Error(Da(17));if(m)throw new Error(Da(9));try{m=!0,s=r(s,w)}finally{m=!1}return(o=c).forEach(k=>{k()}),w}function E(w){if(typeof w!="function")throw new Error(Da(10));r=w,b({type:xg.REPLACE})}function N(){const w=h;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Da(11));function k(){const M=C;M.next&&M.next(f())}return k(),{unsubscribe:w(k)}},[_5](){return this}}}return b({type:xg.INIT}),{dispatch:b,subscribe:h,getState:f,replaceReducer:E,[_5]:N}}function YK(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:xg.INIT})>"u")throw new Error(Da(12));if(typeof a(void 0,{type:xg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Da(13))})}function WP(e){const t=Object.keys(e),a={};for(let o=0;o<t.length;o++){const c=t[o];typeof e[c]=="function"&&(a[c]=e[c])}const r=Object.keys(a);let s;try{YK(a)}catch(o){s=o}return function(c={},d){if(s)throw s;let m=!1;const p={};for(let f=0;f<r.length;f++){const h=r[f],b=a[h],E=c[h],N=b(E,d);if(typeof N>"u")throw d&&d.type,new Error(Da(14));p[h]=N,m=m||N!==E}return m=m||r.length!==Object.keys(c).length,m?p:c}}function Eg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function QK(...e){return t=>(a,r)=>{const s=t(a,r);let o=()=>{throw new Error(Da(15))};const c={getState:s.getState,dispatch:(m,...p)=>o(m,...p)},d=e.map(m=>m(c));return o=Eg(...d)(s.dispatch),{...s,dispatch:o}}}function ZP(e){return u1(e)&&"type"in e&&typeof e.type=="string"}var JP=Symbol.for("immer-nothing"),P5=Symbol.for("immer-draftable"),qa=Symbol.for("immer-state");function ln(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var hr=Object,Fo=hr.getPrototypeOf,Ng="constructor",E0="prototype",mx="configurable",wg="enumerable",Hf="writable",Fu="value",Tl=e=>!!e&&!!e[qa];function dn(e){return e?e6(e)||N0(e)||!!e[P5]||!!e[Ng]?.[P5]||w0(e)||S0(e):!1}var XK=hr[E0][Ng].toString(),M5=new WeakMap;function e6(e){if(!e||!m1(e))return!1;const t=Fo(e);if(t===null||t===hr[E0])return!0;const a=hr.hasOwnProperty.call(t,Ng)&&t[Ng];if(a===Object)return!0;if(!Eo(a))return!1;let r=M5.get(a);return r===void 0&&(r=Function.toString.call(a),M5.set(a,r)),r===XK}function gm(e,t,a=!0){pm(e)===0?(a?Reflect.ownKeys(e):hr.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function pm(e){const t=e[qa];return t?t.type_:N0(e)?1:w0(e)?2:S0(e)?3:0}var R5=(e,t,a=pm(e))=>a===2?e.has(t):hr[E0].hasOwnProperty.call(e,t),dx=(e,t,a=pm(e))=>a===2?e.get(t):e[t],Sg=(e,t,a,r=pm(e))=>{r===2?e.set(t,a):r===3?e.add(a):e[t]=a};function WK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var N0=Array.isArray,w0=e=>e instanceof Map,S0=e=>e instanceof Set,m1=e=>typeof e=="object",Eo=e=>typeof e=="function",Lv=e=>typeof e=="boolean",dl=e=>e.copy_||e.base_,d1=e=>e.modified_?e.copy_:e.base_;function fx(e,t){if(w0(e))return new Map(e);if(S0(e))return new Set(e);if(N0(e))return Array[E0].slice.call(e);const a=e6(e);if(t===!0||t==="class_only"&&!a){const r=hr.getOwnPropertyDescriptors(e);delete r[qa];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const c=s[o],d=r[c];d[Hf]===!1&&(d[Hf]=!0,d[mx]=!0),(d.get||d.set)&&(r[c]={[mx]:!0,[Hf]:!0,[wg]:d[wg],[Fu]:e[c]})}return hr.create(Fo(e),r)}else{const r=Fo(e);if(r!==null&&a)return{...e};const s=hr.create(r);return hr.assign(s,e)}}function f1(e,t=!1){return C0(e)||Tl(e)||!dn(e)||(pm(e)>1&&hr.defineProperties(e,{set:lf,add:lf,clear:lf,delete:lf}),hr.freeze(e),t&&gm(e,(a,r)=>{f1(r,!0)},!1)),e}function ZK(){ln(2)}var lf={[Fu]:ZK};function C0(e){return e===null||!m1(e)?!0:hr.isFrozen(e)}var Cg="MapSet",gx="Patches",t6={};function $o(e){const t=t6[e];return t||ln(0,e),t}var JK=e=>!!t6[e],$u,a6=()=>$u,eY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:JK(Cg)?$o(Cg):void 0});function L5(e,t){t&&(e.patchPlugin_=$o(gx),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function px(e){hx(e),e.drafts_.forEach(tY),e.drafts_=null}function hx(e){e===$u&&($u=e.parent_)}var j5=e=>$u=eY($u,e);function tY(e){const t=e[qa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function z5(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];if(e!==void 0&&e!==a){a[qa].modified_&&(px(t),ln(4)),dn(e)&&(e=U5(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(a[qa].base_,e,t)}else e=U5(t,a);return aY(t,e,!0),px(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==JP?e:void 0}function U5(e,t){if(C0(t))return t;const a=t[qa];if(!a)return g1(t,e.handledSet_,e);if(!A0(a,e))return t;if(!a.modified_)return a.base_;if(!a.finalized_){const{callbacks_:r}=a;if(r)for(;r.length>0;)r.pop()(e);l6(a,e)}return a.copy_}function aY(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&f1(t,a)}function r6(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var A0=(e,t)=>e.scope_===t,rY=[];function n6(e,t,a,r){const s=dl(e),o=e.type_;if(r!==void 0&&dx(s,r,o)===t){Sg(s,r,a,o);return}if(!e.draftLocations_){const d=e.draftLocations_=new Map;gm(s,(m,p)=>{if(Tl(p)){const f=d.get(p)||[];f.push(m),d.set(p,f)}})}const c=e.draftLocations_.get(t)??rY;for(const d of c)Sg(s,d,a,o)}function nY(e,t,a){e.callbacks_.push(function(s){const o=t;if(!o||!A0(o,s))return;s.mapSetPlugin_?.fixSetContents(o);const c=d1(o);n6(e,o.draft_??o,c,a),l6(o,s)})}function l6(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const s=r.getPath(e);s&&r.generatePatches_(e,s,t)}r6(e)}}function lY(e,t,a){const{scope_:r}=e;if(Tl(a)){const s=a[qa];A0(s,r)&&s.callbacks_.push(function(){Gf(e);const c=d1(s);n6(e,a,c,t)})}else dn(a)&&e.callbacks_.push(function(){const o=dl(e);dx(o,t,e.type_)===a&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&g1(dx(e.copy_,t,e.type_),r.handledSet_,r)})}function g1(e,t,a){return!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||Tl(e)||t.has(e)||!dn(e)||C0(e)||(t.add(e),gm(e,(r,s)=>{if(Tl(s)){const o=s[qa];if(A0(o,a)){const c=d1(o);Sg(e,r,c,e.type_),r6(o)}}else dn(s)&&g1(s,t,a)})),e}function sY(e,t){const a=N0(e),r={type_:a?1:0,scope_:t?t.scope_:a6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=r,o=p1;a&&(s=[r],o=Bu);const{revoke:c,proxy:d}=Proxy.revocable(s,o);return r.draft_=d,r.revoke_=c,[d,r]}var p1={get(e,t){if(t===qa)return e;const a=dl(e);if(!R5(a,t,e.type_))return iY(e,a,t);const r=a[t];if(e.finalized_||!dn(r))return r;if(r===jv(e.base_,t)){Gf(e);const s=e.type_===1?+t:t,o=vx(e.scope_,r,e,s);return e.copy_[s]=o}return r},has(e,t){return t in dl(e)},ownKeys(e){return Reflect.ownKeys(dl(e))},set(e,t,a){const r=s6(dl(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=jv(dl(e),t),o=s?.[qa];if(o&&o.base_===a)return e.copy_[t]=a,e.assigned_.set(t,!1),!0;if(WK(a,s)&&(a!==void 0||R5(e.base_,t,e.type_)))return!0;Gf(e),yx(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_.set(t,!0),lY(e,t,a)),!0},deleteProperty(e,t){return Gf(e),jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),yx(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=dl(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{[Hf]:!0,[mx]:e.type_!==1||t!=="length",[wg]:r[wg],[Fu]:a[t]}},defineProperty(){ln(11)},getPrototypeOf(e){return Fo(e.base_)},setPrototypeOf(){ln(12)}},Bu={};gm(p1,(e,t)=>{Bu[e]=function(){const a=arguments;return a[0]=a[0][0],t.apply(this,a)}});Bu.deleteProperty=function(e,t){return Bu.set.call(this,e,t,void 0)};Bu.set=function(e,t,a){return p1.set.call(this,e[0],t,a,e[0])};function jv(e,t){const a=e[qa];return(a?dl(a):e)[t]}function iY(e,t,a){const r=s6(t,a);return r?Fu in r?r[Fu]:r.get?.call(e.draft_):void 0}function s6(e,t){if(!(t in e))return;let a=Fo(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=Fo(a)}}function yx(e){e.modified_||(e.modified_=!0,e.parent_&&yx(e.parent_))}function Gf(e){e.copy_||(e.assigned_=new Map,e.copy_=fx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,r,s)=>{if(Eo(a)&&!Eo(r)){const c=r;r=a;const d=this;return function(p=c,...f){return d.produce(p,h=>r.call(this,h,...f))}}Eo(r)||ln(6),s!==void 0&&!Eo(s)&&ln(7);let o;if(dn(a)){const c=j5(this),d=vx(c,a,void 0);let m=!0;try{o=r(d),m=!1}finally{m?px(c):hx(c)}return L5(c,s),z5(o,c)}else if(!a||!m1(a)){if(o=r(a),o===void 0&&(o=a),o===JP&&(o=void 0),this.autoFreeze_&&f1(o,!0),s){const c=[],d=[];$o(gx).generateReplacementPatches_(a,o,{patches_:c,inversePatches_:d}),s(c,d)}return o}else ln(1,a)},this.produceWithPatches=(a,r)=>{if(Eo(a))return(d,...m)=>this.produceWithPatches(d,p=>a(p,...m));let s,o;return[this.produce(a,r,(d,m)=>{s=d,o=m}),s,o]},Lv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Lv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Lv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){dn(t)||ln(8),Tl(t)&&(t=mn(t));const a=j5(this),r=vx(a,t,void 0);return r[qa].isManual_=!0,hx(a),r}finishDraft(t,a){const r=t&&t[qa];(!r||!r.isManual_)&&ln(9);const{scope_:s}=r;return L5(s,a),z5(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,a){let r;for(r=a.length-1;r>=0;r--){const o=a[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(a=a.slice(r+1));const s=$o(gx).applyPatches_;return Tl(t)?s(t,a):this.produce(t,o=>s(o,a))}};function vx(e,t,a,r){const[s,o]=w0(t)?$o(Cg).proxyMap_(t,a):S0(t)?$o(Cg).proxySet_(t,a):sY(t,a);return(a?.scope_??a6()).drafts_.push(s),o.callbacks_=a?.callbacks_??[],o.key_=r,a&&r!==void 0?nY(a,o,r):o.callbacks_.push(function(m){m.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:p}=m;o.modified_&&p&&p.generatePatches_(o,[],m)}),s}function mn(e){return Tl(e)||ln(10,e),i6(e)}function i6(e){if(!dn(e)||C0(e))return e;const t=e[qa];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=fx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=fx(e,!0);return gm(a,(s,o)=>{Sg(a,s,i6(o))},r),t&&(t.finalized_=!1),a}var cY=new oY,o6=cY.produce;function c6(e){return({dispatch:a,getState:r})=>s=>o=>typeof o=="function"?o(a,r,e):s(o)}var uY=c6(),mY=c6,dY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eg:Eg.apply(null,arguments)};function qr(e,t){function a(...r){if(t){let s=t(...r);if(!s)throw new Error(vr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>ZP(r)&&r.type===e,a}var u6=class Nu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nu.prototype)}static get[Symbol.species](){return Nu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nu(...t[0].concat(this)):new Nu(...t.concat(this))}};function I5(e){return dn(e)?o6(e,()=>{}):e}function sf(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function fY(e){return typeof e=="boolean"}var gY=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let c=new u6;return a&&(fY(a)?c.push(uY):c.push(mY(a.extraArgument))),c},m6="RTK_autoBatch",kt=()=>e=>({payload:e,meta:{[m6]:!0}}),F5=e=>t=>{setTimeout(t,e)},d6=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let s=!0,o=!1,c=!1;const d=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:F5(10):e.type==="callback"?e.queueNotification:F5(e.timeout),p=()=>{c=!1,o&&(o=!1,d.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const h=()=>s&&f(),b=r.subscribe(h);return d.add(f),()=>{b(),d.delete(f)}},dispatch(f){try{return s=!f?.meta?.[m6],o=!s,o&&(c||(c=!0,m(p))),r.dispatch(f)}finally{s=!0}}})},pY=e=>function(a){const{autoBatch:r=!0}=a??{};let s=new u6(e);return r&&s.push(d6(typeof r=="object"?r:void 0)),s};function hY(e){const t=gY(),{reducer:a=void 0,middleware:r,devTools:s=!0,preloadedState:o=void 0,enhancers:c=void 0}=e||{};let d;if(typeof a=="function")d=a;else if(u1(a))d=WP(a);else throw new Error(vr(1));let m;typeof r=="function"?m=r(t):m=t();let p=Eg;s&&(p=dY({trace:!1,...typeof s=="object"&&s}));const f=QK(...m),h=pY(f);let b=typeof c=="function"?c(h):h();const E=p(...b);return XP(d,o,E)}function f6(e){const t={},a=[];let r;const s={addCase(o,c){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(vr(28));if(d in t)throw new Error(vr(29));return t[d]=c,s},addAsyncThunk(o,c){return c.pending&&(t[o.pending.type]=c.pending),c.rejected&&(t[o.rejected.type]=c.rejected),c.fulfilled&&(t[o.fulfilled.type]=c.fulfilled),c.settled&&a.push({matcher:o.settled,reducer:c.settled}),s},addMatcher(o,c){return a.push({matcher:o,reducer:c}),s},addDefaultCase(o){return r=o,s}};return e(s),[t,a,r]}function yY(e){return typeof e=="function"}function vY(e,t){let[a,r,s]=f6(t),o;if(yY(e))o=()=>I5(e());else{const d=I5(e);o=()=>d}function c(d=o(),m){let p=[a[m.type],...r.filter(({matcher:f})=>f(m)).map(({reducer:f})=>f)];return p.filter(f=>!!f).length===0&&(p=[s]),p.reduce((f,h)=>{if(h)if(Tl(f)){const E=h(f,m);return E===void 0?f:E}else{if(dn(f))return o6(f,b=>h(b,m));{const b=h(f,m);if(b===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return f},d)}return c.getInitialState=o,c}var bY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",xY=(e=21)=>{let t="",a=e;for(;a--;)t+=bY[Math.random()*64|0];return t},EY=Symbol.for("rtk-slice-createasyncthunk");function NY(e,t){return`${e}/${t}`}function wY({creators:e}={}){const t=e?.asyncThunk?.[EY];return function(r){const{name:s,reducerPath:o=s}=r;if(!s)throw new Error(vr(11));const c=(typeof r.reducers=="function"?r.reducers(CY()):r.reducers)||{},d=Object.keys(c),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(A,M){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(vr(12));if(O in m.sliceCaseReducersByType)throw new Error(vr(13));return m.sliceCaseReducersByType[O]=M,p},addMatcher(A,M){return m.sliceMatchers.push({matcher:A,reducer:M}),p},exposeAction(A,M){return m.actionCreators[A]=M,p},exposeCaseReducer(A,M){return m.sliceCaseReducersByName[A]=M,p}};d.forEach(A=>{const M=c[A],O={reducerName:A,type:NY(s,A),createNotation:typeof r.reducers=="function"};TY(M)?kY(O,M,p,t):AY(O,M,p)});function f(){const[A={},M=[],O=void 0]=typeof r.extraReducers=="function"?f6(r.extraReducers):[r.extraReducers],D={...A,...m.sliceCaseReducersByType};return vY(r.initialState,_=>{for(let P in D)_.addCase(P,D[P]);for(let P of m.sliceMatchers)_.addMatcher(P.matcher,P.reducer);for(let P of M)_.addMatcher(P.matcher,P.reducer);O&&_.addDefaultCase(O)})}const h=A=>A,b=new Map,E=new WeakMap;let N;function S(A,M){return N||(N=f()),N(A,M)}function w(){return N||(N=f()),N.getInitialState()}function C(A,M=!1){function O(_){let P=_[A];return typeof P>"u"&&M&&(P=sf(E,O,w)),P}function D(_=h){const P=sf(b,M,()=>new WeakMap);return sf(P,_,()=>{const R={};for(const[U,L]of Object.entries(r.selectors??{}))R[U]=SY(L,_,()=>sf(E,_,w),M);return R})}return{reducerPath:A,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const k={name:s,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:w,...C(o),injectInto(A,{reducerPath:M,...O}={}){const D=M??o;return A.inject({reducerPath:D,reducer:S},O),{...k,...C(D,!0)}}};return k}}function SY(e,t,a,r){function s(o,...c){let d=t(o);return typeof d>"u"&&r&&(d=a()),e(d,...c)}return s.unwrapped=e,s}var lr=wY();function CY(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function AY({type:e,reducerName:t,createNotation:a},r,s){let o,c;if("reducer"in r){if(a&&!OY(r))throw new Error(vr(17));o=r.reducer,c=r.prepare}else o=r;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,c?qr(e,c):qr(e))}function TY(e){return e._reducerDefinitionType==="asyncThunk"}function OY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function kY({type:e,reducerName:t},a,r,s){if(!s)throw new Error(vr(18));const{payloadCreator:o,fulfilled:c,pending:d,rejected:m,settled:p,options:f}=a,h=s(e,o,f);r.exposeAction(t,h),c&&r.addCase(h.fulfilled,c),d&&r.addCase(h.pending,d),m&&r.addCase(h.rejected,m),p&&r.addMatcher(h.settled,p),r.exposeCaseReducer(t,{fulfilled:c||of,pending:d||of,rejected:m||of,settled:p||of})}function of(){}var DY="task",g6="listener",p6="completed",h1="cancelled",_Y=`task-${h1}`,PY=`task-${p6}`,bx=`${g6}-${h1}`,MY=`${g6}-${p6}`,T0=class{constructor(e){this.code=e,this.message=`${DY} ${h1} (reason: ${e})`}name="TaskAbortError";message},y1=(e,t)=>{if(typeof e!="function")throw new TypeError(vr(32))},Ag=()=>{},h6=(e,t=Ag)=>(e.catch(t),e),y6=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),hi=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},yi=e=>{if(e.aborted){const{reason:t}=e;throw new T0(t)}};function v6(e,t){let a=Ag;return new Promise((r,s)=>{const o=()=>s(new T0(e.reason));if(e.aborted){o();return}a=y6(e,o),t.finally(()=>a()).then(r,s)}).finally(()=>{a=Ag})}var RY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof T0?"cancelled":"rejected",error:a}}finally{t?.()}},Tg=e=>t=>h6(v6(e,t).then(a=>(yi(e),a))),b6=e=>{const t=Tg(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:Po}=Object,$5={},O0="listenerMiddleware",LY=(e,t)=>{const a=r=>y6(e,()=>hi(r,e.reason));return(r,s)=>{y1(r);const o=new AbortController;a(o);const c=RY(async()=>{yi(e),yi(o.signal);const d=await r({pause:Tg(o.signal),delay:b6(o.signal),signal:o.signal});return yi(o.signal),d},()=>hi(o,PY));return s?.autoJoin&&t.push(c.catch(Ag)),{result:Tg(e)(c),cancel(){hi(o,_Y)}}}},jY=(e,t)=>{const a=async(r,s)=>{yi(t);let o=()=>{};const d=[new Promise((m,p)=>{let f=e({predicate:r,effect:(h,b)=>{b.unsubscribe(),m([h,b.getState(),b.getOriginalState()])}});o=()=>{f(),p()}})];s!=null&&d.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await v6(t,Promise.race(d));return yi(t),m}finally{o()}};return(r,s)=>h6(a(r,s))},x6=e=>{let{type:t,actionCreator:a,matcher:r,predicate:s,effect:o}=e;if(t)s=qr(t).match;else if(a)t=a.type,s=a.match;else if(r)s=r;else if(!s)throw new Error(vr(21));return y1(o),{predicate:s,type:t,effect:o}},E6=Po(e=>{const{type:t,predicate:a,effect:r}=x6(e);return{id:xY(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(vr(22))}}},{withTypes:()=>E6}),B5=(e,t)=>{const{type:a,effect:r,predicate:s}=x6(t);return Array.from(e.values()).find(o=>(typeof a=="string"?o.type===a:o.predicate===s)&&o.effect===r)},xx=e=>{e.pending.forEach(t=>{hi(t,bx)})},zY=(e,t)=>()=>{for(const a of t.keys())xx(a);e.clear()},V5=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},N6=Po(qr(`${O0}/add`),{withTypes:()=>N6}),UY=qr(`${O0}/removeAll`),w6=Po(qr(`${O0}/remove`),{withTypes:()=>w6}),IY=(...e)=>{console.error(`${O0}/error`,...e)},hm=(e={})=>{const t=new Map,a=new Map,r=E=>{const N=a.get(E)??0;a.set(E,N+1)},s=E=>{const N=a.get(E)??1;N===1?a.delete(E):a.set(E,N-1)},{extra:o,onError:c=IY}=e;y1(c);const d=E=>(E.unsubscribe=()=>t.delete(E.id),t.set(E.id,E),N=>{E.unsubscribe(),N?.cancelActive&&xx(E)}),m=E=>{const N=B5(t,E)??E6(E);return d(N)};Po(m,{withTypes:()=>m});const p=E=>{const N=B5(t,E);return N&&(N.unsubscribe(),E.cancelActive&&xx(N)),!!N};Po(p,{withTypes:()=>p});const f=async(E,N,S,w)=>{const C=new AbortController,k=jY(m,C.signal),A=[];try{E.pending.add(C),r(E),await Promise.resolve(E.effect(N,Po({},S,{getOriginalState:w,condition:(M,O)=>k(M,O).then(Boolean),take:k,delay:b6(C.signal),pause:Tg(C.signal),extra:o,signal:C.signal,fork:LY(C.signal,A),unsubscribe:E.unsubscribe,subscribe:()=>{t.set(E.id,E)},cancelActiveListeners:()=>{E.pending.forEach((M,O,D)=>{M!==C&&(hi(M,bx),D.delete(M))})},cancel:()=>{hi(C,bx),E.pending.delete(C)},throwIfCancelled:()=>{yi(C.signal)}})))}catch(M){M instanceof T0||V5(c,M,{raisedBy:"effect"})}finally{await Promise.all(A),hi(C,MY),s(E),E.pending.delete(C)}},h=zY(t,a);return{middleware:E=>N=>S=>{if(!ZP(S))return N(S);if(N6.match(S))return m(S.payload);if(UY.match(S)){h();return}if(w6.match(S))return p(S.payload);let w=E.getState();const C=()=>{if(w===$5)throw new Error(vr(23));return w};let k;try{if(k=N(S),t.size>0){const A=E.getState(),M=Array.from(t.values());for(const O of M){let D=!1;try{D=O.predicate(S,A,w)}catch(_){D=!1,V5(c,_,{raisedBy:"predicate"})}D&&f(O,S,E,C)}}}finally{w=$5}return k},startListening:m,stopListening:p,clearListeners:h}};function vr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var FY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},S6=lr({name:"chartLayout",initialState:FY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var a,r,s,o;e.margin.top=(a=t.payload.top)!==null&&a!==void 0?a:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:$Y,setLayout:BY,setChartSize:VY,setScale:qY}=S6.actions,HY=S6.reducer;function C6(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function q5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Oo(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(a),!0).forEach(function(r){GY(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q5(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function GY(e,t,a){return(t=KY(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yt(e,t,a){return br(e)||br(t)?a:Al(t)?Uu(e,t,a):typeof t=="function"?t(e):a}var QY=(e,t,a)=>{if(t&&a){var{width:r,height:s}=a,{align:o,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&o!=="center"&&Be(e[o]))return Oo(Oo({},e),{},{[o]:e[o]+(r||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&c!=="middle"&&Be(e[c]))return Oo(Oo({},e),{},{[c]:e[c]+(s||0)})}return e},Oi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",H5=1e-4,XY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),s=Math.min(r[0],r[1])-H5,o=Math.max(r[0],r[1])+H5,c=e(t[0]),d=e(t[a-1]);(c<s||c>o||d<s||d>o)&&e.domain([t[0],t[a-1]])}},WY=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,o=0,c=0;c<t;++c){var d=Sl(e[c][a][1])?e[c][a][0]:e[c][a][1];d>=0?(e[c][a][0]=s,e[c][a][1]=s+d,s=e[c][a][1]):(e[c][a][0]=o,e[c][a][1]=o+d,o=e[c][a][1])}},ZY=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,o=0;o<t;++o){var c=Sl(e[o][a][1])?e[o][a][0]:e[o][a][1];c>=0?(e[o][a][0]=s,e[o][a][1]=s+c,s=e[o][a][1]):(e[o][a][0]=0,e[o][a][1]=0)}},JY={sign:WY,expand:vG,none:Io,silhouette:bG,wiggle:xG,positive:ZY},eQ=(e,t,a)=>{var r=JY[a],s=yG().keys(t).value((o,c)=>Number(Yt(o,c,0))).order(cx).offset(r);return s(e)},tQ=e=>{var t=e.flat(2).filter(Be);return[Math.min(...t),Math.max(...t)]},aQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],rQ=(e,t,a)=>{if(e!=null)return aQ(Object.keys(e).reduce((r,s)=>{var o=e[s],{stackedData:c}=o,d=c.reduce((m,p)=>{var f=C6(p,t,a),h=tQ(f);return[Math.min(m[0],h[0]),Math.max(m[1],h[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},G5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Y5=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();return r}if(e&&t&&t.length>=2){for(var s=x0(t,f=>f.coordinate),o=1/0,c=1,d=s.length;c<d;c++){var m=s[c],p=s[c-1];o=Math.min((m.coordinate||0)-(p.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0};function Q5(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:s,name:o}=e;return Oo(Oo({},t),{},{dataKey:a,payload:r,value:s,name:o})}function A6(e,t){if(e)return String(e);if(typeof t=="string")return t}var nQ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},lQ=(e,t)=>t==="centric"?e.angle:e.radius,Rl=e=>e.layout.width,Ll=e=>e.layout.height,sQ=e=>e.layout.scale,T6=e=>e.layout.margin,k0=re(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),D0=re(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),O6="data-recharts-item-index",k6="data-recharts-item-data-key",ym=60;function X5(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function cf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(a),!0).forEach(function(r){iQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X5(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function iQ(e,t,a){return(t=oQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oQ(e){var t=cQ(e,"string");return typeof t=="symbol"?t:t+""}function cQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uQ=e=>e.brush.height;function mQ(e){var t=D0(e);return t.reduce((a,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:ym;return a+s}return a},0)}function dQ(e){var t=D0(e);return t.reduce((a,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var s=typeof r.width=="number"?r.width:ym;return a+s}return a},0)}function fQ(e){var t=k0(e);return t.reduce((a,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?a+r.height:a,0)}function gQ(e){var t=k0(e);return t.reduce((a,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?a+r.height:a,0)}var Sa=re([Rl,Ll,T6,uQ,mQ,dQ,fQ,gQ,YP,BK],(e,t,a,r,s,o,c,d,m,p)=>{var f={left:(a.left||0)+s,right:(a.right||0)+o},h={top:(a.top||0)+c,bottom:(a.bottom||0)+d},b=cf(cf({},h),f),E=b.bottom;b.bottom+=r,b=QY(b,m,p);var N=e-b.left-b.right,S=t-b.top-b.bottom;return cf(cf({brushBottom:E},b),{},{width:Math.max(N,0),height:Math.max(S,0)})}),pQ=re(Sa,e=>({x:e.left,y:e.top,width:e.width,height:e.height}));re(Rl,Ll,(e,t)=>({x:0,y:0,width:e,height:t}));var hQ=y.createContext(null),Ds=()=>y.useContext(hQ)!=null,_0=e=>e.brush,P0=re([_0,Sa,T6],(e,t,a)=>({height:e.height,x:Be(e.x)?e.x:t.left,y:Be(e.y)?e.y:t.top+t.height+t.brushBottom-(a?.bottom||0),width:Be(e.width)?e.width:t.width})),zv={},Uv={},Iv={},W5;function yQ(){return W5||(W5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:s,edges:o}={}){let c,d=null;const m=o!=null&&o.includes("leading"),p=o==null||o.includes("trailing"),f=()=>{d!==null&&(a.apply(c,d),c=void 0,d=null)},h=()=>{p&&f(),S()};let b=null;const E=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,h()},r)},N=()=>{b!==null&&(clearTimeout(b),b=null)},S=()=>{N(),c=void 0,d=null},w=()=>{f()},C=function(...k){if(s?.aborted)return;c=this,d=k;const A=b==null;E(),m&&A&&f()};return C.schedule=E,C.cancel=S,C.flush=w,s?.addEventListener("abort",S,{once:!0}),C}e.debounce=t})(Iv)),Iv}var Z5;function vQ(){return Z5||(Z5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yQ();function a(r,s=0,o={}){typeof o!="object"&&(o={});const{leading:c=!1,trailing:d=!0,maxWait:m}=o,p=Array(2);c&&(p[0]="leading"),d&&(p[1]="trailing");let f,h=null;const b=t.debounce(function(...S){f=r.apply(this,S),h=null},s,{edges:p}),E=function(...S){return m!=null&&(h===null&&(h=Date.now()),Date.now()-h>=m)?(f=r.apply(this,S),h=Date.now(),b.cancel(),b.schedule(),f):(b.apply(this,S),f)},N=()=>(b.flush(),f);return E.cancel=b.cancel,E.flush=N,E}e.debounce=a})(Uv)),Uv}var J5;function bQ(){return J5||(J5=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vQ();function a(r,s=0,o={}){const{leading:c=!0,trailing:d=!0}=o;return t.debounce(r,s,{leading:c,maxWait:s,trailing:d})}e.throttle=a})(zv)),zv}var Fv,eT;function xQ(){return eT||(eT=1,Fv=bQ().throttle),Fv}var EQ=xQ();const NQ=Pl(EQ);var tT=function(t,a){for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(a===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(a===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(a.replace(/%s/g,()=>s[c++]))}},D6=(e,t,a)=>{var{width:r="100%",height:s="100%",aspect:o,maxHeight:c}=a,d=Cl(r)?e:Number(r),m=Cl(s)?t:Number(s);return o&&o>0&&(d?m=d/o:m&&(d=m*o),c&&m!=null&&m>c&&(m=c)),{calculatedWidth:d,calculatedHeight:m}},wQ={width:0,height:0,overflow:"visible"},SQ={width:0,overflowX:"visible"},CQ={height:0,overflowY:"visible"},AQ={},TQ=e=>{var{width:t,height:a}=e,r=Cl(t),s=Cl(a);return r&&s?wQ:r?SQ:s?CQ:AQ};function OQ(e){var{width:t,height:a,aspect:r}=e,s=t,o=a;return s===void 0&&o===void 0?(s="100%",o="100%"):s===void 0?s=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:s,height:o}}function wa(e){return Number.isFinite(e)}function As(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ex.apply(null,arguments)}function aT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function rT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(a),!0).forEach(function(r){kQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kQ(e,t,a){return(t=DQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function DQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _6=y.createContext({width:-1,height:-1});function PQ(e){return As(e.width)&&As(e.height)}function P6(e){var{children:t,width:a,height:r}=e,s=y.useMemo(()=>({width:a,height:r}),[a,r]);return PQ(s)?y.createElement(_6.Provider,{value:s},t):null}var v1=()=>y.useContext(_6),MQ=y.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:s,height:o,minWidth:c=0,minHeight:d,maxHeight:m,children:p,debounce:f=0,id:h,className:b,onResize:E,style:N={}}=e,S=y.useRef(null),w=y.useRef();w.current=E,y.useImperativeHandle(t,()=>S.current);var[C,k]=y.useState({containerWidth:r.width,containerHeight:r.height}),A=y.useCallback((P,R)=>{k(U=>{var L=Math.round(P),I=Math.round(R);return U.containerWidth===L&&U.containerHeight===I?U:{containerWidth:L,containerHeight:I}})},[]);y.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return fm;var P=I=>{var ae,{width:ne,height:ue}=I[0].contentRect;A(ne,ue),(ae=w.current)===null||ae===void 0||ae.call(w,ne,ue)};f>0&&(P=NQ(P,f,{trailing:!0,leading:!1}));var R=new ResizeObserver(P),{width:U,height:L}=S.current.getBoundingClientRect();return A(U,L),R.observe(S.current),()=>{R.disconnect()}},[A,f]);var{containerWidth:M,containerHeight:O}=C;tT(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:D,calculatedHeight:_}=D6(M,O,{width:s,height:o,aspect:a,maxHeight:m});return tT(D!=null&&D>0||_!=null&&_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,_,s,o,c,d,a),y.createElement("div",{id:h?"".concat(h):void 0,className:Xt("recharts-responsive-container",b),style:rT(rT({},N),{},{width:s,height:o,minWidth:c,minHeight:d,maxHeight:m}),ref:S},y.createElement("div",{style:TQ({width:s,height:o})},y.createElement(P6,{width:D,height:_},p)))}),Nx=y.forwardRef((e,t)=>{var a=v1();if(As(a.width)&&As(a.height))return e.children;var{width:r,height:s}=OQ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:c}=D6(void 0,void 0,{width:r,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Be(o)&&Be(c)?y.createElement(P6,{width:o,height:c},e.children):y.createElement(MQ,Ex({},e,{width:r,height:s,ref:t}))});function M6(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var M0=()=>{var e,t=Ds(),a=Ge(pQ),r=Ge(P0),s=(e=Ge(_0))===null||e===void 0?void 0:e.padding;return!t||!r||!s?a:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},RQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},LQ=()=>{var e;return(e=Ge(Sa))!==null&&e!==void 0?e:RQ},R6=()=>Ge(Rl),L6=()=>Ge(Ll),jQ=()=>Ge(e=>e.layout.margin),wt=e=>e.layout.layoutType,b1=()=>Ge(wt),zQ=()=>{var e=b1();return e!==void 0},R0=e=>{var t=Wt(),a=Ds(),{width:r,height:s}=e,o=v1(),c=r,d=s;return o&&(c=o.width>0?o.width:r,d=o.height>0?o.height:s),y.useEffect(()=>{!a&&As(c)&&As(d)&&t(VY({width:c,height:d}))},[t,a,c,d]),null},j6=Symbol.for("immer-nothing"),nT=Symbol.for("immer-draftable"),xr=Symbol.for("immer-state");function sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vu=Object.getPrototypeOf;function Bo(e){return!!e&&!!e[xr]}function wi(e){return e?z6(e)||Array.isArray(e)||!!e[nT]||!!e.constructor?.[nT]||vm(e)||j0(e):!1}var UQ=Object.prototype.constructor.toString(),lT=new WeakMap;function z6(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let r=lT.get(a);return r===void 0&&(r=Function.toString.call(a),lT.set(a,r)),r===UQ}function Og(e,t,a=!0){L0(e)===0?(a?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((r,s)=>t(s,r,e))}function L0(e){const t=e[xr];return t?t.type_:Array.isArray(e)?1:vm(e)?2:j0(e)?3:0}function wx(e,t){return L0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function U6(e,t,a){const r=L0(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function IQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vm(e){return e instanceof Map}function j0(e){return e instanceof Set}function si(e){return e.copy_||e.base_}function Sx(e,t){if(vm(e))return new Map(e);if(j0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=z6(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[xr];let s=Reflect.ownKeys(r);for(let o=0;o<s.length;o++){const c=s[o],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Vu(e),r)}else{const r=Vu(e);if(r!==null&&a)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function x1(e,t=!1){return z0(e)||Bo(e)||!wi(e)||(L0(e)>1&&Object.defineProperties(e,{set:uf,add:uf,clear:uf,delete:uf}),Object.freeze(e),t&&Object.values(e).forEach(a=>x1(a,!0))),e}function FQ(){sn(2)}var uf={value:FQ};function z0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var $Q={};function Si(e){const t=$Q[e];return t||sn(0,e),t}var qu;function I6(){return qu}function BQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sT(e,t){t&&(Si("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Cx(e){Ax(e),e.drafts_.forEach(VQ),e.drafts_=null}function Ax(e){e===qu&&(qu=e.parent_)}function iT(e){return qu=BQ(qu,e)}function VQ(e){const t=e[xr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[xr].modified_&&(Cx(t),sn(4)),wi(e)&&(e=kg(t,e),t.parent_||Dg(t,e)),t.patches_&&Si("Patches").generateReplacementPatches_(a[xr].base_,e,t.patches_,t.inversePatches_)):e=kg(t,a,[]),Cx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==j6?e:void 0}function kg(e,t,a){if(z0(t))return t;const r=e.immer_.shouldUseStrictIteration(),s=t[xr];if(!s)return Og(t,(o,c)=>cT(e,s,t,o,c,a),r),t;if(s.scope_!==e)return t;if(!s.modified_)return Dg(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const o=s.copy_;let c=o,d=!1;s.type_===3&&(c=new Set(o),o.clear(),d=!0),Og(c,(m,p)=>cT(e,s,o,m,p,a,d),r),Dg(e,o,!1),a&&e.patches_&&Si("Patches").generatePatches_(s,a,e.patches_,e.inversePatches_)}return s.copy_}function cT(e,t,a,r,s,o,c){if(s==null||typeof s!="object"&&!c)return;const d=z0(s);if(!(d&&!c)){if(Bo(s)){const m=o&&t&&t.type_!==3&&!wx(t.assigned_,r)?o.concat(r):void 0,p=kg(e,s,m);if(U6(a,r,p),Bo(p))e.canAutoFreeze_=!1;else return}else c&&a.add(s);if(wi(s)&&!d){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===s&&d)return;kg(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(vm(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))&&Dg(e,s)}}}function Dg(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&x1(t,a)}function qQ(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:I6(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=E1;a&&(s=[r],o=Hu);const{revoke:c,proxy:d}=Proxy.revocable(s,o);return r.draft_=d,r.revoke_=c,d}var E1={get(e,t){if(t===xr)return e;const a=si(e);if(!wx(a,t))return HQ(e,a,t);const r=a[t];return e.finalized_||!wi(r)?r:r===$v(e.base_,t)?(Bv(e),e.copy_[t]=Ox(r,e)):r},has(e,t){return t in si(e)},ownKeys(e){return Reflect.ownKeys(si(e))},set(e,t,a){const r=F6(si(e),t);if(r?.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=$v(si(e),t),o=s?.[xr];if(o&&o.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(IQ(a,s)&&(a!==void 0||wx(e.base_,t)))return!0;Bv(e),Tx(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return $v(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Bv(e),Tx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=si(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){sn(11)},getPrototypeOf(e){return Vu(e.base_)},setPrototypeOf(){sn(12)}},Hu={};Og(E1,(e,t)=>{Hu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hu.deleteProperty=function(e,t){return Hu.set.call(this,e,t,void 0)};Hu.set=function(e,t,a){return E1.set.call(this,e[0],t,a,e[0])};function $v(e,t){const a=e[xr];return(a?si(a):e)[t]}function HQ(e,t,a){const r=F6(t,a);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function F6(e,t){if(!(t in e))return;let a=Vu(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=Vu(a)}}function Tx(e){e.modified_||(e.modified_=!0,e.parent_&&Tx(e.parent_))}function Bv(e){e.copy_||(e.copy_=Sx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var GQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const o=a;a=t;const c=this;return function(m=o,...p){return c.produce(m,f=>a.call(this,f,...p))}}typeof a!="function"&&sn(6),r!==void 0&&typeof r!="function"&&sn(7);let s;if(wi(t)){const o=iT(this),c=Ox(t,void 0);let d=!0;try{s=a(c),d=!1}finally{d?Cx(o):Ax(o)}return sT(o,r),oT(s,o)}else if(!t||typeof t!="object"){if(s=a(t),s===void 0&&(s=t),s===j6&&(s=void 0),this.autoFreeze_&&x1(s,!0),r){const o=[],c=[];Si("Patches").generateReplacementPatches_(t,s,o,c),r(o,c)}return s}else sn(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,m=>t(m,...d));let r,s;return[this.produce(t,a,(c,d)=>{r=c,s=d}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wi(e)||sn(8),Bo(e)&&(e=KQ(e));const t=iT(this),a=Ox(e,void 0);return a[xr].isManual_=!0,Ax(t),a}finishDraft(e,t){const a=e&&e[xr];(!a||!a.isManual_)&&sn(9);const{scope_:r}=a;return sT(r,t),oT(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const s=t[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(t=t.slice(a+1));const r=Si("Patches").applyPatches_;return Bo(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Ox(e,t){const a=vm(e)?Si("MapSet").proxyMap_(e,t):j0(e)?Si("MapSet").proxySet_(e,t):qQ(e,t);return(t?t.scope_:I6()).drafts_.push(a),a}function KQ(e){return Bo(e)||sn(10,e),$6(e)}function $6(e){if(!wi(e)||z0(e))return e;const t=e[xr];let a,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=Sx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else a=Sx(e,!0);return Og(a,(s,o)=>{U6(a,s,$6(o))},r),t&&(t.finalized_=!1),a}var YQ=new GQ;YQ.produce;var QQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},B6=lr({name:"legend",initialState:QQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:kt()},replaceLegendPayload:{reducer(e,t){var{prev:a,next:r}=t.payload,s=mn(e).payload.indexOf(a);s>-1&&(e.payload[s]=r)},prepare:kt()},removeLegendPayload:{reducer(e,t){var a=mn(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)},prepare:kt()}}}),{setLegendSize:uT,setLegendSettings:XQ,addLegendPayload:WQ,replaceLegendPayload:ZQ,removeLegendPayload:JQ}=B6.actions,eX=B6.reducer,tX=["contextPayload"];function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},kx.apply(null,arguments)}function mT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vo(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(a),!0).forEach(function(r){aX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function aX(e,t,a){return(t=rX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lX(e,t){if(e==null)return{};var a,r,s=sX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function sX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function iX(e){return e.value}function oX(e){var{contextPayload:t}=e,a=lX(e,tX),r=qP(t,e.payloadUniqBy,iX),s=Vo(Vo({},a),{},{payload:r});return y.isValidElement(e.content)?y.cloneElement(e.content,s):typeof e.content=="function"?y.createElement(e.content,s):y.createElement(WG,s)}function cX(e,t,a,r,s,o){var{layout:c,align:d,verticalAlign:m}=t,p,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&c==="vertical"?p={left:((r||0)-o.width)/2}:p=d==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?f={top:((s||0)-o.height)/2}:f=m==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),Vo(Vo({},p),f)}function uX(e){var t=Wt();return y.useEffect(()=>{t(XQ(e))},[t,e]),null}function mX(e){var t=Wt();return y.useEffect(()=>(t(uT(e)),()=>{t(uT({width:0,height:0}))}),[t,e]),null}function dX(e,t,a,r){return e==="vertical"&&Be(t)?{height:t}:e==="horizontal"?{width:a||r}:null}var fX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function V6(e){var t=Kr(e,fX),a=HK(),r=$H(),s=jQ(),{width:o,height:c,wrapperStyle:d,portal:m}=t,[p,f]=QP([a]),h=R6(),b=L6();if(h==null||b==null)return null;var E=h-(s?.left||0)-(s?.right||0),N=dX(t.layout,c,o,E),S=m?d:Vo(Vo({position:"absolute",width:N?.width||o||"auto",height:N?.height||c||"auto"},cX(d,t,s,h,b,p)),d),w=m??r;if(w==null||a==null)return null;var C=y.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:f},y.createElement(uX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!m&&y.createElement(mX,{width:p.width,height:p.height}),y.createElement(oX,kx({},t,N,{margin:s,chartWidth:h,chartHeight:b,contextPayload:a})));return uE.createPortal(C,w)}V6.displayName="Legend";function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Dx.apply(null,arguments)}function dT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vv(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(a),!0).forEach(function(r){gX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gX(e,t,a){return(t=pX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yX(e){return Array.isArray(e)&&Al(e[0])&&Al(e[1])?e.join(" ~ "):e}var vX=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:s={},payload:o,formatter:c,itemSorter:d,wrapperClassName:m,labelClassName:p,label:f,labelFormatter:h,accessibilityLayer:b=!1}=e,E=()=>{if(o&&o.length){var O={padding:0,margin:0},D=(d?x0(o,d):o).map((_,P)=>{if(_.type==="none")return null;var R=_.formatter||c||yX,{value:U,name:L}=_,I=U,ae=L;if(R){var ne=R(U,L,_,P,o);if(Array.isArray(ne))[I,ae]=ne;else if(ne!=null)I=ne;else return null}var ue=Vv({display:"block",paddingTop:4,paddingBottom:4,color:_.color||"#000"},r);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:ue},Al(ae)?y.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Al(ae)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},I),y.createElement("span",{className:"recharts-tooltip-item-unit"},_.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},N=Vv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=Vv({margin:0},s),w=!br(f),C=w?f:"",k=Xt("recharts-default-tooltip",m),A=Xt("recharts-tooltip-label",p);w&&h&&o!==void 0&&o!==null&&(C=h(f,o));var M=b?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",Dx({className:k,style:N},M),y.createElement("p",{className:A,style:S},y.isValidElement(C)?C:"".concat(C)),E())},cu="recharts-tooltip-wrapper",bX={visibility:"hidden"};function xX(e){var{coordinate:t,translateX:a,translateY:r}=e;return Xt(cu,{["".concat(cu,"-right")]:Be(a)&&t&&Be(t.x)&&a>=t.x,["".concat(cu,"-left")]:Be(a)&&t&&Be(t.x)&&a<t.x,["".concat(cu,"-bottom")]:Be(r)&&t&&Be(t.y)&&r>=t.y,["".concat(cu,"-top")]:Be(r)&&t&&Be(t.y)&&r<t.y})}function fT(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:s,position:o,reverseDirection:c,tooltipDimension:d,viewBox:m,viewBoxDimension:p}=e;if(o&&Be(o[r]))return o[r];var f=a[r]-d-(s>0?s:0),h=a[r]+s;if(t[r])return c[r]?f:h;var b=m[r];if(b==null)return 0;if(c[r]){var E=f,N=b;return E<N?Math.max(h,b):Math.max(f,b)}if(p==null)return 0;var S=h+d,w=b+p;return S>w?Math.max(f,b):Math.max(h,b)}function EX(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function NX(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:s,reverseDirection:o,tooltipBox:c,useTranslate3d:d,viewBox:m}=e,p,f,h;return c.height>0&&c.width>0&&a?(f=fT({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),h=fT({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),p=EX({translateX:f,translateY:h,useTranslate3d:d})):p=bX,{cssProperties:p,cssClasses:xX({translateX:f,translateY:h,coordinate:a})}}function gT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function mf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(a),!0).forEach(function(r){_x(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function _x(e,t,a){return(t=wX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function wX(e){var t=SX(e,"string");return typeof t=="symbol"?t:t+""}function SX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CX extends y.PureComponent{constructor(){super(...arguments),_x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_x(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:s,children:o,coordinate:c,hasPayload:d,isAnimationActive:m,offset:p,position:f,reverseDirection:h,useTranslate3d:b,viewBox:E,wrapperStyle:N,lastBoundingBox:S,innerRef:w,hasPortalFromProps:C}=this.props,{cssClasses:k,cssProperties:A}=NX({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:f,reverseDirection:h,tooltipBox:{height:S.height,width:S.width},useTranslate3d:b,viewBox:E}),M=C?{}:mf(mf({transition:m&&t?"transform ".concat(r,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),O=mf(mf({},M),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},N);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:O,ref:w},o)}}var q6=()=>{var e;return(e=Ge(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Px(){return Px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Px.apply(null,arguments)}function pT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(a),!0).forEach(function(r){AX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function AX(e,t,a){return(t=TX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function TX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yT={curveBasisClosed:sG,curveBasisOpen:iG,curveBasis:lG,curveBumpX:HH,curveBumpY:GH,curveLinearClosed:oG,curveLinear:v0,curveMonotoneX:cG,curveMonotoneY:uG,curveNatural:mG,curveStep:dG,curveStepAfter:gG,curveStepBefore:fG},_g=e=>wa(e.x)&&wa(e.y),vT=e=>e.base!=null&&_g(e.base)&&_g(e),uu=e=>e.x,mu=e=>e.y,kX=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(dm(e));return(a==="curveMonotone"||a==="curveBump")&&t?yT["".concat(a).concat(t==="vertical"?"Y":"X")]:yT[a]||v0},DX=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:s,connectNulls:o=!1}=e,c=kX(t,s),d=o?a.filter(_g):a,m;if(Array.isArray(r)){var p=a.map((E,N)=>hT(hT({},E),{},{base:r[N]}));s==="vertical"?m=af().y(mu).x1(uu).x0(E=>E.base.x):m=af().x(uu).y1(mu).y0(E=>E.base.y);var f=m.defined(vT).curve(c),h=o?p.filter(vT):p;return f(h)}s==="vertical"&&Be(r)?m=af().y(mu).x1(uu).x0(r):Be(r)?m=af().x(uu).y1(mu).y0(r):m=bP().x(uu).y(mu);var b=m.defined(_g).curve(c);return b(d)},N1=e=>{var{className:t,points:a,path:r,pathRef:s}=e;if((!a||!a.length)&&!r)return null;var o=a&&a.length?DX(e):r;return y.createElement("path",Px({},Uo(e),UG(e),{className:Xt("recharts-curve",t),d:o===null?void 0:o,ref:s}))},_X=["x","y","top","left","width","height","className"];function Mx(){return Mx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mx.apply(null,arguments)}function bT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function PX(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(a),!0).forEach(function(r){MX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function MX(e,t,a){return(t=RX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function RX(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jX(e,t){if(e==null)return{};var a,r,s=zX(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function zX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var UX=(e,t,a,r,s,o)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(a),IX=e=>{var{x:t=0,y:a=0,top:r=0,left:s=0,width:o=0,height:c=0,className:d}=e,m=jX(e,_X),p=PX({x:t,y:a,top:r,left:s,width:o,height:c},m);return!Be(t)||!Be(a)||!Be(o)||!Be(c)||!Be(r)||!Be(s)?null:y.createElement("path",Mx({},Vr(p),{className:Xt("recharts-cross",d),d:UX(t,a,o,c,r,s)}))};function FX(e,t,a,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-s,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function xT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ET(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(a),!0).forEach(function(r){$X(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function $X(e,t,a){return(t=BX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function BX(e){var t=VX(e,"string");return typeof t=="symbol"?t:t+""}function VX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qX=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),H6=(e,t,a)=>e.map(r=>"".concat(qX(r)," ").concat(t,"ms ").concat(a)).join(","),HX=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(s=>r.includes(s))),Gu=(e,t)=>Object.keys(t).reduce((a,r)=>ET(ET({},a),{},{[r]:e(r,t[r])}),{});function NT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function fa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(a),!0).forEach(function(r){GX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):NT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function GX(e,t,a){return(t=KX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pg=(e,t,a)=>e+(t-e)*a,Rx=e=>{var{from:t,to:a}=e;return t!==a},G6=(e,t,a)=>{var r=Gu((s,o)=>{if(Rx(o)){var[c,d]=e(o.from,o.to,o.velocity);return fa(fa({},o),{},{from:c,velocity:d})}return o},t);return a<1?Gu((s,o)=>Rx(o)?fa(fa({},o),{},{velocity:Pg(o.velocity,r[s].velocity,a),from:Pg(o.from,r[s].from,a)}):o,t):G6(e,r,a-1)};function QX(e,t,a,r,s,o){var c,d=r.reduce((b,E)=>fa(fa({},b),{},{[E]:{from:e[E],velocity:0,to:t[E]}}),{}),m=()=>Gu((b,E)=>E.from,d),p=()=>!Object.values(d).filter(Rx).length,f=null,h=b=>{c||(c=b);var E=b-c,N=E/a.dt;d=G6(a,d,N),s(fa(fa(fa({},e),t),m())),c=b,p()||(f=o.setTimeout(h))};return()=>(f=o.setTimeout(h),()=>{var b;(b=f)===null||b===void 0||b()})}function XX(e,t,a,r,s,o,c){var d=null,m=s.reduce((h,b)=>fa(fa({},h),{},{[b]:[e[b],t[b]]}),{}),p,f=h=>{p||(p=h);var b=(h-p)/r,E=Gu((S,w)=>Pg(...w,a(b)),m);if(o(fa(fa(fa({},e),t),E)),b<1)d=c.setTimeout(f);else{var N=Gu((S,w)=>Pg(...w,a(1)),m);o(fa(fa(fa({},e),t),N))}};return()=>(d=c.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}const WX=(e,t,a,r,s,o)=>{var c=HX(e,t);return a==null?()=>(s(fa(fa({},e),t)),()=>{}):a.isStepper===!0?QX(e,t,a,c,s,o):XX(e,t,a,r,c,s,o)};var Mg=1e-4,K6=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Y6=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),wT=(e,t)=>a=>{var r=K6(e,t);return Y6(r,a)},ZX=(e,t)=>a=>{var r=K6(e,t),s=[...r.map((o,c)=>o*c).slice(1),0];return Y6(s,a)},JX=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(a.length===1)switch(a[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s,o=a[0].split("(");if(o[0]==="cubic-bezier"&&((s=o[1])===null||s===void 0?void 0:s.split(")")[0].split(",").length)===4){var c=o[1].split(")")[0].split(",").map(d=>parseFloat(d));return[c[0],c[1],c[2],c[3]]}}}return a.length===4?a:[0,0,1,1]},eW=(e,t,a,r)=>{var s=wT(e,a),o=wT(t,r),c=ZX(e,a),d=p=>p>1?1:p<0?0:p,m=p=>{for(var f=p>1?1:p,h=f,b=0;b<8;++b){var E=s(h)-f,N=c(h);if(Math.abs(E-f)<Mg||N<Mg)return o(h);h=d(h-E/N)}return o(h)};return m.isStepper=!1,m},ST=function(){return eW(...JX(...arguments))},tW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:s=17}=t,o=(c,d,m)=>{var p=-(c-d)*a,f=m*r,h=m+(p-f)*s/1e3,b=m*s/1e3+c;return Math.abs(b-d)<Mg&&Math.abs(h)<Mg?[d,0]:[b,h]};return o.isStepper=!0,o.dt=s,o},aW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ST(e);case"spring":return tW();default:if(e.split("(")[0]==="cubic-bezier")return ST(e)}return typeof e=="function"?e:null};function rW(e){var t,a=()=>null,r=!1,s=null,o=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[m,...p]=d;if(typeof m=="number"){s=e.setTimeout(o.bind(null,p),m);return}o(m),s=e.setTimeout(o.bind(null,p));return}typeof c=="string"&&(t=c,a(t)),typeof c=="object"&&(t=c,a(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),o(c)},subscribe:c=>(a=c,()=>{a=()=>null}),getTimeoutController:()=>e}}class nW{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,o=c=>{c-r>=a?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{s!=null&&cancelAnimationFrame(s)}}}function lW(){return rW(new nW)}var sW=y.createContext(lW);function iW(e,t){var a=y.useContext(sW);return y.useMemo(()=>t??a(e),[e,t,a])}var oW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),U0={devToolsEnabled:!1,isSsr:oW()},cW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},CT={t:0},qv={t:1};function w1(e){var t=Kr(e,cW),{isActive:a,canBegin:r,duration:s,easing:o,begin:c,onAnimationEnd:d,onAnimationStart:m,children:p}=t,f=a==="auto"?!U0.isSsr:a,h=iW(t.animationId,t.animationManager),[b,E]=y.useState(f?CT:qv),N=y.useRef(null);return y.useEffect(()=>{f||E(qv)},[f]),y.useEffect(()=>{if(!f||!r)return fm;var S=WX(CT,qv,aW(o),s,E,h.getTimeoutController()),w=()=>{N.current=S()};return h.start([m,c,w,s,d]),()=>{h.stop(),N.current&&N.current(),d()}},[f,r,s,o,c,m,d,h]),p(b.t)}function S1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=y.useRef(Iu(t)),r=y.useRef(e);return r.current!==e&&(a.current=Iu(t),r.current=e),a.current}var uW=["radius"],mW=["radius"];function AT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function TT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(a),!0).forEach(function(r){dW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dW(e,t,a){return(t=fW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rg.apply(null,arguments)}function OT(e,t){if(e==null)return{};var a,r,s=pW(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function pW(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var kT=(e,t,a,r,s)=>{var o=Math.min(Math.abs(a)/2,Math.abs(r)/2),c=r>=0?1:-1,d=a>=0?1:-1,m=r>=0&&a>=0||r<0&&a<0?1:0,p;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],h=0,b=4;h<b;h++)f[h]=s[h]>o?o:s[h];p="M".concat(e,",").concat(t+c*f[0]),f[0]>0&&(p+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(m,",").concat(e+d*f[0],",").concat(t)),p+="L ".concat(e+a-d*f[1],",").concat(t),f[1]>0&&(p+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(m,`,
        `).concat(e+a,",").concat(t+c*f[1])),p+="L ".concat(e+a,",").concat(t+r-c*f[2]),f[2]>0&&(p+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(m,`,
        `).concat(e+a-d*f[2],",").concat(t+r)),p+="L ".concat(e+d*f[3],",").concat(t+r),f[3]>0&&(p+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-c*f[3])),p+="Z"}else if(o>0&&s===+s&&s>0){var E=Math.min(o,s);p="M ".concat(e,",").concat(t+c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(e+d*E,",").concat(t,`
            L `).concat(e+a-d*E,",").concat(t,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(e+a,",").concat(t+c*E,`
            L `).concat(e+a,",").concat(t+r-c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(e+a-d*E,",").concat(t+r,`
            L `).concat(e+d*E,",").concat(t+r,`
            A `).concat(E,",").concat(E,",0,0,").concat(m,",").concat(e,",").concat(t+r-c*E," Z")}else p="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return p},DT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q6=e=>{var t=Kr(e,DT),a=y.useRef(null),[r,s]=y.useState(-1);y.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var G=a.current.getTotalLength();G&&s(G)}catch{}},[]);var{x:o,y:c,width:d,height:m,radius:p,className:f}=t,{animationEasing:h,animationDuration:b,animationBegin:E,isAnimationActive:N,isUpdateAnimationActive:S}=t,w=y.useRef(d),C=y.useRef(m),k=y.useRef(o),A=y.useRef(c),M=y.useMemo(()=>({x:o,y:c,width:d,height:m,radius:p}),[o,c,d,m,p]),O=S1(M,"rectangle-");if(o!==+o||c!==+c||d!==+d||m!==+m||d===0||m===0)return null;var D=Xt("recharts-rectangle",f);if(!S){var _=Vr(t),{radius:P}=_,R=OT(_,uW);return y.createElement("path",Rg({},R,{radius:typeof p=="number"?p:void 0,className:D,d:kT(o,c,d,m,p)}))}var U=w.current,L=C.current,I=k.current,ae=A.current,ne="0px ".concat(r===-1?1:r,"px"),ue="".concat(r,"px 0px"),F=H6(["strokeDasharray"],b,typeof h=="string"?h:DT.animationEasing);return y.createElement(w1,{animationId:O,key:O,canBegin:r>0,duration:b,easing:h,isActive:S,begin:E},G=>{var le=nn(U,d,G),te=nn(L,m,G),H=nn(I,o,G),j=nn(ae,c,G);a.current&&(w.current=le,C.current=te,k.current=H,A.current=j);var B;N?G>0?B={transition:F,strokeDasharray:ue}:B={strokeDasharray:ne}:B={strokeDasharray:ue};var X=Vr(t),{radius:K}=X,oe=OT(X,mW);return y.createElement("path",Rg({},oe,{radius:typeof p=="number"?p:void 0,className:D,d:kT(H,j,le,te,p),ref:a,style:TT(TT({},B),t.style)}))})};function _T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function PT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(a),!0).forEach(function(r){hW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_T(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hW(e,t,a){return(t=yW(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function yW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lg=Math.PI/180,bW=e=>e*180/Math.PI,ia=(e,t,a,r)=>({x:e+Math.cos(-Lg*r)*a,y:t+Math.sin(-Lg*r)*a}),X6=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},xW=(e,t)=>{var{x:a,y:r}=e,{x:s,y:o}=t;return Math.sqrt((a-s)**2+(r-o)**2)},EW=(e,t)=>{var{x:a,y:r}=e,{cx:s,cy:o}=t,c=xW({x:a,y:r},{x:s,y:o});if(c<=0)return{radius:c,angle:0};var d=(a-s)/c,m=Math.acos(d);return r>o&&(m=2*Math.PI-m),{radius:c,angle:bW(m),angleInRadian:m}},NW=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),s=Math.floor(a/360),o=Math.min(r,s);return{startAngle:t-o*360,endAngle:a-o*360}},wW=(e,t)=>{var{startAngle:a,endAngle:r}=t,s=Math.floor(a/360),o=Math.floor(r/360),c=Math.min(s,o);return e+c*360},SW=(e,t)=>{var{chartX:a,chartY:r}=e,{radius:s,angle:o}=EW({x:a,y:r},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:m,endAngle:p}=NW(t),f=o,h;if(m<=p){for(;f>p;)f-=360;for(;f<m;)f+=360;h=f>=m&&f<=p}else{for(;f>m;)f-=360;for(;f<p;)f+=360;h=f>=p&&f<=m}return h?PT(PT({},t),{},{radius:s,angle:wW(f,t)}):null};function W6(e){var{cx:t,cy:a,radius:r,startAngle:s,endAngle:o}=e,c=ia(t,a,r,s),d=ia(t,a,r,o);return{points:[c,d],cx:t,cy:a,radius:r,startAngle:s,endAngle:o}}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Lx.apply(null,arguments)}var CW=(e,t)=>{var a=tr(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},df=e=>{var{cx:t,cy:a,radius:r,angle:s,sign:o,isExternal:c,cornerRadius:d,cornerIsExternal:m}=e,p=d*(c?1:-1)+r,f=Math.asin(d/p)/Lg,h=m?s:s+o*f,b=ia(t,a,p,h),E=ia(t,a,r,h),N=m?s-o*f:s,S=ia(t,a,p*Math.cos(f*Lg),N);return{center:b,circleTangency:E,lineTangency:S,theta:f}},Z6=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:o,endAngle:c}=e,d=CW(o,c),m=o+d,p=ia(t,a,s,o),f=ia(t,a,s,m),h="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>m),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var b=ia(t,a,r,o),E=ia(t,a,r,m);h+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else h+="L ".concat(t,",").concat(a," Z");return h},AW=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:m,endAngle:p}=e,f=tr(p-m),{circleTangency:h,lineTangency:b,theta:E}=df({cx:t,cy:a,radius:s,angle:m,sign:f,cornerRadius:o,cornerIsExternal:d}),{circleTangency:N,lineTangency:S,theta:w}=df({cx:t,cy:a,radius:s,angle:p,sign:-f,cornerRadius:o,cornerIsExternal:d}),C=d?Math.abs(m-p):Math.abs(m-p)-E-w;if(C<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Z6({cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:m,endAngle:p});var k="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:A,lineTangency:M,theta:O}=df({cx:t,cy:a,radius:r,angle:m,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:D,lineTangency:_,theta:P}=df({cx:t,cy:a,radius:r,angle:p,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),R=d?Math.abs(m-p):Math.abs(m-p)-O-P;if(R<0&&o===0)return"".concat(k,"L").concat(t,",").concat(a,"Z");k+="L".concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,"Z")}else k+="L".concat(t,",").concat(a,"Z");return k},TW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J6=e=>{var t=Kr(e,TW),{cx:a,cy:r,innerRadius:s,outerRadius:o,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:m,startAngle:p,endAngle:f,className:h}=t;if(o<s||p===f)return null;var b=Xt("recharts-sector",h),E=o-s,N=yr(c,E,0,!0),S;return N>0&&Math.abs(p-f)<360?S=AW({cx:a,cy:r,innerRadius:s,outerRadius:o,cornerRadius:Math.min(N,E/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:p,endAngle:f}):S=Z6({cx:a,cy:r,innerRadius:s,outerRadius:o,startAngle:p,endAngle:f}),y.createElement("path",Lx({},Vr(t),{className:b,d:S}))};function OW(e,t,a){if(e==="horizontal")return[{x:t.x,y:a.top},{x:t.x,y:a.top+a.height}];if(e==="vertical")return[{x:a.left,y:t.y},{x:a.left+a.width,y:t.y}];if(MP(t)){if(e==="centric"){var{cx:r,cy:s,innerRadius:o,outerRadius:c,angle:d}=t,m=ia(r,s,o,d),p=ia(r,s,c,d);return[{x:m.x,y:m.y},{x:p.x,y:p.y}]}return W6(t)}}var Hv={},Gv={},Kv={},MT;function kW(){return MT||(MT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GP();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a})(Kv)),Kv}var RT;function DW(){return RT||(RT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kW();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a})(Gv)),Gv}var LT;function _W(){return LT||(LT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KP(),a=DW();function r(s,o,c){c&&typeof c!="number"&&t.isIterateeCall(s,o,c)&&(o=c=void 0),s=a.toFinite(s),o===void 0?(o=s,s=0):o=a.toFinite(o),c=c===void 0?s<o?1:-1:a.toFinite(c);const d=Math.max(Math.ceil((o-s)/(c||1)),0),m=new Array(d);for(let p=0;p<d;p++)m[p]=s,s+=c;return m}e.range=r})(Hv)),Hv}var Yv,jT;function PW(){return jT||(jT=1,Yv=_W().range),Yv}var MW=PW();const eM=Pl(MW);function Es(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function C1(e){let t,a,r;e.length!==2?(t=Es,a=(d,m)=>Es(e(d),m),r=(d,m)=>e(d)-m):(t=e===Es||e===RW?e:LW,a=e,r=e);function s(d,m,p=0,f=d.length){if(p<f){if(t(m,m)!==0)return f;do{const h=p+f>>>1;a(d[h],m)<0?p=h+1:f=h}while(p<f)}return p}function o(d,m,p=0,f=d.length){if(p<f){if(t(m,m)!==0)return f;do{const h=p+f>>>1;a(d[h],m)<=0?p=h+1:f=h}while(p<f)}return p}function c(d,m,p=0,f=d.length){const h=s(d,m,p,f-1);return h>p&&r(d[h-1],m)>-r(d[h],m)?h-1:h}return{left:s,center:c,right:o}}function LW(){return 0}function tM(e){return e===null?NaN:+e}function*jW(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const zW=C1(Es),bm=zW.right;C1(tM).center;class zT extends Map{constructor(t,a=FW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(UT(this,t))}has(t){return super.has(UT(this,t))}set(t,a){return super.set(UW(this,t),a)}delete(t){return super.delete(IW(this,t))}}function UT({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function UW({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function IW({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function FW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $W(e=Es){if(e===Es)return aM;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function aM(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BW=Math.sqrt(50),VW=Math.sqrt(10),qW=Math.sqrt(2);function jg(e,t,a){const r=(t-e)/Math.max(0,a),s=Math.floor(Math.log10(r)),o=r/Math.pow(10,s),c=o>=BW?10:o>=VW?5:o>=qW?2:1;let d,m,p;return s<0?(p=Math.pow(10,-s)/c,d=Math.round(e*p),m=Math.round(t*p),d/p<e&&++d,m/p>t&&--m,p=-p):(p=Math.pow(10,s)*c,d=Math.round(e/p),m=Math.round(t/p),d*p<e&&++d,m*p>t&&--m),m<d&&.5<=a&&a<2?jg(e,t,a*2):[d,m,p]}function jx(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[s,o,c]=r?jg(t,e,a):jg(e,t,a);if(!(o>=s))return[];const d=o-s+1,m=new Array(d);if(r)if(c<0)for(let p=0;p<d;++p)m[p]=(o-p)/-c;else for(let p=0;p<d;++p)m[p]=(o-p)*c;else if(c<0)for(let p=0;p<d;++p)m[p]=(s+p)/-c;else for(let p=0;p<d;++p)m[p]=(s+p)*c;return m}function zx(e,t,a){return t=+t,e=+e,a=+a,jg(e,t,a)[2]}function Ux(e,t,a){t=+t,e=+e,a=+a;const r=t<e,s=r?zx(t,e,a):zx(e,t,a);return(r?-1:1)*(s<0?1/-s:s)}function IT(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function FT(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function rM(e,t,a=0,r=1/0,s){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(s=s===void 0?aM:$W(s);r>a;){if(r-a>600){const m=r-a+1,p=t-a+1,f=Math.log(m),h=.5*Math.exp(2*f/3),b=.5*Math.sqrt(f*h*(m-h)/m)*(p-m/2<0?-1:1),E=Math.max(a,Math.floor(t-p*h/m+b)),N=Math.min(r,Math.floor(t+(m-p)*h/m+b));rM(e,t,E,N,s)}const o=e[t];let c=a,d=r;for(du(e,a,t),s(e[r],o)>0&&du(e,a,r);c<d;){for(du(e,c,d),++c,--d;s(e[c],o)<0;)++c;for(;s(e[d],o)>0;)--d}s(e[a],o)===0?du(e,a,d):(++d,du(e,d,r)),d<=t&&(a=d+1),t<=d&&(r=d-1)}return e}function du(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function HW(e,t,a){if(e=Float64Array.from(jW(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return FT(e);if(t>=1)return IT(e);var r,s=(r-1)*t,o=Math.floor(s),c=IT(rM(e,o).subarray(0,o+1)),d=FT(e.subarray(o+1));return c+(d-c)*(s-o)}}function GW(e,t,a=tM){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,s=(r-1)*t,o=Math.floor(s),c=+a(e[o],o,e),d=+a(e[o+1],o+1,e);return c+(d-c)*(s-o)}}function KW(e,t,a){e=+e,t=+t,a=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+a;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/a))|0,o=new Array(s);++r<s;)o[r]=e+r*a;return o}function Yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ix=Symbol("implicit");function A1(){var e=new zT,t=[],a=[],r=Ix;function s(o){let c=e.get(o);if(c===void 0){if(r!==Ix)return r;e.set(o,c=t.push(o)-1)}return a[c%a.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new zT;for(const c of o)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(o){return arguments.length?(a=Array.from(o),s):a.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return A1(t,a).unknown(r)},Yr.apply(s,arguments),s}function T1(){var e=A1().unknown(void 0),t=e.domain,a=e.range,r=0,s=1,o,c,d=!1,m=0,p=0,f=.5;delete e.unknown;function h(){var b=t().length,E=s<r,N=E?s:r,S=E?r:s;o=(S-N)/Math.max(1,b-m+p*2),d&&(o=Math.floor(o)),N+=(S-N-o*(b-m))*f,c=o*(1-m),d&&(N=Math.round(N),c=Math.round(c));var w=KW(b).map(function(C){return N+o*C});return a(E?w.reverse():w)}return e.domain=function(b){return arguments.length?(t(b),h()):t()},e.range=function(b){return arguments.length?([r,s]=b,r=+r,s=+s,h()):[r,s]},e.rangeRound=function(b){return[r,s]=b,r=+r,s=+s,d=!0,h()},e.bandwidth=function(){return c},e.step=function(){return o},e.round=function(b){return arguments.length?(d=!!b,h()):d},e.padding=function(b){return arguments.length?(m=Math.min(1,p=+b),h()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),h()):m},e.paddingOuter=function(b){return arguments.length?(p=+b,h()):p},e.align=function(b){return arguments.length?(f=Math.max(0,Math.min(1,b)),h()):f},e.copy=function(){return T1(t(),[r,s]).round(d).paddingInner(m).paddingOuter(p).align(f)},Yr.apply(h(),arguments)}function nM(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nM(t())},e}function YW(){return nM(T1.apply(null,arguments).paddingInner(1))}function O1(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function lM(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function xm(){}var Ku=.7,zg=1/Ku,Mo="\\s*([+-]?\\d+)\\s*",Yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QW=/^#([0-9a-f]{3,8})$/,XW=new RegExp(`^rgb\\(${Mo},${Mo},${Mo}\\)$`),WW=new RegExp(`^rgb\\(${Rn},${Rn},${Rn}\\)$`),ZW=new RegExp(`^rgba\\(${Mo},${Mo},${Mo},${Yu}\\)$`),JW=new RegExp(`^rgba\\(${Rn},${Rn},${Rn},${Yu}\\)$`),eZ=new RegExp(`^hsl\\(${Yu},${Rn},${Rn}\\)$`),tZ=new RegExp(`^hsla\\(${Yu},${Rn},${Rn},${Yu}\\)$`),$T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O1(xm,Qu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:BT,formatHex:BT,formatHex8:aZ,formatHsl:rZ,formatRgb:VT,toString:VT});function BT(){return this.rgb().formatHex()}function aZ(){return this.rgb().formatHex8()}function rZ(){return sM(this).formatHsl()}function VT(){return this.rgb().formatRgb()}function Qu(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=QW.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?qT(t):a===3?new ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?ff(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?ff(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XW.exec(e))?new ar(t[1],t[2],t[3],1):(t=WW.exec(e))?new ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZW.exec(e))?ff(t[1],t[2],t[3],t[4]):(t=JW.exec(e))?ff(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eZ.exec(e))?KT(t[1],t[2]/100,t[3]/100,1):(t=tZ.exec(e))?KT(t[1],t[2]/100,t[3]/100,t[4]):$T.hasOwnProperty(e)?qT($T[e]):e==="transparent"?new ar(NaN,NaN,NaN,0):null}function qT(e){return new ar(e>>16&255,e>>8&255,e&255,1)}function ff(e,t,a,r){return r<=0&&(e=t=a=NaN),new ar(e,t,a,r)}function nZ(e){return e instanceof xm||(e=Qu(e)),e?(e=e.rgb(),new ar(e.r,e.g,e.b,e.opacity)):new ar}function Fx(e,t,a,r){return arguments.length===1?nZ(e):new ar(e,t,a,r??1)}function ar(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}O1(ar,Fx,lM(xm,{brighter(e){return e=e==null?zg:Math.pow(zg,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ku:Math.pow(Ku,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ar(vi(this.r),vi(this.g),vi(this.b),Ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HT,formatHex:HT,formatHex8:lZ,formatRgb:GT,toString:GT}));function HT(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function lZ(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function GT(){const e=Ug(this.opacity);return`${e===1?"rgb(":"rgba("}${vi(this.r)}, ${vi(this.g)}, ${vi(this.b)}${e===1?")":`, ${e})`}`}function Ug(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function mi(e){return e=vi(e),(e<16?"0":"")+e.toString(16)}function KT(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,a,r)}function sM(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof xm||(e=Qu(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,s=Math.min(t,a,r),o=Math.max(t,a,r),c=NaN,d=o-s,m=(o+s)/2;return d?(t===o?c=(a-r)/d+(a<r)*6:a===o?c=(r-t)/d+2:c=(t-a)/d+4,d/=m<.5?o+s:2-o-s,c*=60):d=m>0&&m<1?0:c,new on(c,d,m,e.opacity)}function sZ(e,t,a,r){return arguments.length===1?sM(e):new on(e,t,a,r??1)}function on(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}O1(on,sZ,lM(xm,{brighter(e){return e=e==null?zg:Math.pow(zg,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ku:Math.pow(Ku,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,s=2*a-r;return new ar(Qv(e>=240?e-240:e+120,s,r),Qv(e,s,r),Qv(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new on(YT(this.h),gf(this.s),gf(this.l),Ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ug(this.opacity);return`${e===1?"hsl(":"hsla("}${YT(this.h)}, ${gf(this.s)*100}%, ${gf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function YT(e){return e=(e||0)%360,e<0?e+360:e}function gf(e){return Math.max(0,Math.min(1,e||0))}function Qv(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const k1=e=>()=>e;function iZ(e,t){return function(a){return e+a*t}}function oZ(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function cZ(e){return(e=+e)==1?iM:function(t,a){return a-t?oZ(t,a,e):k1(isNaN(t)?a:t)}}function iM(e,t){var a=t-e;return a?iZ(e,a):k1(isNaN(e)?t:e)}const QT=(function e(t){var a=cZ(t);function r(s,o){var c=a((s=Fx(s)).r,(o=Fx(o)).r),d=a(s.g,o.g),m=a(s.b,o.b),p=iM(s.opacity,o.opacity);return function(f){return s.r=c(f),s.g=d(f),s.b=m(f),s.opacity=p(f),s+""}}return r.gamma=e,r})(1);function uZ(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(o){for(s=0;s<a;++s)r[s]=e[s]*(1-o)+t[s]*o;return r}}function mZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dZ(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,s=new Array(r),o=new Array(a),c;for(c=0;c<r;++c)s[c]=rc(e[c],t[c]);for(;c<a;++c)o[c]=t[c];return function(d){for(c=0;c<r;++c)o[c]=s[c](d);return o}}function fZ(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function Ig(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function gZ(e,t){var a={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?a[s]=rc(e[s],t[s]):r[s]=t[s];return function(o){for(s in a)r[s]=a[s](o);return r}}var $x=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xv=new RegExp($x.source,"g");function pZ(e){return function(){return e}}function hZ(e){return function(t){return e(t)+""}}function yZ(e,t){var a=$x.lastIndex=Xv.lastIndex=0,r,s,o,c=-1,d=[],m=[];for(e=e+"",t=t+"";(r=$x.exec(e))&&(s=Xv.exec(t));)(o=s.index)>a&&(o=t.slice(a,o),d[c]?d[c]+=o:d[++c]=o),(r=r[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,m.push({i:c,x:Ig(r,s)})),a=Xv.lastIndex;return a<t.length&&(o=t.slice(a),d[c]?d[c]+=o:d[++c]=o),d.length<2?m[0]?hZ(m[0].x):pZ(t):(t=m.length,function(p){for(var f=0,h;f<t;++f)d[(h=m[f]).i]=h.x(p);return d.join("")})}function rc(e,t){var a=typeof t,r;return t==null||a==="boolean"?k1(t):(a==="number"?Ig:a==="string"?(r=Qu(t))?(t=r,QT):yZ:t instanceof Qu?QT:t instanceof Date?fZ:mZ(t)?uZ:Array.isArray(t)?dZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gZ:Ig)(e,t)}function D1(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function vZ(e,t){t===void 0&&(t=e,e=rc);for(var a=0,r=t.length-1,s=t[0],o=new Array(r<0?0:r);a<r;)o[a]=e(s,s=t[++a]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return o[d](c-d)}}function bZ(e){return function(){return e}}function Fg(e){return+e}var XT=[0,1];function Ba(e){return e}function Bx(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:bZ(isNaN(t)?NaN:.5)}function xZ(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function EZ(e,t,a){var r=e[0],s=e[1],o=t[0],c=t[1];return s<r?(r=Bx(s,r),o=a(c,o)):(r=Bx(r,s),o=a(o,c)),function(d){return o(r(d))}}function NZ(e,t,a){var r=Math.min(e.length,t.length)-1,s=new Array(r),o=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)s[c]=Bx(e[c],e[c+1]),o[c]=a(t[c],t[c+1]);return function(d){var m=bm(e,d,1,r)-1;return o[m](s[m](d))}}function Em(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function I0(){var e=XT,t=XT,a=rc,r,s,o,c=Ba,d,m,p;function f(){var b=Math.min(e.length,t.length);return c!==Ba&&(c=xZ(e[0],e[b-1])),d=b>2?NZ:EZ,m=p=null,h}function h(b){return b==null||isNaN(b=+b)?o:(m||(m=d(e.map(r),t,a)))(r(c(b)))}return h.invert=function(b){return c(s((p||(p=d(t,e.map(r),Ig)))(b)))},h.domain=function(b){return arguments.length?(e=Array.from(b,Fg),f()):e.slice()},h.range=function(b){return arguments.length?(t=Array.from(b),f()):t.slice()},h.rangeRound=function(b){return t=Array.from(b),a=D1,f()},h.clamp=function(b){return arguments.length?(c=b?!0:Ba,f()):c!==Ba},h.interpolate=function(b){return arguments.length?(a=b,f()):a},h.unknown=function(b){return arguments.length?(o=b,h):o},function(b,E){return r=b,s=E,f()}}function _1(){return I0()(Ba,Ba)}function wZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $g(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function qo(e){return e=$g(Math.abs(e)),e?e[1]:NaN}function SZ(e,t){return function(a,r){for(var s=a.length,o=[],c=0,d=e[0],m=0;s>0&&d>0&&(m+d+1>r&&(d=Math.max(1,r-m)),o.push(a.substring(s-=d,s+d)),!((m+=d+1)>r));)d=e[c=(c+1)%e.length];return o.reverse().join(t)}}function CZ(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var AZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xu(e){if(!(t=AZ.exec(e)))throw new Error("invalid format: "+e);var t;return new P1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xu.prototype=P1.prototype;function P1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}P1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TZ(e){e:for(var t=e.length,a=1,r=-1,s;a<t;++a)switch(e[a]){case".":r=s=a;break;case"0":r===0&&(r=a),s=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var oM;function OZ(e,t){var a=$g(e,t);if(!a)return e+"";var r=a[0],s=a[1],o=s-(oM=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return o===c?r:o>c?r+new Array(o-c+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$g(e,Math.max(0,t+o-1))[0]}function WT(e,t){var a=$g(e,t);if(!a)return e+"";var r=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const ZT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>WT(e*100,t),r:WT,s:OZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JT(e){return e}var eO=Array.prototype.map,tO=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function kZ(e){var t=e.grouping===void 0||e.thousands===void 0?JT:SZ(eO.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?JT:CZ(eO.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function p(h){h=Xu(h);var b=h.fill,E=h.align,N=h.sign,S=h.symbol,w=h.zero,C=h.width,k=h.comma,A=h.precision,M=h.trim,O=h.type;O==="n"?(k=!0,O="g"):ZT[O]||(A===void 0&&(A=12),M=!0,O="g"),(w||b==="0"&&E==="=")&&(w=!0,b="0",E="=");var D=S==="$"?a:S==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",_=S==="$"?r:/[%p]/.test(O)?c:"",P=ZT[O],R=/[defgprs%]/.test(O);A=A===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function U(L){var I=D,ae=_,ne,ue,F;if(O==="c")ae=P(L)+ae,L="";else{L=+L;var G=L<0||1/L<0;if(L=isNaN(L)?m:P(Math.abs(L),A),M&&(L=TZ(L)),G&&+L==0&&N!=="+"&&(G=!1),I=(G?N==="("?N:d:N==="-"||N==="("?"":N)+I,ae=(O==="s"?tO[8+oM/3]:"")+ae+(G&&N==="("?")":""),R){for(ne=-1,ue=L.length;++ne<ue;)if(F=L.charCodeAt(ne),48>F||F>57){ae=(F===46?s+L.slice(ne+1):L.slice(ne))+ae,L=L.slice(0,ne);break}}}k&&!w&&(L=t(L,1/0));var le=I.length+L.length+ae.length,te=le<C?new Array(C-le+1).join(b):"";switch(k&&w&&(L=t(te+L,te.length?C-ae.length:1/0),te=""),E){case"<":L=I+L+ae+te;break;case"=":L=I+te+L+ae;break;case"^":L=te.slice(0,le=te.length>>1)+I+L+ae+te.slice(le);break;default:L=te+I+L+ae;break}return o(L)}return U.toString=function(){return h+""},U}function f(h,b){var E=p((h=Xu(h),h.type="f",h)),N=Math.max(-8,Math.min(8,Math.floor(qo(b)/3)))*3,S=Math.pow(10,-N),w=tO[8+N/3];return function(C){return E(S*C)+w}}return{format:p,formatPrefix:f}}var pf,M1,cM;DZ({thousands:",",grouping:[3],currency:["$",""]});function DZ(e){return pf=kZ(e),M1=pf.format,cM=pf.formatPrefix,pf}function _Z(e){return Math.max(0,-qo(Math.abs(e)))}function PZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qo(t)/3)))*3-qo(Math.abs(e)))}function MZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qo(t)-qo(e))+1}function uM(e,t,a,r){var s=Ux(e,t,a),o;switch(r=Xu(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=PZ(s,c))&&(r.precision=o),cM(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=MZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=_Z(s))&&(r.precision=o-(r.type==="%")*2);break}}return M1(r)}function _s(e){var t=e.domain;return e.ticks=function(a){var r=t();return jx(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var s=t();return uM(s[0],s[s.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),s=0,o=r.length-1,c=r[s],d=r[o],m,p,f=10;for(d<c&&(p=c,c=d,d=p,p=s,s=o,o=p);f-- >0;){if(p=zx(c,d,a),p===m)return r[s]=c,r[o]=d,t(r);if(p>0)c=Math.floor(c/p)*p,d=Math.ceil(d/p)*p;else if(p<0)c=Math.ceil(c*p)/p,d=Math.floor(d*p)/p;else break;m=p}return e},e}function mM(){var e=_1();return e.copy=function(){return Em(e,mM())},Yr.apply(e,arguments),_s(e)}function dM(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,Fg),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return dM(e).unknown(t)},e=arguments.length?Array.from(e,Fg):[0,1],_s(a)}function fM(e,t){e=e.slice();var a=0,r=e.length-1,s=e[a],o=e[r],c;return o<s&&(c=a,a=r,r=c,c=s,s=o,o=c),e[a]=t.floor(s),e[r]=t.ceil(o),e}function aO(e){return Math.log(e)}function rO(e){return Math.exp(e)}function RZ(e){return-Math.log(-e)}function LZ(e){return-Math.exp(-e)}function jZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zZ(e){return e===10?jZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function UZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function nO(e){return(t,a)=>-e(-t,a)}function R1(e){const t=e(aO,rO),a=t.domain;let r=10,s,o;function c(){return s=UZ(r),o=zZ(r),a()[0]<0?(s=nO(s),o=nO(o),e(RZ,LZ)):e(aO,rO),t}return t.base=function(d){return arguments.length?(r=+d,c()):r},t.domain=function(d){return arguments.length?(a(d),c()):a()},t.ticks=d=>{const m=a();let p=m[0],f=m[m.length-1];const h=f<p;h&&([p,f]=[f,p]);let b=s(p),E=s(f),N,S;const w=d==null?10:+d;let C=[];if(!(r%1)&&E-b<w){if(b=Math.floor(b),E=Math.ceil(E),p>0){for(;b<=E;++b)for(N=1;N<r;++N)if(S=b<0?N/o(-b):N*o(b),!(S<p)){if(S>f)break;C.push(S)}}else for(;b<=E;++b)for(N=r-1;N>=1;--N)if(S=b>0?N/o(-b):N*o(b),!(S<p)){if(S>f)break;C.push(S)}C.length*2<w&&(C=jx(p,f,w))}else C=jx(b,E,Math.min(E-b,w)).map(o);return h?C.reverse():C},t.tickFormat=(d,m)=>{if(d==null&&(d=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=Xu(m)).precision==null&&(m.trim=!0),m=M1(m)),d===1/0)return m;const p=Math.max(1,r*d/t.ticks().length);return f=>{let h=f/o(Math.round(s(f)));return h*r<r-.5&&(h*=r),h<=p?m(f):""}},t.nice=()=>a(fM(a(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function gM(){const e=R1(I0()).domain([1,10]);return e.copy=()=>Em(e,gM()).base(e.base()),Yr.apply(e,arguments),e}function lO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function sO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function L1(e){var t=1,a=e(lO(t),sO(t));return a.constant=function(r){return arguments.length?e(lO(t=+r),sO(t)):t},_s(a)}function pM(){var e=L1(I0());return e.copy=function(){return Em(e,pM()).constant(e.constant())},Yr.apply(e,arguments)}function iO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function IZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FZ(e){return e<0?-e*e:e*e}function j1(e){var t=e(Ba,Ba),a=1;function r(){return a===1?e(Ba,Ba):a===.5?e(IZ,FZ):e(iO(a),iO(1/a))}return t.exponent=function(s){return arguments.length?(a=+s,r()):a},_s(t)}function z1(){var e=j1(I0());return e.copy=function(){return Em(e,z1()).exponent(e.exponent())},Yr.apply(e,arguments),e}function $Z(){return z1.apply(null,arguments).exponent(.5)}function oO(e){return Math.sign(e)*e*e}function BZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hM(){var e=_1(),t=[0,1],a=!1,r;function s(o){var c=BZ(e(o));return isNaN(c)?r:a?Math.round(c):c}return s.invert=function(o){return e.invert(oO(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,Fg)).map(oO)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(a=!!o,s):a},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return hM(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},Yr.apply(s,arguments),_s(s)}function yM(){var e=[],t=[],a=[],r;function s(){var c=0,d=Math.max(1,t.length);for(a=new Array(d-1);++c<d;)a[c-1]=GW(e,c/d);return o}function o(c){return c==null||isNaN(c=+c)?r:t[bm(a,c)]}return o.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?a[d-1]:e[0],d<a.length?a[d]:e[e.length-1]]},o.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Es),s()},o.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},o.unknown=function(c){return arguments.length?(r=c,o):r},o.quantiles=function(){return a.slice()},o.copy=function(){return yM().domain(e).range(t).unknown(r)},Yr.apply(o,arguments)}function vM(){var e=0,t=1,a=1,r=[.5],s=[0,1],o;function c(m){return m!=null&&m<=m?s[bm(r,m,0,a)]:o}function d(){var m=-1;for(r=new Array(a);++m<a;)r[m]=((m+1)*t-(m-a)*e)/(a+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,d()):[e,t]},c.range=function(m){return arguments.length?(a=(s=Array.from(m)).length-1,d()):s.slice()},c.invertExtent=function(m){var p=s.indexOf(m);return p<0?[NaN,NaN]:p<1?[e,r[0]]:p>=a?[r[a-1],t]:[r[p-1],r[p]]},c.unknown=function(m){return arguments.length&&(o=m),c},c.thresholds=function(){return r.slice()},c.copy=function(){return vM().domain([e,t]).range(s).unknown(o)},Yr.apply(_s(c),arguments)}function bM(){var e=[.5],t=[0,1],a,r=1;function s(o){return o!=null&&o<=o?t[bm(e,o,0,r)]:a}return s.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var c=t.indexOf(o);return[e[c-1],e[c]]},s.unknown=function(o){return arguments.length?(a=o,s):a},s.copy=function(){return bM().domain(e).range(t).unknown(a)},Yr.apply(s,arguments)}const Wv=new Date,Zv=new Date;function pa(e,t,a,r){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const c=s(o),d=s.ceil(o);return o-c<d-o?c:d},s.offset=(o,c)=>(t(o=new Date(+o),c==null?1:Math.floor(c)),o),s.range=(o,c,d)=>{const m=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<c)||!(d>0))return m;let p;do m.push(p=new Date(+o)),t(o,d),e(o);while(p<o&&o<c);return m},s.filter=o=>pa(c=>{if(c>=c)for(;e(c),!o(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!o(c););else for(;--d>=0;)for(;t(c,1),!o(c););}),a&&(s.count=(o,c)=>(Wv.setTime(+o),Zv.setTime(+c),e(Wv),e(Zv),Math.floor(a(Wv,Zv))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(r?c=>r(c)%o===0:c=>s.count(0,c)%o===0):s)),s}const Bg=pa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Bg.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pa(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):Bg);Bg.range;const pl=1e3,Fr=pl*60,hl=Fr*60,Ol=hl*24,U1=Ol*7,cO=Ol*30,Jv=Ol*365,di=pa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pl)},(e,t)=>(t-e)/pl,e=>e.getUTCSeconds());di.range;const I1=pa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pl)},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getMinutes());I1.range;const F1=pa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getUTCMinutes());F1.range;const $1=pa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pl-e.getMinutes()*Fr)},(e,t)=>{e.setTime(+e+t*hl)},(e,t)=>(t-e)/hl,e=>e.getHours());$1.range;const B1=pa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hl)},(e,t)=>(t-e)/hl,e=>e.getUTCHours());B1.range;const Nm=pa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fr)/Ol,e=>e.getDate()-1);Nm.range;const F0=pa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ol,e=>e.getUTCDate()-1);F0.range;const xM=pa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ol,e=>Math.floor(e/Ol));xM.range;function ki(e){return pa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*Fr)/U1)}const $0=ki(0),Vg=ki(1),VZ=ki(2),qZ=ki(3),Ho=ki(4),HZ=ki(5),GZ=ki(6);$0.range;Vg.range;VZ.range;qZ.range;Ho.range;HZ.range;GZ.range;function Di(e){return pa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/U1)}const B0=Di(0),qg=Di(1),KZ=Di(2),YZ=Di(3),Go=Di(4),QZ=Di(5),XZ=Di(6);B0.range;qg.range;KZ.range;YZ.range;Go.range;QZ.range;XZ.range;const V1=pa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());V1.range;const q1=pa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());q1.range;const kl=pa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});kl.range;const Dl=pa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Dl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});Dl.range;function EM(e,t,a,r,s,o){const c=[[di,1,pl],[di,5,5*pl],[di,15,15*pl],[di,30,30*pl],[o,1,Fr],[o,5,5*Fr],[o,15,15*Fr],[o,30,30*Fr],[s,1,hl],[s,3,3*hl],[s,6,6*hl],[s,12,12*hl],[r,1,Ol],[r,2,2*Ol],[a,1,U1],[t,1,cO],[t,3,3*cO],[e,1,Jv]];function d(p,f,h){const b=f<p;b&&([p,f]=[f,p]);const E=h&&typeof h.range=="function"?h:m(p,f,h),N=E?E.range(p,+f+1):[];return b?N.reverse():N}function m(p,f,h){const b=Math.abs(f-p)/h,E=C1(([,,w])=>w).right(c,b);if(E===c.length)return e.every(Ux(p/Jv,f/Jv,h));if(E===0)return Bg.every(Math.max(Ux(p,f,h),1));const[N,S]=c[b/c[E-1][2]<c[E][2]/b?E-1:E];return N.every(S)}return[d,m]}const[WZ,ZZ]=EM(Dl,q1,B0,xM,B1,F1),[JZ,eJ]=EM(kl,V1,$0,Nm,$1,I1);function eb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function tb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function fu(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function tJ(e){var t=e.dateTime,a=e.date,r=e.time,s=e.periods,o=e.days,c=e.shortDays,d=e.months,m=e.shortMonths,p=gu(s),f=pu(s),h=gu(o),b=pu(o),E=gu(c),N=pu(c),S=gu(d),w=pu(d),C=gu(m),k=pu(m),A={a:G,A:le,b:te,B:H,c:null,d:pO,e:pO,f:SJ,g:RJ,G:jJ,H:EJ,I:NJ,j:wJ,L:NM,m:CJ,M:AJ,p:j,q:B,Q:vO,s:bO,S:TJ,u:OJ,U:kJ,V:DJ,w:_J,W:PJ,x:null,X:null,y:MJ,Y:LJ,Z:zJ,"%":yO},M={a:X,A:K,b:oe,B:Q,c:null,d:hO,e:hO,f:$J,g:WJ,G:JJ,H:UJ,I:IJ,j:FJ,L:SM,m:BJ,M:VJ,p:V,q:we,Q:vO,s:bO,S:qJ,u:HJ,U:GJ,V:KJ,w:YJ,W:QJ,x:null,X:null,y:XJ,Y:ZJ,Z:eee,"%":yO},O={a:U,A:L,b:I,B:ae,c:ne,d:fO,e:fO,f:yJ,g:dO,G:mO,H:gO,I:gO,j:fJ,L:hJ,m:dJ,M:gJ,p:R,q:mJ,Q:bJ,s:xJ,S:pJ,u:sJ,U:iJ,V:oJ,w:lJ,W:cJ,x:ue,X:F,y:dO,Y:mO,Z:uJ,"%":vJ};A.x=D(a,A),A.X=D(r,A),A.c=D(t,A),M.x=D(a,M),M.X=D(r,M),M.c=D(t,M);function D(W,Se){return function(Te){var ge=[],$e=-1,Pe=0,ve=W.length,Ue,xe,Le;for(Te instanceof Date||(Te=new Date(+Te));++$e<ve;)W.charCodeAt($e)===37&&(ge.push(W.slice(Pe,$e)),(xe=uO[Ue=W.charAt(++$e)])!=null?Ue=W.charAt(++$e):xe=Ue==="e"?" ":"0",(Le=Se[Ue])&&(Ue=Le(Te,xe)),ge.push(Ue),Pe=$e+1);return ge.push(W.slice(Pe,$e)),ge.join("")}}function _(W,Se){return function(Te){var ge=fu(1900,void 0,1),$e=P(ge,W,Te+="",0),Pe,ve;if($e!=Te.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Se&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Pe=tb(fu(ge.y,0,1)),ve=Pe.getUTCDay(),Pe=ve>4||ve===0?qg.ceil(Pe):qg(Pe),Pe=F0.offset(Pe,(ge.V-1)*7),ge.y=Pe.getUTCFullYear(),ge.m=Pe.getUTCMonth(),ge.d=Pe.getUTCDate()+(ge.w+6)%7):(Pe=eb(fu(ge.y,0,1)),ve=Pe.getDay(),Pe=ve>4||ve===0?Vg.ceil(Pe):Vg(Pe),Pe=Nm.offset(Pe,(ge.V-1)*7),ge.y=Pe.getFullYear(),ge.m=Pe.getMonth(),ge.d=Pe.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),ve="Z"in ge?tb(fu(ge.y,0,1)).getUTCDay():eb(fu(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(ve+5)%7:ge.w+ge.U*7-(ve+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,tb(ge)):eb(ge)}}function P(W,Se,Te,ge){for(var $e=0,Pe=Se.length,ve=Te.length,Ue,xe;$e<Pe;){if(ge>=ve)return-1;if(Ue=Se.charCodeAt($e++),Ue===37){if(Ue=Se.charAt($e++),xe=O[Ue in uO?Se.charAt($e++):Ue],!xe||(ge=xe(W,Te,ge))<0)return-1}else if(Ue!=Te.charCodeAt(ge++))return-1}return ge}function R(W,Se,Te){var ge=p.exec(Se.slice(Te));return ge?(W.p=f.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function U(W,Se,Te){var ge=E.exec(Se.slice(Te));return ge?(W.w=N.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function L(W,Se,Te){var ge=h.exec(Se.slice(Te));return ge?(W.w=b.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function I(W,Se,Te){var ge=C.exec(Se.slice(Te));return ge?(W.m=k.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function ae(W,Se,Te){var ge=S.exec(Se.slice(Te));return ge?(W.m=w.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function ne(W,Se,Te){return P(W,t,Se,Te)}function ue(W,Se,Te){return P(W,a,Se,Te)}function F(W,Se,Te){return P(W,r,Se,Te)}function G(W){return c[W.getDay()]}function le(W){return o[W.getDay()]}function te(W){return m[W.getMonth()]}function H(W){return d[W.getMonth()]}function j(W){return s[+(W.getHours()>=12)]}function B(W){return 1+~~(W.getMonth()/3)}function X(W){return c[W.getUTCDay()]}function K(W){return o[W.getUTCDay()]}function oe(W){return m[W.getUTCMonth()]}function Q(W){return d[W.getUTCMonth()]}function V(W){return s[+(W.getUTCHours()>=12)]}function we(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var Se=D(W+="",A);return Se.toString=function(){return W},Se},parse:function(W){var Se=_(W+="",!1);return Se.toString=function(){return W},Se},utcFormat:function(W){var Se=D(W+="",M);return Se.toString=function(){return W},Se},utcParse:function(W){var Se=_(W+="",!0);return Se.toString=function(){return W},Se}}}var uO={"-":"",_:" ",0:"0"},Ca=/^\s*\d+/,aJ=/^%/,rJ=/[\\^$*+?|[\]().{}]/g;function lt(e,t,a){var r=e<0?"-":"",s=(r?-e:e)+"",o=s.length;return r+(o<a?new Array(a-o+1).join(t)+s:s)}function nJ(e){return e.replace(rJ,"\\$&")}function gu(e){return new RegExp("^(?:"+e.map(nJ).join("|")+")","i")}function pu(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function lJ(e,t,a){var r=Ca.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function sJ(e,t,a){var r=Ca.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function iJ(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function oJ(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function cJ(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function mO(e,t,a){var r=Ca.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function dO(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function uJ(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function mJ(e,t,a){var r=Ca.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function dJ(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function fO(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function fJ(e,t,a){var r=Ca.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function gO(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function gJ(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function pJ(e,t,a){var r=Ca.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function hJ(e,t,a){var r=Ca.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function yJ(e,t,a){var r=Ca.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function vJ(e,t,a){var r=aJ.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function bJ(e,t,a){var r=Ca.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function xJ(e,t,a){var r=Ca.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function pO(e,t){return lt(e.getDate(),t,2)}function EJ(e,t){return lt(e.getHours(),t,2)}function NJ(e,t){return lt(e.getHours()%12||12,t,2)}function wJ(e,t){return lt(1+Nm.count(kl(e),e),t,3)}function NM(e,t){return lt(e.getMilliseconds(),t,3)}function SJ(e,t){return NM(e,t)+"000"}function CJ(e,t){return lt(e.getMonth()+1,t,2)}function AJ(e,t){return lt(e.getMinutes(),t,2)}function TJ(e,t){return lt(e.getSeconds(),t,2)}function OJ(e){var t=e.getDay();return t===0?7:t}function kJ(e,t){return lt($0.count(kl(e)-1,e),t,2)}function wM(e){var t=e.getDay();return t>=4||t===0?Ho(e):Ho.ceil(e)}function DJ(e,t){return e=wM(e),lt(Ho.count(kl(e),e)+(kl(e).getDay()===4),t,2)}function _J(e){return e.getDay()}function PJ(e,t){return lt(Vg.count(kl(e)-1,e),t,2)}function MJ(e,t){return lt(e.getFullYear()%100,t,2)}function RJ(e,t){return e=wM(e),lt(e.getFullYear()%100,t,2)}function LJ(e,t){return lt(e.getFullYear()%1e4,t,4)}function jJ(e,t){var a=e.getDay();return e=a>=4||a===0?Ho(e):Ho.ceil(e),lt(e.getFullYear()%1e4,t,4)}function zJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+lt(t/60|0,"0",2)+lt(t%60,"0",2)}function hO(e,t){return lt(e.getUTCDate(),t,2)}function UJ(e,t){return lt(e.getUTCHours(),t,2)}function IJ(e,t){return lt(e.getUTCHours()%12||12,t,2)}function FJ(e,t){return lt(1+F0.count(Dl(e),e),t,3)}function SM(e,t){return lt(e.getUTCMilliseconds(),t,3)}function $J(e,t){return SM(e,t)+"000"}function BJ(e,t){return lt(e.getUTCMonth()+1,t,2)}function VJ(e,t){return lt(e.getUTCMinutes(),t,2)}function qJ(e,t){return lt(e.getUTCSeconds(),t,2)}function HJ(e){var t=e.getUTCDay();return t===0?7:t}function GJ(e,t){return lt(B0.count(Dl(e)-1,e),t,2)}function CM(e){var t=e.getUTCDay();return t>=4||t===0?Go(e):Go.ceil(e)}function KJ(e,t){return e=CM(e),lt(Go.count(Dl(e),e)+(Dl(e).getUTCDay()===4),t,2)}function YJ(e){return e.getUTCDay()}function QJ(e,t){return lt(qg.count(Dl(e)-1,e),t,2)}function XJ(e,t){return lt(e.getUTCFullYear()%100,t,2)}function WJ(e,t){return e=CM(e),lt(e.getUTCFullYear()%100,t,2)}function ZJ(e,t){return lt(e.getUTCFullYear()%1e4,t,4)}function JJ(e,t){var a=e.getUTCDay();return e=a>=4||a===0?Go(e):Go.ceil(e),lt(e.getUTCFullYear()%1e4,t,4)}function eee(){return"+0000"}function yO(){return"%"}function vO(e){return+e}function bO(e){return Math.floor(+e/1e3)}var go,AM,TM;tee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tee(e){return go=tJ(e),AM=go.format,go.parse,TM=go.utcFormat,go.utcParse,go}function aee(e){return new Date(e)}function ree(e){return e instanceof Date?+e:+new Date(+e)}function H1(e,t,a,r,s,o,c,d,m,p){var f=_1(),h=f.invert,b=f.domain,E=p(".%L"),N=p(":%S"),S=p("%I:%M"),w=p("%I %p"),C=p("%a %d"),k=p("%b %d"),A=p("%B"),M=p("%Y");function O(D){return(m(D)<D?E:d(D)<D?N:c(D)<D?S:o(D)<D?w:r(D)<D?s(D)<D?C:k:a(D)<D?A:M)(D)}return f.invert=function(D){return new Date(h(D))},f.domain=function(D){return arguments.length?b(Array.from(D,ree)):b().map(aee)},f.ticks=function(D){var _=b();return e(_[0],_[_.length-1],D??10)},f.tickFormat=function(D,_){return _==null?O:p(_)},f.nice=function(D){var _=b();return(!D||typeof D.range!="function")&&(D=t(_[0],_[_.length-1],D??10)),D?b(fM(_,D)):f},f.copy=function(){return Em(f,H1(e,t,a,r,s,o,c,d,m,p))},f}function nee(){return Yr.apply(H1(JZ,eJ,kl,V1,$0,Nm,$1,I1,di,AM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lee(){return Yr.apply(H1(WZ,ZZ,Dl,q1,B0,F0,B1,F1,di,TM).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function V0(){var e=0,t=1,a,r,s,o,c=Ba,d=!1,m;function p(h){return h==null||isNaN(h=+h)?m:c(s===0?.5:(h=(o(h)-a)*s,d?Math.max(0,Math.min(1,h)):h))}p.domain=function(h){return arguments.length?([e,t]=h,a=o(e=+e),r=o(t=+t),s=a===r?0:1/(r-a),p):[e,t]},p.clamp=function(h){return arguments.length?(d=!!h,p):d},p.interpolator=function(h){return arguments.length?(c=h,p):c};function f(h){return function(b){var E,N;return arguments.length?([E,N]=b,c=h(E,N),p):[c(0),c(1)]}}return p.range=f(rc),p.rangeRound=f(D1),p.unknown=function(h){return arguments.length?(m=h,p):m},function(h){return o=h,a=h(e),r=h(t),s=a===r?0:1/(r-a),p}}function Ps(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OM(){var e=_s(V0()(Ba));return e.copy=function(){return Ps(e,OM())},jl.apply(e,arguments)}function kM(){var e=R1(V0()).domain([1,10]);return e.copy=function(){return Ps(e,kM()).base(e.base())},jl.apply(e,arguments)}function DM(){var e=L1(V0());return e.copy=function(){return Ps(e,DM()).constant(e.constant())},jl.apply(e,arguments)}function G1(){var e=j1(V0());return e.copy=function(){return Ps(e,G1()).exponent(e.exponent())},jl.apply(e,arguments)}function see(){return G1.apply(null,arguments).exponent(.5)}function _M(){var e=[],t=Ba;function a(r){if(r!=null&&!isNaN(r=+r))return t((bm(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Es),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(s,o)=>HW(e,o/r))},a.copy=function(){return _M(t).domain(e)},jl.apply(a,arguments)}function q0(){var e=0,t=.5,a=1,r=1,s,o,c,d,m,p=Ba,f,h=!1,b;function E(S){return isNaN(S=+S)?b:(S=.5+((S=+f(S))-o)*(r*S<r*o?d:m),p(h?Math.max(0,Math.min(1,S)):S))}E.domain=function(S){return arguments.length?([e,t,a]=S,s=f(e=+e),o=f(t=+t),c=f(a=+a),d=s===o?0:.5/(o-s),m=o===c?0:.5/(c-o),r=o<s?-1:1,E):[e,t,a]},E.clamp=function(S){return arguments.length?(h=!!S,E):h},E.interpolator=function(S){return arguments.length?(p=S,E):p};function N(S){return function(w){var C,k,A;return arguments.length?([C,k,A]=w,p=vZ(S,[C,k,A]),E):[p(0),p(.5),p(1)]}}return E.range=N(rc),E.rangeRound=N(D1),E.unknown=function(S){return arguments.length?(b=S,E):b},function(S){return f=S,s=S(e),o=S(t),c=S(a),d=s===o?0:.5/(o-s),m=o===c?0:.5/(c-o),r=o<s?-1:1,E}}function PM(){var e=_s(q0()(Ba));return e.copy=function(){return Ps(e,PM())},jl.apply(e,arguments)}function MM(){var e=R1(q0()).domain([.1,1,10]);return e.copy=function(){return Ps(e,MM()).base(e.base())},jl.apply(e,arguments)}function RM(){var e=L1(q0());return e.copy=function(){return Ps(e,RM()).constant(e.constant())},jl.apply(e,arguments)}function K1(){var e=j1(q0());return e.copy=function(){return Ps(e,K1()).exponent(e.exponent())},jl.apply(e,arguments)}function iee(){return K1.apply(null,arguments).exponent(.5)}const wu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:T1,scaleDiverging:PM,scaleDivergingLog:MM,scaleDivergingPow:K1,scaleDivergingSqrt:iee,scaleDivergingSymlog:RM,scaleIdentity:dM,scaleImplicit:Ix,scaleLinear:mM,scaleLog:gM,scaleOrdinal:A1,scalePoint:YW,scalePow:z1,scaleQuantile:yM,scaleQuantize:vM,scaleRadial:hM,scaleSequential:OM,scaleSequentialLog:kM,scaleSequentialPow:G1,scaleSequentialQuantile:_M,scaleSequentialSqrt:see,scaleSequentialSymlog:DM,scaleSqrt:$Z,scaleSymlog:pM,scaleThreshold:bM,scaleTime:nee,scaleUtc:lee,tickFormat:uM},Symbol.toStringTag,{value:"Module"}));var Ms=e=>e.chartData,Y1=re([Ms],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),LM=(e,t,a,r)=>r?Y1(e):Ms(e);function Ts(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(wa(t)&&wa(a))return!0}return!1}function xO(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function jM(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,s,o;if(wa(a))s=a;else if(typeof a=="function")return;if(wa(r))o=r;else if(typeof r=="function")return;var c=[s,o];if(Ts(c))return c}}function oee(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(Ts(r))return xO(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Be(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&G5.test(s)){var m=G5.exec(s);if(m==null||t==null)c=void 0;else{var p=+m[1];c=t[0]-p}}else c=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Be(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&K5.test(o)){var f=K5.exec(o);if(f==null||t==null)d=void 0;else{var h=+f[1];d=t[1]+h}}else d=t?.[1];var b=[c,d];if(Ts(b))return t==null?b:xO(b,t,a)}}}var nc=1e9,cee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X1,_t=!0,Hr="[DecimalError] ",bi=Hr+"Invalid argument: ",Q1=Hr+"Exponent out of range: ",lc=Math.floor,ii=Math.pow,uee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,pr,Ea=1e7,At=7,zM=9007199254740991,Hg=lc(zM/At),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,a,r,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(r=o.d.length,s=e.d.length,t=0,a=r<s?r:s;t<a;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===s?0:r>s^o.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};ke.dividedBy=ke.div=function(e){return bl(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,a=t.constructor;return xt(bl(t,new a(e),0,1),a.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return ca(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,a=this,r=a.constructor,s=r.precision,o=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(pr))throw Error(Hr+"NaN");if(a.s<1)throw Error(Hr+(a.s?"NaN":"-Infinity"));return a.eq(pr)?new r(0):(_t=!1,t=bl(Wu(a,o),Wu(e,o),o),_t=!0,xt(t,s))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FM(t,e):UM(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,a=this,r=a.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Hr+"NaN");return a.s?(_t=!1,t=bl(a,e,0,1).times(e),_t=!0,a.minus(t)):xt(new r(a),s)};ke.naturalExponential=ke.exp=function(){return IM(this)};ke.naturalLogarithm=ke.ln=function(){return Wu(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?UM(t,e):FM(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,a,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bi+e);if(t=ca(s)+1,r=s.d.length-1,a=r*At+1,r=s.d[r],r){for(;r%10==0;r/=10)a--;for(r=s.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};ke.squareRoot=ke.sqrt=function(){var e,t,a,r,s,o,c,d=this,m=d.constructor;if(d.s<1){if(!d.s)return new m(0);throw Error(Hr+"NaN")}for(e=ca(d),_t=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=kn(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=lc((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(s.toString()),a=m.precision,s=c=a+3;;)if(o=r,r=o.plus(bl(d,o,c+2)).times(.5),kn(o.d).slice(0,c)===(t=kn(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(xt(o,a+1,0),o.times(o).eq(d)){r=o;break}}else if(t!="9999")break;c+=4}return _t=!0,xt(r,a)};ke.times=ke.mul=function(e){var t,a,r,s,o,c,d,m,p,f=this,h=f.constructor,b=f.d,E=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,a=f.e+e.e,m=b.length,p=E.length,m<p&&(o=b,b=E,E=o,c=m,m=p,p=c),o=[],c=m+p,r=c;r--;)o.push(0);for(r=p;--r>=0;){for(t=0,s=m+r;s>r;)d=o[s]+E[r]*b[s-r-1]+t,o[s--]=d%Ea|0,t=d/Ea|0;o[s]=(o[s]+t)%Ea|0}for(;!o[--c];)o.pop();return t?++a:o.shift(),e.d=o,e.e=a,_t?xt(e,h.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(In(e,0,nc),t===void 0?t=r.rounding:In(t,0,8),xt(a,e+ca(a)+1,t))};ke.toExponential=function(e,t){var a,r=this,s=r.constructor;return e===void 0?a=Ci(r,!0):(In(e,0,nc),t===void 0?t=s.rounding:In(t,0,8),r=xt(new s(r),e+1,t),a=Ci(r,!0,e+1)),a};ke.toFixed=function(e,t){var a,r,s=this,o=s.constructor;return e===void 0?Ci(s):(In(e,0,nc),t===void 0?t=o.rounding:In(t,0,8),r=xt(new o(s),e+ca(s)+1,t),a=Ci(r.abs(),!1,e+ca(r)+1),s.isneg()&&!s.isZero()?"-"+a:a)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return xt(new t(e),ca(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,a,r,s,o,c,d=this,m=d.constructor,p=12,f=+(e=new m(e));if(!e.s)return new m(pr);if(d=new m(d),!d.s){if(e.s<1)throw Error(Hr+"Infinity");return d}if(d.eq(pr))return d;if(r=m.precision,e.eq(pr))return xt(d,r);if(t=e.e,a=e.d.length-1,c=t>=a,o=d.s,c){if((a=f<0?-f:f)<=zM){for(s=new m(pr),t=Math.ceil(r/At+4),_t=!1;a%2&&(s=s.times(d),NO(s.d,t)),a=lc(a/2),a!==0;)d=d.times(d),NO(d.d,t);return _t=!0,e.s<0?new m(pr).div(s):xt(s,r)}}else if(o<0)throw Error(Hr+"NaN");return o=o<0&&e.d[Math.max(t,a)]&1?-1:1,d.s=1,_t=!1,s=e.times(Wu(d,r+p)),_t=!0,s=IM(s),s.s=o,s};ke.toPrecision=function(e,t){var a,r,s=this,o=s.constructor;return e===void 0?(a=ca(s),r=Ci(s,a<=o.toExpNeg||a>=o.toExpPos)):(In(e,1,nc),t===void 0?t=o.rounding:In(t,0,8),s=xt(new o(s),e,t),a=ca(s),r=Ci(s,e<=a||a<=o.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(In(e,1,nc),t===void 0?t=r.rounding:In(t,0,8)),xt(new r(a),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ca(e),a=e.constructor;return Ci(e,t<=a.toExpNeg||t>=a.toExpPos)};function UM(e,t){var a,r,s,o,c,d,m,p,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),_t?xt(t,h):t;if(m=e.d,p=t.d,c=e.e,s=t.e,m=m.slice(),o=c-s,o){for(o<0?(r=m,o=-o,d=p.length):(r=p,s=c,d=m.length),c=Math.ceil(h/At),d=c>d?c+1:d+1,o>d&&(o=d,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(d=m.length,o=p.length,d-o<0&&(o=d,r=p,p=m,m=r),a=0;o;)a=(m[--o]=m[o]+p[o]+a)/Ea|0,m[o]%=Ea;for(a&&(m.unshift(a),++s),d=m.length;m[--d]==0;)m.pop();return t.d=m,t.e=s,_t?xt(t,h):t}function In(e,t,a){if(e!==~~e||e<t||e>a)throw Error(bi+e)}function kn(e){var t,a,r,s=e.length-1,o="",c=e[0];if(s>0){for(o+=c,t=1;t<s;t++)r=e[t]+"",a=At-r.length,a&&(o+=bs(a)),o+=r;c=e[t],r=c+"",a=At-r.length,a&&(o+=bs(a))}else if(c===0)return"0";for(;c%10===0;)c/=10;return o+c}var bl=(function(){function e(r,s){var o,c=0,d=r.length;for(r=r.slice();d--;)o=r[d]*s+c,r[d]=o%Ea|0,c=o/Ea|0;return c&&r.unshift(c),r}function t(r,s,o,c){var d,m;if(o!=c)m=o>c?1:-1;else for(d=m=0;d<o;d++)if(r[d]!=s[d]){m=r[d]>s[d]?1:-1;break}return m}function a(r,s,o){for(var c=0;o--;)r[o]-=c,c=r[o]<s[o]?1:0,r[o]=c*Ea+r[o]-s[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,o,c){var d,m,p,f,h,b,E,N,S,w,C,k,A,M,O,D,_,P,R=r.constructor,U=r.s==s.s?1:-1,L=r.d,I=s.d;if(!r.s)return new R(r);if(!s.s)throw Error(Hr+"Division by zero");for(m=r.e-s.e,_=I.length,O=L.length,E=new R(U),N=E.d=[],p=0;I[p]==(L[p]||0);)++p;if(I[p]>(L[p]||0)&&--m,o==null?k=o=R.precision:c?k=o+(ca(r)-ca(s))+1:k=o,k<0)return new R(0);if(k=k/At+2|0,p=0,_==1)for(f=0,I=I[0],k++;(p<O||f)&&k--;p++)A=f*Ea+(L[p]||0),N[p]=A/I|0,f=A%I|0;else{for(f=Ea/(I[0]+1)|0,f>1&&(I=e(I,f),L=e(L,f),_=I.length,O=L.length),M=_,S=L.slice(0,_),w=S.length;w<_;)S[w++]=0;P=I.slice(),P.unshift(0),D=I[0],I[1]>=Ea/2&&++D;do f=0,d=t(I,S,_,w),d<0?(C=S[0],_!=w&&(C=C*Ea+(S[1]||0)),f=C/D|0,f>1?(f>=Ea&&(f=Ea-1),h=e(I,f),b=h.length,w=S.length,d=t(h,S,b,w),d==1&&(f--,a(h,_<b?P:I,b))):(f==0&&(d=f=1),h=I.slice()),b=h.length,b<w&&h.unshift(0),a(S,h,w),d==-1&&(w=S.length,d=t(I,S,_,w),d<1&&(f++,a(S,_<w?P:I,w))),w=S.length):d===0&&(f++,S=[0]),N[p++]=f,d&&S[0]?S[w++]=L[M]||0:(S=[L[M]],w=1);while((M++<O||S[0]!==void 0)&&k--)}return N[0]||N.shift(),E.e=m,xt(E,c?o+ca(E)+1:o)}})();function IM(e,t){var a,r,s,o,c,d,m=0,p=0,f=e.constructor,h=f.precision;if(ca(e)>16)throw Error(Q1+ca(e));if(!e.s)return new f(pr);for(_t=!1,d=h,c=new f(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(r=Math.log(ii(2,p))/Math.LN10*2+5|0,d+=r,a=s=o=new f(pr),f.precision=d;;){if(s=xt(s.times(e),d),a=a.times(++m),c=o.plus(bl(s,a,d)),kn(c.d).slice(0,d)===kn(o.d).slice(0,d)){for(;p--;)o=xt(o.times(o),d);return f.precision=h,t==null?(_t=!0,xt(o,h)):o}o=c}}function ca(e){for(var t=e.e*At,a=e.d[0];a>=10;a/=10)t++;return t}function ab(e,t,a){if(t>e.LN10.sd())throw _t=!0,a&&(e.precision=a),Error(Hr+"LN10 precision limit exceeded");return xt(new e(e.LN10),t)}function bs(e){for(var t="";e--;)t+="0";return t}function Wu(e,t){var a,r,s,o,c,d,m,p,f,h=1,b=10,E=e,N=E.d,S=E.constructor,w=S.precision;if(E.s<1)throw Error(Hr+(E.s?"NaN":"-Infinity"));if(E.eq(pr))return new S(0);if(t==null?(_t=!1,p=w):p=t,E.eq(10))return t==null&&(_t=!0),ab(S,p);if(p+=b,S.precision=p,a=kn(N),r=a.charAt(0),o=ca(E),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)E=E.times(e),a=kn(E.d),r=a.charAt(0),h++;o=ca(E),r>1?(E=new S("0."+a),o++):E=new S(r+"."+a.slice(1))}else return m=ab(S,p+2,w).times(o+""),E=Wu(new S(r+"."+a.slice(1)),p-b).plus(m),S.precision=w,t==null?(_t=!0,xt(E,w)):E;for(d=c=E=bl(E.minus(pr),E.plus(pr),p),f=xt(E.times(E),p),s=3;;){if(c=xt(c.times(f),p),m=d.plus(bl(c,new S(s),p)),kn(m.d).slice(0,p)===kn(d.d).slice(0,p))return d=d.times(2),o!==0&&(d=d.plus(ab(S,p+2,w).times(o+""))),d=bl(d,new S(h),p),S.precision=w,t==null?(_t=!0,xt(d,w)):d;d=m,s+=2}}function EO(e,t){var a,r,s;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,a=a-r-1,e.e=lc(a/At),e.d=[],r=(a+1)%At,a<0&&(r+=At),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=At;r<s;)e.d.push(+t.slice(r,r+=At));t=t.slice(r),r=At-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),_t&&(e.e>Hg||e.e<-Hg))throw Error(Q1+a)}else e.s=0,e.e=0,e.d=[0];return e}function xt(e,t,a){var r,s,o,c,d,m,p,f,h=e.d;for(c=1,o=h[0];o>=10;o/=10)c++;if(r=t-c,r<0)r+=At,s=t,p=h[f=0];else{if(f=Math.ceil((r+1)/At),o=h.length,f>=o)return e;for(p=o=h[f],c=1;o>=10;o/=10)c++;r%=At,s=r-At+c}if(a!==void 0&&(o=ii(10,c-s-1),d=p/o%10|0,m=t<0||h[f+1]!==void 0||p%o,m=a<4?(d||m)&&(a==0||a==(e.s<0?3:2)):d>5||d==5&&(a==4||m||a==6&&(r>0?s>0?p/ii(10,c-s):0:h[f-1])%10&1||a==(e.s<0?8:7))),t<1||!h[0])return m?(o=ca(e),h.length=1,t=t-o-1,h[0]=ii(10,(At-t%At)%At),e.e=lc(-t/At)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=f,o=1,f--):(h.length=f+1,o=ii(10,At-r),h[f]=s>0?(p/ii(10,c-s)%ii(10,s)|0)*o:0),m)for(;;)if(f==0){(h[0]+=o)==Ea&&(h[0]=1,++e.e);break}else{if(h[f]+=o,h[f]!=Ea)break;h[f--]=0,o=1}for(r=h.length;h[--r]===0;)h.pop();if(_t&&(e.e>Hg||e.e<-Hg))throw Error(Q1+ca(e));return e}function FM(e,t){var a,r,s,o,c,d,m,p,f,h,b=e.constructor,E=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),_t?xt(t,E):t;if(m=e.d,h=t.d,r=t.e,p=e.e,m=m.slice(),c=p-r,c){for(f=c<0,f?(a=m,c=-c,d=h.length):(a=h,r=p,d=m.length),s=Math.max(Math.ceil(E/At),d)+2,c>s&&(c=s,a.length=1),a.reverse(),s=c;s--;)a.push(0);a.reverse()}else{for(s=m.length,d=h.length,f=s<d,f&&(d=s),s=0;s<d;s++)if(m[s]!=h[s]){f=m[s]<h[s];break}c=0}for(f&&(a=m,m=h,h=a,t.s=-t.s),d=m.length,s=h.length-d;s>0;--s)m[d++]=0;for(s=h.length;s>c;){if(m[--s]<h[s]){for(o=s;o&&m[--o]===0;)m[o]=Ea-1;--m[o],m[s]+=Ea}m[s]-=h[s]}for(;m[--d]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,_t?xt(t,E):t):new b(0)}function Ci(e,t,a){var r,s=ca(e),o=kn(e.d),c=o.length;return t?(a&&(r=a-c)>0?o=o.charAt(0)+"."+o.slice(1)+bs(r):c>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+bs(-s-1)+o,a&&(r=a-c)>0&&(o+=bs(r))):s>=c?(o+=bs(s+1-c),a&&(r=a-s-1)>0&&(o=o+"."+bs(r))):((r=s+1)<c&&(o=o.slice(0,r)+"."+o.slice(r)),a&&(r=a-c)>0&&(s+1===c&&(o+="."),o+=bs(r))),e.s<0?"-"+o:o}function NO(e,t){if(e.length>t)return e.length=t,!0}function $M(e){var t,a,r;function s(o){var c=this;if(!(c instanceof s))return new s(o);if(c.constructor=s,o instanceof s){c.s=o.s,c.e=o.e,c.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(bi+o);if(o>0)c.s=1;else if(o<0)o=-o,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(o===~~o&&o<1e7){c.e=0,c.d=[o];return}return EO(c,o.toString())}else if(typeof o!="string")throw Error(bi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),c.s=-1):c.s=1,uee.test(o))EO(c,o);else throw Error(bi+o)}if(s.prototype=ke,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=$M,s.config=s.set=mee,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return s.config(e),s}function mee(e){if(!e||typeof e!="object")throw Error(Hr+"Object expected");var t,a,r,s=["precision",1,nc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[a=s[t]])!==void 0)if(lc(r)===r&&r>=s[t+1]&&r<=s[t+2])this[a]=r;else throw Error(bi+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(bi+a+": "+r);return this}var X1=$M(cee);pr=new X1(1);const ct=X1;var dee=e=>e,BM={},VM=e=>e===BM,wO=e=>function t(){return arguments.length===0||arguments.length===1&&VM(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},qM=(e,t)=>e===1?t:wO(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var o=r.filter(c=>c!==BM).length;return o>=e?t(...r):qM(e-o,wO(function(){for(var c=arguments.length,d=new Array(c),m=0;m<c;m++)d[m]=arguments[m];var p=r.map(f=>VM(f)?d.shift():f);return t(...p,...d)}))}),fee=e=>qM(e.length,e),Vx=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},gee=fee((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),pee=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return dee;var s=a.reverse(),o=s[0],c=s.slice(1);return function(){return c.reduce((d,m)=>m(d),o(...arguments))}},qx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function HM(e){var t;return e===0?t=1:t=Math.floor(new ct(e).abs().log(10).toNumber())+1,t}function GM(e,t,a){for(var r=new ct(e),s=0,o=[];r.lt(t)&&s<1e5;)o.push(r.toNumber()),r=r.add(a),s++;return o}var KM=e=>{var[t,a]=e,[r,s]=[t,a];return t>a&&([r,s]=[a,t]),[r,s]},YM=(e,t,a)=>{if(e.lte(0))return new ct(0);var r=HM(e.toNumber()),s=new ct(10).pow(r),o=e.div(s),c=r!==1?.05:.1,d=new ct(Math.ceil(o.div(c).toNumber())).add(a).mul(c),m=d.mul(s);return t?new ct(m.toNumber()):new ct(Math.ceil(m.toNumber()))},hee=(e,t,a)=>{var r=new ct(1),s=new ct(e);if(!s.isint()&&a){var o=Math.abs(e);o<1?(r=new ct(10).pow(HM(e)-1),s=new ct(Math.floor(s.div(r).toNumber())).mul(r)):o>1&&(s=new ct(Math.floor(e)))}else e===0?s=new ct(Math.floor((t-1)/2)):a||(s=new ct(Math.floor(e)));var c=Math.floor((t-1)/2),d=pee(gee(m=>s.add(new ct(m-c).mul(r)).toNumber()),Vx);return d(0,t)},QM=function(t,a,r,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var c=YM(new ct(a).sub(t).div(r-1),s,o),d;t<=0&&a>=0?d=new ct(0):(d=new ct(t).add(a).div(2),d=d.sub(new ct(d).mod(c)));var m=Math.ceil(d.sub(t).div(c).toNumber()),p=Math.ceil(new ct(a).sub(d).div(c).toNumber()),f=m+p+1;return f>r?QM(t,a,r,s,o+1):(f<r&&(p=a>0?p+(r-f):p,m=a>0?m:m+(r-f)),{step:c,tickMin:d.sub(new ct(m).mul(c)),tickMax:d.add(new ct(p).mul(c))})},yee=function(t){var[a,r]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[d,m]=KM([a,r]);if(d===-1/0||m===1/0){var p=m===1/0?[d,...Vx(0,s-1).map(()=>1/0)]:[...Vx(0,s-1).map(()=>-1/0),m];return a>r?qx(p):p}if(d===m)return hee(d,s,o);var{step:f,tickMin:h,tickMax:b}=QM(d,m,c,o,0),E=GM(h,b.add(new ct(.1).mul(f)),f);return a>r?qx(E):E},vee=function(t,a){var[r,s]=t,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,d]=KM([r,s]);if(c===-1/0||d===1/0)return[r,s];if(c===d)return[c];var m=Math.max(a,2),p=YM(new ct(d).sub(c).div(m-1),o,0),f=[...GM(new ct(c),new ct(d),p),d];return o===!1&&(f=f.map(h=>Math.round(h))),r>s?qx(f):f},bee=e=>e.rootProps.barCategoryGap,wm=e=>e.rootProps.stackOffset,XM=e=>e.rootProps.reverseStackOrder,W1=e=>e.options.chartName,Z1=e=>e.rootProps.syncId,WM=e=>e.rootProps.syncMethod,J1=e=>e.options.eventEmitter,un={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},gl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},gr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},H0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},xee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gl.angleAxisId,includeHidden:!1,name:void 0,reversed:gl.reversed,scale:gl.scale,tick:gl.tick,tickCount:void 0,ticks:void 0,type:gl.type,unit:void 0},Eee={allowDataOverflow:gr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,ticks:void 0,type:gr.type,unit:void 0},Nee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gl.scale,tick:gl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},wee={allowDataOverflow:gr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:gr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gr.scale,tick:gr.tick,tickCount:gr.tickCount,ticks:void 0,type:"category",unit:void 0},eN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Nee:xee,tN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?wee:Eee,G0=e=>e.polarOptions,aN=re([Rl,Ll,Sa],X6),ZM=re([G0,aN],(e,t)=>{if(e!=null)return yr(e.innerRadius,t,0)}),JM=re([G0,aN],(e,t)=>{if(e!=null)return yr(e.outerRadius,t,t*.8)}),See=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},e8=re([G0],See);re([eN,e8],H0);var t8=re([aN,ZM,JM],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});re([tN,t8],H0);var a8=re([wt,G0,ZM,JM,Rl,Ll],(e,t,a,r,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:c,cy:d,startAngle:m,endAngle:p}=t;return{cx:yr(c,s,s/2),cy:yr(d,o,o/2),innerRadius:a,outerRadius:r,startAngle:m,endAngle:p,clockWise:!1}}}),Lt=(e,t)=>t,Sm=(e,t,a)=>a;function r8(e){return e?.id}function n8(e,t,a){var{chartData:r=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=a,c=new Map;return e.forEach(d=>{var m,p=(m=d.data)!==null&&m!==void 0?m:r;if(!(p==null||p.length===0)){var f=r8(d);p.forEach((h,b)=>{var E=o==null||s?b:String(Yt(h,o,null)),N=Yt(h,d.dataKey,0),S;c.has(E)?S=c.get(E):S={},Object.assign(S,{[f]:N}),c.set(E,S)})}}),Array.from(c.values())}function rN(e){return e.stackId!=null&&e.dataKey!=null}var K0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Y0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Cee(e,t){if(e.length===t.length){for(var a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}return!1}var ha=e=>{var t=wt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},sc=e=>e.tooltip.settings.axisId;function SO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Gg(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(a),!0).forEach(function(r){Aee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Aee(e,t,a){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Tee(e){var t=Oee(e,"string");return typeof t=="symbol"?t:t+""}function Oee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hx=[0,"auto"],kee={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Dee=(e,t)=>e.cartesianAxis.xAxis[t],Rs=(e,t)=>{var a=Dee(e,t);return a??kee},_ee={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Hx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ym},Pee=(e,t)=>e.cartesianAxis.yAxis[t],Ls=(e,t)=>{var a=Pee(e,t);return a??_ee},Mee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},nN=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??Mee},zt=(e,t,a)=>{switch(t){case"xAxis":return Rs(e,a);case"yAxis":return Ls(e,a);case"zAxis":return nN(e,a);case"angleAxis":return eN(e,a);case"radiusAxis":return tN(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Ree=(e,t,a)=>{switch(t){case"xAxis":return Rs(e,a);case"yAxis":return Ls(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Cm=(e,t,a)=>{switch(t){case"xAxis":return Rs(e,a);case"yAxis":return Ls(e,a);case"angleAxis":return eN(e,a);case"radiusAxis":return tN(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},l8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lN(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var Lee=e=>e.graphicalItems.cartesianItems,jee=re([Lt,Sm],lN),sN=(e,t,a)=>e.filter(a).filter(r=>t?.includeHidden===!0?!0:!r.hide),Am=re([Lee,zt,jee],sN,{memoizeOptions:{resultEqualityCheck:Y0}}),s8=re([Am],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rN)),i8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),zee=re([Am],i8),iN=e=>e.map(t=>t.data).filter(Boolean).flat(1),Uee=re([Am],iN,{memoizeOptions:{resultEqualityCheck:Y0}}),oN=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:a.slice(r,s+1)},cN=re([Uee,LM],oN),uN=(e,t,a)=>t?.dataKey!=null?e.map(r=>({value:Yt(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Yt(s,r)}))):e.map(r=>({value:r})),Q0=re([cN,zt,Am],uN);function o8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Kf(e){if(Al(e)||e instanceof Date){var t=Number(e);if(wa(t))return t}}function CO(e){if(Array.isArray(e)){var t=[Kf(e[0]),Kf(e[1])];return Ts(t)?t:void 0}var a=Kf(e);if(a!=null)return[a,a]}function _l(e){return e.map(Kf).filter(TG)}function Iee(e,t,a){return!a||typeof t!="number"||Sl(t)?[]:a.length?_l(a.flatMap(r=>{var s=Yt(e,r.dataKey),o,c;if(Array.isArray(s)?[o,c]=s:o=c=s,!(!wa(o)||!wa(c)))return[t-o,t+c]})):[]}var ya=e=>{var t=ha(e),a=sc(e);return Cm(e,t,a)},Tm=re([ya],e=>e?.dataKey),Fee=re([s8,LM,ya],n8),c8=(e,t,a,r)=>{var s={},o=t.reduce((c,d)=>(d.stackId==null||(c[d.stackId]==null&&(c[d.stackId]=[]),c[d.stackId].push(d)),c),s);return Object.fromEntries(Object.entries(o).map(c=>{var[d,m]=c,p=r?[...m].reverse():m,f=p.map(r8);return[d,{stackedData:eQ(e,f,a),graphicalItems:p}]}))},$ee=re([Fee,s8,wm,XM],c8),u8=(e,t,a,r)=>{var{dataStartIndex:s,dataEndIndex:o}=t;if(r==null&&a!=="zAxis"){var c=rQ(e,s,o);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Bee=re([zt],e=>e.allowDataOverflow),mN=e=>{var t;if(e==null||!("domain"in e))return Hx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=_l(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Hx},dN=re([zt],mN),fN=re([dN,Bee],jM),Vee=re([$ee,Ms,Lt,fN],u8,{memoizeOptions:{resultEqualityCheck:K0}}),X0=e=>e.errorBars,qee=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>o8(a,r)),Kg=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var s=a.filter(Boolean);if(s.length!==0){var o=s.flat(),c=Math.min(...o),d=Math.max(...o);return[c,d]}},gN=(e,t,a,r,s)=>{var o,c;if(a.length>0&&e.forEach(d=>{a.forEach(m=>{var p,f,h=(p=r[m.id])===null||p===void 0?void 0:p.filter(C=>o8(s,C)),b=Yt(d,(f=t.dataKey)!==null&&f!==void 0?f:m.dataKey),E=Iee(d,b,h);if(E.length>=2){var N=Math.min(...E),S=Math.max(...E);(o==null||N<o)&&(o=N),(c==null||S>c)&&(c=S)}var w=CO(b);w!=null&&(o=o==null?w[0]:Math.min(o,w[0]),c=c==null?w[1]:Math.max(c,w[1]))})}),t?.dataKey!=null&&e.forEach(d=>{var m=CO(Yt(d,t.dataKey));m!=null&&(o=o==null?m[0]:Math.min(o,m[0]),c=c==null?m[1]:Math.max(c,m[1]))}),wa(o)&&wa(c))return[o,c]},Hee=re([cN,zt,zee,X0,Lt],gN,{memoizeOptions:{resultEqualityCheck:K0}});function Gee(e){var{value:t}=e;if(Al(t)||t instanceof Date)return t}var Kee=(e,t,a)=>{var r=e.map(Gee).filter(s=>s!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&_P(r))?eM(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},m8=e=>e.referenceElements.dots,ic=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),Yee=re([m8,Lt,Sm],ic),d8=e=>e.referenceElements.areas,Qee=re([d8,Lt,Sm],ic),f8=e=>e.referenceElements.lines,Xee=re([f8,Lt,Sm],ic),g8=(e,t)=>{var a=_l(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Wee=re(Yee,Lt,g8),p8=(e,t)=>{var a=_l(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Zee=re([Qee,Lt],p8);function Jee(e){var t;if(e.x!=null)return _l([e.x]);var a=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return a==null||a.length===0?[]:_l(a)}function ete(e){var t;if(e.y!=null)return _l([e.y]);var a=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return a==null||a.length===0?[]:_l(a)}var h8=(e,t)=>{var a=e.flatMap(r=>t==="xAxis"?Jee(r):ete(r));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},tte=re([Xee,Lt],h8),ate=re(Wee,tte,Zee,(e,t,a)=>Kg(e,a,t)),pN=(e,t,a,r,s,o,c,d)=>{if(a!=null)return a;var m=c==="vertical"&&d==="xAxis"||c==="horizontal"&&d==="yAxis",p=m?Kg(r,o,s):Kg(o,s);return oee(t,p,e.allowDataOverflow)},rte=re([zt,dN,fN,Vee,Hee,ate,wt,Lt],pN,{memoizeOptions:{resultEqualityCheck:K0}}),nte=[0,1],hN=(e,t,a,r,s,o,c)=>{if(!((e==null||a==null||a.length===0)&&c===void 0)){var{dataKey:d,type:m}=e,p=Oi(t,o);if(p&&d==null){var f;return eM(0,(f=a?.length)!==null&&f!==void 0?f:0)}return m==="category"?Kee(r,e,p):s==="expand"?nte:c}},yN=re([zt,wt,cN,Q0,wm,Lt,rte],hN),y8=(e,t,a,r,s)=>{if(e!=null){var{scale:o,type:c}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":c==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(dm(o));return d in wu?d:"point"}}},oc=re([zt,wt,l8,W1,Lt],y8);function lte(e){if(e!=null){if(e in wu)return wu[e]();var t="scale".concat(dm(e));if(t in wu)return wu[t]()}}function vN(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var s=lte(t);if(s!=null){var o=s.domain(a).range(r);return XY(o),o}}}var bN=(e,t,a)=>{var r=mN(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ts(e))return yee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ts(e))return vee(e,t.tickCount,t.allowDecimals)}},xN=re([yN,Cm,oc],bN),EN=(e,t,a,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Ts(t)&&Array.isArray(a)&&a.length>0){var s=t[0],o=a[0],c=t[1],d=a[a.length-1];return[Math.min(s,o),Math.max(c,d)]}return t},ste=re([zt,yN,xN,Lt],EN),ite=re(Q0,zt,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(_l(e.map(d=>d.value))).sort((d,m)=>d-m);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var c=r[o+1]-r[o];a=Math.min(a,c)}return a/s}}),v8=re(ite,wt,bee,Sa,(e,t,a,r)=>r,(e,t,a,r,s)=>{if(!wa(e))return 0;var o=t==="vertical"?r.height:r.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var c=yr(a,e*o),d=e*o/2;return d-c-(d-c)/o*c}return 0}),ote=(e,t)=>{var a=Rs(e,t);return a==null||typeof a.padding!="string"?0:v8(e,"xAxis",t,a.padding)},cte=(e,t)=>{var a=Ls(e,t);return a==null||typeof a.padding!="string"?0:v8(e,"yAxis",t,a.padding)},ute=re(Rs,ote,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((a=s.left)!==null&&a!==void 0?a:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),mte=re(Ls,cte,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((a=s.top)!==null&&a!==void 0?a:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),dte=re([Sa,ute,P0,_0,(e,t,a)=>a],(e,t,a,r,s)=>{var{padding:o}=r;return s?[o.left,a.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),fte=re([Sa,wt,mte,P0,_0,(e,t,a)=>a],(e,t,a,r,s,o)=>{var{padding:c}=s;return o?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),Om=(e,t,a,r)=>{var s;switch(t){case"xAxis":return dte(e,a,r);case"yAxis":return fte(e,a,r);case"zAxis":return(s=nN(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return e8(e);case"radiusAxis":return t8(e,a);default:return}},b8=re([zt,Om],H0),W0=re([zt,oc,ste,b8],vN);re([Am,X0,Lt],qee);function x8(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Z0=(e,t)=>t,J0=(e,t,a)=>a,gte=re(k0,Z0,J0,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(x8)),pte=re(D0,Z0,J0,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(x8)),E8=(e,t)=>({width:e.width,height:t.height}),hte=(e,t)=>{var a=typeof t.width=="number"?t.width:ym;return{width:a,height:e.height}};re(Sa,Rs,E8);var yte=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},vte=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},bte=re(Ll,Sa,gte,Z0,J0,(e,t,a,r,s)=>{var o={},c;return a.forEach(d=>{var m=E8(t,d);c==null&&(c=yte(t,r,e));var p=r==="top"&&!s||r==="bottom"&&s;o[d.id]=c-Number(p)*m.height,c+=(p?-1:1)*m.height}),o}),xte=re(Rl,Sa,pte,Z0,J0,(e,t,a,r,s)=>{var o={},c;return a.forEach(d=>{var m=hte(t,d);c==null&&(c=vte(t,r,e));var p=r==="left"&&!s||r==="right"&&s;o[d.id]=c-Number(p)*m.width,c+=(p?-1:1)*m.width}),o}),Ete=(e,t)=>{var a=Rs(e,t);if(a!=null)return bte(e,a.orientation,a.mirror)};re([Sa,Rs,Ete,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var s=a?.[r];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}});var Nte=(e,t)=>{var a=Ls(e,t);if(a!=null)return xte(e,a.orientation,a.mirror)};re([Sa,Ls,Nte,(e,t)=>t],(e,t,a,r)=>{if(t!=null){var s=a?.[r];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}});re(Sa,Ls,(e,t)=>{var a=typeof t.width=="number"?t.width:ym;return{width:a,height:e.height}});var N8=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:s,type:o,dataKey:c}=a,d=Oi(e,r),m=t.map(p=>p.value);if(c&&d&&o==="category"&&s&&_P(m))return m}},NN=re([wt,Q0,zt,Lt],N8),w8=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:o}=a,c=Oi(e,r);if(c&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},wN=re([wt,Q0,Cm,Lt],w8);re([wt,Ree,oc,W0,NN,wN,Om,xN,Lt],(e,t,a,r,s,o,c,d,m)=>{if(t!=null){var p=Oi(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:o,duplicateDomain:s,isCategorical:p,niceTicks:d,range:c,realScaleType:a,scale:r}}});var wte=(e,t,a,r,s,o,c,d,m)=>{if(!(t==null||r==null)){var p=Oi(e,m),{type:f,ticks:h,tickCount:b}=t,E=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=f==="category"&&r.bandwidth?r.bandwidth()/E:0;N=m==="angleAxis"&&o!=null&&o.length>=2?tr(o[0]-o[1])*2*N:N;var S=h||s;if(S){var w=S.map((C,k)=>{var A=c?c.indexOf(C):C;return{index:k,coordinate:r(A)+N,value:C,offset:N}});return w.filter(C=>wa(C.coordinate))}return p&&d?d.map((C,k)=>({coordinate:r(C)+N,value:C,index:k,offset:N})).filter(C=>wa(C.coordinate)):r.ticks?r.ticks(b).map(C=>({coordinate:r(C)+N,value:C,offset:N})):r.domain().map((C,k)=>({coordinate:r(C)+N,value:c?c[C]:C,index:k,offset:N}))}};re([wt,Cm,oc,W0,xN,Om,NN,wN,Lt],wte);var Ste=(e,t,a,r,s,o,c)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var d=Oi(e,c),{tickCount:m}=t,p=0;return p=c==="angleAxis"&&r?.length>=2?tr(r[0]-r[1])*2*p:p,d&&o?o.map((f,h)=>({coordinate:a(f)+p,value:f,index:h,offset:p})):a.ticks?a.ticks(m).map(f=>({coordinate:a(f)+p,value:f,offset:p})):a.domain().map((f,h)=>({coordinate:a(f)+p,value:s?s[f]:f,index:h,offset:p}))}};re([wt,Cm,W0,Om,NN,wN,Lt],Ste);re(zt,W0,(e,t)=>{if(!(e==null||t==null))return Gg(Gg({},e),{},{scale:t})});var Cte=re([zt,oc,yN,b8],vN);re((e,t,a)=>nN(e,a),Cte,(e,t)=>{if(!(e==null||t==null))return Gg(Gg({},e),{},{scale:t})});var Ate=re([wt,k0,D0],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),S8=e=>e.options.defaultTooltipEventType,C8=e=>e.options.validateTooltipEventTypes;function A8(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function SN(e,t){var a=S8(e),r=C8(e);return A8(t,a,r)}function Tte(e){return Ge(t=>SN(t,e))}var T8=(e,t)=>{var a,r=Number(t);if(!(Sl(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},Ote=e=>e.tooltip.settings,xs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},kte={itemInteraction:{click:xs,hover:xs},axisInteraction:{click:xs,hover:xs},keyboardInteraction:xs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},O8=lr({name:"tooltip",initialState:kte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:kt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:a,next:r}=t.payload,s=mn(e).tooltipItemPayloads.indexOf(a);s>-1&&(e.tooltipItemPayloads[s]=r)},prepare:kt()},removeTooltipEntrySettings:{reducer(e,t){var a=mn(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},prepare:kt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Dte,replaceTooltipEntrySettings:_te,removeTooltipEntrySettings:Pte,setTooltipSettingsState:Mte,setActiveMouseOverItemIndex:k8,mouseLeaveItem:Rte,mouseLeaveChart:D8,setActiveClickItemIndex:Lte,setMouseOverAxisIndex:_8,setMouseClickAxisIndex:jte,setSyncInteraction:Gx,setKeyboardInteraction:Kx}=O8.actions,zte=O8.reducer;function AO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(a),!0).forEach(function(r){Ute(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ute(e,t,a){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ite(e){var t=Fte(e,"string");return typeof t=="symbol"?t:t+""}function Fte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $te(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Bte(e){return e.index!=null}var P8=(e,t,a,r)=>{if(t==null)return xs;var s=$te(e,t,a);if(s==null)return xs;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Bte(s)){if(o)return hf(hf({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return hf(hf({},xs),{},{coordinate:s.coordinate})};function Vte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var a=Number(e);return Number.isFinite(a)?a:void 0}function qte(e,t){var a=Vte(e),r=t[0],s=t[1];if(a===void 0)return!1;var o=Math.min(r,s),c=Math.max(r,s);return a>=o&&a<=c}function Hte(e,t,a){if(a==null||t==null)return!0;var r=Yt(e,t);return r==null||!Ts(a)?!0:qte(r,a)}var CN=(e,t,a,r)=>{var s=e?.index;if(s==null)return null;var o=Number(s);if(!wa(o))return s;var c=0,d=1/0;t.length>0&&(d=t.length-1);var m=Math.max(c,Math.min(o,d)),p=t[m];return p==null||Hte(p,a,r)?String(m):null},M8=(e,t,a,r,s,o,c,d)=>{if(!(o==null||d==null)){var m=c[0],p=m==null?void 0:d(m.positions,o);if(p!=null)return p;var f=s?.[Number(o)];if(f)switch(a){case"horizontal":return{x:f.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:f.coordinate}}}},R8=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.dataKey)===s})},km=e=>e.options.tooltipPayloadSearcher,cc=e=>e.tooltip;function TO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function OO(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(a),!0).forEach(function(r){Gte(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Gte(e,t,a){return(t=Kte(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Kte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qte(e,t){return e??t}var L8=(e,t,a,r,s,o,c)=>{if(!(t==null||o==null)){var{chartData:d,computedData:m,dataStartIndex:p,dataEndIndex:f}=a,h=[];return e.reduce((b,E)=>{var N,{dataDefinedOnItem:S,settings:w}=E,C=Qte(S,d),k=Array.isArray(C)?C6(C,p,f):C,A=(N=w?.dataKey)!==null&&N!==void 0?N:r,M=w?.nameKey,O;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&c==="axis"?O=AG(k,r,s):O=o(k,t,m,M),Array.isArray(O))O.forEach(_=>{var P=OO(OO({},w),{},{name:_.name,unit:_.unit,color:void 0,fill:void 0});b.push(Q5({tooltipEntrySettings:P,dataKey:_.dataKey,payload:_.payload,value:Yt(_.payload,_.dataKey),name:_.name}))});else{var D;b.push(Q5({tooltipEntrySettings:w,dataKey:A,payload:O,value:Yt(O,A),name:(D=Yt(O,M))!==null&&D!==void 0?D:w?.name}))}return b},h)}},AN=re([ya,wt,l8,W1,ha],y8),Xte=re([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Wte=re([ha,sc],lN),Dm=re([Xte,ya,Wte],sN,{memoizeOptions:{resultEqualityCheck:Y0}}),Zte=re([Dm],e=>e.filter(rN)),Jte=re([Dm],iN,{memoizeOptions:{resultEqualityCheck:Y0}}),uc=re([Jte,Ms],oN),eae=re([Zte,Ms,ya],n8),TN=re([uc,ya,Dm],uN),j8=re([ya],mN),tae=re([ya],e=>e.allowDataOverflow),z8=re([j8,tae],jM),aae=re([Dm],e=>e.filter(rN)),rae=re([eae,aae,wm,XM],c8),nae=re([rae,Ms,ha,z8],u8),lae=re([Dm],i8),sae=re([uc,ya,lae,X0,ha],gN,{memoizeOptions:{resultEqualityCheck:K0}}),iae=re([m8,ha,sc],ic),oae=re([iae,ha],g8),cae=re([d8,ha,sc],ic),uae=re([cae,ha],p8),mae=re([f8,ha,sc],ic),dae=re([mae,ha],h8),fae=re([oae,dae,uae],Kg),gae=re([ya,j8,z8,nae,sae,fae,wt,ha],pN),_m=re([ya,wt,uc,TN,wm,ha,gae],hN),pae=re([_m,ya,AN],bN),hae=re([ya,_m,pae,ha],EN),U8=e=>{var t=ha(e),a=sc(e),r=!1;return Om(e,t,a,r)},I8=re([ya,U8],H0),F8=re([ya,AN,hae,I8],vN),yae=re([wt,TN,ya,ha],N8),vae=re([wt,TN,ya,ha],w8),bae=(e,t,a,r,s,o,c,d)=>{if(t){var{type:m}=t,p=Oi(e,d);if(r){var f=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,h=m==="category"&&r.bandwidth?r.bandwidth()/f:0;return h=d==="angleAxis"&&s!=null&&s?.length>=2?tr(s[0]-s[1])*2*h:h,p&&c?c.map((b,E)=>({coordinate:r(b)+h,value:b,index:E,offset:h})):r.domain().map((b,E)=>({coordinate:r(b)+h,value:o?o[b]:b,index:E,offset:h}))}}},zl=re([wt,ya,AN,F8,U8,yae,vae,ha],bae),ON=re([S8,C8,Ote],(e,t,a)=>A8(a.shared,e,t)),$8=e=>e.tooltip.settings.trigger,kN=e=>e.tooltip.settings.defaultIndex,Pm=re([cc,ON,$8,kN],P8),Zu=re([Pm,uc,Tm,_m],CN),B8=re([zl,Zu],T8),V8=re([Pm],e=>{if(e)return e.dataKey}),xae=re([Pm],e=>{if(e)return e.graphicalItemId}),q8=re([cc,ON,$8,kN],R8),Eae=re([Rl,Ll,wt,Sa,zl,kN,q8,km],M8),Nae=re([Pm,Eae],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wae=re([Pm],e=>e.active),Sae=re([q8,Zu,Ms,Tm,B8,km,ON],L8);re([Sae],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function kO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function DO(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(a),!0).forEach(function(r){Cae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Cae(e,t,a){return(t=Aae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Aae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oae=()=>Ge(ya),kae=()=>{var e=Oae(),t=Ge(zl),a=Ge(F8);return Y5(!e||!a?void 0:DO(DO({},e),{},{scale:a}),t)};function _O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function po(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(a),!0).forEach(function(r){Dae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_O(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Dae(e,t,a){return(t=_ae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _ae(e){var t=Pae(e,"string");return typeof t=="symbol"?t:t+""}function Pae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mae=(e,t,a,r)=>{var s=t.find(o=>o&&o.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:s.coordinate}}return{x:0,y:0}},Rae=(e,t,a,r)=>{var s=t.find(p=>p&&p.index===a);if(s){if(e==="centric"){var o=s.coordinate,{radius:c}=r;return po(po(po({},r),ia(r.cx,r.cy,c,o)),{},{angle:o,radius:c})}var d=s.coordinate,{angle:m}=r;return po(po(po({},r),ia(r.cx,r.cy,d,m)),{},{angle:m,radius:d})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Lae(e,t){var{chartX:a,chartY:r}=e;return a>=t.left&&a<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var H8=(e,t,a,r,s)=>{var o,c=-1,d=(o=t?.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<d;m++){var p=m>0?a[m-1].coordinate:a[d-1].coordinate,f=a[m].coordinate,h=m>=d-1?a[0].coordinate:a[m+1].coordinate,b=void 0;if(tr(f-p)!==tr(h-f)){var E=[];if(tr(h-f)===tr(s[1]-s[0])){b=h;var N=f+s[1]-s[0];E[0]=Math.min(N,(N+p)/2),E[1]=Math.max(N,(N+p)/2)}else{b=p;var S=h+s[1]-s[0];E[0]=Math.min(f,(S+f)/2),E[1]=Math.max(f,(S+f)/2)}var w=[Math.min(f,(b+f)/2),Math.max(f,(b+f)/2)];if(e>w[0]&&e<=w[1]||e>=E[0]&&e<=E[1]){({index:c}=a[m]);break}}else{var C=Math.min(p,h),k=Math.max(p,h);if(e>(C+f)/2&&e<=(k+f)/2){({index:c}=a[m]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:c}=t[A]);break}}return c},jae=()=>Ge(W1),DN=(e,t)=>t,G8=(e,t,a)=>a,_N=(e,t,a,r)=>r,zae=re(zl,e=>x0(e,t=>t.coordinate)),PN=re([cc,DN,G8,_N],P8),MN=re([PN,uc,Tm,_m],CN),Uae=(e,t,a)=>{if(t!=null){var r=cc(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},K8=re([cc,DN,G8,_N],R8),Yg=re([Rl,Ll,wt,Sa,zl,_N,K8,km],M8),Iae=re([PN,Yg],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),Y8=re([zl,MN],T8),Fae=re([K8,MN,Ms,Tm,Y8,km,DN],L8),$ae=re([PN,MN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Bae=(e,t,a,r,s,o,c)=>{if(!(!e||!a||!r||!s)&&Lae(e,c)){var d=nQ(e,t),m=H8(d,o,s,a,r),p=Mae(t,s,m,e);return{activeIndex:String(m),activeCoordinate:p}}},Vae=(e,t,a,r,s,o,c)=>{if(!(!e||!r||!s||!o||!a)){var d=SW(e,a);if(d){var m=lQ(d,t),p=H8(m,c,o,r,s),f=Rae(t,o,p,d);return{activeIndex:String(p),activeCoordinate:f}}}},qae=(e,t,a,r,s,o,c,d)=>{if(!(!e||!t||!r||!s||!o))return t==="horizontal"||t==="vertical"?Bae(e,t,r,s,o,c,d):Vae(e,t,a,r,s,o,c)},Hae=re(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,a)=>a,(e,t,a)=>{if(t!=null){var r=e[t];if(r!=null)return a?r.panoramaElementId:r.elementId}}),Gae=re(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(un)),a=Array.from(new Set(t));return a.sort((r,s)=>r-s)},{memoizeOptions:{resultEqualityCheck:Cee}});function PO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function MO(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?PO(Object(a),!0).forEach(function(r){Kae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):PO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Kae(e,t,a){return(t=Yae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yae(e){var t=Qae(e,"string");return typeof t=="symbol"?t:t+""}function Qae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xae={},Wae={zIndexMap:Object.values(un).reduce((e,t)=>MO(MO({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Xae)},Zae=new Set(Object.values(un));function Jae(e){return Zae.has(e)}var Q8=lr({name:"zIndex",initialState:Wae,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]?e.zIndexMap[a].consumers+=1:e.zIndexMap[a]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:kt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]&&(e.zIndexMap[a].consumers-=1,e.zIndexMap[a].consumers<=0&&!Jae(a)&&delete e.zIndexMap[a])},prepare:kt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:a,elementId:r,isPanorama:s}=t.payload;e.zIndexMap[a]?s?e.zIndexMap[a].panoramaElementId=r:e.zIndexMap[a].elementId=r:e.zIndexMap[a]={consumers:0,elementId:s?void 0:r,panoramaElementId:s?r:void 0}},prepare:kt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:a}=t.payload;e.zIndexMap[a]&&(t.payload.isPanorama?e.zIndexMap[a].panoramaElementId=void 0:e.zIndexMap[a].elementId=void 0)},prepare:kt()}}}),{registerZIndexPortal:ere,unregisterZIndexPortal:tre,registerZIndexPortalId:are,unregisterZIndexPortalId:rre}=Q8.actions,nre=Q8.reducer;function Mm(e){var{zIndex:t,children:a}=e,r=zQ(),s=r&&t!==void 0&&t!==0,o=Ds(),c=Wt();y.useLayoutEffect(()=>s?(c(ere({zIndex:t})),()=>{c(tre({zIndex:t}))}):fm,[c,t,s]);var d=Ge(p=>Hae(p,t,o));if(!s)return a;if(!d)return null;var m=document.getElementById(d);return m?uE.createPortal(a,m):null}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yx.apply(null,arguments)}function RO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yf(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?RO(Object(a),!0).forEach(function(r){lre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):RO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function lre(e,t,a){return(t=sre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function sre(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ore(e){var{cursor:t,cursorComp:a,cursorProps:r}=e;return y.isValidElement(t)?y.cloneElement(t,r):y.createElement(a,r)}function cre(e){var t,{coordinate:a,payload:r,index:s,offset:o,tooltipAxisBandSize:c,layout:d,cursor:m,tooltipEventType:p,chartName:f}=e,h=a,b=r,E=s;if(!m||!h||f!=="ScatterChart"&&p!=="axis")return null;var N,S,w;if(f==="ScatterChart")N=h,S=IX,w=un.cursorLine;else if(f==="BarChart")N=FX(d,h,o,c),S=Q6,w=un.cursorRectangle;else if(d==="radial"&&MP(h)){var{cx:C,cy:k,radius:A,startAngle:M,endAngle:O}=W6(h);N={cx:C,cy:k,startAngle:M,endAngle:O,innerRadius:A,outerRadius:A},S=J6,w=un.cursorLine}else N={points:OW(d,h,o)},S=N1,w=un.cursorLine;var D=typeof m=="object"&&"className"in m?m.className:void 0,_=yf(yf(yf(yf({stroke:"#ccc",pointerEvents:"none"},o),N),rx(m)),{},{payload:b,payloadIndex:E,className:Xt("recharts-tooltip-cursor",D)});return y.createElement(Mm,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:w},y.createElement(ore,{cursor:m,cursorComp:S,cursorProps:_}))}function ure(e){var t=kae(),a=LQ(),r=b1(),s=jae();return t==null||a==null||r==null||s==null?null:y.createElement(cre,Yx({},e,{offset:a,layout:r,tooltipAxisBandSize:t,chartName:s}))}var X8=y.createContext(null),mre=()=>y.useContext(X8),rb={exports:{}},LO;function dre(){return LO||(LO=1,(function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function s(m,p,f){this.fn=m,this.context=p,this.once=f||!1}function o(m,p,f,h,b){if(typeof f!="function")throw new TypeError("The listener must be a function");var E=new s(f,h||m,b),N=a?a+p:p;return m._events[N]?m._events[N].fn?m._events[N]=[m._events[N],E]:m._events[N].push(E):(m._events[N]=E,m._eventsCount++),m}function c(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var p=[],f,h;if(this._eventsCount===0)return p;for(h in f=this._events)t.call(f,h)&&p.push(a?h.slice(1):h);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},d.prototype.listeners=function(p){var f=a?a+p:p,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var b=0,E=h.length,N=new Array(E);b<E;b++)N[b]=h[b].fn;return N},d.prototype.listenerCount=function(p){var f=a?a+p:p,h=this._events[f];return h?h.fn?1:h.length:0},d.prototype.emit=function(p,f,h,b,E,N){var S=a?a+p:p;if(!this._events[S])return!1;var w=this._events[S],C=arguments.length,k,A;if(w.fn){switch(w.once&&this.removeListener(p,w.fn,void 0,!0),C){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,h),!0;case 4:return w.fn.call(w.context,f,h,b),!0;case 5:return w.fn.call(w.context,f,h,b,E),!0;case 6:return w.fn.call(w.context,f,h,b,E,N),!0}for(A=1,k=new Array(C-1);A<C;A++)k[A-1]=arguments[A];w.fn.apply(w.context,k)}else{var M=w.length,O;for(A=0;A<M;A++)switch(w[A].once&&this.removeListener(p,w[A].fn,void 0,!0),C){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,f);break;case 3:w[A].fn.call(w[A].context,f,h);break;case 4:w[A].fn.call(w[A].context,f,h,b);break;default:if(!k)for(O=1,k=new Array(C-1);O<C;O++)k[O-1]=arguments[O];w[A].fn.apply(w[A].context,k)}}return!0},d.prototype.on=function(p,f,h){return o(this,p,f,h,!1)},d.prototype.once=function(p,f,h){return o(this,p,f,h,!0)},d.prototype.removeListener=function(p,f,h,b){var E=a?a+p:p;if(!this._events[E])return this;if(!f)return c(this,E),this;var N=this._events[E];if(N.fn)N.fn===f&&(!b||N.once)&&(!h||N.context===h)&&c(this,E);else{for(var S=0,w=[],C=N.length;S<C;S++)(N[S].fn!==f||b&&!N[S].once||h&&N[S].context!==h)&&w.push(N[S]);w.length?this._events[E]=w.length===1?w[0]:w:c(this,E)}return this},d.prototype.removeAllListeners=function(p){var f;return p?(f=a?a+p:p,this._events[f]&&c(this,f)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=a,d.EventEmitter=d,e.exports=d})(rb)),rb.exports}var fre=dre();const gre=Pl(fre);var Ju=new gre,Qx="recharts.syncEvent.tooltip",jO="recharts.syncEvent.brush";function pre(e,t){if(t){var a=Number.parseInt(t,10);if(!Sl(a))return e?.[a]}}var hre={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},W8=lr({name:"options",initialState:hre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),yre=W8.reducer,{createEventEmitter:vre}=W8.actions;function bre(e){return e.tooltip.syncInteraction}var xre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Z8=lr({name:"chartData",initialState:xre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:zO,setDataStartEndIndexes:Ere,setComputedData:bue}=Z8.actions,Nre=Z8.reducer,wre=["x","y"];function UO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ho(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(a),!0).forEach(function(r){Sre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Sre(e,t,a){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cre(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tre(e,t){if(e==null)return{};var a,r,s=Ore(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ore(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function kre(){var e=Ge(Z1),t=Ge(J1),a=Wt(),r=Ge(WM),s=Ge(zl),o=b1(),c=M0(),d=Ge(m=>m.rootProps.className);y.useEffect(()=>{if(e==null)return fm;var m=(p,f,h)=>{if(t!==h&&e===p){if(r==="index"){var b;if(c&&f!==null&&f!==void 0&&(b=f.payload)!==null&&b!==void 0&&b.coordinate&&f.payload.sourceViewBox){var E=f.payload.coordinate,{x:N,y:S}=E,w=Tre(E,wre),{x:C,y:k,width:A,height:M}=f.payload.sourceViewBox,O=ho(ho({},w),{},{x:c.x+(A?(N-C)/A:0)*c.width,y:c.y+(M?(S-k)/M:0)*c.height});a(ho(ho({},f),{},{payload:ho(ho({},f.payload),{},{coordinate:O})}))}else a(f);return}if(s!=null){var D;if(typeof r=="function"){var _={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},P=r(s,_);D=s[P]}else r==="value"&&(D=s.find(F=>String(F.value)===f.payload.label));var{coordinate:R}=f.payload;if(D==null||f.payload.active===!1||R==null||c==null){a(Gx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:L}=R,I=Math.min(U,c.x+c.width),ae=Math.min(L,c.y+c.height),ne={x:o==="horizontal"?D.coordinate:I,y:o==="horizontal"?ae:D.coordinate},ue=Gx({active:f.payload.active,coordinate:ne,dataKey:f.payload.dataKey,index:String(D.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});a(ue)}}};return Ju.on(Qx,m),()=>{Ju.off(Qx,m)}},[d,a,t,e,r,s,o,c])}function Dre(){var e=Ge(Z1),t=Ge(J1),a=Wt();y.useEffect(()=>{if(e==null)return fm;var r=(s,o,c)=>{t!==c&&e===s&&a(Ere(o))};return Ju.on(jO,r),()=>{Ju.off(jO,r)}},[a,t,e])}function _re(){var e=Wt();y.useEffect(()=>{e(vre())},[e]),kre(),Dre()}function Pre(e,t,a,r,s,o){var c=Ge(E=>Uae(E,e,t)),d=Ge(J1),m=Ge(Z1),p=Ge(WM),f=Ge(bre),h=f?.active,b=M0();y.useEffect(()=>{if(!h&&m!=null&&d!=null){var E=Gx({active:o,coordinate:a,dataKey:c,index:s,label:typeof r=="number"?String(r):r,sourceViewBox:b,graphicalItemId:void 0});Ju.emit(Qx,m,E,d)}},[h,a,c,s,r,d,m,p,o,b])}function IO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function FO(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(a),!0).forEach(function(r){Mre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Mre(e,t,a){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Rre(e){var t=Lre(e,"string");return typeof t=="symbol"?t:t+""}function Lre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jre(e){return e.dataKey}function zre(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(vX,t)}var $O=[],Ure={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xx(e){var t,a,r=Kr(e,Ure),{active:s,allowEscapeViewBox:o,animationDuration:c,animationEasing:d,content:m,filterNull:p,isAnimationActive:f,offset:h,payloadUniqBy:b,position:E,reverseDirection:N,useTranslate3d:S,wrapperStyle:w,cursor:C,shared:k,trigger:A,defaultIndex:M,portal:O,axisId:D}=r,_=Wt(),P=typeof M=="number"?String(M):M;y.useEffect(()=>{_(Mte({shared:k,trigger:A,axisId:D,active:s,defaultIndex:P}))},[_,k,A,D,s,P]);var R=M0(),U=q6(),L=Tte(k),{activeIndex:I,isActive:ae}=(t=Ge(V=>$ae(V,L,A,P)))!==null&&t!==void 0?t:{},ne=Ge(V=>Fae(V,L,A,P)),ue=Ge(V=>Y8(V,L,A,P)),F=Ge(V=>Iae(V,L,A,P)),G=ne,le=mre(),te=(a=s??ae)!==null&&a!==void 0?a:!1,[H,j]=QP([G,te]),B=L==="axis"?ue:void 0;Pre(L,A,F,B,I,te);var X=O??le;if(X==null||R==null||L==null)return null;var K=G??$O;te||(K=$O),p&&K.length&&(K=qP(K.filter(V=>V.value!=null&&(V.hide!==!0||r.includeHidden)),b,jre));var oe=K.length>0,Q=y.createElement(CX,{allowEscapeViewBox:o,animationDuration:c,animationEasing:d,isAnimationActive:f,active:te,coordinate:F,hasPayload:oe,offset:h,position:E,reverseDirection:N,useTranslate3d:S,viewBox:R,wrapperStyle:w,lastBoundingBox:H,innerRef:j,hasPortalFromProps:!!O},zre(m,FO(FO({},r),{},{payload:K,label:B,active:te,activeIndex:I,coordinate:F,accessibilityLayer:U})));return y.createElement(y.Fragment,null,uE.createPortal(Q,X),te&&y.createElement(ure,{cursor:C,tooltipEventType:L,coordinate:F,payload:K,index:I}))}var Ko=e=>null;Ko.displayName="Cell";function Ire(e,t,a){return(t=Fre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Fre(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bre{constructor(t){Ire(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function BO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Vre(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(a),!0).forEach(function(r){qre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):BO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qre(e,t,a){return(t=Hre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Hre(e){var t=Gre(e,"string");return typeof t=="symbol"?t:t+""}function Gre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kre={cacheSize:2e3,enableCache:!0},J8=Vre({},Kre),VO=new Bre(J8.cacheSize),Yre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qO="recharts_measurement_span";function Qre(e,t){var a=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(s,"|").concat(o,"|").concat(c,"|").concat(d)}var HO=(e,t)=>{try{var a=document.getElementById(qO);a||(a=document.createElement("span"),a.setAttribute("id",qO),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,Yre,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},GO=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||U0.isSsr)return{width:0,height:0};if(!J8.enableCache)return HO(t,a);var r=Qre(t,a),s=VO.get(r);if(s)return s;var o=HO(t,a);return VO.set(r,o),o},KO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Xre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Zre=Object.keys(eR),ko="NaN";function Jre(e,t){return e*eR[t]}class Ja{static parse(t){var a,[,r,s]=(a=Wre.exec(t))!==null&&a!==void 0?a:[];return new Ja(parseFloat(r),s??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,Sl(t)&&(this.unit=""),a!==""&&!Xre.test(a)&&(this.num=NaN,this.unit=""),Zre.includes(a)&&(this.num=Jre(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new Ja(NaN,""):new Ja(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ja(NaN,""):new Ja(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ja(NaN,""):new Ja(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ja(NaN,""):new Ja(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sl(this.num)}}function tR(e){if(e.includes(ko))return ko;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,s,o]=(a=KO.exec(t))!==null&&a!==void 0?a:[],c=Ja.parse(r??""),d=Ja.parse(o??""),m=s==="*"?c.multiply(d):c.divide(d);if(m.isNaN())return ko;t=t.replace(KO,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,f,h,b]=(p=YO.exec(t))!==null&&p!==void 0?p:[],E=Ja.parse(f??""),N=Ja.parse(b??""),S=h==="+"?E.add(N):E.subtract(N);if(S.isNaN())return ko;t=t.replace(YO,S.toString())}return t}var QO=/\(([^()]*)\)/;function ene(e){for(var t=e,a;(a=QO.exec(t))!=null;){var[,r]=a;t=t.replace(QO,tR(r))}return t}function tne(e){var t=e.replace(/\s+/g,"");return t=ene(t),t=tR(t),t}function ane(e){try{return tne(e)}catch{return ko}}function nb(e){var t=ane(e.slice(5,-1));return t===ko?"":t}var rne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nne=["dx","dy","angle","className","breakAll"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wx.apply(null,arguments)}function XO(e,t){if(e==null)return{};var a,r,s=lne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function lne(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var aR=/[ \f\n\r\t\v\u2028\u2029]+/,rR=e=>{var{children:t,breakAll:a,style:r}=e;try{var s=[];br(t)||(a?s=t.toString().split(""):s=t.toString().split(aR));var o=s.map(d=>({word:d,width:GO(d,r).width})),c=a?0:GO("",r).width;return{wordsWithComputedWidth:o,spaceWidth:c}}catch{return null}};function sne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var nR=(e,t,a,r)=>e.reduce((s,o)=>{var{word:c,width:d}=o,m=s[s.length-1];if(m&&d!=null&&(t==null||r||m.width+d+a<Number(t)))m.words.push(c),m.width+=d+a;else{var p={words:[c],width:d};s.push(p)}return s},[]),lR=e=>e.reduce((t,a)=>t.width>a.width?t:a),ine="",WO=(e,t,a,r,s,o,c,d)=>{var m=e.slice(0,t),p=rR({breakAll:a,style:r,children:m+ine});if(!p)return[!1,[]];var f=nR(p.wordsWithComputedWidth,o,c,d),h=f.length>s||lR(f).width>Number(o);return[h,f]},one=(e,t,a,r,s)=>{var{maxLines:o,children:c,style:d,breakAll:m}=e,p=Be(o),f=String(c),h=nR(t,r,a,s);if(!p||s)return h;var b=h.length>o||lR(h).width>Number(r);if(!b)return h;for(var E=0,N=f.length-1,S=0,w;E<=N&&S<=f.length-1;){var C=Math.floor((E+N)/2),k=C-1,[A,M]=WO(f,k,m,d,o,r,a,s),[O]=WO(f,C,m,d,o,r,a,s);if(!A&&!O&&(E=C+1),A&&O&&(N=C-1),!A&&O){w=M;break}S++}return w||h},ZO=e=>{var t=br(e)?[]:e.toString().split(aR);return[{words:t,width:void 0}]},cne=e=>{var{width:t,scaleToFit:a,children:r,style:s,breakAll:o,maxLines:c}=e;if((t||a)&&!U0.isSsr){var d,m,p=rR({breakAll:o,children:r,style:s});if(p){var{wordsWithComputedWidth:f,spaceWidth:h}=p;d=f,m=h}else return ZO(r);return one({breakAll:o,children:r,maxLines:c,style:s},d,m,t,!!a)}return ZO(r)},sR="#808080",une={angle:0,breakAll:!1,capHeight:"0.71em",fill:sR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},RN=y.forwardRef((e,t)=>{var a=Kr(e,une),{x:r,y:s,lineHeight:o,capHeight:c,fill:d,scaleToFit:m,textAnchor:p,verticalAnchor:f}=a,h=XO(a,rne),b=y.useMemo(()=>cne({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:m,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,m,h.style,h.width]),{dx:E,dy:N,angle:S,className:w,breakAll:C}=h,k=XO(h,nne);if(!Al(r)||!Al(s)||b.length===0)return null;var A=Number(r)+(Be(E)?E:0),M=Number(s)+(Be(N)?N:0);if(!wa(A)||!wa(M))return null;var O;switch(f){case"start":O=nb("calc(".concat(c,")"));break;case"middle":O=nb("calc(".concat((b.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=nb("calc(".concat(b.length-1," * -").concat(o,")"));break}var D=[];if(m){var _=b[0].width,{width:P}=h;D.push("scale(".concat(Be(P)&&Be(_)?P/_:1,")"))}return S&&D.push("rotate(".concat(S,", ").concat(A,", ").concat(M,")")),D.length&&(k.transform=D.join(" ")),y.createElement("text",Wx({},Vr(k),{ref:t,x:A,y:M,className:Xt("recharts-text",w),textAnchor:p,fill:d.includes("url")?sR:d}),b.map((R,U)=>{var L=R.words.join(C?"":" ");return y.createElement("tspan",{x:A,dy:U===0?O:o,key:"".concat(L,"-").concat(U)},L)}))});RN.displayName="Text";var mne=["labelRef"];function dne(e,t){if(e==null)return{};var a,r,s=fne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function fne(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function JO(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function la(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(a),!0).forEach(function(r){gne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JO(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gne(e,t,a){return(t=pne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pne(e){var t=hne(e,"string");return typeof t=="symbol"?t:t+""}function hne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qg.apply(null,arguments)}var yne=y.createContext(null),vne=()=>{var e=y.useContext(yne),t=M0();return e||M6(t)},bne=y.createContext(null),xne=()=>{var e=y.useContext(bne),t=Ge(a8);return e||t},Ene=e=>{var{value:t,formatter:a}=e,r=br(e.children)?t:e.children;return typeof a=="function"?a(r):r},Nne=e=>e!=null&&typeof e=="function",wne=(e,t)=>{var a=tr(t-e),r=Math.min(Math.abs(t-e),360);return a*r},Sne=(e,t,a,r,s)=>{var{offset:o,className:c}=e,{cx:d,cy:m,innerRadius:p,outerRadius:f,startAngle:h,endAngle:b,clockWise:E}=s,N=(p+f)/2,S=wne(h,b),w=S>=0?1:-1,C,k;switch(t){case"insideStart":C=h+w*o,k=E;break;case"insideEnd":C=b-w*o,k=!E;break;case"end":C=b+w*o,k=E;break;default:throw new Error("Unsupported position ".concat(t))}k=S<=0?k:!k;var A=ia(d,m,N,C),M=ia(d,m,N,C+(k?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(k?0:1,`,
    `).concat(M.x,",").concat(M.y),D=br(e.id)?Iu("recharts-radial-line-"):e.id;return y.createElement("text",Qg({},r,{dominantBaseline:"central",className:Xt("recharts-radial-bar-label",c)}),y.createElement("defs",null,y.createElement("path",{id:D,d:O})),y.createElement("textPath",{xlinkHref:"#".concat(D)},a))},Cne=(e,t,a)=>{var{cx:r,cy:s,innerRadius:o,outerRadius:c,startAngle:d,endAngle:m}=e,p=(d+m)/2;if(a==="outside"){var{x:f,y:h}=ia(r,s,c+t,p);return{x:f,y:h,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(o+c)/2,{x:E,y:N}=ia(r,s,b,p);return{x:E,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Zx=e=>"cx"in e&&Be(e.cx),Ane=(e,t)=>{var{parentViewBox:a,offset:r,position:s}=e,o;a!=null&&!Zx(a)&&(o=a);var{x:c,y:d,upperWidth:m,lowerWidth:p,height:f}=t,h=c,b=c+(m-p)/2,E=(h+b)/2,N=(m+p)/2,S=h+m/2,w=f>=0?1:-1,C=w*r,k=w>0?"end":"start",A=w>0?"start":"end",M=m>=0?1:-1,O=M*r,D=M>0?"end":"start",_=M>0?"start":"end";if(s==="top"){var P={x:h+m/2,y:d-C,textAnchor:"middle",verticalAnchor:k};return la(la({},P),o?{height:Math.max(d-o.y,0),width:m}:{})}if(s==="bottom"){var R={x:b+p/2,y:d+f+C,textAnchor:"middle",verticalAnchor:A};return la(la({},R),o?{height:Math.max(o.y+o.height-(d+f),0),width:p}:{})}if(s==="left"){var U={x:E-O,y:d+f/2,textAnchor:D,verticalAnchor:"middle"};return la(la({},U),o?{width:Math.max(U.x-o.x,0),height:f}:{})}if(s==="right"){var L={x:E+N+O,y:d+f/2,textAnchor:_,verticalAnchor:"middle"};return la(la({},L),o?{width:Math.max(o.x+o.width-L.x,0),height:f}:{})}var I=o?{width:N,height:f}:{};return s==="insideLeft"?la({x:E+O,y:d+f/2,textAnchor:_,verticalAnchor:"middle"},I):s==="insideRight"?la({x:E+N-O,y:d+f/2,textAnchor:D,verticalAnchor:"middle"},I):s==="insideTop"?la({x:h+m/2,y:d+C,textAnchor:"middle",verticalAnchor:A},I):s==="insideBottom"?la({x:b+p/2,y:d+f-C,textAnchor:"middle",verticalAnchor:k},I):s==="insideTopLeft"?la({x:h+O,y:d+C,textAnchor:_,verticalAnchor:A},I):s==="insideTopRight"?la({x:h+m-O,y:d+C,textAnchor:D,verticalAnchor:A},I):s==="insideBottomLeft"?la({x:b+O,y:d+f-C,textAnchor:_,verticalAnchor:k},I):s==="insideBottomRight"?la({x:b+p-O,y:d+f-C,textAnchor:D,verticalAnchor:k},I):s&&typeof s=="object"&&(Be(s.x)||Cl(s.x))&&(Be(s.y)||Cl(s.y))?la({x:c+yr(s.x,N),y:d+yr(s.y,f),textAnchor:"end",verticalAnchor:"end"},I):la({x:S,y:d+f/2,textAnchor:"middle",verticalAnchor:"middle"},I)},Tne={angle:0,offset:5,zIndex:un.label,position:"middle",textBreakAll:!1};function iR(e){var t=Kr(e,Tne),{viewBox:a,position:r,value:s,children:o,content:c,className:d="",textBreakAll:m,labelRef:p}=t,f=xne(),h=vne(),b=r==="center"?h:f??h,E,N,S;if(a==null?E=b:Zx(a)?E=a:E=M6(a),!E||br(s)&&br(o)&&!y.isValidElement(c)&&typeof c!="function")return null;var w=la(la({},t),{},{viewBox:E});if(y.isValidElement(c)){var{labelRef:C}=w,k=dne(w,mne);return y.cloneElement(c,k)}if(typeof c=="function"){if(N=y.createElement(c,w),y.isValidElement(N))return N}else N=Ene(t);var A=Vr(t);if(Zx(E)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Sne(t,r,N,A,E);S=Cne(E,t.offset,t.position)}else S=Ane(t,E);return y.createElement(Mm,{zIndex:t.zIndex},y.createElement(RN,Qg({ref:p,className:Xt("recharts-label",d)},A,S,{textAnchor:sne(A.textAnchor)?A.textAnchor:S.textAnchor,breakAll:m}),N))}iR.displayName="Label";var lb={},sb={},ek;function One(){return ek||(ek=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t})(sb)),sb}var ib={},tk;function kne(){return tk||(tk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t})(ib)),ib}var ak;function Dne(){return ak||(ak=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=One(),a=kne(),r=o1();function s(o){if(r.isArrayLike(o))return t.last(a.toArray(o))}e.last=s})(lb)),lb}var ob,rk;function _ne(){return rk||(rk=1,ob=Dne().last),ob}var Pne=_ne();const Mne=Pl(Pne);var Rne=["valueAccessor"],Lne=["dataKey","clockWise","id","textBreakAll","zIndex"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xg.apply(null,arguments)}function nk(e,t){if(e==null)return{};var a,r,s=jne(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function jne(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var zne=e=>Array.isArray(e.value)?Mne(e.value):e.value,oR=y.createContext(void 0);oR.Provider;var cR=y.createContext(void 0),Une=cR.Provider;function Ine(){return y.useContext(oR)}function Fne(){return y.useContext(cR)}function Yf(e){var{valueAccessor:t=zne}=e,a=nk(e,Rne),{dataKey:r,clockWise:s,id:o,textBreakAll:c,zIndex:d}=a,m=nk(a,Lne),p=Ine(),f=Fne(),h=p||f;return!h||!h.length?null:y.createElement(Mm,{zIndex:d??un.label},y.createElement(Cs,{className:"recharts-label-list"},h.map((b,E)=>{var N,S=br(r)?t(b,E):Yt(b&&b.payload,r),w=br(o)?{}:{id:"".concat(o,"-").concat(E)};return y.createElement(iR,Xg({key:"label-".concat(E)},Vr(b),m,w,{fill:(N=a.fill)!==null&&N!==void 0?N:b.fill,parentViewBox:b.parentViewBox,value:S,textBreakAll:c,viewBox:b.viewBox,index:E,zIndex:0}))})))}Yf.displayName="LabelList";function $ne(e){var{label:t}=e;return t?t===!0?y.createElement(Yf,{key:"labelList-implicit"}):y.isValidElement(t)||Nne(t)?y.createElement(Yf,{key:"labelList-implicit",content:t}):typeof t=="object"?y.createElement(Yf,Xg({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var uR=e=>e.graphicalItems.polarItems,Bne=re([Lt,Sm],lN),ep=re([uR,zt,Bne],sN),Vne=re([ep],iN),tp=re([Vne,Y1],oN),qne=re([tp,zt,ep],uN);re([tp,zt,ep],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var o,c=Yt(r,(o=t.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Yt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var lk=()=>{},Hne=re([tp,zt,ep,X0,Lt],gN),Gne=re([zt,dN,fN,lk,Hne,lk,wt,Lt],pN),mR=re([zt,wt,tp,qne,wm,Lt,Gne],hN),Kne=re([mR,zt,oc],bN);re([zt,mR,Kne,Lt],EN);var Yne={radiusAxis:{},angleAxis:{}},dR=lr({name:"polarAxis",initialState:Yne,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xue,removeRadiusAxis:Eue,addAngleAxis:Nue,removeAngleAxis:wue}=dR.actions,Qne=dR.reducer;function sk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ik(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(a),!0).forEach(function(r){Xne(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sk(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Xne(e,t,a){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Wne(e){var t=Zne(e,"string");return typeof t=="symbol"?t:t+""}function Zne(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jne=(e,t)=>t,LN=re([uR,Jne],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),ele=[],jN=(e,t,a)=>a?.length===0?ele:a,fR=re([Y1,LN,jN],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var s;if(t?.data!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(o=>ik(ik({},t.presentationProps),o.props))),s!=null)return s}}),tle=re([fR,LN,jN],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,s)=>{var o,c=Yt(r,t.nameKey,t.name),d;return a!=null&&(o=a[s])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?d=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:A6(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),ale=re([fR,LN,jN,Sa],(e,t,a,r)=>{if(!(t==null||e==null))return lse({offset:r,pieSettings:t,displayedData:e,cells:a})}),cb={exports:{}},gt={};var ok;function rle(){if(ok)return gt;ok=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),E=Symbol.for("react.client.reference");function N(S){if(typeof S=="object"&&S!==null){var w=S.$$typeof;switch(w){case e:switch(S=S.type,S){case a:case s:case r:case m:case p:case b:return S;default:switch(S=S&&S.$$typeof,S){case c:case d:case h:case f:return S;case o:return S;default:return w}}case t:return w}}}return gt.ContextConsumer=o,gt.ContextProvider=c,gt.Element=e,gt.ForwardRef=d,gt.Fragment=a,gt.Lazy=h,gt.Memo=f,gt.Portal=t,gt.Profiler=s,gt.StrictMode=r,gt.Suspense=m,gt.SuspenseList=p,gt.isContextConsumer=function(S){return N(S)===o},gt.isContextProvider=function(S){return N(S)===c},gt.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===e},gt.isForwardRef=function(S){return N(S)===d},gt.isFragment=function(S){return N(S)===a},gt.isLazy=function(S){return N(S)===h},gt.isMemo=function(S){return N(S)===f},gt.isPortal=function(S){return N(S)===t},gt.isProfiler=function(S){return N(S)===s},gt.isStrictMode=function(S){return N(S)===r},gt.isSuspense=function(S){return N(S)===m},gt.isSuspenseList=function(S){return N(S)===p},gt.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===a||S===s||S===r||S===m||S===p||typeof S=="object"&&S!==null&&(S.$$typeof===h||S.$$typeof===f||S.$$typeof===c||S.$$typeof===o||S.$$typeof===d||S.$$typeof===E||S.getModuleId!==void 0)},gt.typeOf=N,gt}var ck;function nle(){return ck||(ck=1,cb.exports=rle()),cb.exports}var lle=nle(),uk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",mk=null,ub=null,gR=e=>{if(e===mk&&Array.isArray(ub))return ub;var t=[];return y.Children.forEach(e,a=>{br(a)||(lle.isFragment(a)?t=t.concat(gR(a.props.children)):t.push(a))}),ub=t,mk=e,t};function pR(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(s=>uk(s)):r=[uk(t)],gR(e).forEach(s=>{var o=Uu(s,"type.displayName")||Uu(s,"type.name");o&&r.indexOf(o)!==-1&&a.push(s)}),a}var mb={},dk;function sle(){return dk||(dk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const s=a[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${s}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t})(mb)),mb}var db,fk;function ile(){return fk||(fk=1,db=sle().isPlainObject),db}var ole=ile();const cle=Pl(ole);function gk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function pk(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(a),!0).forEach(function(r){ule(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gk(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ule(e,t,a){return(t=mle(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mle(e){var t=dle(e,"string");return typeof t=="symbol"?t:t+""}function dle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wg.apply(null,arguments)}var hk=(e,t,a,r,s)=>{var o=a-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+a,",").concat(t),c+="L ".concat(e+a-o/2,",").concat(t+s),c+="L ".concat(e+a-o/2-r,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},fle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gle=e=>{var t=Kr(e,fle),{x:a,y:r,upperWidth:s,lowerWidth:o,height:c,className:d}=t,{animationEasing:m,animationDuration:p,animationBegin:f,isUpdateAnimationActive:h}=t,b=y.useRef(null),[E,N]=y.useState(-1),S=y.useRef(s),w=y.useRef(o),C=y.useRef(c),k=y.useRef(a),A=y.useRef(r),M=S1(e,"trapezoid-");if(y.useEffect(()=>{if(b.current&&b.current.getTotalLength)try{var ne=b.current.getTotalLength();ne&&N(ne)}catch{}},[]),a!==+a||r!==+r||s!==+s||o!==+o||c!==+c||s===0&&o===0||c===0)return null;var O=Xt("recharts-trapezoid",d);if(!h)return y.createElement("g",null,y.createElement("path",Wg({},Vr(t),{className:O,d:hk(a,r,s,o,c)})));var D=S.current,_=w.current,P=C.current,R=k.current,U=A.current,L="0px ".concat(E===-1?1:E,"px"),I="".concat(E,"px 0px"),ae=H6(["strokeDasharray"],p,m);return y.createElement(w1,{animationId:M,key:M,canBegin:E>0,duration:p,easing:m,isActive:h,begin:f},ne=>{var ue=nn(D,s,ne),F=nn(_,o,ne),G=nn(P,c,ne),le=nn(R,a,ne),te=nn(U,r,ne);b.current&&(S.current=ue,w.current=F,C.current=G,k.current=le,A.current=te);var H=ne>0?{transition:ae,strokeDasharray:I}:{strokeDasharray:L};return y.createElement("path",Wg({},Vr(t),{className:O,d:hk(le,te,ue,F,G),ref:b,style:pk(pk({},H),t.style)}))})},ple=["option","shapeType","propTransformer","activeClassName"];function hle(e,t){if(e==null)return{};var a,r,s=yle(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function yle(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function yk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Zg(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(a),!0).forEach(function(r){vle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yk(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function vle(e,t,a){return(t=ble(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ble(e){var t=xle(e,"string");return typeof t=="symbol"?t:t+""}function xle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ele(e,t){return Zg(Zg({},t),e)}function Nle(e,t){return e==="symbols"}function vk(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return y.createElement(Q6,a);case"trapezoid":return y.createElement(gle,a);case"sector":return y.createElement(J6,a);case"symbols":if(Nle(t))return y.createElement(i1,a);break;case"curve":return y.createElement(N1,a);default:return null}}function wle(e){return y.isValidElement(e)?e.props:e}function Sle(e){var{option:t,shapeType:a,propTransformer:r=Ele,activeClassName:s="recharts-active-shape"}=e,o=hle(e,ple),c;if(y.isValidElement(t))c=y.cloneElement(t,Zg(Zg({},o),wle(t)));else if(typeof t=="function")c=t(o,o.index);else if(cle(t)&&typeof t!="boolean"){var d=r(t,o);c=y.createElement(vk,{shapeType:a,elementProps:d})}else{var m=o;c=y.createElement(vk,{shapeType:a,elementProps:m})}return o.isActive?y.createElement(Cs,{className:s},c):c}var Cle=(e,t,a)=>{var r=Wt();return(s,o)=>c=>{e?.(s,o,c),r(k8({activeIndex:String(o),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}},Ale=e=>{var t=Wt();return(a,r)=>s=>{e?.(a,r,s),t(Rte())}},Tle=(e,t,a)=>{var r=Wt();return(s,o)=>c=>{e?.(s,o,c),r(Lte({activeIndex:String(o),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:a}))}};function Ole(e){var{tooltipEntrySettings:t}=e,a=Wt(),r=Ds(),s=y.useRef(null);return y.useLayoutEffect(()=>{r||(s.current===null?a(Dte(t)):s.current!==t&&a(_te({prev:s.current,next:t})),s.current=t)},[t,a,r]),y.useLayoutEffect(()=>()=>{s.current&&(a(Pte(s.current)),s.current=null)},[a]),null}function kle(e){var{legendPayload:t}=e,a=Wt(),r=Ge(wt),s=y.useRef(null);return y.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(s.current===null?a(WQ(t)):s.current!==t&&a(ZQ({prev:s.current,next:t})),s.current=t)},[a,r,t]),y.useLayoutEffect(()=>()=>{s.current&&(a(JQ(s.current)),s.current=null)},[a]),null}var fb,Dle=()=>{var[e]=y.useState(()=>Iu("uid-"));return e},_le=(fb=XL.useId)!==null&&fb!==void 0?fb:Dle;function hR(e,t){var a=_le();return t||(e?"".concat(e,"-").concat(a):a)}var Ple=y.createContext(void 0),Mle=e=>{var{id:t,type:a,children:r}=e,s=hR("recharts-".concat(a),t);return y.createElement(Ple.Provider,{value:s},r(s))},Rle={cartesianItems:[],polarItems:[]},yR=lr({name:"graphicalItems",initialState:Rle,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:kt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:a,next:r}=t.payload,s=mn(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=r)},prepare:kt()},removeCartesianGraphicalItem:{reducer(e,t){var a=mn(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},prepare:kt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:kt()},removePolarGraphicalItem:{reducer(e,t){var a=mn(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)},prepare:kt()}}}),{addCartesianGraphicalItem:Sue,replaceCartesianGraphicalItem:Cue,removeCartesianGraphicalItem:Aue,addPolarGraphicalItem:Lle,removePolarGraphicalItem:jle}=yR.actions,zle=yR.reducer;function Ule(e){var t=Wt();return y.useLayoutEffect(()=>(t(Lle(e)),()=>{t(jle(e))}),[t,e]),null}var Ile=["key"],Fle=["onMouseEnter","onClick","onMouseLeave"],$le=["id"],Ble=["id"];function bk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Bt(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(a),!0).forEach(function(r){Vle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bk(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Vle(e,t,a){return(t=qle(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qle(e){var t=Hle(e,"string");return typeof t=="symbol"?t:t+""}function Hle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Os.apply(null,arguments)}function ap(e,t){if(e==null)return{};var a,r,s=Gle(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Gle(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Kle(e){var t=y.useMemo(()=>pR(e.children,Ko),[e.children]),a=Ge(r=>tle(r,e.id,t));return a==null?null:y.createElement(kle,{legendPayload:a})}var Yle=y.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:s,strokeWidth:o,fill:c,name:d,hide:m,tooltipType:p}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:o,fill:c,dataKey:t,nameKey:a,name:A6(d,t),hide:m,type:p,color:c,unit:""}};return y.createElement(Ole,{tooltipEntrySettings:f})}),Qle=(e,t)=>e>t?"start":e<t?"end":"middle",Xle=(e,t,a)=>yr(typeof t=="function"?t(e):t,a,a*.8),Wle=(e,t,a)=>{var{top:r,left:s,width:o,height:c}=t,d=X6(o,c),m=s+yr(e.cx,o,o/2),p=r+yr(e.cy,c,c/2),f=yr(e.innerRadius,d,0),h=Xle(a,e.outerRadius,d),b=e.maxRadius||Math.sqrt(o*o+c*c)/2;return{cx:m,cy:p,innerRadius:f,outerRadius:h,maxRadius:b}},Zle=(e,t)=>{var a=tr(t-e),r=Math.min(Math.abs(t-e),360);return a*r};function Jle(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ese=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var a=Xt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,s=ap(t,Ile);return y.createElement(N1,Os({},s,{type:"linear",className:a}))},tse=(e,t,a)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),y.isValidElement(r)))return r;var s=Xt("recharts-pie-label-text",Jle(e));return y.createElement(RN,Os({},t,{alignmentBaseline:"middle",className:s}),r)};function ase(e){var{sectors:t,props:a,showLabels:r}=e,{label:s,labelLine:o,dataKey:c}=a;if(!r||!s||!t)return null;var d=Uo(a),m=rx(s),p=rx(o),f=typeof s=="object"&&"offsetRadius"in s&&typeof s.offsetRadius=="number"&&s.offsetRadius||20,h=t.map((b,E)=>{var N=(b.startAngle+b.endAngle)/2,S=ia(b.cx,b.cy,b.outerRadius+f,N),w=Bt(Bt(Bt(Bt({},d),b),{},{stroke:"none"},m),{},{index:E,textAnchor:Qle(S.x,b.cx)},S),C=Bt(Bt(Bt(Bt({},d),b),{},{fill:"none",stroke:b.fill},p),{},{index:E,points:[ia(b.cx,b.cy,b.outerRadius,N),S],key:"line"});return y.createElement(Mm,{zIndex:un.label,key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(E)},y.createElement(Cs,null,o&&ese(o,C),tse(s,w,Yt(b,c))))});return y.createElement(Cs,{className:"recharts-pie-labels"},h)}function rse(e){var{sectors:t,props:a,showLabels:r}=e,{label:s}=a;return typeof s=="object"&&s!=null&&"position"in s?y.createElement($ne,{label:s}):y.createElement(ase,{sectors:t,props:a,showLabels:r})}function nse(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:s,shape:o,id:c}=e,d=Ge(Zu),m=Ge(V8),p=Ge(xae),{onMouseEnter:f,onClick:h,onMouseLeave:b}=s,E=ap(s,Fle),N=Cle(f,s.dataKey,c),S=Ale(b),w=Tle(h,s.dataKey,c);return t==null||t.length===0?null:y.createElement(y.Fragment,null,t.map((C,k)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var A=p==null||p===c,M=String(k)===d&&(m==null||s.dataKey===m)&&A,O=d?r:null,D=a&&M?a:O,_=Bt(Bt({},C),{},{stroke:C.stroke,tabIndex:-1,[O6]:k,[k6]:s.dataKey});return y.createElement(Cs,Os({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},RP(E,C,k),{onMouseEnter:N(C,k),onMouseLeave:S(C,k),onClick:w(C,k)}),y.createElement(Sle,Os({option:o??D,index:k,shapeType:"sector",isActive:M},_)))}))}function lse(e){var t,{pieSettings:a,displayedData:r,cells:s,offset:o}=e,{cornerRadius:c,startAngle:d,endAngle:m,dataKey:p,nameKey:f,tooltipType:h}=a,b=Math.abs(a.minAngle),E=Zle(d,m),N=Math.abs(E),S=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,w=r.filter(D=>Yt(D,p,0)!==0).length,C=(N>=360?w:w-1)*S,k=N-w*b-C,A=r.reduce((D,_)=>{var P=Yt(_,p,0);return D+(Be(P)?P:0)},0),M;if(A>0){var O;M=r.map((D,_)=>{var P=Yt(D,p,0),R=Yt(D,f,_),U=Wle(a,o,D),L=(Be(P)?P:0)/A,I,ae=Bt(Bt({},D),s&&s[_]&&s[_].props);_?I=O.endAngle+tr(E)*S*(P!==0?1:0):I=d;var ne=I+tr(E)*((P!==0?b:0)+L*k),ue=(I+ne)/2,F=(U.innerRadius+U.outerRadius)/2,G=[{name:R,value:P,payload:ae,dataKey:p,type:h}],le=ia(U.cx,U.cy,F,ue);return O=Bt(Bt(Bt(Bt({},a.presentationProps),{},{percent:L,cornerRadius:typeof c=="string"?parseFloat(c):c,name:R,tooltipPayload:G,midAngle:ue,middleRadius:F,tooltipPosition:le},ae),U),{},{value:P,dataKey:p,startAngle:I,endAngle:ne,payload:ae,paddingAngle:tr(E)*S}),O})}return M}function sse(e){var{showLabels:t,sectors:a,children:r}=e,s=y.useMemo(()=>!t||!a?[]:a.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[a,t]);return y.createElement(Une,{value:t?s:void 0},r)}function ise(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:s,isAnimationActive:o,animationBegin:c,animationDuration:d,animationEasing:m,activeShape:p,inactiveShape:f,onAnimationStart:h,onAnimationEnd:b}=t,E=S1(t,"recharts-pie-"),N=a.current,[S,w]=y.useState(!1),C=y.useCallback(()=>{typeof b=="function"&&b(),w(!1)},[b]),k=y.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return y.createElement(sse,{showLabels:!S,sectors:s},y.createElement(w1,{animationId:E,begin:c,duration:d,isActive:o,easing:m,onAnimationStart:k,onAnimationEnd:C,key:E},A=>{var M=[],O=s&&s[0],D=O?.startAngle;return s?.forEach((_,P)=>{var R=N&&N[P],U=P>0?Uu(_,"paddingAngle",0):0;if(R){var L=nn(R.endAngle-R.startAngle,_.endAngle-_.startAngle,A),I=Bt(Bt({},_),{},{startAngle:D+U,endAngle:D+L+U});M.push(I),D=I.endAngle}else{var{endAngle:ae,startAngle:ne}=_,ue=nn(0,ae-ne,A),F=Bt(Bt({},_),{},{startAngle:D+U,endAngle:D+ue+U});M.push(F),D=F.endAngle}}),a.current=M,y.createElement(Cs,null,y.createElement(nse,{sectors:M,activeShape:p,inactiveShape:f,allOtherPieProps:t,shape:t.shape,id:r}))}),y.createElement(rse,{showLabels:!S,sectors:s,props:t}),t.children)}var ose={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:un.area};function cse(e){var{id:t}=e,a=ap(e,$le),{hide:r,className:s,rootTabIndex:o}=e,c=y.useMemo(()=>pR(e.children,Ko),[e.children]),d=Ge(f=>ale(f,t,c)),m=y.useRef(null),p=Xt("recharts-pie",s);return r||d==null?(m.current=null,y.createElement(Cs,{tabIndex:o,className:p})):y.createElement(Mm,{zIndex:e.zIndex},y.createElement(Yle,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),y.createElement(Cs,{tabIndex:o,className:p},y.createElement(ise,{props:Bt(Bt({},a),{},{sectors:d}),previousSectorsRef:m,id:t})))}function Jg(e){var t=Kr(e,ose),{id:a}=t,r=ap(t,Ble),s=Uo(r);return y.createElement(Mle,{id:a,type:"pie"},o=>y.createElement(y.Fragment,null,y.createElement(Ule,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s,maxRadius:t.maxRadius}),y.createElement(Kle,Os({},r,{id:o})),y.createElement(cse,Os({},r,{id:o}))))}Jg.displayName="Pie";function xk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ek(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(a),!0).forEach(function(r){use(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xk(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function use(e,t,a){return(t=mse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mse(e){var t=dse(e,"string");return typeof t=="symbol"?t:t+""}function dse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fse={xAxis:{},yAxis:{},zAxis:{}},vR=lr({name:"cartesianAxis",initialState:fse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:kt()},replaceXAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.xAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.xAxis[a.id],e.xAxis[r.id]=r)},prepare:kt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:kt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:kt()},replaceYAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.yAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.yAxis[a.id],e.yAxis[r.id]=r)},prepare:kt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:kt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:kt()},replaceZAxis:{reducer(e,t){var{prev:a,next:r}=t.payload;e.zAxis[a.id]!==void 0&&(a.id!==r.id&&delete e.zAxis[a.id],e.zAxis[r.id]=r)},prepare:kt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:kt()},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload,s=e.yAxis[a];if(s){var o=s.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==s.width&&Math.abs(r-o[0])<=1)return;var c=[...o,r].slice(-3);e.yAxis[a]=Ek(Ek({},e.yAxis[a]),{},{width:r,widthHistory:c})}}}}),{addXAxis:Tue,replaceXAxis:Oue,removeXAxis:kue,addYAxis:Due,replaceYAxis:_ue,removeYAxis:Pue,addZAxis:Mue,replaceZAxis:Rue,removeZAxis:Lue,updateYAxisWidth:jue}=vR.actions,gse=vR.reducer,pse=re([Sa],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),hse=re([pse,Rl,Ll],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),yse=()=>Ge(hse),vse={},bR=lr({name:"errorBars",initialState:vse,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},replaceErrorBar:(e,t)=>{var{itemId:a,prev:r,next:s}=t.payload;e[a]&&(e[a]=e[a].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:zue,replaceErrorBar:Uue,removeErrorBar:Iue}=bR.actions,bse=bR.reducer,gb={exports:{}},pb={};var Nk;function xse(){if(Nk)return pb;Nk=1;var e=Yo();function t(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return pb.useSyncExternalStoreWithSelector=function(m,p,f,h,b){var E=s(null);if(E.current===null){var N={hasValue:!1,value:null};E.current=N}else N=E.current;E=c(function(){function w(O){if(!C){if(C=!0,k=O,O=h(O),b!==void 0&&N.hasValue){var D=N.value;if(b(D,O))return A=D}return A=O}if(D=A,a(k,O))return D;var _=h(O);return b!==void 0&&b(D,_)?(k=O,D):(k=O,A=_)}var C=!1,k,A,M=f===void 0?null:f;return[function(){return w(p())},M===null?void 0:function(){return w(M())}]},[p,f,h,b]);var S=r(m,E[0],E[1]);return o(function(){N.hasValue=!0,N.value=S},[S]),d(S),S},pb}var wk;function Ese(){return wk||(wk=1,gb.exports=xse()),gb.exports}Ese();function Nse(e){e()}function wse(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Nse(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Sk={notify(){},get:()=>[]};function Sse(e,t){let a,r=Sk,s=0,o=!1;function c(S){f();const w=r.subscribe(S);let C=!1;return()=>{C||(C=!0,w(),h())}}function d(){r.notify()}function m(){N.onStateChange&&N.onStateChange()}function p(){return o}function f(){s++,a||(a=e.subscribe(m),r=wse())}function h(){s--,a&&s===0&&(a(),a=void 0,r.clear(),r=Sk)}function b(){o||(o=!0,f())}function E(){o&&(o=!1,h())}const N={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:p,trySubscribe:b,tryUnsubscribe:E,getListeners:()=>r};return N}var Cse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ase=Cse(),Tse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ose=Tse(),kse=()=>Ase||Ose?y.useLayoutEffect:y.useEffect,Dse=kse();function Ck(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function _se(e,t){if(Ck(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(let s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(t,a[s])||!Ck(e[a[s]],t[a[s]]))return!1;return!0}var Pse=Symbol.for("react-redux-context"),Mse=typeof globalThis<"u"?globalThis:{};function Rse(){if(!y.createContext)return{};const e=Mse[Pse]??=new Map;let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Lse=Rse();function jse(e){const{children:t,context:a,serverState:r,store:s}=e,o=y.useMemo(()=>{const m=Sse(s);return{store:s,subscription:m,getServerState:r?()=>r:void 0}},[s,r]),c=y.useMemo(()=>s.getState(),[s]);Dse(()=>{const{subscription:m}=o;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[o,c]);const d=a||Lse;return y.createElement(d.Provider,{value:o},t)}var zse=jse,Use=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Ise(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Fse(e,t){var a=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of a)if(Use.has(r)){if(e[r]==null&&t[r]==null)continue;if(!_se(e[r],t[r]))return!1}else if(!Ise(e[r],t[r]))return!1;return!0}var $se=e=>{var{chartData:t}=e,a=Wt(),r=Ds();return y.useEffect(()=>r?()=>{}:(a(zO(t)),()=>{a(zO(void 0))}),[t,a,r]),null},Ak={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xR=lr({name:"brush",initialState:Ak,reducers:{setBrushSettings(e,t){return t.payload==null?Ak:t.payload}}}),{setBrushSettings:Fue}=xR.actions,Bse=xR.reducer,Vse={dots:[],areas:[],lines:[]},ER=lr({name:"referenceElements",initialState:Vse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=mn(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=mn(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=mn(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:$ue,removeDot:Bue,addArea:Vue,removeArea:que,addLine:Hue,removeLine:Gue}=ER.actions,qse=ER.reducer,Hse=y.createContext(void 0),Gse=e=>{var{children:t}=e,[a]=y.useState("".concat(Iu("recharts"),"-clip")),r=yse();if(r==null)return null;var{x:s,y:o,width:c,height:d}=r;return y.createElement(Hse.Provider,{value:a},y.createElement("defs",null,y.createElement("clipPath",{id:a},y.createElement("rect",{x:s,y:o,height:d,width:c}))),t)},Kse=(e,t)=>t,zN=re([Kse,wt,a8,ha,I8,zl,zae,Sa],qae),UN=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},NR=qr("mouseClick"),wR=hm();wR.startListening({actionCreator:NR,effect:(e,t)=>{var a=e.payload,r=zN(t.getState(),UN(a));r?.activeIndex!=null&&t.dispatch(jte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Jx=qr("mouseMove"),SR=hm(),vf=null;SR.startListening({actionCreator:Jx,effect:(e,t)=>{var a=e.payload;vf!==null&&cancelAnimationFrame(vf);var r=UN(a);vf=requestAnimationFrame(()=>{var s=t.getState(),o=SN(s,s.tooltip.settings.shared);if(o==="axis"){var c=zN(s,r);c?.activeIndex!=null?t.dispatch(_8({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(D8())}vf=null})}});var Tk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},CR=lr({name:"rootProps",initialState:Tk,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:Tk.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Yse=CR.reducer,{updateOptions:Qse}=CR.actions,AR=lr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Xse}=AR.actions,Wse=AR.reducer,TR=qr("keyDown"),OR=qr("focus"),IN=hm();IN.startListening({actionCreator:TR,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var c=CN(s,uc(a),Tm(a),_m(a)),d=c==null?-1:Number(c);if(!(!Number.isFinite(d)||d<0)){var m=zl(a);if(o==="Enter"){var p=Yg(a,"axis","hover",String(s.index));t.dispatch(Kx({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:p}));return}var f=Ate(a),h=f==="left-to-right"?1:-1,b=o==="ArrowRight"?1:-1,E=d+b*h;if(!(m==null||E>=m.length||E<0)){var N=Yg(a,"axis","hover",String(E));t.dispatch(Kx({active:!0,activeIndex:E.toString(),activeDataKey:void 0,activeCoordinate:N}))}}}}}});IN.startListening({actionCreator:OR,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var o="0",c=Yg(a,"axis","hover",String(o));t.dispatch(Kx({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:c}))}}}});var Rr=qr("externalEvent"),kR=hm(),hb=new Map;kR.startListening({actionCreator:Rr,effect:(e,t)=>{var{handler:a,reactEvent:r}=e.payload;if(a!=null){r.persist();var s=r.type,o=hb.get(s);o!==void 0&&cancelAnimationFrame(o);var c=requestAnimationFrame(()=>{try{var d=t.getState(),m={activeCoordinate:Nae(d),activeDataKey:V8(d),activeIndex:Zu(d),activeLabel:B8(d),activeTooltipIndex:Zu(d),isTooltipActive:wae(d)};a(m,r)}finally{hb.delete(s)}});hb.set(s,c)}}});var Zse=re([cc],e=>e.tooltipItemPayloads),Jse=re([Zse,km,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:o}=s;if(o!=null){var c=t(o,a);return c}}}),DR=qr("touchMove"),_R=hm();_R.startListening({actionCreator:DR,effect:(e,t)=>{var a=e.payload;if(!(a.touches==null||a.touches.length===0)){var r=t.getState(),s=SN(r,r.tooltip.settings.shared);if(s==="axis"){var o=zN(r,UN({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));o?.activeIndex!=null&&t.dispatch(_8({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var c,d=a.touches[0];if(document.elementFromPoint==null)return;var m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var p=m.getAttribute(O6),f=(c=m.getAttribute(k6))!==null&&c!==void 0?c:void 0,h=Jse(t.getState(),p,f);t.dispatch(k8({activeDataKey:f,activeIndex:p,activeCoordinate:h}))}}}});var eie=WP({brush:Bse,cartesianAxis:gse,chartData:Nre,errorBars:bse,graphicalItems:zle,layout:HY,legend:eX,options:yre,polarAxis:Qne,polarOptions:Wse,referenceElements:qse,rootProps:Yse,tooltip:zte,zIndex:nre}),tie=function(t){return hY({reducer:eie,preloadedState:t,middleware:a=>{var r;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([wR.middleware,SR.middleware,IN.middleware,kR.middleware,_R.middleware])},enhancers:a=>{var r=a;return typeof a=="function"&&(r=a()),r.concat(d6({type:"raf"}))},devTools:U0.devToolsEnabled})};function aie(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,s=Ds(),o=y.useRef(null);if(s)return a;o.current==null&&(o.current=tie(t));var c=c1;return y.createElement(zse,{context:c,store:o.current},a)}function rie(e){var{layout:t,margin:a}=e,r=Wt(),s=Ds();return y.useEffect(()=>{s||(r(BY(t)),r($Y(a)))},[r,s,t,a]),null}var nie=y.memo(rie,Fse);function lie(e){var t=Wt();return y.useEffect(()=>{t(Qse(e))},[t,e]),null}function Ok(e){var{zIndex:t,isPanorama:a}=e,r=a?"recharts-zindex-panorama-":"recharts-zindex-",s=hR("".concat(r).concat(t)),o=Wt();return y.useLayoutEffect(()=>(o(are({zIndex:t,elementId:s,isPanorama:a})),()=>{o(rre({zIndex:t,isPanorama:a}))}),[o,t,s,a]),y.createElement("g",{tabIndex:-1,id:s})}function kk(e){var{children:t,isPanorama:a}=e,r=Ge(Gae);if(!r||r.length===0)return t;var s=r.filter(c=>c<0),o=r.filter(c=>c>0);return y.createElement(y.Fragment,null,s.map(c=>y.createElement(Ok,{key:c,zIndex:c,isPanorama:a})),t,o.map(c=>y.createElement(Ok,{key:c,zIndex:c,isPanorama:a})))}var sie=["children"];function iie(e,t){if(e==null)return{};var a,r,s=oie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function oie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function e0(){return e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},e0.apply(null,arguments)}var cie={width:"100%",height:"100%",display:"block"},uie=y.forwardRef((e,t)=>{var a=R6(),r=L6(),s=q6();if(!As(a)||!As(r))return null;var{children:o,otherAttributes:c,title:d,desc:m}=e,p,f;return c!=null&&(typeof c.tabIndex=="number"?p=c.tabIndex:p=s?0:void 0,typeof c.role=="string"?f=c.role:f=s?"application":void 0),y.createElement(e1,e0({},c,{title:d,desc:m,role:f,tabIndex:p,width:a,height:r,style:cie,ref:t}),o)}),mie=e=>{var{children:t}=e,a=Ge(P0);if(!a)return null;var{width:r,height:s,y:o,x:c}=a;return y.createElement(e1,{width:r,height:s,x:c,y:o},t)},Dk=y.forwardRef((e,t)=>{var{children:a}=e,r=iie(e,sie),s=Ds();return s?y.createElement(mie,null,y.createElement(kk,{isPanorama:!0},a)):y.createElement(uie,e0({ref:t},r),y.createElement(kk,{isPanorama:!1},a))});function die(){var e=Wt(),[t,a]=y.useState(null),r=Ge(sQ);return y.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;wa(o)&&o!==r&&e(qY(o))}},[t,e,r]),a}function _k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function fie(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(a),!0).forEach(function(r){gie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_k(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gie(e,t,a){return(t=pie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pie(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ai.apply(null,arguments)}var yie=()=>(_re(),null);function t0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var vie=y.forwardRef((e,t)=>{var a,r,s=y.useRef(null),[o,c]=y.useState({containerWidth:t0((a=e.style)===null||a===void 0?void 0:a.width),containerHeight:t0((r=e.style)===null||r===void 0?void 0:r.height)}),d=y.useCallback((p,f)=>{c(h=>{var b=Math.round(p),E=Math.round(f);return h.containerWidth===b&&h.containerHeight===E?h:{containerWidth:b,containerHeight:E}})},[]),m=y.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=p.getBoundingClientRect();d(f,h);var b=N=>{var{width:S,height:w}=N[0].contentRect;d(S,w)},E=new ResizeObserver(b);E.observe(p),s.current=E}},[t,d]);return y.useEffect(()=>()=>{var p=s.current;p?.disconnect()},[d]),y.createElement(y.Fragment,null,y.createElement(R0,{width:o.containerWidth,height:o.containerHeight}),y.createElement("div",Ai({ref:m},e)))}),bie=y.forwardRef((e,t)=>{var{width:a,height:r}=e,[s,o]=y.useState({containerWidth:t0(a),containerHeight:t0(r)}),c=y.useCallback((m,p)=>{o(f=>{var h=Math.round(m),b=Math.round(p);return f.containerWidth===h&&f.containerHeight===b?f:{containerWidth:h,containerHeight:b}})},[]),d=y.useCallback(m=>{if(typeof t=="function"&&t(m),m!=null){var{width:p,height:f}=m.getBoundingClientRect();c(p,f)}},[t,c]);return y.createElement(y.Fragment,null,y.createElement(R0,{width:s.containerWidth,height:s.containerHeight}),y.createElement("div",Ai({ref:d},e)))}),xie=y.forwardRef((e,t)=>{var{width:a,height:r}=e;return y.createElement(y.Fragment,null,y.createElement(R0,{width:a,height:r}),y.createElement("div",Ai({ref:t},e)))}),Eie=y.forwardRef((e,t)=>{var{width:a,height:r}=e;return Cl(a)||Cl(r)?y.createElement(bie,Ai({},e,{ref:t})):y.createElement(xie,Ai({},e,{ref:t}))});function Nie(e){return e===!0?vie:Eie}var wie=y.forwardRef((e,t)=>{var{children:a,className:r,height:s,onClick:o,onContextMenu:c,onDoubleClick:d,onMouseDown:m,onMouseEnter:p,onMouseLeave:f,onMouseMove:h,onMouseUp:b,onTouchEnd:E,onTouchMove:N,onTouchStart:S,style:w,width:C,responsive:k,dispatchTouchEvents:A=!0}=e,M=y.useRef(null),O=Wt(),[D,_]=y.useState(null),[P,R]=y.useState(null),U=die(),L=v1(),I=L?.width>0?L.width:C,ae=L?.height>0?L.height:s,ne=y.useCallback(W=>{U(W),typeof t=="function"&&t(W),_(W),R(W),W!=null&&(M.current=W)},[U,t,_,R]),ue=y.useCallback(W=>{O(NR(W)),O(Rr({handler:o,reactEvent:W}))},[O,o]),F=y.useCallback(W=>{O(Jx(W)),O(Rr({handler:p,reactEvent:W}))},[O,p]),G=y.useCallback(W=>{O(D8()),O(Rr({handler:f,reactEvent:W}))},[O,f]),le=y.useCallback(W=>{O(Jx(W)),O(Rr({handler:h,reactEvent:W}))},[O,h]),te=y.useCallback(()=>{O(OR())},[O]),H=y.useCallback(W=>{O(TR(W.key))},[O]),j=y.useCallback(W=>{O(Rr({handler:c,reactEvent:W}))},[O,c]),B=y.useCallback(W=>{O(Rr({handler:d,reactEvent:W}))},[O,d]),X=y.useCallback(W=>{O(Rr({handler:m,reactEvent:W}))},[O,m]),K=y.useCallback(W=>{O(Rr({handler:b,reactEvent:W}))},[O,b]),oe=y.useCallback(W=>{O(Rr({handler:S,reactEvent:W}))},[O,S]),Q=y.useCallback(W=>{A&&O(DR(W)),O(Rr({handler:N,reactEvent:W}))},[O,A,N]),V=y.useCallback(W=>{O(Rr({handler:E,reactEvent:W}))},[O,E]),we=Nie(k);return y.createElement(X8.Provider,{value:D},y.createElement(fP.Provider,{value:P},y.createElement(we,{width:I??w?.width,height:ae??w?.height,className:Xt("recharts-wrapper",r),style:fie({position:"relative",cursor:"default",width:I,height:ae},w),onClick:ue,onContextMenu:j,onDoubleClick:B,onFocus:te,onKeyDown:H,onMouseDown:X,onMouseEnter:F,onMouseLeave:G,onMouseMove:le,onMouseUp:K,onTouchEnd:V,onTouchMove:Q,onTouchStart:oe,ref:ne},y.createElement(yie,null),a)))}),Sie=["width","height","responsive","children","className","style","compact","title","desc"];function Cie(e,t){if(e==null)return{};var a,r,s=Aie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Aie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Tie=y.forwardRef((e,t)=>{var{width:a,height:r,responsive:s,children:o,className:c,style:d,compact:m,title:p,desc:f}=e,h=Cie(e,Sie),b=Uo(h);return m?y.createElement(y.Fragment,null,y.createElement(R0,{width:a,height:r}),y.createElement(Dk,{otherAttributes:b,title:p,desc:f},o)):y.createElement(wie,{className:c,style:d,width:a,height:r,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(Dk,{otherAttributes:b,title:p,desc:f,ref:t},y.createElement(Gse,null,o)))});function Oie(e){var t=Wt();return y.useEffect(()=>{t(Xse(e))},[t,e]),null}var kie=["layout"];function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},eE.apply(null,arguments)}function Die(e,t){if(e==null)return{};var a,r,s=_ie(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function _ie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Pie={top:5,right:5,bottom:5,left:5},PR={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Mie=y.forwardRef(function(t,a){var r,s=Kr(t.categoricalChartProps,PR),{layout:o}=s,c=Die(s,kie),{chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:f}=t,h={chartName:d,defaultTooltipEventType:m,validateTooltipEventTypes:p,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(aie,{preloadedState:{options:h},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:d},y.createElement($se,{chartData:s.data}),y.createElement(nie,{layout:o,margin:s.margin}),y.createElement(lie,{baseValue:void 0,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),y.createElement(Oie,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),y.createElement(Tie,eE({},c,{ref:a})))});function Pk(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Mk(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(a),!0).forEach(function(r){Rie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pk(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Rie(e,t,a){return(t=Lie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Lie(e){var t=jie(e,"string");return typeof t=="symbol"?t:t+""}function jie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zie=["item"],Uie=Mk(Mk({},PR),{},{layout:"centric",startAngle:0,endAngle:360}),tE=y.forwardRef((e,t)=>{var a=Kr(e,Uie);return y.createElement(Mie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:zie,tooltipPayloadSearcher:pre,categoricalChartProps:a,ref:t})});const bf=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"],Iie=({data:e,loading:t})=>{if(!e)return n.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},n.createElement(vt,{loading:!0}),n.createElement(vt,{loading:!0}));const{totalPayments:a,totalRevenue:r,averageOrderValue:s,totalDiscount:o,paymentMethods:c=[],topCoupons:d=[]}=e,m=c.map(f=>({name:f._id,value:f.revenue/100,count:f.count})),p=({active:f,payload:h})=>f&&h&&h.length?n.createElement("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200"},n.createElement("p",{className:"text-sm font-semibold text-gray-900"},h[0].name),n.createElement("p",{className:"text-sm text-gray-600"},"Revenue: ",n.createElement("span",{className:"font-bold text-green-600"},Ur(h[0].value*100))),h[0].payload.count&&n.createElement("p",{className:"text-sm text-gray-600"},"Orders: ",n.createElement("span",{className:"font-bold"},h[0].payload.count))):null;return n.createElement("div",{className:"space-y-4"},n.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Revenue & Payments"),n.createElement("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4"},n.createElement("div",{className:"xl:col-span-1 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-1 gap-3"},n.createElement(vt,{title:"Total Revenue",value:Ur(r),subtitle:`From ${Xe(a)} transactions`,icon:n.createElement(AD,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:t}),n.createElement(vt,{title:"Total Payments",value:Xe(a),subtitle:"Successful transactions",icon:n.createElement(CD,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:t}),n.createElement(vt,{title:"Average Order Value",value:Ur(s*100),subtitle:"Per transaction",icon:n.createElement(fg,{className:"w-6 h-6"}),iconColor:"text-purple-600",loading:t}),n.createElement(vt,{title:"Total Discounts",value:Ur(o),subtitle:"Coupons & offers applied",icon:n.createElement(dA,{className:"w-6 h-6"}),iconColor:"text-orange-600",loading:t})),m.length>0&&n.createElement("div",{className:"xl:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},n.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-3"},"Payment Distribution"),n.createElement(Nx,{width:"100%",height:240},n.createElement(tE,null,n.createElement(Jg,{data:m,cx:"50%",cy:"50%",labelLine:!1,label:({name:f,percent:h})=>`${f} (${(h*100).toFixed(0)}%)`,outerRadius:70,fill:"#8884d8",dataKey:"value"},m.map((f,h)=>n.createElement(Ko,{key:`cell-${h}`,fill:bf[h%bf.length]}))),n.createElement(Xx,{content:n.createElement(p,null)}),n.createElement(V6,null))),n.createElement("div",{className:"mt-3 pt-3 border-t border-gray-200"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2"},m.map((f,h)=>n.createElement("div",{key:f.name,className:"flex items-center justify-between text-xs p-2 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:bf[h%bf.length]}}),n.createElement("span",{className:"font-semibold text-gray-900"},f.name)),n.createElement("div",{className:"text-right"},n.createElement("p",{className:"font-bold text-gray-900"},Ur(f.value*100)),n.createElement("p",{className:"text-xs text-gray-500"},f.count," orders")))))))),d.length>0&&n.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},n.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-3"},"Top Performing Coupons"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},d.map((f,h)=>n.createElement("div",{key:f._id,className:"relative p-3 rounded-lg border-2 border-dashed border-gray-200 hover:border-blue-400 hover:bg-blue-50/30 transition-all group"},n.createElement("div",{className:"flex items-center justify-between mb-2"},n.createElement("div",{className:"flex items-center gap-1.5"},n.createElement("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 text-white font-bold px-2 py-0.5 rounded text-xs shadow-sm"},"#",h+1),n.createElement("span",{className:"font-bold text-sm text-gray-900 group-hover:text-gray-900 transition-colors truncate"},f._id)),n.createElement(dA,{className:"text-orange-500 w-4 h-4 group-hover:scale-110 transition-transform shrink-0"})),n.createElement("div",{className:"grid grid-cols-2 gap-2 text-xs"},n.createElement("div",{className:"bg-white/50 p-2 rounded-lg"},n.createElement("p",{className:"text-xs text-gray-600 mb-0.5"},"Usage Count"),n.createElement("p",{className:"font-bold text-gray-900"},Xe(f.usageCount))),n.createElement("div",{className:"bg-white/50 p-2 rounded-lg"},n.createElement("p",{className:"text-xs text-gray-600 mb-0.5"},"Total Discount"),n.createElement("p",{className:"font-bold text-green-600"},Ur(f.totalDiscount)))))))))},Rk={TECHNOLOGY:"#3B82F6",ENTERTAINMENT:"#EC4899",EDUCATION:"#10B981",BUSINESS:"#F59E0B",OTHER:"#6B7280"},Lk={OFFLINE:"#EF4444",ONLINE:"#10B981",HYBRID:"#8B5CF6"},Fie=({data:e,enrollmentsData:t,cashTicketsData:a,loading:r})=>{if(!e)return n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},n.createElement(vt,{loading:!0}));const{total:s,live:o,upcoming:c,past:d,byCategory:m={},byMode:p={}}=e,f=Object.entries(m).map(([E,N])=>({name:E,value:N})),h=Object.entries(p).map(([E,N])=>({name:E,value:N})),b=({active:E,payload:N})=>E&&N&&N.length?n.createElement("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200"},n.createElement("p",{className:"text-sm font-semibold text-gray-900"},N[0].name),n.createElement("p",{className:"text-sm text-gray-600"},"Events: ",n.createElement("span",{className:"font-bold text-gray-800"},N[0].value))):null;return n.createElement("div",{className:"space-y-4"},n.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Events Overview"),n.createElement("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-4"},n.createElement("div",{className:"space-y-3"},n.createElement(vt,{title:"Total Events",value:Xe(s),subtitle:"All time events",icon:n.createElement(mA,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:r}),n.createElement(vt,{title:"Live Events",value:Xe(o),subtitle:"Currently ongoing",icon:n.createElement(EF,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:r}),n.createElement(vt,{title:"Upcoming Events",value:Xe(c),subtitle:"Scheduled ahead",icon:n.createElement(wF,{className:"w-6 h-6"}),iconColor:"text-orange-600",loading:r}),n.createElement(vt,{title:"Past Events",value:Xe(d),subtitle:"Completed events",icon:n.createElement(yF,{className:"w-6 h-6"}),iconColor:"text-gray-600",loading:r})),f.length>0&&n.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},n.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-3"},"Events by Category"),n.createElement(Nx,{width:"100%",height:220},n.createElement(tE,null,n.createElement(Jg,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:E,percent:N})=>`${E.slice(0,3)} (${(N*100).toFixed(0)}%)`,outerRadius:60,fill:"#8884d8",dataKey:"value"},f.map((E,N)=>n.createElement(Ko,{key:`cell-${N}`,fill:Rk[E.name]||"#6B7280"}))),n.createElement(Xx,{content:n.createElement(b,null)}))),n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 grid grid-cols-2 gap-2"},f.map(E=>n.createElement("div",{key:E.name,className:"flex items-center gap-2 text-xs"},n.createElement("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Rk[E.name]||"#6B7280"}}),n.createElement("span",{className:"font-semibold text-gray-900 truncate"},E.name),n.createElement("span",{className:"text-gray-600 ml-auto"},E.value))))),h.length>0&&n.createElement("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 hover:shadow-md transition-shadow"},n.createElement("h3",{className:"text-sm font-bold text-gray-900 mb-3"},"Events by Mode"),n.createElement(Nx,{width:"100%",height:220},n.createElement(tE,null,n.createElement(Jg,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:E,percent:N})=>`${E} (${(N*100).toFixed(0)}%)`,outerRadius:60,fill:"#8884d8",dataKey:"value"},h.map((E,N)=>n.createElement(Ko,{key:`cell-${N}`,fill:Lk[E.name]||"#6B7280"}))),n.createElement(Xx,{content:n.createElement(b,null)}))),n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-2"},h.map(E=>n.createElement("div",{key:E.name,className:"flex items-center justify-between text-sm p-2 rounded-lg bg-gray-50"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:Lk[E.name]||"#6B7280"}}),n.createElement("span",{className:"font-semibold text-gray-900"},E.name)),n.createElement("span",{className:"font-bold text-gray-900"},E.value)))))),t&&n.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4"},n.createElement(vt,{title:"Total Enrollments",value:Xe(t.totalEnrollments),subtitle:"Online + Cash combined",icon:n.createElement(uP,{className:"w-6 h-6"}),iconColor:"text-purple-600",loading:r}),n.createElement(vt,{title:"Online Enrollments",value:Xe(t.onlineEnrollments),subtitle:`${Xe(t.onlineTickets)} tickets sold`,icon:n.createElement(tx,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:r}),n.createElement(vt,{title:"Cash Enrollments",value:Xe(t.cashEnrollments),subtitle:"Offline redemptions",icon:n.createElement(mA,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:r}),a&&n.createElement(vt,{title:"Cash Tickets",value:Xe(a.totalMinted),subtitle:`${a.redeemed} redeemed, ${a.pending} pending`,icon:n.createElement(ax,{className:"w-6 h-6"}),iconColor:"text-orange-600",loading:r})))},$ie=({data:e,loading:t})=>{const[a,r]=y.useState("totalRevenue"),[s,o]=y.useState("desc");if(!e||e.length===0)return n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},n.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-4"},"Admin Performance"),n.createElement("p",{className:"text-gray-500 text-center py-8"},"No admin performance data available"));const c=[...e].sort((f,h)=>{const b=f[a],E=h[a];return s==="asc"?b-E:E-b}),d=f=>{a===f?o(s==="asc"?"desc":"asc"):(r(f),o("desc"))},m=f=>({SUPER_ADMIN:"bg-purple-100 text-purple-800",ADMIN:"bg-blue-100 text-blue-800",MANAGEMENT_STAFF:"bg-green-100 text-green-800"})[f]||"bg-gray-100 text-gray-800",p=(f,h)=>h?(f/h*100).toFixed(1):0;return t?n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},n.createElement("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6 animate-pulse"}),n.createElement("div",{className:"space-y-4"},[1,2,3].map(f=>n.createElement("div",{key:f,className:"h-20 bg-gray-100 rounded animate-pulse"})))):n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},n.createElement("div",{className:"flex items-center justify-between mb-6"},n.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Admin Performance"),n.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},n.createElement(ou,{className:"text-yellow-500"}),n.createElement("span",null,"Top ",c.length," performers"))),n.createElement("div",{className:"hidden lg:block overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",null,n.createElement("tr",{className:"border-b border-gray-200"},n.createElement("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm"},"Rank"),n.createElement("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm"},"Admin"),n.createElement("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm"},"Role"),n.createElement("th",{className:"text-right py-3 px-4 font-semibold text-gray-700 text-sm cursor-pointer hover:text-gray-800",onClick:()=>d("totalTickets")},"Tickets ",a==="totalTickets"&&(s==="asc"?"":"")),n.createElement("th",{className:"text-right py-3 px-4 font-semibold text-gray-700 text-sm cursor-pointer hover:text-gray-800",onClick:()=>d("redeemedRecords")},"Redeemed ",a==="redeemedRecords"&&(s==="asc"?"":"")),n.createElement("th",{className:"text-right py-3 px-4 font-semibold text-gray-700 text-sm"},"Pending"),n.createElement("th",{className:"text-right py-3 px-4 font-semibold text-gray-700 text-sm cursor-pointer hover:text-gray-800",onClick:()=>d("totalRevenue")},"Revenue ",a==="totalRevenue"&&(s==="asc"?"":"")))),n.createElement("tbody",null,c.map((f,h)=>n.createElement("tr",{key:f.adminId,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},n.createElement("td",{className:"py-4 px-4"},n.createElement("div",{className:"flex items-center gap-2"},h===0&&n.createElement(ou,{className:"text-yellow-500 w-5 h-5"}),h===1&&n.createElement(ou,{className:"text-gray-400 w-5 h-5"}),h===2&&n.createElement(ou,{className:"text-orange-600 w-5 h-5"}),n.createElement("span",{className:"font-semibold text-gray-900"},"#",h+1))),n.createElement("td",{className:"py-4 px-4"},n.createElement("div",null,n.createElement("p",{className:"font-semibold text-gray-900"},f.adminName),n.createElement("p",{className:"text-xs text-gray-500"},"@",f.adminUsername))),n.createElement("td",{className:"py-4 px-4"},n.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(f.adminRole)}`},f.adminRole.replace("_"," "))),n.createElement("td",{className:"py-4 px-4 text-right"},n.createElement("span",{className:"font-semibold text-gray-900"},Xe(f.totalTickets))),n.createElement("td",{className:"py-4 px-4 text-right"},n.createElement("div",null,n.createElement("span",{className:"font-semibold text-green-600"},Xe(f.redeemedRecords)),n.createElement("p",{className:"text-xs text-gray-500"},p(f.redeemedRecords,f.totalRecords),"% rate"))),n.createElement("td",{className:"py-4 px-4 text-right"},n.createElement("span",{className:"font-semibold text-orange-600"},Xe(f.pendingRecords))),n.createElement("td",{className:"py-4 px-4 text-right"},n.createElement("span",{className:"font-bold text-gray-900"},Ur(f.totalRevenue)))))))),n.createElement("div",{className:"lg:hidden space-y-4"},c.map((f,h)=>n.createElement("div",{key:f.adminId,className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow"},n.createElement("div",{className:"flex items-start justify-between mb-3"},n.createElement("div",{className:"flex items-center gap-2"},h<3&&n.createElement(ou,{className:h===0?"text-yellow-500":h===1?"text-gray-400":"text-orange-600"}),n.createElement("div",null,n.createElement("p",{className:"font-semibold text-gray-900"},f.adminName),n.createElement("p",{className:"text-xs text-gray-500"},"@",f.adminUsername))),n.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(f.adminRole)}`},f.adminRole.replace("_"," "))),n.createElement("div",{className:"grid grid-cols-2 gap-4 text-sm"},n.createElement("div",null,n.createElement("p",{className:"text-gray-600 flex items-center gap-1"},n.createElement(fg,{className:"text-gray-800"})," Tickets"),n.createElement("p",{className:"font-semibold text-gray-900"},Xe(f.totalTickets))),n.createElement("div",null,n.createElement("p",{className:"text-gray-600 flex items-center gap-1"},n.createElement(sg,{className:"text-green-600"})," Redeemed"),n.createElement("p",{className:"font-semibold text-green-600"},Xe(f.redeemedRecords))),n.createElement("div",null,n.createElement("p",{className:"text-gray-600 flex items-center gap-1"},n.createElement(vF,{className:"text-orange-600"})," Pending"),n.createElement("p",{className:"font-semibold text-orange-600"},Xe(f.pendingRecords))),n.createElement("div",null,n.createElement("p",{className:"text-gray-600 flex items-center gap-1"},n.createElement(AD,{className:"text-purple-600"})," Revenue"),n.createElement("p",{className:"font-semibold text-gray-900"},Ur(f.totalRevenue)))),n.createElement("div",{className:"mt-3 pt-3 border-t border-gray-100"},n.createElement("div",{className:"flex items-center justify-between text-xs"},n.createElement("span",{className:"text-gray-600"},"Redemption Rate"),n.createElement("span",{className:"font-semibold text-gray-800"},p(f.redeemedRecords,f.totalRecords),"%")))))))},jk=({events:e,loading:t})=>{if(!e||e.length===0)return n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},n.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-4"},"Top Performing Events"),n.createElement("p",{className:"text-gray-500 text-center py-8"},"No event data available"));if(t)return n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},n.createElement("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-6 animate-pulse"}),n.createElement("div",{className:"space-y-4"},[1,2,3].map(s=>n.createElement("div",{key:s,className:"h-32 bg-gray-100 rounded animate-pulse"}))));const a=s=>({TECHNOLOGY:"bg-blue-100 text-blue-800",ENTERTAINMENT:"bg-pink-100 text-pink-800",EDUCATION:"bg-green-100 text-green-800",BUSINESS:"bg-yellow-100 text-yellow-800",OTHER:"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",r=s=>{switch(s){case"ONLINE":return n.createElement(tx,{className:"w-4 h-4 text-green-600"});case"OFFLINE":return n.createElement(ax,{className:"w-4 h-4 text-red-600"});case"HYBRID":return n.createElement(fg,{className:"w-4 h-4 text-purple-600"});default:return n.createElement(fg,{className:"w-4 h-4 text-gray-600"})}};return n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6"},n.createElement("div",{className:"flex items-center justify-between mb-6"},n.createElement("h2",{className:"text-xl font-bold text-gray-900"},"Top Performing Events"),n.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},n.createElement(OF,{className:"text-yellow-500"}),n.createElement("span",null,"Top ",e.length," events"))),n.createElement("div",{className:"space-y-4"},e.map((s,o)=>n.createElement("div",{key:s.eventId,className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all duration-200 hover:border-blue-300"},n.createElement("div",{className:"flex items-start justify-between mb-3"},n.createElement("div",{className:"flex-1"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},o<3&&n.createElement("span",{className:`
                        w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                        ${o===0?"bg-yellow-500 text-white":""}
                        ${o===1?"bg-gray-400 text-white":""}
                        ${o===2?"bg-orange-600 text-white":""}
                      `},o+1),n.createElement("h3",{className:"font-bold text-lg text-gray-900"},s.eventName)),n.createElement("div",{className:"flex flex-wrap items-center gap-3 text-sm text-gray-600"},n.createElement("span",{className:"flex items-center gap-1"},n.createElement(pF,{className:"w-4 h-4"}),TH(s.eventDate)),s.eventCity&&n.createElement("span",{className:"flex items-center gap-1"},n.createElement(NF,{className:"w-4 h-4"}),s.eventCity),n.createElement("span",{className:"flex items-center gap-1"},r(s.eventMode),s.eventMode))),n.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${a(s.eventCategory)}`},s.eventCategory)),n.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3"},n.createElement("div",{className:"bg-blue-50 rounded-lg p-3"},n.createElement("p",{className:"text-xs text-gray-800 font-medium mb-1"},"Total Revenue"),n.createElement("p",{className:"text-lg font-bold text-blue-900"},Ur(s.totalRevenue))),n.createElement("div",{className:"bg-green-50 rounded-lg p-3"},n.createElement("p",{className:"text-xs text-green-600 font-medium mb-1"},"Total Tickets"),n.createElement("p",{className:"text-lg font-bold text-green-900"},Xe(s.totalTickets))),n.createElement("div",{className:"bg-purple-50 rounded-lg p-3"},n.createElement("p",{className:"text-xs text-purple-600 font-medium mb-1"},"Total Orders"),n.createElement("p",{className:"text-lg font-bold text-purple-900"},Xe(s.totalOrders))),n.createElement("div",{className:"bg-orange-50 rounded-lg p-3"},n.createElement("p",{className:"text-xs text-orange-600 font-medium mb-1"},"Avg Order Value"),n.createElement("p",{className:"text-lg font-bold text-orange-900"},Ur(s.totalOrders>0?s.totalRevenue/s.totalOrders:0)))),n.createElement("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-gray-100"},n.createElement("div",null,n.createElement("p",{className:"text-xs text-gray-600 font-medium mb-2 flex items-center gap-1"},n.createElement(tx,{className:"text-gray-800"}),"Online Sales"),n.createElement("div",{className:"space-y-1 text-sm"},n.createElement("div",{className:"flex justify-between"},n.createElement("span",{className:"text-gray-600"},"Tickets:"),n.createElement("span",{className:"font-semibold text-gray-900"},Xe(s.onlineTickets))),n.createElement("div",{className:"flex justify-between"},n.createElement("span",{className:"text-gray-600"},"Orders:"),n.createElement("span",{className:"font-semibold text-gray-900"},Xe(s.onlineOrders))),n.createElement("div",{className:"flex justify-between"},n.createElement("span",{className:"text-gray-600"},"Revenue:"),n.createElement("span",{className:"font-semibold text-gray-800"},Ur(s.onlineRevenue))))),n.createElement("div",null,n.createElement("p",{className:"text-xs text-gray-600 font-medium mb-2 flex items-center gap-1"},n.createElement(ax,{className:"text-red-600"}),"Offline Sales"),n.createElement("div",{className:"space-y-1 text-sm"},n.createElement("div",{className:"flex justify-between"},n.createElement("span",{className:"text-gray-600"},"Tickets:"),n.createElement("span",{className:"font-semibold text-gray-900"},Xe(s.offlineTickets))),n.createElement("div",{className:"flex justify-between"},n.createElement("span",{className:"text-gray-600"},"Orders:"),n.createElement("span",{className:"font-semibold text-gray-900"},Xe(s.offlineOrders))),n.createElement("div",{className:"flex justify-between"},n.createElement("span",{className:"text-gray-600"},"Revenue:"),n.createElement("span",{className:"font-semibold text-green-600"},Ur(s.offlineRevenue))))))))))},Bie=({data:e,loading:t})=>{if(!e)return null;const{payments:a=0,enrollments:r=0,cashTickets:s=0}=e;return n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(kH,{className:"text-orange-500 w-4 h-4"}),n.createElement("h2",{className:"text-lg font-bold text-gray-900"},"Recent Activity (Last 24 Hours)")),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3"},n.createElement(vt,{title:"New Payments",value:Xe(a),subtitle:"Successful transactions",icon:n.createElement(CD,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:t}),n.createElement(vt,{title:"New Enrollments",value:Xe(r),subtitle:"Event registrations",icon:n.createElement(TF,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:t}),n.createElement(vt,{title:"Cash Tickets Issued",value:Xe(s),subtitle:"Offline tickets",icon:n.createElement(bF,{className:"w-6 h-6"}),iconColor:"text-orange-600",loading:t})))},Vie=({couponsData:e,vouchersData:t,loading:a})=>n.createElement("div",{className:"space-y-4"},n.createElement("h2",{className:"text-lg font-bold text-gray-900 tracking-tight"},"Coupons & Vouchers"),n.createElement("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3"},e&&n.createElement(n.Fragment,null,n.createElement(vt,{title:"Total Coupons",value:Xe(e.total),subtitle:`${e.active} active`,icon:n.createElement(CF,{className:"w-6 h-6"}),iconColor:"text-orange-600",loading:a}),n.createElement(vt,{title:"Active Coupons",value:Xe(e.active),subtitle:`${e.total-e.active} inactive`,icon:n.createElement(sg,{className:"w-6 h-6"}),iconColor:"text-green-600",loading:a})),t&&n.createElement(n.Fragment,null,n.createElement(vt,{title:"Total Vouchers",value:Xe(t.total),subtitle:`${t.active} active`,icon:n.createElement(hF,{className:"w-6 h-6"}),iconColor:"text-purple-600",loading:a}),n.createElement(vt,{title:"Voucher Usage",value:Xe(t.totalUsage),subtitle:`${Xe(t.totalClaimedPhones)} phones`,icon:n.createElement(sg,{className:"w-6 h-6"}),iconColor:"text-gray-800",loading:a}))));function qie(){const[e,t]=y.useState("lifetime"),[a,r]=y.useState(null),[s,o]=y.useState(!0),[c,d]=y.useState(null),m=async()=>{o(!0);try{const b=await AH();if(b.success)r(b.data),d(new Date),console.log("[Dashboard] Data loaded successfully");else{const E=b.message||"Failed to load dashboard statistics";bt.error(E),console.error("[Dashboard] Error:",b.error),b.error&&console.error("[Dashboard] Backend Error Details:",{status:b.status,message:b.message,error:b.error})}}catch(b){bt.error("An unexpected error occurred while loading dashboard"),console.error("[Dashboard] Exception:",b)}finally{o(!1)}};y.useEffect(()=>{m()},[]);const p=()=>{bt.info("Refreshing dashboard data..."),m()},f=()=>{bt.info("Export functionality coming soon!")},h=b=>b?b[e]||b.lifetime||b:null;return n.createElement(n.Fragment,null,n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},n.createElement("div",null,n.createElement("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900 tracking-tight"},"Dashboard"),n.createElement("p",{className:"text-xs text-gray-600 mt-1"},"Comprehensive insights and analytics",c&&n.createElement("span",{className:"ml-2"}," Updated ",c.toLocaleTimeString()))),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("button",{onClick:p,disabled:s,className:"flex items-center gap-1.5 px-3 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-sm text-sm",title:"Refresh dashboard data"},n.createElement(AF,{className:`w-4 h-4 ${s?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline font-medium"},"Refresh")),n.createElement("button",{onClick:f,className:"flex items-center gap-1.5 px-3 py-2 bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-lg hover:from-gray-900 hover:to-black transition-all shadow-sm text-sm",title:"Export dashboard data"},n.createElement(SF,{className:"w-4 h-4"}),n.createElement("span",{className:"hidden sm:inline font-medium"},"Export")))),a&&n.createElement(wH,{selected:e,onChange:t}),!s&&!a&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-12 text-center"},n.createElement("div",{className:"max-w-md mx-auto"},n.createElement("div",{className:"text-red-500 text-6xl mb-4"},""),n.createElement("h3",{className:"text-xl font-bold text-gray-900 mb-2"},"Failed to Load Dashboard"),n.createElement("p",{className:"text-gray-600 mb-6"},"There was an error loading the analytics data. This is likely a backend issue."),n.createElement("button",{onClick:p,className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Try Again"))),a?.recentActivity?.last24Hours&&n.createElement(Bie,{data:a.recentActivity.last24Hours,loading:s}),a?.payments&&n.createElement(Iie,{data:h(a.payments),loading:s}),(a?.users||a?.admins)&&n.createElement(_H,{usersData:a.users,adminsData:a.admins,loading:s}),a?.events&&n.createElement(Fie,{data:a.events,enrollmentsData:h(a.enrollments),cashTicketsData:h(a.cashTickets),loading:s}),a?.communications&&n.createElement(OH,{data:h(a.communications),loading:s}),(a?.coupons||a?.vouchers)&&n.createElement(Vie,{couponsData:a.coupons,vouchersData:a.vouchers,loading:s}),a?.topPerformingEvents&&a.topPerformingEvents.length>0&&n.createElement(jk,{events:a.topPerformingEvents,loading:s}),a?.eventStats&&h(a.eventStats)?.length>0&&n.createElement("div",{className:"space-y-4"},n.createElement("h2",{className:"text-2xl font-bold text-gray-900 tracking-tight"},"Events Performance (",e.replace(/([A-Z])/g," $1").trim(),")"),n.createElement(jk,{events:h(a.eventStats),loading:s})),a?.adminPerformance&&a.adminPerformance.length>0&&n.createElement($ie,{data:a.adminPerformance,loading:s}),n.createElement("div",{className:"text-center text-xs text-gray-500 py-6 border-t border-gray-200"},a?.generatedAt&&n.createElement("p",null,"Statistics generated at: ",new Date(a.generatedAt).toLocaleString()))))}const Ma={BASE:"/web/events",DROPDOWN:"/web/events/dropdown",DELETED:"/web/events/deleted",UPDATE_EXPIRED:"/web/events/update-expired",FEATURED:"/web/events/featured"},xf=e=>{const t=new URLSearchParams;return Object.entries(e).forEach(([a,r])=>{r!=null&&r!==""&&t.append(a,r)}),t.toString()},zr={getAll:async(e={})=>{const t=xf(e),a=t?`${Ma.BASE}?${t}`:Ma.BASE;console.log("[EventService] Fetching events with params:",e);const r=await Ee(be.get(a));return r.success?console.log("[EventService] Fetched events:",r.data.events?.length):console.error("[EventService] Failed to fetch events:",r.message),r},getById:async e=>{console.log("[EventService] Fetching event:",e);const t=await Ee(be.get(`${Ma.BASE}/${e}`));return t.success?console.log("[EventService] Fetched event:",t.data.event?.name):console.error("[EventService] Failed to fetch event:",t.message),t},create:async e=>{console.log("[EventService] Creating event:",e.name);const t=await Ee(be.post(Ma.BASE,e));return t.success?console.log("[EventService] Created event:",t.data.event?._id):console.error("[EventService] Failed to create event:",t.message),t},update:async(e,t)=>{console.log("[EventService] Updating event:",e);const a=await Ee(be.put(`${Ma.BASE}/${e}`,t));return a.success?console.log("[EventService] Updated event:",a.data.event?.name):console.error("[EventService] Failed to update event:",a.message),a},delete:async e=>{console.log("[EventService] Deleting event:",e);const t=await Ee(be.delete(`${Ma.BASE}/${e}`));return t.success?console.log("[EventService] Deleted event successfully"):console.error("[EventService] Failed to delete event:",t.message),t},restore:async e=>{console.log("[EventService] Restoring event:",e);const t=await Ee(be.post(`${Ma.BASE}/${e}/restore`));return t.success?console.log("[EventService] Restored event successfully"):console.error("[EventService] Failed to restore event:",t.message),t},permanentDelete:async e=>{console.log("[EventService] Permanently deleting event:",e);const t=await Ee(be.delete(`${Ma.BASE}/${e}/permanent`));return t.success?console.log("[EventService] Permanently deleted event successfully"):console.error("[EventService] Failed to permanently delete event:",t.message),t},getDeleted:async(e={})=>{const t=xf(e),a=t?`${Ma.DELETED}?${t}`:Ma.DELETED;console.log("[EventService] Fetching deleted events");const r=await Ee(be.get(a));return r.success?console.log("[EventService] Fetched deleted events:",r.data.events?.length):console.error("[EventService] Failed to fetch deleted events:",r.message),r},getDropdownEvents:async(e={})=>{const t=xf(e),a=t?`${Ma.DROPDOWN}?${t}`:Ma.DROPDOWN;console.log("[EventService] Fetching dropdown events with params:",e);const r=await Ee(be.get(a));return r.success?console.log("[EventService] Fetched events:",r.data.events?.length):console.error("[EventService] Failed to fetch events:",r.message),r},getTicketStats:async e=>{console.log("[EventService] Fetching ticket stats for event:",e);const t=await Ee(be.get(`${Ma.BASE}/${e}/ticket-stats`));return t.success?console.log("[EventService] Fetched ticket stats"):console.error("[EventService] Failed to fetch ticket stats:",t.message),t},updateExpired:async()=>{console.log("[EventService] Updating expired events");const e=await Ee(be.post(Ma.UPDATE_EXPIRED));return e.success?console.log("[EventService] Updated expired events:",e.data.updatedCount):console.error("[EventService] Failed to update expired events:",e.message),e},getFeaturedEvents:async(e={})=>{const t=xf(e),a=t?`${Ma.FEATURED}?${t}`:Ma.FEATURED;console.log("[EventService] Fetching featured events");const r=await Ee(be.get(a));return r.success?console.log("[EventService] Fetched featured events:",r.data.events?.length):console.error("[EventService] Failed to fetch featured events:",r.message),r}},MR=["TECHNOLOGY","EDUCATION","MEDICAL","COMEDY","ENTERTAINMENT","BUSINESS","SPORTS","ARTS","MUSIC","FOOD","LIFESTYLE","OTHER"],RR=["ONLINE","OFFLINE","HYBRID"],Hie=[{value:"createdAt",label:"Created Date"},{value:"name",label:"Name"},{value:"startDate",label:"Start Date"},{value:"endDate",label:"End Date"},{value:"price",label:"Price"}],zk={search:"",category:"",mode:"",city:"",isLive:"",featured:"",minPrice:"",maxPrice:"",startDateFrom:"",startDateTo:"",sortBy:"createdAt",sortOrder:"desc"};function Gie(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:10,hasNextPage:!1,hasPrevPage:!1}),[o,c]=y.useState({...zk,...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),[h,b]=y.useState([]),[E,N]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[S,w]=y.useState(!1),C=y.useRef(null),k=y.useCallback(async(te=r.currentPage)=>{m(!0),f(null);try{const H={page:te,limit:r.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.category&&{category:o.category},...o.mode&&{mode:o.mode},...o.city&&{city:o.city},...o.isLive!==""&&{isLive:o.isLive},...o.featured!==""&&{featured:o.featured},...o.minPrice&&{minPrice:o.minPrice},...o.maxPrice&&{maxPrice:o.maxPrice},...o.startDateFrom&&{startDateFrom:o.startDateFrom},...o.startDateTo&&{startDateTo:o.startDateTo}},j=await zr.getAll(H);j.success?(a(j.data.events||[]),s(j.data.pagination||r)):(f(j.message),a([]))}catch{f("Failed to fetch events"),a([])}finally{m(!1)}},[o,r.limit,r.currentPage]),A=y.useCallback(async(te=E.currentPage)=>{m(!0),f(null);try{const H=await zr.getDeleted({page:te,limit:E.limit});H.success?(b(H.data.events||[]),N(j=>({...j,...H.data.pagination}))):(f(H.message),b([]))}catch{f("Failed to fetch deleted events"),b([])}finally{m(!1)}},[E.currentPage,E.limit]),M=y.useCallback(async te=>{try{const H=await zr.getById(te);return H.success?{success:!0,data:H.data.event}:{success:!1,error:H.message}}catch{return{success:!1,error:"Failed to fetch event details"}}},[]),O=y.useCallback(async te=>{m(!0),f(null);try{const H=await zr.create(te);return H.success?(await k(1),{success:!0,data:H.data}):{success:!1,error:H.message,validationErrors:H.data?.errors}}catch{return{success:!1,error:"Failed to create event"}}finally{m(!1)}},[k]),D=y.useCallback(async(te,H)=>{m(!0),f(null);try{const j=await zr.update(te,H);return j.success?(a(B=>B.map(X=>X._id===te?{...X,...j.data.event}:X)),{success:!0,data:j.data}):{success:!1,error:j.message,validationErrors:j.data?.errors}}catch{return{success:!1,error:"Failed to update event"}}finally{m(!1)}},[]),_=y.useCallback(async te=>{m(!0),f(null);try{const H=await zr.delete(te);return H.success?(a(j=>j.filter(B=>B._id!==te)),s(j=>({...j,totalCount:j.totalCount-1,totalPages:Math.ceil((j.totalCount-1)/j.limit)})),{success:!0}):{success:!1,error:H.message}}catch{return{success:!1,error:"Failed to delete event"}}finally{m(!1)}},[]),P=y.useCallback(async te=>{m(!0),f(null);try{const H=await zr.restore(te);return H.success?(b(j=>j.filter(B=>B._id!==te)),N(j=>({...j,totalCount:j.totalCount-1,totalPages:Math.ceil((j.totalCount-1)/j.limit)})),{success:!0}):{success:!1,error:H.message}}catch{return{success:!1,error:"Failed to restore event"}}finally{m(!1)}},[]),R=y.useCallback(async te=>{m(!0),f(null);try{const H=await zr.permanentDelete(te);return H.success?(b(j=>j.filter(B=>B._id!==te)),N(j=>({...j,totalCount:j.totalCount-1,totalPages:Math.ceil((j.totalCount-1)/j.limit)})),{success:!0}):{success:!1,error:H.message}}catch{return{success:!1,error:"Failed to permanently delete event"}}finally{m(!1)}},[]),U=y.useCallback(async te=>{try{const H=await zr.getTicketStats(te);return H.success?{success:!0,data:H.data.stats}:{success:!1,error:H.message}}catch{return{success:!1,error:"Failed to fetch ticket statistics"}}},[]),L=y.useCallback(async()=>{m(!0),f(null);try{const te=await zr.updateExpired();return te.success?(await k(r.currentPage),{success:!0,updatedCount:te.data.updatedCount}):{success:!1,error:te.message}}catch{return{success:!1,error:"Failed to update expired events"}}finally{m(!1)}},[k,r.currentPage]),I=y.useCallback(te=>{c(H=>({...H,...te}))},[]),ae=y.useCallback(te=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{c(H=>({...H,search:te}))},300)},[]),ne=y.useCallback(()=>{c({...zk,...e})},[e]),ue=y.useCallback(te=>{S?A(te):k(te)},[S,k,A]),F=y.useCallback(te=>{s(H=>({...H,limit:te})),N(H=>({...H,limit:te}))},[]),G=y.useCallback(()=>{w(te=>!te)},[]),le=y.useCallback(()=>{f(null)},[]);return y.useEffect(()=>{S||k(1)},[o,S]),y.useEffect(()=>{S&&A(1)},[S]),y.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]),{events:S?h:t,pagination:S?E:r,filters:o,isLoading:d,error:p,showDeleted:S,fetchEvents:k,fetchDeletedEvents:A,getEventById:M,createEvent:O,updateEvent:D,deleteEvent:_,restoreEvent:P,permanentDeleteEvent:R,getTicketStats:U,updateExpiredEvents:L,updateFilters:I,updateSearch:ae,resetFilters:ne,changePage:ue,changeLimit:F,toggleShowDeleted:G,clearError:le}}function Zt({isOpen:e,onClose:t,title:a,children:r,size:s="md",showCloseButton:o=!0,closeOnOverlayClick:c=!0}){const d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl"},m=y.useCallback(f=>{f.key==="Escape"&&t()},[t]);if(y.useEffect(()=>(e&&(document.addEventListener("keydown",m),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",m),document.body.style.overflow="unset"}),[e,m]),!e)return null;const p=f=>{f.target===f.currentTarget&&c&&t()};return n.createElement("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:p},n.createElement("div",{className:`w-full ${d[s]} bg-white rounded-xl shadow-xl transform transition-all`,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},n.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},n.createElement("h2",{id:"modal-title",className:"text-lg font-semibold text-gray-900"},a),o&&n.createElement("button",{onClick:t,className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Close modal"},n.createElement(Na,{className:"h-5 w-5"}))),n.createElement("div",{className:"px-6 py-4 max-h-[calc(100vh-200px)] overflow-y-auto"},r)))}const Kie={UPLOAD:"/web/assets/upload",DELETE:"/web/assets",DOWNLOAD_URL:"/app/assets/download-url"},LR=async(e,t={})=>{const{folder:a="assets",onProgress:r}=t,s=new FormData;(Array.isArray(e)?e:[e]).forEach(c=>{s.append("files",c)}),a&&s.append("folder",a);try{const c=await be.post(Kie.UPLOAD,s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:d=>{if(r&&d.total){const m=Math.round(d.loaded*100/d.total);r(m)}}});return{success:!0,data:c.data.data||c.data,message:c.data.message||"Upload successful",error:null}}catch(c){return console.error("[AssetService] Upload error:",c),{success:!1,data:null,message:c.response?.data?.message||"Upload failed",error:c.response?.data?.error||c.message}}},Yie=async(e,t={})=>{const a=await LR(e,t);if(a.success&&a.data?.uploaded?.length>0){const r=a.data.uploaded[0];return{success:!0,url:r.publicUrl,downloadUrl:r.downloadUrl,data:r,error:null}}return{success:!1,url:null,downloadUrl:null,data:null,error:a.error||"Upload failed",message:a.message}},Qie=async(e,t={})=>{const a=await LR(e,t);return a.success&&a.data?.uploaded?.length>0?{success:!0,urls:a.data.uploaded.map(r=>r.publicUrl),downloadUrls:a.data.uploaded.map(r=>r.downloadUrl),data:a.data.uploaded,totalUploaded:a.data.totalUploaded,totalFailed:a.data.totalFailed,error:null}:{success:!1,urls:[],downloadUrls:[],data:[],totalUploaded:0,totalFailed:e.length,error:a.error||"Upload failed",message:a.message}},jR=(e,t={})=>{const{allowedTypes:a=["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"],maxSize:r=10*1024*1024}=t;return e?a.length>0&&!a.includes(e.type)?{valid:!1,error:`Invalid file type. Allowed: ${a.map(o=>o.split("/")[1]).join(", ")}`}:e.size>r?{valid:!1,error:`File too large. Maximum size: ${(r/1048576).toFixed(1)}MB`}:{valid:!0,error:null}:{valid:!1,error:"No file provided"}},Xie=(e,t={})=>{const a=[],r=[];return e.forEach((s,o)=>{const c=jR(s,t);c.valid?r.push(s):a.push(`${s.name}: ${c.error}`)}),{valid:a.length===0,errors:a,validFiles:r}},Wie=e=>{if(e===0)return"0 Bytes";const t=1024,a=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+a[r]};function xi({onUpload:e,value:t="",values:a=[],multiple:r=!1,accept:s,maxSize:o=10*1024*1024,folder:c="assets",disabled:d=!1,error:m,label:p,required:f=!1,placeholder:h="Drop files here or click to upload",onRemove:b,showUrlInput:E=!0,type:N="image"}){const[S,w]=y.useState(!1),[C,k]=y.useState(!1),[A,M]=y.useState(0),[O,D]=y.useState(null),[_,P]=y.useState(!1),[R,U]=y.useState(""),L=y.useRef(null),I=()=>{if(s)return s;switch(N){case"video":return"video/*";case"any":return"image/*,video/*";default:return"image/*"}},ae=()=>{switch(N){case"video":return["video/mp4","video/webm","video/ogg","video/quicktime"];case"any":return["image/jpeg","image/png","image/gif","image/webp","image/svg+xml","video/mp4","video/webm","video/ogg","video/quicktime"];default:return["image/jpeg","image/png","image/gif","image/webp","image/svg+xml"]}},ne=y.useCallback(Q=>{Q.preventDefault(),!d&&!C&&w(!0)},[d,C]),ue=y.useCallback(Q=>{Q.preventDefault(),w(!1)},[]),F=y.useCallback(Q=>{if(Q.preventDefault(),w(!1),d||C)return;const V=Array.from(Q.dataTransfer.files);V.length>0&&le(r?V:[V[0]])},[d,C,r]),G=Q=>{const V=Array.from(Q.target.files);V.length>0&&le(r?V:[V[0]]),Q.target.value=""},le=async Q=>{D(null),M(0);const V=ae();if(r){const we=Xie(Q,{allowedTypes:V,maxSize:o});if(!we.valid){D(we.errors.join(", "));return}await H(we.validFiles)}else{const we=jR(Q[0],{allowedTypes:V,maxSize:o});if(!we.valid){D(we.error);return}await te(Q[0])}},te=async Q=>{k(!0),M(0);try{const V=await Yie(Q,{folder:c,onProgress:M});V.success&&V.url?(e(V.url),M(100)):D(V.message||V.error||"Upload failed")}catch(V){D(V.message||"Upload failed")}finally{k(!1)}},H=async Q=>{k(!0),M(0);try{const V=await Qie(Q,{folder:c,onProgress:M});V.success&&V.urls.length>0?(e([...a,...V.urls]),M(100)):D(V.message||V.error||"Upload failed")}catch(V){D(V.message||"Upload failed")}finally{k(!1)}},j=()=>{if(R.trim()){if(!/^https?:\/\/.+/.test(R.trim())){D("Invalid URL format");return}e(r?[...a,R.trim()]:R.trim()),U(""),P(!1),D(null)}},B=Q=>{if(b)b(Q);else if(r){const V=a.filter((we,W)=>W!==Q);e(V)}},X=()=>{e("")},K=Q=>/\.(mp4|webm|ogg|mov)(\?.*)?$/i.test(Q)||N==="video",oe=(Q,V=null)=>{const we=K(Q);return n.createElement("div",{key:V!==null?V:"single",className:"relative group flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200"},we?n.createElement("div",{className:"w-16 h-16 bg-gray-200 rounded flex items-center justify-center flex-shrink-0"},n.createElement(VU,{className:"h-6 w-6 text-gray-500"})):n.createElement("img",{src:Q,alt:`Preview ${V!==null?V+1:""}`,className:"w-16 h-16 object-cover rounded flex-shrink-0",onError:W=>{W.target.style.display="none",W.target.nextSibling?.classList.remove("hidden")}}),n.createElement("div",{className:"hidden w-16 h-16 bg-gray-200 rounded flex items-center justify-center flex-shrink-0"},n.createElement(Ni,{className:"h-6 w-6 text-gray-400"})),n.createElement("span",{className:"flex-1 text-sm text-gray-600 truncate"},Q),!d&&n.createElement("button",{type:"button",onClick:()=>V!==null?B(V):X(),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors"},n.createElement(Na,{className:"h-4 w-4"})))};return r&&a.length>0,n.createElement("div",{className:"space-y-2"},p&&n.createElement("label",{className:"block text-sm font-medium text-gray-700"},p,f&&n.createElement("span",{className:"text-red-500 ml-1"},"*")),!r&&t&&oe(t),r&&a.length>0&&n.createElement("div",{className:"space-y-2 mb-3"},a.map((Q,V)=>oe(Q,V))),(r||!t)&&n.createElement("div",{onDragOver:ne,onDragLeave:ue,onDrop:F,onClick:()=>!d&&!C&&L.current?.click(),className:`
            relative border-2 border-dashed rounded-lg p-6 text-center cursor-pointer
            transition-all duration-200
            ${S?"border-gray-800 bg-gray-50":"border-gray-300 hover:border-gray-400"}
            ${d||C?"opacity-50 cursor-not-allowed":""}
            ${m||O?"border-red-300 bg-red-50/50":""}
          `},n.createElement("input",{ref:L,type:"file",accept:I(),multiple:r,onChange:G,disabled:d||C,className:"hidden"}),C?n.createElement("div",{className:"space-y-3"},n.createElement(Fe,{className:"h-8 w-8 mx-auto text-gray-400 animate-spin"}),n.createElement("div",{className:"space-y-1"},n.createElement("p",{className:"text-sm text-gray-600"},"Uploading..."),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2 max-w-xs mx-auto"},n.createElement("div",{className:"bg-gray-800 h-2 rounded-full transition-all duration-300",style:{width:`${A}%`}})),n.createElement("p",{className:"text-xs text-gray-500"},A,"%"))):n.createElement("div",{className:"space-y-2"},n.createElement("div",{className:"mx-auto w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center"},n.createElement(YI,{className:"h-5 w-5 text-gray-500"})),n.createElement("div",null,n.createElement("p",{className:"text-sm text-gray-600"},h),n.createElement("p",{className:"text-xs text-gray-400 mt-1"},N==="video"?"MP4, WebM, OGG":N==="any"?"Images or videos":"PNG, JPG, GIF, WebP, SVG"," ","up to ",Wie(o))))),(m||O)&&n.createElement("div",{className:"flex items-center gap-2 text-sm text-red-500"},n.createElement(Mt,{className:"h-4 w-4 flex-shrink-0"}),n.createElement("span",null,m||O)),E&&!d&&n.createElement("div",{className:"pt-2"},_?n.createElement("div",{className:"flex gap-2"},n.createElement("input",{type:"url",value:R,onChange:Q=>U(Q.target.value),placeholder:"Enter URL manually",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-lg focus:border-gray-800 outline-none",onKeyDown:Q=>{Q.key==="Enter"&&(Q.preventDefault(),j()),Q.key==="Escape"&&(P(!1),U(""))}}),n.createElement("button",{type:"button",onClick:j,disabled:!R.trim(),className:"px-3 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 text-sm"},n.createElement(cn,{className:"h-4 w-4"})),n.createElement("button",{type:"button",onClick:()=>{P(!1),U("")},className:"px-3 py-2 border border-gray-300 text-gray-600 rounded-lg hover:bg-gray-50 transition-colors text-sm"},n.createElement(Na,{className:"h-4 w-4"}))):n.createElement("button",{type:"button",onClick:()=>P(!0),className:"text-sm text-gray-500 hover:text-gray-700 transition-colors"},"Or enter URL manually")))}const Uk=(e=null)=>({name:e?.name||"",description:e?.description||"",imageUrls:e?.imageUrls||[],thumbnail:{imageUrl:e?.thumbnail?.imageUrl||"",videoUrl:e?.thumbnail?.videoUrl||""},mode:e?.mode||"",city:e?.city||"",gmapLink:e?.gmapLink||"",category:e?.category||"",startDate:e?.startDate?Ik(e.startDate):"",endDate:e?.endDate?Ik(e.endDate):"",price:e?.price??"",compareAtPrice:e?.compareAtPrice??"",availableSeats:e?.availableSeats??"",usePricingTiers:e?.pricingTiers?.length>0,pricingTiers:e?.pricingTiers||[],isLive:e?.isLive??!1,featured:e?.featured??!1});function Ik(e){return e?new Date(e).toISOString().slice(0,16):""}const Zie=e=>{const t={};if(e.name.trim()?e.name.length>200&&(t.name="Name must be 200 characters or less"):t.name="Name is required",e.description.trim()?e.description.length>5e3&&(t.description="Description must be 5000 characters or less"):t.description="Description is required",e.mode||(t.mode="Mode is required"),(e.mode==="OFFLINE"||e.mode==="HYBRID")&&!e.city.trim()&&(t.city="City is required for offline or hybrid events"),e.gmapLink&&e.gmapLink.trim()){const a=/^https?:\/\/(www\.)?(google\.[a-z.]+\/maps|maps\.google\.[a-z.]+|goo\.gl\/maps|maps\.app\.goo\.gl)\/.+/i;/^https?:\/\/.+/.test(e.gmapLink.trim())?a.test(e.gmapLink.trim())||(t.gmapLink="Please provide a valid Google Maps link"):t.gmapLink="Please provide a valid URL"}if(e.category||(t.category="Category is required"),e.startDate?new Date(e.startDate)<=new Date&&(t.startDate="Start date must be in the future"):t.startDate="Start date is required",!e.endDate)t.endDate="End date is required";else if(e.startDate){const a=new Date(e.startDate);new Date(e.endDate)<=a&&(t.endDate="End date must be after start date")}if(!e.usePricingTiers)e.price===""||e.price===null||e.price===void 0?t.price="Price is required":(isNaN(e.price)||Number(e.price)<0)&&(t.price="Price must be a valid positive number"),e.compareAtPrice!==""&&e.compareAtPrice!==null&&e.compareAtPrice!==void 0&&(isNaN(e.compareAtPrice)||Number(e.compareAtPrice)<0?t.compareAtPrice="Compare at price must be a valid positive number":Number(e.compareAtPrice)<Number(e.price)&&(t.compareAtPrice="Compare at price must be greater than or equal to price"));else if(e.pricingTiers.length===0)t.pricingTiers="At least one pricing tier is required";else{const a=[];e.pricingTiers.forEach((r,s)=>{const o={};r.name?.trim()||(o.name="Tier name is required"),r.price===""||r.price===null||r.price===void 0?o.price="Tier price is required":(isNaN(r.price)||Number(r.price)<0)&&(o.price="Invalid price"),Object.keys(o).length>0&&(a[s]=o)}),a.some(r=>r)&&(t.tierErrors=a)}if(e.availableSeats!==""&&e.availableSeats!==null&&e.availableSeats!==void 0&&(isNaN(e.availableSeats)||Number(e.availableSeats)<0)&&(t.availableSeats="Available seats must be a valid positive number"),e.imageUrls.length>0){const a=/^https?:\/\/.+/;e.imageUrls.forEach((r,s)=>{r&&!a.test(r)&&(t.imageUrls||(t.imageUrls={}),t.imageUrls[s]="Invalid URL format")})}return e.thumbnail.imageUrl&&!/^https?:\/\/.+/.test(e.thumbnail.imageUrl)&&(t.thumbnailImage="Invalid thumbnail image URL"),e.thumbnail.videoUrl&&!/^https?:\/\/.+/.test(e.thumbnail.videoUrl)&&(t.thumbnailVideo="Invalid thumbnail video URL"),{isValid:Object.keys(t).length===0,errors:t}},Fk=()=>({name:"",price:"",compareAtPrice:"",shortDescription:"",notes:"",ticketQuantity:1});function $k({isOpen:e,onClose:t,onSubmit:a,event:r=null,isLoading:s=!1,serverError:o=null,validationErrors:c=null}){const d=!!r,[m,p]=y.useState(Uk(r)),[f,h]=y.useState({});y.useEffect(()=>{e&&(p(Uk(r)),h({}))},[e,r]),y.useEffect(()=>{if(c&&Array.isArray(c)){const O={};c.forEach(D=>{D.field&&(O[D.field]=D.message)}),h(D=>({...D,...O}))}},[c]);const b=O=>{const{name:D,value:_,type:P}=O.target,R=P==="number"?_===""?"":Number(_):_;p(U=>({...U,[D]:R})),f[D]&&h(U=>({...U,[D]:null}))},E=(O,D)=>{p(P=>({...P,thumbnail:{...P.thumbnail,[O]:D}}));const _=O==="imageUrl"?"thumbnailImage":"thumbnailVideo";f[_]&&h(P=>({...P,[_]:null}))},N=O=>{p(D=>({...D,imageUrls:D.imageUrls.filter((_,P)=>P!==O)}))},S=()=>{p(O=>({...O,usePricingTiers:!O.usePricingTiers,pricingTiers:O.usePricingTiers?[]:[Fk()],price:O.usePricingTiers?"":O.price,compareAtPrice:O.usePricingTiers?"":O.compareAtPrice}))},w=()=>{p(O=>({...O,pricingTiers:[...O.pricingTiers,Fk()]}))},C=O=>{p(D=>({...D,pricingTiers:D.pricingTiers.filter((_,P)=>P!==O)}))},k=(O,D,_)=>{p(P=>({...P,pricingTiers:P.pricingTiers.map((R,U)=>U===O?{...R,[D]:D==="price"||D==="compareAtPrice"||D==="ticketQuantity"?_===""?"":Number(_):_}:R)})),f.tierErrors?.[O]?.[D]&&h(P=>{const R=[...P.tierErrors||[]];return R[O]&&delete R[O][D],{...P,tierErrors:R}})},A=async O=>{O.preventDefault();const D=Zie(m);if(!D.isValid){h(D.errors);return}const _={name:m.name.trim(),description:m.description.trim(),mode:m.mode,category:m.category,startDate:new Date(m.startDate).toISOString(),endDate:new Date(m.endDate).toISOString()};m.city.trim()&&(_.city=m.city.trim()),m.gmapLink.trim()&&(_.gmapLink=m.gmapLink.trim()),m.imageUrls.length>0&&(_.imageUrls=m.imageUrls.filter(P=>P.trim())),(m.thumbnail.imageUrl||m.thumbnail.videoUrl)&&(_.thumbnail={},m.thumbnail.imageUrl&&(_.thumbnail.imageUrl=m.thumbnail.imageUrl.trim()),m.thumbnail.videoUrl&&(_.thumbnail.videoUrl=m.thumbnail.videoUrl.trim())),m.usePricingTiers&&m.pricingTiers.length>0?_.pricingTiers=m.pricingTiers.map(P=>({name:P.name.trim(),price:Number(P.price),...P.compareAtPrice!==""&&{compareAtPrice:Number(P.compareAtPrice)},...P.shortDescription&&{shortDescription:P.shortDescription.trim()},...P.notes&&{notes:P.notes.trim()},ticketQuantity:Number(P.ticketQuantity)||1})):(_.price=Number(m.price),m.compareAtPrice!==""&&(_.compareAtPrice=Number(m.compareAtPrice))),m.availableSeats!==""&&(_.availableSeats=Number(m.availableSeats)),_.isLive=m.isLive,_.featured=m.featured,await a(_)},M=()=>{s||t()};return n.createElement(Zt,{isOpen:e,onClose:M,title:d?"Edit Event":"Create Event",size:"2xl",closeOnOverlayClick:!s},n.createElement("form",{onSubmit:A,className:"space-y-6"},o&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},o),n.createElement("div",{className:"space-y-4"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2"},"Basic Information"),n.createElement("div",null,n.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Event Name ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",id:"name",name:"name",value:m.name,onChange:b,disabled:s,maxLength:200,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter event name"}),f.name&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.name)),n.createElement("div",null,n.createElement("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1"},"Description ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("textarea",{id:"description",name:"description",value:m.description,onChange:b,disabled:s,rows:4,maxLength:5e3,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 resize-none ${f.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter event description"}),n.createElement("div",{className:"flex justify-between mt-1"},f.description?n.createElement("p",{className:"text-sm text-red-500"},f.description):n.createElement("span",null),n.createElement("span",{className:"text-xs text-gray-500"},m.description.length,"/5000"))),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"mode",className:"block text-sm font-medium text-gray-700 mb-1"},"Mode ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{id:"mode",name:"mode",value:m.mode,onChange:b,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.mode?"border-red-500":"border-gray-300"}`},n.createElement("option",{value:""},"Select mode"),RR.map(O=>n.createElement("option",{key:O,value:O},O))),f.mode&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.mode)),n.createElement("div",null,n.createElement("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1"},"Category ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{id:"category",name:"category",value:m.category,onChange:b,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.category?"border-red-500":"border-gray-300"}`},n.createElement("option",{value:""},"Select category"),MR.map(O=>n.createElement("option",{key:O,value:O},O.charAt(0)+O.slice(1).toLowerCase()))),f.category&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.category))),(m.mode==="OFFLINE"||m.mode==="HYBRID")&&n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-1"},"City ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",id:"city",name:"city",value:m.city,onChange:b,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.city?"border-red-500":"border-gray-300"}`,placeholder:"Enter city"}),f.city&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.city)),n.createElement("div",null,n.createElement("label",{htmlFor:"gmapLink",className:"block text-sm font-medium text-gray-700 mb-1"},n.createElement("span",{className:"flex items-center gap-1"},n.createElement(bE,{className:"h-4 w-4"}),"Google Maps Link")),n.createElement("input",{type:"url",id:"gmapLink",name:"gmapLink",value:m.gmapLink,onChange:b,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.gmapLink?"border-red-500":"border-gray-300"}`,placeholder:"https://maps.app.goo.gl/..."}),f.gmapLink&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.gmapLink)))),n.createElement("div",{className:"space-y-4"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2"},"Date and Time"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1"},"Start Date & Time ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"datetime-local",id:"startDate",name:"startDate",value:m.startDate,onChange:b,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.startDate?"border-red-500":"border-gray-300"}`}),f.startDate&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.startDate)),n.createElement("div",null,n.createElement("label",{htmlFor:"endDate",className:"block text-sm font-medium text-gray-700 mb-1"},"End Date & Time ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"datetime-local",id:"endDate",name:"endDate",value:m.endDate,onChange:b,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.endDate?"border-red-500":"border-gray-300"}`}),f.endDate&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.endDate)))),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center justify-between border-b pb-2"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Pricing"),n.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},n.createElement("input",{type:"checkbox",checked:m.usePricingTiers,onChange:S,disabled:s,className:"w-4 h-4 text-gray-800 rounded focus:ring-0"}),n.createElement("span",{className:"text-sm text-gray-600"},"Use pricing tiers"))),m.usePricingTiers?n.createElement("div",{className:"space-y-4"},f.pricingTiers&&n.createElement("p",{className:"text-sm text-red-500"},f.pricingTiers),m.pricingTiers.map((O,D)=>n.createElement("div",{key:D,className:"p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-3"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"font-medium text-gray-700"},"Tier ",D+1),m.pricingTiers.length>1&&n.createElement("button",{type:"button",onClick:()=>C(D),disabled:s,className:"p-1 text-red-500 hover:bg-red-50 rounded transition-colors"},n.createElement(pt,{className:"h-4 w-4"}))),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Tier Name ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:O.name,onChange:_=>k(D,"name",_.target.value),disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.tierErrors?.[D]?.name?"border-red-500":"border-gray-300"}`,placeholder:"e.g., General Admission"}),f.tierErrors?.[D]?.name&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.tierErrors[D].name)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Price ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"number",value:O.price,onChange:_=>k(D,"price",_.target.value),disabled:s,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.tierErrors?.[D]?.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),f.tierErrors?.[D]?.price&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.tierErrors[D].price)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Compare at Price"),n.createElement("input",{type:"number",value:O.compareAtPrice,onChange:_=>k(D,"compareAtPrice",_.target.value),disabled:s,min:"0",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100",placeholder:"0.00"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Ticket Quantity"),n.createElement("input",{type:"number",value:O.ticketQuantity,onChange:_=>k(D,"ticketQuantity",_.target.value),disabled:s,min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100",placeholder:"1"})),n.createElement("div",{className:"md:col-span-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Short Description"),n.createElement("input",{type:"text",value:O.shortDescription,onChange:_=>k(D,"shortDescription",_.target.value),disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100",placeholder:"Brief description of this tier"})),n.createElement("div",{className:"md:col-span-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Notes"),n.createElement("textarea",{value:O.notes,onChange:_=>k(D,"notes",_.target.value),disabled:s,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 resize-none",placeholder:"Additional notes"}))))),n.createElement("button",{type:"button",onClick:w,disabled:s,className:"flex items-center gap-2 px-4 py-2 text-gray-800 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},n.createElement(Qt,{className:"h-4 w-4"}),"Add Pricing Tier"),n.createElement("div",{className:"w-full md:w-1/3"},n.createElement("label",{htmlFor:"availableSeats",className:"block text-sm font-medium text-gray-700 mb-1"},"Total Available Seats"),n.createElement("input",{type:"number",id:"availableSeats",name:"availableSeats",value:m.availableSeats,onChange:b,disabled:s,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.availableSeats?"border-red-500":"border-gray-300"}`,placeholder:"Unlimited"}),f.availableSeats&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.availableSeats))):n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1"},"Price ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"number",id:"price",name:"price",value:m.price,onChange:b,disabled:s,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),f.price&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.price)),n.createElement("div",null,n.createElement("label",{htmlFor:"compareAtPrice",className:"block text-sm font-medium text-gray-700 mb-1"},"Compare at Price"),n.createElement("input",{type:"number",id:"compareAtPrice",name:"compareAtPrice",value:m.compareAtPrice,onChange:b,disabled:s,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.compareAtPrice?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),f.compareAtPrice&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.compareAtPrice)),n.createElement("div",null,n.createElement("label",{htmlFor:"availableSeats",className:"block text-sm font-medium text-gray-700 mb-1"},"Available Seats"),n.createElement("input",{type:"number",id:"availableSeats",name:"availableSeats",value:m.availableSeats,onChange:b,disabled:s,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.availableSeats?"border-red-500":"border-gray-300"}`,placeholder:"Unlimited"}),f.availableSeats&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.availableSeats)))),n.createElement("div",{className:"space-y-4"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2"},"Media"),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement(xi,{label:"Thumbnail Image",value:m.thumbnail.imageUrl,onUpload:O=>E("imageUrl",O),disabled:s,error:f.thumbnailImage,type:"image",folder:"events/thumbnails",placeholder:"Drop image here or click to upload"}),n.createElement(xi,{label:"Thumbnail Video",value:m.thumbnail.videoUrl,onUpload:O=>E("videoUrl",O),disabled:s,error:f.thumbnailVideo,type:"video",folder:"events/videos",placeholder:"Drop video here or click to upload"})),n.createElement(xi,{label:"Image Gallery",values:m.imageUrls,onUpload:O=>p(D=>({...D,imageUrls:O})),onRemove:O=>N(O),multiple:!0,disabled:s,error:f.imageUrls?"Some image URLs are invalid":null,type:"image",folder:"events/gallery",placeholder:"Drop images here or click to upload"})),n.createElement("div",{className:"space-y-4"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2"},"Status"),n.createElement("div",{className:"flex flex-wrap gap-6"},n.createElement("label",{className:"flex items-center gap-3 cursor-pointer"},n.createElement("div",{className:"relative"},n.createElement("input",{type:"checkbox",checked:m.isLive,onChange:O=>p(D=>({...D,isLive:O.target.checked})),disabled:s,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-green-500 peer-disabled:opacity-50 transition-colors"}),n.createElement("div",{className:"absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow peer-checked:translate-x-5 transition-transform"})),n.createElement("div",null,n.createElement("span",{className:"text-sm font-medium text-gray-900"},"Live"),n.createElement("p",{className:"text-xs text-gray-500"},"Event is visible to users"))),n.createElement("label",{className:"flex items-center gap-3 cursor-pointer"},n.createElement("div",{className:"relative"},n.createElement("input",{type:"checkbox",checked:m.featured,onChange:O=>p(D=>({...D,featured:O.target.checked})),disabled:s,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-purple-500 peer-disabled:opacity-50 transition-colors"}),n.createElement("div",{className:"absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow peer-checked:translate-x-5 transition-transform"})),n.createElement("div",null,n.createElement("span",{className:"text-sm font-medium text-gray-900"},"Featured"),n.createElement("p",{className:"text-xs text-gray-500"},"Highlight in featured sections"))))),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:M,disabled:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},s&&n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),d?"Update Event":"Create Event"))))}function hu(e){return e?new Date(e).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"N/A"}function Ef(e){return e==null?"Free":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e)}function Jie(e){const t={TECHNOLOGY:"bg-blue-100 text-gray-900",EDUCATION:"bg-indigo-100 text-indigo-700",MEDICAL:"bg-green-100 text-green-700",COMEDY:"bg-yellow-100 text-yellow-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",BUSINESS:"bg-gray-100 text-gray-700",SPORTS:"bg-orange-100 text-orange-700",ARTS:"bg-purple-100 text-purple-700",MUSIC:"bg-red-100 text-red-700",FOOD:"bg-amber-100 text-amber-700",LIFESTYLE:"bg-teal-100 text-teal-700",OTHER:"bg-slate-100 text-slate-700"};return t[e]||t.OTHER}function eoe(e){return{ONLINE:"bg-green-100 text-green-700",OFFLINE:"bg-blue-100 text-gray-900",HYBRID:"bg-purple-100 text-purple-700"}[e]||"bg-gray-100 text-gray-700"}function toe(e){return e==="ONLINE"||e==="HYBRID"?Db:bE}function aoe({isOpen:e,onClose:t,event:a,ticketStats:r,isLoadingStats:s=!1,onFetchStats:o}){const[c,d]=y.useState(0);if(y.useEffect(()=>{e&&a&&(d(0),o&&o(a._id))},[e,a,o]),!a)return null;const m=toe(a.mode),p=a.pricingTiers&&a.pricingTiers.length>0;return n.createElement(Zt,{isOpen:e,onClose:t,title:"Event Details",size:"2xl"},n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"flex items-start justify-between gap-4"},n.createElement("div",{className:"flex-1"},n.createElement("h2",{className:"text-xl font-bold text-gray-900 mb-2"},a.name),n.createElement("div",{className:"flex flex-wrap items-center gap-2"},n.createElement("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Jie(a.category)}`},a.category),n.createElement("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${eoe(a.mode)}`},a.mode),a.isLive?n.createElement("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-700"},"Live"):n.createElement("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600"},"Not Live"),a.featured&&n.createElement("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-700"},"Featured"),a.isDeleted&&n.createElement("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-700"},"Deleted")))),(a.thumbnail?.imageUrl||a.imageUrls?.length>0)&&n.createElement("div",{className:"space-y-2"},n.createElement("div",{className:"relative aspect-video bg-gray-100 rounded-lg overflow-hidden"},a.thumbnail?.imageUrl||a.imageUrls?.length>0?n.createElement("img",{src:a.imageUrls?.[c]||a.thumbnail?.imageUrl,alt:a.name,className:"w-full h-full object-cover",onError:f=>{f.target.src="https://via.placeholder.com/800x450?text=No+Image"}}):n.createElement("div",{className:"w-full h-full flex items-center justify-center text-gray-400"},"No image available"),a.thumbnail?.videoUrl&&n.createElement("a",{href:a.thumbnail.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-3 right-3 flex items-center gap-2 px-3 py-2 bg-black/70 text-white rounded-lg hover:bg-black/80 transition-colors"},n.createElement(bD,{className:"h-4 w-4"}),"Watch Video")),a.imageUrls&&a.imageUrls.length>1&&n.createElement("div",{className:"flex gap-2 overflow-x-auto pb-2"},a.imageUrls.map((f,h)=>n.createElement("button",{key:h,onClick:()=>d(h),className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors ${c===h?"border-blue-500":"border-transparent"}`},n.createElement("img",{src:f,alt:`${a.name} ${h+1}`,className:"w-full h-full object-cover",onError:b=>{b.target.style.display="none"}}))))),n.createElement("div",null,n.createElement("h3",{className:"text-sm font-medium text-gray-500 mb-2"},"Description"),n.createElement("p",{className:"text-gray-700 whitespace-pre-wrap"},a.description)),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},n.createElement(Rt,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Date & Time")),n.createElement("div",{className:"space-y-1"},n.createElement("p",{className:"text-sm"},n.createElement("span",{className:"text-gray-500"},"Starts:")," ",n.createElement("span",{className:"text-gray-900 font-medium"},hu(a.startDate))),n.createElement("p",{className:"text-sm"},n.createElement("span",{className:"text-gray-500"},"Ends:")," ",n.createElement("span",{className:"text-gray-900 font-medium"},hu(a.endDate))))),n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},n.createElement(m,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Location")),n.createElement("p",{className:"text-gray-900 font-medium"},a.mode==="ONLINE"?"Online Event":a.city||"Location not specified"),n.createElement("p",{className:"text-sm text-gray-500 capitalize"},a.mode?.toLowerCase()," event"))),n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-3"},n.createElement(UU,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Pricing")),p?n.createElement("div",{className:"space-y-3"},a.pricingTiers.map((f,h)=>n.createElement("div",{key:h,className:"flex items-start justify-between p-3 bg-white rounded-lg border border-gray-200"},n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900"},f.name),f.shortDescription&&n.createElement("p",{className:"text-sm text-gray-500"},f.shortDescription),f.notes&&n.createElement("p",{className:"text-xs text-gray-400 mt-1"},f.notes),f.ticketQuantity>1&&n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Includes ",f.ticketQuantity," tickets")),n.createElement("div",{className:"text-right"},n.createElement("p",{className:"font-semibold text-gray-900"},Ef(f.price)),f.compareAtPrice&&n.createElement("p",{className:"text-sm text-gray-400 line-through"},Ef(f.compareAtPrice)))))):n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-gray-900"},Ef(a.price)),a.compareAtPrice&&n.createElement("p",{className:"text-sm text-gray-400 line-through"},Ef(a.compareAtPrice))))),n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-3"},n.createElement(No,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Ticket Statistics")),s?n.createElement("div",{className:"flex items-center justify-center py-4"},n.createElement(Fe,{className:"h-5 w-5 animate-spin text-gray-400"})):r?n.createElement("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4"},n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-gray-900"},r.ticketsSold||0),n.createElement("p",{className:"text-sm text-gray-500"},"Tickets Sold")),n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-gray-900"},r.availableSeats??"Unlimited"),n.createElement("p",{className:"text-sm text-gray-500"},"Available Seats")),r.hasAvailableSeatsTracking&&r.availableSeats&&n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-gray-900"},Math.max(0,r.availableSeats-r.ticketsSold)),n.createElement("p",{className:"text-sm text-gray-500"},"Remaining"))):n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-gray-900"},a.ticketsSold||0),n.createElement("p",{className:"text-sm text-gray-500"},"Tickets Sold")),n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-gray-900"},a.availableSeats??"Unlimited"),n.createElement("p",{className:"text-sm text-gray-500"},"Available Seats")))),n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},n.createElement("p",{className:"text-gray-500 mb-1"},"Created By"),n.createElement("p",{className:"text-gray-900 font-medium"},a.createdBy?.name||"Unknown",a.createdBy?.email&&n.createElement("span",{className:"text-gray-500 font-normal"}," (",a.createdBy.email,")")),n.createElement("p",{className:"text-gray-500 text-xs mt-1"},hu(a.createdAt))),a.updatedBy&&n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg"},n.createElement("p",{className:"text-gray-500 mb-1"},"Last Updated By"),n.createElement("p",{className:"text-gray-900 font-medium"},a.updatedBy?.name||"Unknown"),n.createElement("p",{className:"text-gray-500 text-xs mt-1"},hu(a.updatedAt))),a.isDeleted&&a.deletedBy&&n.createElement("div",{className:"p-4 bg-red-50 rounded-lg"},n.createElement("p",{className:"text-red-500 mb-1"},"Deleted By"),n.createElement("p",{className:"text-red-700 font-medium"},a.deletedBy?.name||"Unknown"),n.createElement("p",{className:"text-red-500 text-xs mt-1"},hu(a.deletedAt)))),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("p",{className:"text-xs text-gray-400"},"Event ID: ",n.createElement("code",{className:"bg-gray-100 px-1 py-0.5 rounded"},a._id)))))}function roe({filters:e,onFilterChange:t,onSearchChange:a,onReset:r,showDeleted:s,onToggleDeleted:o,disabled:c=!1}){const[d,m]=y.useState(!1),[p,f]=y.useState(e.search||""),h=S=>{const w=S.target.value;f(w),a(w)},b=(S,w)=>{t({[S]:w})},E=()=>{f(""),m(!1),r()},N=e.category||e.mode||e.city||e.isLive!==""||e.featured!==""||e.minPrice||e.maxPrice||e.startDateFrom||e.startDateTo;return n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4 space-y-4"},n.createElement("div",{className:"flex flex-wrap items-center gap-3"},n.createElement("div",{className:"relative flex-1 min-w-[240px]"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.createElement("input",{type:"text",placeholder:"Search events...",value:p,onChange:h,disabled:c,className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"}),p&&n.createElement("button",{onClick:()=>{f(""),a("")},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},n.createElement(Na,{className:"h-4 w-4"}))),n.createElement("select",{value:e.category,onChange:S=>b("category",S.target.value),disabled:c,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},n.createElement("option",{value:""},"All Categories"),MR.map(S=>n.createElement("option",{key:S,value:S},S.charAt(0)+S.slice(1).toLowerCase()))),n.createElement("select",{value:e.mode,onChange:S=>b("mode",S.target.value),disabled:c,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},n.createElement("option",{value:""},"All Modes"),RR.map(S=>n.createElement("option",{key:S,value:S},S))),n.createElement("select",{value:e.isLive,onChange:S=>b("isLive",S.target.value),disabled:c,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},n.createElement("option",{value:""},"All Status"),n.createElement("option",{value:"true"},"Live Only"),n.createElement("option",{value:"false"},"Not Live")),n.createElement("select",{value:e.featured,onChange:S=>b("featured",S.target.value),disabled:c,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},n.createElement("option",{value:""},"All Events"),n.createElement("option",{value:"true"},"Featured Only"),n.createElement("option",{value:"false"},"Not Featured")),n.createElement("select",{value:e.sortBy,onChange:S=>b("sortBy",S.target.value),disabled:c,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},Hie.map(S=>n.createElement("option",{key:S.value,value:S.value},"Sort: ",S.label))),n.createElement("select",{value:e.sortOrder,onChange:S=>b("sortOrder",S.target.value),disabled:c,className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100"},n.createElement("option",{value:"desc"},"Newest First"),n.createElement("option",{value:"asc"},"Oldest First")),n.createElement("button",{onClick:()=>m(!d),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${d||N?"bg-gray-100 border-gray-400 text-gray-900":"border-gray-300 text-gray-600 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),N&&n.createElement("span",{className:"flex items-center justify-center w-5 h-5 text-xs bg-gray-800 text-white rounded-full"},"!"),d?n.createElement(AU,{className:"h-4 w-4"}):n.createElement(Ln,{className:"h-4 w-4"})),(N||p)&&n.createElement("button",{onClick:E,disabled:c,className:"flex items-center gap-2 px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},n.createElement(rg,{className:"h-4 w-4"}),"Reset")),d&&n.createElement("div",{className:"pt-4 border-t border-gray-200 space-y-4"},n.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"City"),n.createElement("input",{type:"text",placeholder:"Filter by city",value:e.city,onChange:S=>b("city",S.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Min Price"),n.createElement("input",{type:"number",placeholder:"0",value:e.minPrice,onChange:S=>b("minPrice",S.target.value),disabled:c,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Max Price"),n.createElement("input",{type:"number",placeholder:"Any",value:e.maxPrice,onChange:S=>b("maxPrice",S.target.value),disabled:c,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})),n.createElement("div",{className:"hidden lg:block"}),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Start Date From"),n.createElement("input",{type:"date",value:e.startDateFrom,onChange:S=>b("startDateFrom",S.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Start Date To"),n.createElement("input",{type:"date",value:e.startDateTo,onChange:S=>b("startDateTo",S.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100"})))),n.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200"},n.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},n.createElement("input",{type:"checkbox",checked:s,onChange:o,disabled:c,className:"w-4 h-4 text-gray-800 rounded focus:ring-0"}),n.createElement("span",{className:"text-sm text-gray-600"},"Show deleted events")),s&&n.createElement("span",{className:"text-sm text-amber-600 bg-amber-50 px-2 py-1 rounded"},"Viewing deleted events")))}function Bk(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}function noe(e,t){if(t&&t.length>0){const a=t.map(o=>o.price),r=Math.min(...a),s=Math.max(...a);return r===s?Nf(r):`${Nf(r)} - ${Nf(s)}`}return e==null?"Free":Nf(e)}function Nf(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e)}function loe(e){const t={TECHNOLOGY:"bg-blue-100 text-gray-900",EDUCATION:"bg-indigo-100 text-indigo-700",MEDICAL:"bg-green-100 text-green-700",COMEDY:"bg-yellow-100 text-yellow-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",BUSINESS:"bg-gray-100 text-gray-700",SPORTS:"bg-orange-100 text-orange-700",ARTS:"bg-purple-100 text-purple-700",MUSIC:"bg-red-100 text-red-700",FOOD:"bg-amber-100 text-amber-700",LIFESTYLE:"bg-teal-100 text-teal-700",OTHER:"bg-slate-100 text-slate-700"};return t[e]||t.OTHER}function soe({events:e,showDeleted:t,isLoading:a,canEdit:r,canDelete:s,canPermanentDelete:o,onView:c,onEdit:d,onDelete:m,onRestore:p,onPermanentDelete:f}){return a?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8"},n.createElement("div",{className:"flex items-center justify-center"},n.createElement(Fe,{className:"h-8 w-8 animate-spin text-gray-800"}),n.createElement("span",{className:"ml-3 text-gray-600"},"Loading events..."))):e.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8"},n.createElement("div",{className:"text-center text-gray-500"},n.createElement("p",{className:"text-lg font-medium"},"No events found"),n.createElement("p",{className:"text-sm mt-1"},t?"No deleted events to display.":"Try adjusting your filters or create a new event."))):n.createElement("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Event"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Category"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Mode"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Date"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Price"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,e.map(h=>n.createElement("tr",{key:h._id,className:`border-b border-gray-100 hover:bg-gray-50 ${h.isDeleted?"bg-red-50/50":""}`},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-4"},n.createElement("div",{className:"relative w-16 h-12 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0"},h.featured&&n.createElement("div",{className:"absolute top-0 left-0 z-10"},n.createElement("div",{className:"bg-purple-600 text-white text-[8px] font-semibold px-1.5 py-0.5 rounded-br-md shadow-sm"},"Featured")),h.thumbnail?.imageUrl||h.imageUrls?.[0]?n.createElement("img",{src:h.thumbnail?.imageUrl||h.imageUrls?.[0],alt:h.name,className:"w-full h-full object-cover",onError:b=>{b.target.style.display="none"}}):n.createElement("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-xs"},"No image")),n.createElement("div",{className:"min-w-0"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("p",{className:"font-medium text-gray-900 truncate max-w-[200px]"},h.name),h.featured&&n.createElement("span",{className:"hidden sm:inline-flex px-1.5 py-0.5 rounded text-[10px] font-medium bg-purple-100 text-purple-700"},"Featured")),h.city&&n.createElement("p",{className:"text-sm text-gray-500 truncate"},h.city)))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${loe(h.category)}`},h.category)),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:"text-sm text-gray-600"},h.mode)),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"text-sm"},n.createElement("p",{className:"text-gray-900"},Bk(h.startDate)),n.createElement("p",{className:"text-gray-500 text-xs"},"to ",Bk(h.endDate)))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:"text-sm font-medium text-gray-900"},noe(h.price,h.pricingTiers))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex flex-col gap-1"},h.isDeleted?n.createElement("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700"},"Deleted"):h.isLive?n.createElement("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700"},"Live"):n.createElement("span",{className:"inline-flex px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600"},"Not Live"),h.ticketsSold>0&&n.createElement("span",{className:"text-xs text-gray-500"},h.ticketsSold," sold"))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1"},n.createElement("button",{onClick:()=>c(h),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",title:"View Details"},n.createElement(Vt,{className:"h-4 w-4"})),t?n.createElement(n.Fragment,null,r&&n.createElement("button",{onClick:()=>p(h),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Restore Event"},n.createElement(rg,{className:"h-4 w-4"})),o&&n.createElement("button",{onClick:()=>f(h),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Permanently Delete"},n.createElement(VI,{className:"h-4 w-4"}))):n.createElement(n.Fragment,null,r&&n.createElement("button",{onClick:()=>d(h),className:"p-2 text-gray-800 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Event"},n.createElement(Fa,{className:"h-4 w-4"})),s&&n.createElement("button",{onClick:()=>m(h),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Event"},n.createElement(pt,{className:"h-4 w-4"})))))))))))}function Va({isOpen:e,onClose:t,onConfirm:a,title:r="Confirm Action",message:s="Are you sure you want to proceed?",confirmText:o="Confirm",cancelText:c="Cancel",variant:d="danger",isLoading:m=!1}){const f={danger:{icon:"bg-red-100 text-red-600",button:"bg-red-600 hover:bg-red-700 focus:ring-red-500"},warning:{icon:"bg-yellow-100 text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500"},primary:{icon:"bg-blue-100 text-gray-800",button:"bg-gray-800 hover:bg-gray-900 focus:ring-blue-500"}}[d],h=async()=>{await a()};return n.createElement(Zt,{isOpen:e,onClose:t,title:r,size:"sm",closeOnOverlayClick:!m},n.createElement("div",{className:"flex flex-col items-center text-center"},n.createElement("div",{className:`w-12 h-12 rounded-full ${f.icon} flex items-center justify-center mb-4`},n.createElement(m0,{className:"h-6 w-6"})),n.createElement("p",{className:"text-gray-600 mb-6"},s),n.createElement("div",{className:"flex gap-3 w-full"},n.createElement("button",{onClick:t,disabled:m,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},c),n.createElement("button",{onClick:h,disabled:m,className:`flex-1 px-4 py-2 text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 ${f.button} flex items-center justify-center gap-2`},m&&n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),o))))}function ga({currentPage:e,totalPages:t,totalItems:a,itemsPerPage:r,onPageChange:s,itemLabel:o="items",maxVisiblePages:c=5}){if(t<=0)return null;const d=a>0?(e-1)*r+1:0,m=Math.min(e*r,a),p=S=>{const w=[];let C=Math.max(1,e-Math.floor(S/2)),k=Math.min(t,C+S-1);k-C+1<S&&(C=Math.max(1,k-S+1));for(let A=C;A<=k;A++)w.push(A);return w},f=p(c),h=p(3),b=()=>{e>1&&s(e-1)},E=()=>{e<t&&s(e+1)},N=(S,w=!1)=>n.createElement(n.Fragment,null,S[0]>1&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>s(1),className:`${w?"w-7 h-7 text-xs":"w-8 h-8 text-sm"} rounded-lg text-gray-600 hover:bg-gray-100 transition-all`},"1"),S[0]>2&&n.createElement("span",{className:`${w?"w-7 h-7":"w-8 h-8"} flex items-center justify-center text-gray-400 text-sm`},"...")),S.map(C=>n.createElement("button",{key:C,onClick:()=>s(C),className:`${w?"w-7 h-7 text-xs":"w-8 h-8 text-sm"} rounded-lg transition-all ${e===C?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-100"}`},C)),S[S.length-1]<t&&n.createElement(n.Fragment,null,S[S.length-1]<t-1&&n.createElement("span",{className:`${w?"w-7 h-7":"w-8 h-8"} flex items-center justify-center text-gray-400 text-sm`},"..."),n.createElement("button",{onClick:()=>s(t),className:`${w?"w-7 h-7 text-xs":"w-8 h-8 text-sm"} rounded-lg text-gray-600 hover:bg-gray-100 transition-all`},t)));return n.createElement("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 sm:py-4 border-t border-gray-200"},n.createElement("p",{className:"text-xs sm:text-sm text-gray-600 order-2 sm:order-1"},n.createElement("span",{className:"hidden sm:inline"},"Showing "),d,"-",m," of ",a," ",o),n.createElement("div",{className:"flex items-center gap-1 sm:gap-2 order-1 sm:order-2"},n.createElement("button",{onClick:b,disabled:e===1,className:`p-1.5 sm:p-2 rounded-lg transition-all ${e===1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,"aria-label":"Previous page"},n.createElement(fD,{className:"h-4 w-4 sm:h-5 sm:w-5"})),n.createElement("div",{className:"hidden sm:flex items-center gap-1"},N(f,!1)),n.createElement("div",{className:"flex sm:hidden items-center gap-1"},N(h,!0)),n.createElement("button",{onClick:E,disabled:e===t,className:`p-1.5 sm:p-2 rounded-lg transition-all ${e===t?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,"aria-label":"Next page"},n.createElement(dD,{className:"h-4 w-4 sm:h-5 sm:w-5"}))))}function ioe(){const{hasRole:e}=Fn(),t=e(["SUPER_ADMIN","ADMIN"]),a=e(["SUPER_ADMIN","ADMIN"]),r=e(["SUPER_ADMIN","ADMIN"]),s=e(["SUPER_ADMIN"]),{events:o,pagination:c,filters:d,isLoading:m,error:p,showDeleted:f,getEventById:h,createEvent:b,updateEvent:E,deleteEvent:N,restoreEvent:S,permanentDeleteEvent:w,getTicketStats:C,updateExpiredEvents:k,updateFilters:A,updateSearch:M,resetFilters:O,changePage:D,toggleShowDeleted:_,clearError:P}=Gie(),[R,U]=y.useState(!1),[L,I]=y.useState(!1),[ae,ne]=y.useState(!1),[ue,F]=y.useState(!1),[G,le]=y.useState(!1),[te,H]=y.useState(!1),[j,B]=y.useState(null),[X,K]=y.useState(null),[oe,Q]=y.useState(!1),[V,we]=y.useState(!1),[W,Se]=y.useState(null),[Te,ge]=y.useState(null),$e=y.useCallback(async He=>{B(He),K(null),ne(!0)},[]),Pe=y.useCallback(async He=>{Q(!0);try{const ht=await C(He);ht.success&&K(ht.data)}finally{Q(!1)}},[C]),ve=y.useCallback(async He=>{const ht=await h(He._id);ht.success?(B(ht.data),Se(null),ge(null),I(!0)):Se(ht.error)},[h]),Ue=y.useCallback(()=>{B(null),Se(null),ge(null),U(!0)},[]),xe=y.useCallback(He=>{B(He),F(!0)},[]),Le=y.useCallback(He=>{B(He),le(!0)},[]),Et=y.useCallback(He=>{B(He),H(!0)},[]),Ht=y.useCallback(async He=>{we(!0),Se(null),ge(null);try{const ht=await b(He);ht.success?U(!1):(Se(ht.error),ge(ht.validationErrors))}finally{we(!1)}},[b]),Tt=y.useCallback(async He=>{if(j){we(!0),Se(null),ge(null);try{const ht=await E(j._id,He);ht.success?(I(!1),B(null)):(Se(ht.error),ge(ht.validationErrors))}finally{we(!1)}}},[j,E]),Ae=y.useCallback(async()=>{if(j){we(!0);try{const He=await N(j._id);He.success?(F(!1),B(null)):Se(He.error)}finally{we(!1)}}},[j,N]),ce=y.useCallback(async()=>{if(j){we(!0);try{const He=await S(j._id);He.success?(le(!1),B(null)):Se(He.error)}finally{we(!1)}}},[j,S]),pe=y.useCallback(async()=>{if(j){we(!0);try{const He=await w(j._id);He.success?(H(!1),B(null)):Se(He.error)}finally{we(!1)}}},[j,w]),qe=y.useCallback(async()=>{const He=await k();He.success&&He.updatedCount>0&&console.log(`Updated ${He.updatedCount} expired events`)},[k]);return n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Events"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Manage your events, pricing, and ticket availability")),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("button",{onClick:qe,disabled:m,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",title:"Mark expired events as not live"},n.createElement(zn,{className:`h-4 w-4 ${m?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Update Expired")),t&&n.createElement("button",{onClick:Ue,className:"flex items-center gap-2 bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-900 transition-colors"},n.createElement(Qt,{className:"h-5 w-5"}),n.createElement("span",null,"Create Event")))),p&&n.createElement("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg"},n.createElement(Mt,{className:"h-5 w-5 flex-shrink-0"}),n.createElement("p",{className:"flex-1"},p),n.createElement("button",{onClick:P,className:"text-red-500 hover:text-red-700 font-medium"},"Dismiss")),n.createElement(roe,{filters:d,onFilterChange:A,onSearchChange:M,onReset:O,showDeleted:f,onToggleDeleted:_,disabled:m}),n.createElement(soe,{events:o,showDeleted:f,isLoading:m,canEdit:a,canDelete:r,canPermanentDelete:s,onView:$e,onEdit:ve,onDelete:xe,onRestore:Le,onPermanentDelete:Et}),c.totalPages>0&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:c.currentPage,totalPages:c.totalPages,totalItems:c.totalCount,itemsPerPage:c.limit,onPageChange:D,itemLabel:"events"})),n.createElement($k,{isOpen:R,onClose:()=>U(!1),onSubmit:Ht,event:null,isLoading:V,serverError:W,validationErrors:Te}),n.createElement($k,{isOpen:L,onClose:()=>{I(!1),B(null)},onSubmit:Tt,event:j,isLoading:V,serverError:W,validationErrors:Te}),n.createElement(aoe,{isOpen:ae,onClose:()=>{ne(!1),B(null),K(null)},event:j,ticketStats:X,isLoadingStats:oe,onFetchStats:Pe}),n.createElement(Va,{isOpen:ue,onClose:()=>{F(!1),B(null)},onConfirm:Ae,title:"Delete Event",message:`Are you sure you want to delete "${j?.name}"? This event will be moved to the deleted items and can be restored later.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:V}),n.createElement(Va,{isOpen:G,onClose:()=>{le(!1),B(null)},onConfirm:ce,title:"Restore Event",message:`Are you sure you want to restore "${j?.name}"? This event will be available again in the events list.`,confirmText:"Restore",cancelText:"Cancel",variant:"primary",isLoading:V}),n.createElement(Va,{isOpen:te,onClose:()=>{H(!1),B(null)},onConfirm:pe,title:"Permanently Delete Event",message:`Are you sure you want to permanently delete "${j?.name}"? This action cannot be undone and all associated data will be lost.`,confirmText:"Delete Permanently",cancelText:"Cancel",variant:"danger",isLoading:V}))}function ooe(){const[e,t]=y.useState(1),[a,r]=y.useState(""),[s,o]=y.useState(""),[c,d]=y.useState(""),m=10,p={confirmed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700"},[f,h]=y.useState([{id:1,userName:"John Doe",email:"john.doe@email.com",phone:"+91 9876543210",eventName:"Tech Conference 2025",enrollmentDate:"2025-02-15",status:"confirmed"},{id:2,userName:"Jane Smith",email:"jane.smith@email.com",phone:"+91 9876543211",eventName:"Medical Summit 2025",enrollmentDate:"2025-02-18",status:"pending"},{id:3,userName:"Mike Johnson",email:"mike.j@email.com",phone:"+91 9876543212",eventName:"Comedy Night Live",enrollmentDate:"2025-02-20",status:"confirmed"},{id:4,userName:"Sarah Wilson",email:"sarah.w@email.com",phone:"+91 9876543213",eventName:"Rock Music Festival",enrollmentDate:"2025-02-22",status:"cancelled"},{id:5,userName:"David Brown",email:"david.b@email.com",phone:"+91 9876543214",eventName:"AI Workshop 2025",enrollmentDate:"2025-02-25",status:"confirmed"},{id:6,userName:"Emily Davis",email:"emily.d@email.com",phone:"+91 9876543215",eventName:"Health Awareness Camp",enrollmentDate:"2025-02-28",status:"pending"},{id:7,userName:"Chris Martin",email:"chris.m@email.com",phone:"+91 9876543216",eventName:"Stand-up Comedy Show",enrollmentDate:"2025-03-01",status:"confirmed"},{id:8,userName:"Lisa Anderson",email:"lisa.a@email.com",phone:"+91 9876543217",eventName:"Jazz Night",enrollmentDate:"2025-03-05",status:"confirmed"},{id:9,userName:"Robert Taylor",email:"robert.t@email.com",phone:"+91 9876543218",eventName:"Tech Conference 2025",enrollmentDate:"2025-03-08",status:"pending"},{id:10,userName:"Amanda White",email:"amanda.w@email.com",phone:"+91 9876543219",eventName:"Medical Summit 2025",enrollmentDate:"2025-03-10",status:"confirmed"},{id:11,userName:"Kevin Lee",email:"kevin.l@email.com",phone:"+91 9876543220",eventName:"Rock Music Festival",enrollmentDate:"2025-03-12",status:"cancelled"},{id:12,userName:"Michelle Garcia",email:"michelle.g@email.com",phone:"+91 9876543221",eventName:"Comedy Night Live",enrollmentDate:"2025-03-15",status:"confirmed"}]),b=[...new Set(f.map(_=>_.eventName))],E=["confirmed","pending","cancelled"],N=_=>{window.confirm("Are you sure you want to delete this enrollment?")&&h(f.filter(P=>P.id!==_))},S=f.filter(_=>{const P=_.userName.toLowerCase().includes(a.toLowerCase())||_.email.toLowerCase().includes(a.toLowerCase()),R=s?_.status===s:!0,U=c?_.eventName===c:!0;return P&&R&&U}),w=Math.ceil(S.length/m),C=(e-1)*m,k=C+m,A=S.slice(C,k),M=(_,P)=>{_(P),t(1)},O=()=>{e>1&&t(e-1)},D=()=>{e<w&&t(e+1)};return n.createElement("div",null,n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-6"},n.createElement("div",{className:"flex flex-wrap items-center gap-4"},n.createElement("div",{className:"relative w-80"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.createElement("input",{type:"text",placeholder:"Search by name or email...",value:a,onChange:_=>M(r,_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),n.createElement("select",{value:s,onChange:_=>M(o,_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white"},n.createElement("option",{value:""},"All Status"),E.map(_=>n.createElement("option",{key:_,value:_,className:"capitalize"},_.charAt(0).toUpperCase()+_.slice(1)))),n.createElement("select",{value:c,onChange:_=>M(d,_.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white"},n.createElement("option",{value:""},"All Events"),b.map(_=>n.createElement("option",{key:_,value:_},_))))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"User"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Event"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Phone"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Enrollment Date"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,A.map(_=>n.createElement("tr",{key:_.id,className:"border-b border-gray-100 hover:bg-gray-50"},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900"},_.userName),n.createElement("p",{className:"text-sm text-gray-500"},_.email))),n.createElement("td",{className:"px-6 py-4 text-gray-600"},_.eventName),n.createElement("td",{className:"px-6 py-4 text-gray-600"},_.phone),n.createElement("td",{className:"px-6 py-4 text-gray-600"},_.enrollmentDate),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-medium capitalize ${p[_.status]}`},_.status)),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-2"},n.createElement("button",{className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-all",title:"View Details"},n.createElement(Vt,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>N(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete"},n.createElement(pt,{className:"h-5 w-5"})))))))),n.createElement("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200"},n.createElement("p",{className:"text-sm text-gray-600"},"Showing ",S.length>0?C+1:0," to"," ",Math.min(k,S.length)," of ",S.length," enrollments"),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("button",{onClick:O,disabled:e===1,className:`p-2 rounded-lg transition-all ${e===1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`},n.createElement(fD,{className:"h-5 w-5"})),Array.from({length:w},(_,P)=>P+1).map(_=>n.createElement("button",{key:_,onClick:()=>t(_),className:`w-8 h-8 rounded-lg transition-all ${e===_?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-100"}`},_)),n.createElement("button",{onClick:D,disabled:e===w,className:`p-2 rounded-lg transition-all ${e===w?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`},n.createElement(dD,{className:"h-5 w-5"}))))))}function coe(){return n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-6"},n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Coupons"),n.createElement("p",{className:"text-gray-600"},"Manage your discount coupons here."))}const ai={LIST:"/app/auth/users",GET_BY_ID:e=>`/app/auth/users/${e}`,UPDATE:e=>`/app/auth/users/${e}`,DELETE:e=>`/app/auth/users/${e}`,RESTORE:e=>`/app/auth/users/${e}/restore`,PERMANENT_DELETE:e=>`/app/auth/users/${e}/permanent`},yo={getAll:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.search&&t.append("search",e.search),e.includeDeleted&&t.append("includeDeleted",e.includeDeleted);const a=t.toString(),r=a?`${ai.LIST}?${a}`:ai.LIST;console.log("[UserService] Fetching users with params:",e);const s=await Ee(be.get(r));return s.success?console.log("[UserService] Fetched users:",s.data.users?.length):console.error("[UserService] Failed to fetch users:",s.message),s},getById:async e=>{console.log("[UserService] Fetching user by ID:",e);const t=await Ee(be.get(ai.GET_BY_ID(e)));return t.success?console.log("[UserService] Fetched user:",t.data.user?.name):console.error("[UserService] Failed to fetch user:",t.message),t},update:async(e,t)=>{console.log("[UserService] Updating user:",e);const a=await Ee(be.put(ai.UPDATE(e),t));return a.success?console.log("[UserService] User updated successfully"):console.error("[UserService] Failed to update user:",a.message),a},delete:async e=>{console.log("[UserService] Soft deleting user:",e);const t=await Ee(be.delete(ai.DELETE(e)));return t.success?console.log("[UserService] User soft deleted successfully"):console.error("[UserService] Failed to delete user:",t.message),t},restore:async e=>{console.log("[UserService] Restoring user:",e);const t=await Ee(be.post(ai.RESTORE(e)));return t.success?console.log("[UserService] User restored successfully"):console.error("[UserService] Failed to restore user:",t.message),t},permanentDelete:async e=>{console.log("[UserService] Permanently deleting user:",e);const t=await Ee(be.delete(ai.PERMANENT_DELETE(e)));return t.success?console.log("[UserService] User permanently deleted"):console.error("[UserService] Failed to permanently delete user:",t.message),t}};function uoe(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({total:0,page:1,limit:10,totalPages:0}),[o,c]=y.useState({search:"",includeDeleted:!1,...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),h=y.useCallback(async(D=r.page)=>{m(!0),f(null);try{const _={page:D,limit:r.limit,...o.search&&{search:o.search},...o.includeDeleted&&{includeDeleted:o.includeDeleted}},P=await yo.getAll(_);P.success?(a(P.data.users),s(P.data.pagination)):(f(P.message),a([]))}catch{f("Failed to fetch users"),a([])}finally{m(!1)}},[o,r.limit]),b=y.useCallback(async D=>{try{const _=await yo.getById(D);return _.success?{success:!0,data:_.data.user}:{success:!1,error:_.message}}catch{return{success:!1,error:"Failed to fetch user details"}}},[]),E=y.useCallback(async(D,_)=>{m(!0),f(null);try{const P=await yo.update(D,_);return P.success?(a(R=>R.map(U=>U._id===D?{...U,...P.data.user}:U)),{success:!0,data:P.data}):{success:!1,error:P.message,validationErrors:P.data?.errors}}catch{return{success:!1,error:"Failed to update user"}}finally{m(!1)}},[]),N=y.useCallback(async D=>{m(!0),f(null);try{const _=await yo.delete(D);return _.success?(o.includeDeleted?a(P=>P.map(R=>R._id===D?{...R,isDeleted:!0}:R)):(a(P=>P.filter(R=>R._id!==D)),s(P=>({...P,total:P.total-1,totalPages:Math.ceil((P.total-1)/P.limit)}))),{success:!0}):{success:!1,error:_.message}}catch{return{success:!1,error:"Failed to delete user"}}finally{m(!1)}},[o.includeDeleted]),S=y.useCallback(async D=>{m(!0),f(null);try{const _=await yo.restore(D);return _.success?(a(P=>P.map(R=>R._id===D?{...R,isDeleted:!1,deletedAt:null}:R)),{success:!0}):{success:!1,error:_.message}}catch{return{success:!1,error:"Failed to restore user"}}finally{m(!1)}},[]),w=y.useCallback(async D=>{m(!0),f(null);try{const _=await yo.permanentDelete(D);return _.success?(a(P=>P.filter(R=>R._id!==D)),s(P=>({...P,total:P.total-1,totalPages:Math.ceil((P.total-1)/P.limit)})),{success:!0}):{success:!1,error:_.message}}catch{return{success:!1,error:"Failed to permanently delete user"}}finally{m(!1)}},[]),C=y.useCallback(D=>{c(_=>({..._,...D}))},[]),k=y.useCallback(()=>{c({search:"",includeDeleted:!1,...e})},[e]),A=y.useCallback(D=>{h(D)},[h]),M=y.useCallback(D=>{s(_=>({..._,limit:D}))},[]),O=y.useCallback(()=>{f(null)},[]);return y.useEffect(()=>{h(1)},[o]),{users:t,pagination:r,filters:o,isLoading:d,error:p,fetchUsers:h,getUserById:b,updateUser:E,deleteUser:N,restoreUser:S,permanentDeleteUser:w,updateFilters:C,resetFilters:k,changePage:A,changeLimit:M,clearError:O}}const Vk=(e=null)=>({name:e?.name||"",email:e?.email||"",phone:e?.phone||""}),moe=e=>{const t={};if(e.name.trim()?(e.name.length<2||e.name.length>100)&&(t.name="Name must be between 2 and 100 characters"):t.name="Name is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(t.email="Invalid email format"):t.email="Email is required",!e.phone.trim())t.phone="Phone is required";else{const a=e.phone.replace(/[^0-9]/g,"");(a.length<10||a.length>15)&&(t.phone="Phone must be 10-15 digits")}return{isValid:Object.keys(t).length===0,errors:t}};function doe({isOpen:e,onClose:t,onSubmit:a,user:r=null,isLoading:s=!1,serverError:o=null,validationErrors:c=null}){const[d,m]=y.useState(Vk(r)),[p,f]=y.useState({});y.useEffect(()=>{e&&(m(Vk(r)),f({}))},[e,r]),y.useEffect(()=>{if(c&&Array.isArray(c)){const N={};c.forEach(S=>{S.field&&(N[S.field]=S.message)}),f(S=>({...S,...N}))}},[c]);const h=N=>{const{name:S,value:w}=N.target;m(C=>({...C,[S]:w})),p[S]&&f(C=>({...C,[S]:null}))},b=async N=>{N.preventDefault();const S=moe(d);if(!S.isValid){f(S.errors);return}const w={...d};w.phone=w.phone.replace(/[^0-9]/g,""),await a(w)},E=()=>{s||t()};return n.createElement(Zt,{isOpen:e,onClose:E,title:"Edit User",size:"md",closeOnOverlayClick:!s},n.createElement("form",{onSubmit:b},o&&n.createElement("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},o),n.createElement("div",{className:"space-y-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",id:"name",name:"name",value:d.name,onChange:h,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${p.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter user name"}),p.name&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},p.name)),n.createElement("div",null,n.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"email",id:"email",name:"email",value:d.email,onChange:h,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${p.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),p.email&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},p.email)),n.createElement("div",null,n.createElement("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1"},"Phone ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"tel",id:"phone",name:"phone",value:d.phone,onChange:h,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${p.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number"}),p.phone&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},p.phone))),n.createElement("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:E,disabled:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},s&&n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),"Update User"))))}const yb=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",foe=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-";function goe({isOpen:e,onClose:t,user:a,isLoading:r=!1}){return!a&&!r?null:n.createElement(Zt,{isOpen:e,onClose:t,title:"User Details",size:"lg"},r?n.createElement("div",{className:"py-12 flex flex-col items-center justify-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading user details...")):a?n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"flex items-start gap-4 pb-4 border-b border-gray-200"},n.createElement("div",{className:"w-14 h-14 bg-blue-100 rounded-full flex items-center justify-center shrink-0"},n.createElement("span",{className:"text-xl font-semibold text-gray-800"},a.name?.charAt(0)?.toUpperCase()||"?")),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900 truncate"},a.name),n.createElement("div",{className:"flex flex-wrap items-center gap-2 mt-1"},a.isDeleted&&n.createElement("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 rounded-full text-xs font-medium flex items-center gap-1"},n.createElement(Mt,{className:"h-3 w-3"}),"Deleted")))),n.createElement("div",{className:"space-y-3"},n.createElement("h4",{className:"text-sm font-medium text-gray-700"},"Contact Information"),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(pI,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Email")),n.createElement("p",{className:"text-sm font-medium text-gray-900 truncate"},a.email||"-")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(ag,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Phone")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},a.phone||"-")))),n.createElement("div",{className:"space-y-3"},n.createElement("h4",{className:"text-sm font-medium text-gray-700"},"Activity"),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(oa,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Last Login")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},a.lastLogin?yb(a.lastLogin):"Never")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(Rt,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Joined")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},yb(a.createdAt))))),a.enrollments&&a.enrollments.length>0?n.createElement("div",{className:"space-y-3"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("h4",{className:"text-sm font-medium text-gray-700"},"Enrollments (",a.enrollments.length,")")),n.createElement("div",{className:"space-y-2 max-h-64 overflow-y-auto"},a.enrollments.map((s,o)=>n.createElement("div",{key:s._id||o,className:"bg-gray-50 rounded-lg p-3 flex items-center gap-3"},n.createElement("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center shrink-0"},n.createElement(oA,{className:"h-4 w-4 text-gray-800"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"text-sm font-medium text-gray-900 truncate"},s.event?.name||s.event||"Unknown Event"),n.createElement("p",{className:"text-xs text-gray-500"},"Enrolled: ",foe(s.enrolledAt))),s.certificate&&n.createElement("a",{href:s.certificate,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-gray-800 hover:text-gray-900 hover:underline shrink-0"},"View Certificate"))))):n.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},n.createElement(oA,{className:"h-8 w-8 text-gray-300 mx-auto mb-2"}),n.createElement("p",{className:"text-sm text-gray-500"},"No enrollments yet")),a.isDeleted&&a.deletedAt&&n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 text-red-700"},n.createElement(Mt,{className:"h-4 w-4 shrink-0"}),n.createElement("p",{className:"text-sm"},"This user was deleted on ",yb(a.deletedAt)))),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"},"Close"))):n.createElement("div",{className:"py-12 text-center text-gray-500"},n.createElement("p",null,"No user data available")))}function poe(){const{hasRole:e}=Fn(),{users:t,pagination:a,filters:r,isLoading:s,error:o,getUserById:c,updateUser:d,deleteUser:m,restoreUser:p,permanentDeleteUser:f,updateFilters:h,changePage:b,clearError:E}=uoe(),N=e(["SUPER_ADMIN","ADMIN"]),[S,w]=y.useState(!1),[C,k]=y.useState(!1),[A,M]=y.useState(!1),[O,D]=y.useState(!1),[_,P]=y.useState(!1),[R,U]=y.useState(null),[L,I]=y.useState(null),[ae,ne]=y.useState(!1),[ue,F]=y.useState(null),[G,le]=y.useState(null),[te,H]=y.useState(!1),[j,B]=y.useState("");y.useEffect(()=>{const ve=setTimeout(()=>{j!==r.search&&h({search:j})},300);return()=>clearTimeout(ve)},[j,r.search,h]);const X=async ve=>{k(!0),ne(!0),I(null);const Ue=await c(ve._id);Ue.success?I(Ue.data):I(ve),ne(!1)},K=ve=>{N&&(U(ve),F(null),le(null),w(!0))},oe=async ve=>{H(!0),F(null),le(null);const Ue=await d(R._id,ve);Ue.success?(w(!1),U(null)):(F(Ue.error),le(Ue.validationErrors)),H(!1)},Q=ve=>{N&&(U(ve),M(!0))},V=async()=>{const ve=await m(R._id);M(!1),U(null),ve.success||console.error("Delete failed:",ve.error)},we=ve=>{N&&(U(ve),D(!0))},W=async()=>{const ve=await p(R._id);D(!1),U(null),ve.success||console.error("Restore failed:",ve.error)},Se=ve=>{N&&(U(ve),P(!0))},Te=async()=>{const ve=await f(R._id);P(!1),U(null),ve.success||console.error("Permanent delete failed:",ve.error)},ge=()=>{h({includeDeleted:!r.includeDeleted})},$e=()=>{w(!1),U(null),F(null),le(null)},Pe=()=>{k(!1),I(null)};return n.createElement("div",{className:"space-y-4 sm:space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900"},"Users Management"),n.createElement("p",{className:"text-sm sm:text-base text-gray-600 mt-1"},"Manage and monitor user accounts"))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6 border border-gray-200"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4"},n.createElement("div",{className:"relative flex-1 max-w-md"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),n.createElement("input",{type:"text",placeholder:"Search by name, email, or phone...",value:j,onChange:ve=>B(ve.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:border-gray-800 outline-none text-sm"})),N&&n.createElement("label",{className:"flex items-center gap-2 cursor-pointer"},n.createElement("input",{type:"checkbox",checked:r.includeDeleted,onChange:ge,className:"w-4 h-4 text-gray-800 border-gray-300 rounded focus:ring-0"}),n.createElement("span",{className:"text-sm text-gray-600"},"Show deleted users")))),o&&n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-2 text-red-700"},n.createElement(m0,{className:"h-5 w-5"}),n.createElement("span",null,o)),n.createElement("button",{onClick:E,className:"text-red-700 hover:text-red-900"},"Dismiss")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200"},s&&t.length===0?n.createElement("div",{className:"py-12 flex flex-col items-center justify-center"},n.createElement(Fe,{className:"h-8 w-8 text-blue-600 animate-spin"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading users...")):t.length===0?n.createElement("div",{className:"py-12 text-center text-gray-500"},n.createElement("p",null,"No users found"),r.search&&n.createElement("p",{className:"text-sm mt-1"},"Try adjusting your search criteria")):n.createElement(n.Fragment,null,n.createElement("div",{className:"hidden lg:block overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"User"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Phone"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Last Login"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,t.map(ve=>n.createElement("tr",{key:ve._id,className:`border-b border-gray-100 hover:bg-gray-50 transition-colors ${ve.isDeleted?"bg-red-50/50":""}`},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-white font-semibold text-sm"},ve.name?.charAt(0)?.toUpperCase()||"?")),n.createElement("div",{className:"min-w-0"},n.createElement("p",{className:"font-medium text-gray-900 truncate"},ve.name),n.createElement("p",{className:"text-sm text-gray-500 truncate"},ve.email)))),n.createElement("td",{className:"px-6 py-4 text-gray-600"},ve.phone||"-"),n.createElement("td",{className:"px-6 py-4 text-gray-600 text-sm"},ve.lastLogin?new Date(ve.lastLogin).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"Never"),n.createElement("td",{className:"px-6 py-4"},ve.isDeleted?n.createElement("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700"},"Deleted"):n.createElement("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700"},"Active")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-2"},n.createElement("button",{onClick:()=>X(ve),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-all",title:"View Details"},n.createElement(Vt,{className:"h-5 w-5"})),N&&n.createElement(n.Fragment,null,ve.isDeleted?n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>we(ve),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Restore User"},n.createElement(rg,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>Se(ve),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Permanently Delete"},n.createElement(pt,{className:"h-5 w-5"}))):n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>K(ve),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit"},n.createElement(Fa,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>Q(ve),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete"},n.createElement(pt,{className:"h-5 w-5"}))))))))))),n.createElement("div",{className:"lg:hidden divide-y divide-gray-200"},t.map(ve=>n.createElement("div",{key:ve._id,className:`p-4 hover:bg-gray-50 transition-colors ${ve.isDeleted?"bg-red-50/50":""}`},n.createElement("div",{className:"flex items-start gap-3 mb-3"},n.createElement("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-white font-semibold"},ve.name?.charAt(0)?.toUpperCase()||"?")),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"font-semibold text-gray-900 truncate"},ve.name),n.createElement("p",{className:"text-sm text-gray-500 truncate"},ve.email),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},ve.phone||"No phone")),n.createElement("div",null,ve.isDeleted?n.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700"},"Deleted"):n.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700"},"Active"))),n.createElement("div",{className:"flex items-center justify-between text-sm"},n.createElement("span",{className:"text-gray-500"},"Last login:"," ",ve.lastLogin?new Date(ve.lastLogin).toLocaleDateString("en-IN",{day:"numeric",month:"short"}):"Never"),n.createElement("div",{className:"flex items-center gap-1"},n.createElement("button",{onClick:()=>X(ve),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-all",title:"View Details"},n.createElement(Vt,{className:"h-5 w-5"})),N&&n.createElement(n.Fragment,null,ve.isDeleted?n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>we(ve),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Restore"},n.createElement(rg,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>Se(ve),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete Forever"},n.createElement(pt,{className:"h-5 w-5"}))):n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>K(ve),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit"},n.createElement(Fa,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>Q(ve),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete"},n.createElement(pt,{className:"h-5 w-5"}))))))))),n.createElement(ga,{currentPage:a.page,totalPages:a.totalPages,totalItems:a.total,itemsPerPage:a.limit,onPageChange:b,itemLabel:"users"}))),n.createElement(doe,{isOpen:S,onClose:$e,onSubmit:oe,user:R,isLoading:te,serverError:ue,validationErrors:G}),n.createElement(goe,{isOpen:C,onClose:Pe,user:L,isLoading:ae}),n.createElement(Va,{isOpen:A,onClose:()=>M(!1),onConfirm:V,title:"Delete User",message:`Are you sure you want to delete "${R?.name}"? This action can be undone by restoring the user.`,confirmText:"Delete",variant:"danger",isLoading:s}),n.createElement(Va,{isOpen:O,onClose:()=>D(!1),onConfirm:W,title:"Restore User",message:`Are you sure you want to restore "${R?.name}"?`,confirmText:"Restore",variant:"primary",isLoading:s}),n.createElement(Va,{isOpen:_,onClose:()=>P(!1),onConfirm:Te,title:"Permanently Delete User",message:`Are you sure you want to PERMANENTLY delete "${R?.name}"? This action CANNOT be undone and all user data will be lost forever.`,confirmText:"Delete Forever",variant:"danger",isLoading:s}))}const Tn={CREATE:"/web/auth/create",LIST:"/web/auth/admins",GET_BY_ID:e=>`/web/auth/admins/${e}`,UPDATE:e=>`/web/auth/admins/${e}`,DELETE:e=>`/web/auth/admins/${e}`,GET_ALLOWED_EVENTS:e=>`/web/auth/admins/${e}/allowed-events`,UPDATE_ALLOWED_EVENTS:e=>`/web/auth/admins/${e}/allowed-events`,ADD_ALLOWED_EVENT:(e,t)=>`/web/auth/admins/${e}/allowed-events/${t}`,REMOVE_ALLOWED_EVENT:(e,t)=>`/web/auth/admins/${e}/allowed-events/${t}`},yu={create:async e=>{console.log("[AdminService] Creating admin:",e.username);const t=await Ee(be.post(Tn.CREATE,e));return t.success?console.log("[AdminService] Admin created successfully:",t.data.admin._id):console.error("[AdminService] Failed to create admin:",t.message),t},getAll:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.status&&t.append("status",e.status),e.role&&t.append("role",e.role),e.search&&t.append("search",e.search);const a=t.toString(),r=a?`${Tn.LIST}?${a}`:Tn.LIST;console.log("[AdminService] Fetching admins with params:",e);const s=await Ee(be.get(r));return s.success?console.log("[AdminService] Fetched admins:",s.data.admins?.length):console.error("[AdminService] Failed to fetch admins:",s.message),s},getById:async e=>{console.log("[AdminService] Fetching admin by ID:",e);const t=await Ee(be.get(Tn.GET_BY_ID(e)));return t.success?console.log("[AdminService] Fetched admin:",t.data.admin.username):console.error("[AdminService] Failed to fetch admin:",t.message),t},update:async(e,t)=>{console.log("[AdminService] Updating admin:",e);const a=await Ee(be.put(Tn.UPDATE(e),t));return a.success?console.log("[AdminService] Admin updated successfully"):console.error("[AdminService] Failed to update admin:",a.message),a},delete:async e=>{console.log("[AdminService] Deleting admin:",e);const t=await Ee(be.delete(Tn.DELETE(e)));return t.success?console.log("[AdminService] Admin deleted successfully"):console.error("[AdminService] Failed to delete admin:",t.message),t},getAllowedEvents:async e=>{console.log("[AdminService] Fetching allowed events for admin:",e);const t=await Ee(be.get(Tn.GET_ALLOWED_EVENTS(e)));return t.success?console.log("[AdminService] Fetched allowed events:",t.data.allowedEvents?.length):console.error("[AdminService] Failed to fetch allowed events:",t.message),t},updateAllowedEvents:async(e,t)=>{console.log("[AdminService] Updating allowed events for admin:",e);const a=await Ee(be.put(Tn.UPDATE_ALLOWED_EVENTS(e),{allowedEvents:t}));return a.success?console.log("[AdminService] Allowed events updated successfully"):console.error("[AdminService] Failed to update allowed events:",a.message),a},addAllowedEvent:async(e,t)=>{console.log("[AdminService] Adding event to allowed events:",t);const a=await Ee(be.post(Tn.ADD_ALLOWED_EVENT(e,t)));return a.success?console.log("[AdminService] Event added to allowed events"):console.error("[AdminService] Failed to add event:",a.message),a},removeAllowedEvent:async(e,t)=>{console.log("[AdminService] Removing event from allowed events:",t);const a=await Ee(be.delete(Tn.REMOVE_ALLOWED_EVENT(e,t)));return a.success?console.log("[AdminService] Event removed from allowed events"):console.error("[AdminService] Failed to remove event:",a.message),a}};function hoe(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({total:0,page:1,limit:10,totalPages:0}),[o,c]=y.useState({search:"",status:"",role:"",...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),h=y.useCallback(async(O=r.page)=>{m(!0),f(null);try{const D={page:O,limit:r.limit,...o.search&&{search:o.search},...o.status&&{status:o.status},...o.role&&{role:o.role}},_=await yu.getAll(D);_.success?(a(_.data.admins),s(_.data.pagination)):(f(_.message),a([]))}catch{f("Failed to fetch admins"),a([])}finally{m(!1)}},[o,r.limit]),b=y.useCallback(async O=>{m(!0),f(null);try{const D=await yu.create(O);return D.success?(await h(1),{success:!0,data:D.data}):{success:!1,error:D.message,validationErrors:D.error}}catch{return{success:!1,error:"Failed to create admin"}}finally{m(!1)}},[h]),E=y.useCallback(async(O,D)=>{m(!0),f(null);try{const _=await yu.update(O,D);return _.success?(a(P=>P.map(R=>R._id===O?{...R,..._.data.admin}:R)),{success:!0,data:_.data}):{success:!1,error:_.message,validationErrors:_.error}}catch{return{success:!1,error:"Failed to update admin"}}finally{m(!1)}},[]),N=y.useCallback(async O=>{m(!0),f(null);try{const D=await yu.delete(O);return D.success?(a(_=>_.filter(P=>P._id!==O)),s(_=>({..._,total:_.total-1,totalPages:Math.ceil((_.total-1)/_.limit)})),{success:!0}):{success:!1,error:D.message}}catch{return{success:!1,error:"Failed to delete admin"}}finally{m(!1)}},[]),S=y.useCallback(async O=>{try{const D=await yu.getById(O);return D.success?{success:!0,data:D.data.admin}:{success:!1,error:D.message}}catch{return{success:!1,error:"Failed to fetch admin details"}}},[]),w=y.useCallback(O=>{c(D=>({...D,...O}))},[]),C=y.useCallback(()=>{c({search:"",status:"",role:"",...e})},[e]),k=y.useCallback(O=>{h(O)},[h]),A=y.useCallback(O=>{s(D=>({...D,limit:O}))},[]),M=y.useCallback(()=>{f(null)},[]);return y.useEffect(()=>{h(1)},[o]),{admins:t,pagination:r,filters:o,isLoading:d,error:p,fetchAdmins:h,createAdmin:b,updateAdmin:E,deleteAdmin:N,getAdminById:S,updateFilters:w,resetFilters:C,changePage:k,changeLimit:A,clearError:M}}function yoe(e={}){const{autoFetch:t=!0,isLive:a}=e,[r,s]=y.useState([]),[o,c]=y.useState(!1),[d,m]=y.useState(null),[p,f]=y.useState(""),h=y.useRef(null),b=y.useRef({data:null,timestamp:null}),E=300*1e3,N=y.useCallback(async(k="",A=!0)=>{if(A&&!k&&b.current.data&&Date.now()-b.current.timestamp<E){s(b.current.data);return}c(!0),m(null);try{const M={};a!==void 0&&(M.isLive=a),k&&(M.search=k);const O=await zr.getDropdownEvents(M);if(O.success){const D=O.data.events||[];s(D),k||(b.current={data:D,timestamp:Date.now()})}else m(O.message),s([])}catch{m("Failed to fetch events"),s([])}finally{c(!1)}},[a]),S=y.useCallback(k=>{if(f(k),h.current&&clearTimeout(h.current),!k.trim()){b.current.data?s(b.current.data):N("",!0);return}h.current=setTimeout(()=>{N(k,!1)},300)},[N]),w=y.useCallback(()=>{b.current={data:null,timestamp:null},N("",!1)},[N]),C=y.useCallback(()=>{m(null)},[]);return y.useEffect(()=>{t&&N("",!0)},[t,N]),y.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),{events:r,isLoading:o,error:d,searchQuery:p,fetchEvents:N,searchEvents:S,refreshEvents:w,clearError:C}}const voe=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"",qk={TECHNOLOGY:"bg-blue-100 text-gray-900",MUSIC:"bg-purple-100 text-purple-700",SPORTS:"bg-green-100 text-green-700",BUSINESS:"bg-yellow-100 text-yellow-700",EDUCATION:"bg-indigo-100 text-indigo-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",DEFAULT:"bg-gray-100 text-gray-700"};function zR({selectedIds:e=[],onChange:t,disabled:a=!1,placeholder:r="Select events...",error:s}){const[o,c]=y.useState(!1),[d,m]=y.useState(""),p=y.useRef(null),f=y.useRef(null),{events:h,isLoading:b,error:E,searchEvents:N}=yoe({autoFetch:!0}),S=y.useMemo(()=>{if(!d.trim())return h;const L=d.toLowerCase();return h.filter(I=>I.name.toLowerCase().includes(L)||I.category?.toLowerCase().includes(L))},[h,d]),w=y.useMemo(()=>h.filter(L=>e.includes(L._id)),[h,e]);y.useEffect(()=>{const L=I=>{p.current&&!p.current.contains(I.target)&&c(!1)};return document.addEventListener("mousedown",L),()=>document.removeEventListener("mousedown",L)},[]);const C=y.useCallback(L=>{const I=L.target.value;m(I),N(I)},[N]),k=y.useCallback(L=>{if(a)return;const I=e.includes(L)?e.filter(ae=>ae!==L):[...e,L];t(I)},[e,t,a]),A=y.useCallback((L,I)=>{I.stopPropagation(),!a&&t(e.filter(ae=>ae!==L))},[e,t,a]),M=y.useCallback(()=>{if(a)return;const L=S.map(ae=>ae._id),I=[...new Set([...e,...L])];t(I)},[S,e,t,a]),O=y.useCallback(()=>{a||t([])},[t,a]),D=y.useCallback(()=>{a||(c(!0),setTimeout(()=>f.current?.focus(),0))},[a]),_=y.useCallback(L=>{L.key==="Escape"&&c(!1)},[]),P=L=>qk[L]||qk.DEFAULT,R=s||E,U=2;return n.createElement("div",{ref:p,className:"relative",onKeyDown:_},n.createElement("div",{onClick:D,className:`min-h-[42px] px-2 sm:px-3 py-2 border rounded-lg cursor-pointer transition-colors ${a?"bg-gray-100 cursor-not-allowed":o?"border-gray-800":R?"border-red-500":"border-gray-300 hover:border-gray-400"}`},n.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap"},w.length>0?n.createElement(n.Fragment,null,w.slice(0,U).map(L=>n.createElement("span",{key:L._id,className:"inline-flex items-center gap-1 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-blue-100 text-blue-800 text-xs sm:text-sm rounded-md"},n.createElement("span",{className:"truncate max-w-[80px] sm:max-w-[120px]"},L.name),!a&&n.createElement("button",{type:"button",onClick:I=>A(L._id,I),className:"hover:bg-blue-200 rounded p-0.5"},n.createElement(Na,{className:"h-3 w-3"})))),w.length>U&&n.createElement("span",{className:"px-1.5 sm:px-2 py-0.5 sm:py-1 bg-gray-100 text-gray-600 text-xs sm:text-sm rounded-md"},"+",w.length-U," more")):n.createElement("span",{className:"text-gray-400 text-sm"},r),n.createElement(Ln,{className:`h-4 w-4 sm:h-5 sm:w-5 text-gray-400 ml-auto shrink-0 transition-transform ${o?"rotate-180":""}`}))),R&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1"},n.createElement(Mt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),R),o&&!a&&n.createElement("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg"},n.createElement("div",{className:"p-2 border-b border-gray-200"},n.createElement("div",{className:"relative"},n.createElement(za,{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{ref:f,type:"text",value:d,onChange:C,placeholder:"Search events...",className:"w-full pl-8 sm:pl-9 pr-4 py-2 border border-gray-300 rounded-md focus:border-gray-800 outline-none text-sm"}),b&&n.createElement(Fe,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 animate-spin"}))),n.createElement("div",{className:"px-2 py-1.5 border-b border-gray-200 flex items-center justify-between bg-gray-50"},n.createElement("span",{className:"text-xs text-gray-500"},e.length,"/",h.length),n.createElement("div",{className:"flex gap-2"},n.createElement("button",{type:"button",onClick:M,className:"text-xs text-gray-800 hover:text-black font-medium"},"Select all"),n.createElement("span",{className:"text-gray-300"},"|"),n.createElement("button",{type:"button",onClick:O,className:"text-xs text-red-600 hover:text-red-800 font-medium"},"Clear"))),n.createElement("div",{className:"max-h-48 sm:max-h-60 overflow-y-auto"},S.length===0?n.createElement("div",{className:"px-4 py-6 sm:py-8 text-center text-gray-500 text-sm"},b?n.createElement("div",{className:"flex flex-col items-center gap-2"},n.createElement(Fe,{className:"h-5 w-5 sm:h-6 sm:w-6 animate-spin"}),n.createElement("span",null,"Loading events...")):d?n.createElement("span",null,'No events found for "',d,'"'):n.createElement("span",null,"No events available")):S.map(L=>{const I=e.includes(L._id);return n.createElement("div",{key:L._id,onClick:()=>k(L._id),className:`px-2 sm:px-3 py-2 sm:py-2.5 cursor-pointer flex items-start gap-2 sm:gap-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0 ${I?"bg-blue-50":""}`},n.createElement("div",{className:`shrink-0 w-4 h-4 sm:w-5 sm:h-5 rounded border-2 flex items-center justify-center mt-0.5 ${I?"bg-gray-800 border-gray-800":"border-gray-300"}`},I&&n.createElement(cn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-white"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap"},n.createElement("p",{className:"font-medium text-gray-900 text-sm truncate"},L.name),L.isLive&&n.createElement("span",{className:"shrink-0 px-1 sm:px-1.5 py-0.5 bg-green-100 text-green-700 text-xs rounded"},"Live")),n.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-1 flex-wrap"},L.category&&n.createElement("span",{className:`px-1 sm:px-1.5 py-0.5 text-xs rounded ${P(L.category)}`},L.category),L.startDate&&n.createElement("span",{className:"flex items-center gap-1 text-xs text-gray-500"},n.createElement(Rt,{className:"h-3 w-3"}),voe(L.startDate)))))})),e.length>0&&n.createElement("div",{className:"px-2 sm:px-3 py-2 border-t border-gray-200 bg-gray-50"},n.createElement("p",{className:"text-xs sm:text-sm text-gray-600"},n.createElement("span",{className:"font-medium"},e.length)," event",e.length!==1?"s":""," selected"))))}const boe=[{value:"MANAGEMENT_STAFF",label:"Management Staff"},{value:"ADMIN",label:"Admin"},{value:"SUPER_ADMIN",label:"Super Admin"}],xoe=[{value:"ACTIVATED",label:"Active"},{value:"DEACTIVATED",label:"Inactive"}],Eoe=[{value:"events",label:"Events"},{value:"enrollments",label:"Enrollments"},{value:"payments",label:"Payments"},{value:"users",label:"Users"},{value:"coupons",label:"Coupons"}],Noe=e=>!e||!Array.isArray(e)?[]:e.map(t=>typeof t=="string"?t:t._id).filter(Boolean),Hk=(e=null)=>({name:e?.name||"",username:e?.username||"",email:e?.email||"",phone:e?.phone||"",password:"",role:e?.role||"MANAGEMENT_STAFF",status:e?.status||"ACTIVATED",access:e?.access||[],allowedEvents:Noe(e?.allowedEvents),maxCashTicketsAllowed:e?.maxCashTicketsAllowed||""}),woe=(e,t=!1)=>{const a={};if(e.name.trim()?(e.name.length<2||e.name.length>100)&&(a.name="Name must be between 2 and 100 characters"):a.name="Name is required",e.username.trim()?e.username.length<3||e.username.length>50?a.username="Username must be between 3 and 50 characters":/^[a-zA-Z0-9_]+$/.test(e.username)||(a.username="Username can only contain letters, numbers, and underscores"):a.username="Username is required",e.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(a.email="Invalid email format"),e.phone.trim()){const r=e.phone.replace(/[^0-9]/g,"");r.length>0&&(r.length<10||r.length>15)&&(a.phone="Phone must be 10-15 digits")}if(t||(e.password?e.password.length<8&&(a.password="Password must be at least 8 characters"):a.password="Password is required"),e.maxCashTicketsAllowed!==""&&e.maxCashTicketsAllowed!==null&&e.maxCashTicketsAllowed!==void 0){const r=parseInt(e.maxCashTicketsAllowed,10);isNaN(r)?a.maxCashTicketsAllowed="Must be a valid number":r<0&&(a.maxCashTicketsAllowed="Cannot be negative")}return{isValid:Object.keys(a).length===0,errors:a}};function Soe({isOpen:e,onClose:t,onSubmit:a,admin:r=null,isLoading:s=!1,serverError:o=null,validationErrors:c=null}){const d=!!r,[m,p]=y.useState(Hk(r)),[f,h]=y.useState({}),[b,E]=y.useState(!1);y.useEffect(()=>{e&&(p(Hk(r)),h({}))},[e,r]),y.useEffect(()=>{if(c&&Array.isArray(c)){const O={};c.forEach(D=>{D.field&&(O[D.field]=D.message)}),h(D=>({...D,...O}))}},[c]);const N=O=>{const{name:D,value:_}=O.target;p(P=>{const R={...P,[D]:_};return D==="role"&&_==="SUPER_ADMIN"&&(R.allowedEvents=[]),D==="role"&&(_==="ADMIN"||_==="SUPER_ADMIN")&&(R.maxCashTicketsAllowed=""),R}),f[D]&&h(P=>({...P,[D]:null}))},S=m.role!=="SUPER_ADMIN",w=m.role==="MANAGEMENT_STAFF",C=O=>{p(D=>({...D,access:D.access.includes(O)?D.access.filter(_=>_!==O):[...D.access,O]}))},k=O=>{p(D=>({...D,allowedEvents:O}))},A=async O=>{O.preventDefault();const D=woe(m,d);if(!D.isValid){h(D.errors);return}const _={...m};_.phone=_.phone.replace(/[^0-9]/g,""),d&&!_.password&&delete _.password,d||delete _.status,_.maxCashTicketsAllowed===""||_.maxCashTicketsAllowed===null||_.maxCashTicketsAllowed===void 0?delete _.maxCashTicketsAllowed:_.maxCashTicketsAllowed=parseInt(_.maxCashTicketsAllowed,10),await a(_)},M=()=>{s||t()};return n.createElement(Zt,{isOpen:e,onClose:M,title:d?"Edit Admin":"Create New Admin",size:"xl",closeOnOverlayClick:!s},n.createElement("form",{onSubmit:A},o&&n.createElement("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},o),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1"},"Name ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",id:"name",name:"name",value:m.name,onChange:N,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${f.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter admin name"}),f.name&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},f.name)),n.createElement("div",null,n.createElement("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1"},"Username ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",id:"username",name:"username",value:m.username,onChange:N,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${f.username?"border-red-500":"border-gray-300"}`,placeholder:"Enter username"}),f.username&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},f.username)),n.createElement("div",null,n.createElement("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1"},"Email"," ",n.createElement("span",{className:"text-gray-400 text-xs ml-1"},"(optional)")),n.createElement("input",{type:"email",id:"email",name:"email",value:m.email,onChange:N,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${f.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter email address"}),f.email&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},f.email)),n.createElement("div",null,n.createElement("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1"},"Phone"," ",n.createElement("span",{className:"text-gray-400 text-xs ml-1"},"(optional)")),n.createElement("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:N,disabled:s,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${f.phone?"border-red-500":"border-gray-300"}`,placeholder:"Enter phone number"}),f.phone&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},f.phone)),n.createElement("div",null,n.createElement("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1"},"Password ",!d&&n.createElement("span",{className:"text-red-500"},"*"),d&&n.createElement("span",{className:"text-gray-400 text-xs ml-1"},"(leave empty to keep current)")),n.createElement("div",{className:"relative"},n.createElement("input",{type:b?"text":"password",id:"password",name:"password",value:m.password,onChange:N,disabled:s,className:`w-full px-3 py-2 pr-10 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${f.password?"border-red-500":"border-gray-300"}`,placeholder:d?"New password (optional)":"Enter password"}),n.createElement("button",{type:"button",onClick:()=>E(!b),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},b?n.createElement(pD,{className:"h-4 w-4 sm:h-5 sm:w-5"}):n.createElement(Vt,{className:"h-4 w-4 sm:h-5 sm:w-5"}))),f.password&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},f.password)),n.createElement("div",null,n.createElement("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1"},"Role"),n.createElement("select",{id:"role",name:"role",value:m.role,onChange:N,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100 text-sm sm:text-base"},boe.map(O=>n.createElement("option",{key:O.value,value:O.value},O.label)))),d&&n.createElement("div",null,n.createElement("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),n.createElement("select",{id:"status",name:"status",value:m.status,onChange:N,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white disabled:bg-gray-100 text-sm sm:text-base"},xoe.map(O=>n.createElement("option",{key:O.value,value:O.value},O.label)))),w&&n.createElement("div",null,n.createElement("label",{htmlFor:"maxCashTicketsAllowed",className:"block text-sm font-medium text-gray-700 mb-1"},"Max Cash Tickets Allowed"),n.createElement("input",{type:"number",id:"maxCashTicketsAllowed",name:"maxCashTicketsAllowed",value:m.maxCashTicketsAllowed,onChange:N,disabled:s,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 text-sm sm:text-base ${f.maxCashTicketsAllowed?"border-red-500":"border-gray-300"}`,placeholder:"Enter max tickets or leave empty"}),f.maxCashTicketsAllowed&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},f.maxCashTicketsAllowed),n.createElement("p",{className:"mt-1 text-xs text-gray-500"},"Limit the total number of cash tickets this admin can generate. Leave empty for unlimited."),n.createElement("p",{className:"text-gray-400 text-xs"},"optional, leave empty for unlimited"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Access Permissions"),n.createElement("div",{className:"flex flex-wrap gap-2"},Eoe.map(O=>n.createElement("label",{key:O.value,className:`inline-flex items-center px-3 py-2 rounded-lg border cursor-pointer transition-colors ${m.access.includes(O.value)?"bg-blue-50 border-blue-500 text-gray-900":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"} ${s?"opacity-50 cursor-not-allowed":""}`},n.createElement("input",{type:"checkbox",checked:m.access.includes(O.value),onChange:()=>C(O.value),disabled:s,className:"sr-only"}),n.createElement("span",{className:"text-sm"},O.label))))),S&&n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Allowed Events",n.createElement("span",{className:"text-gray-400 text-xs ml-2 font-normal"},"(Events this admin can access)")),n.createElement(zR,{selectedIds:m.allowedEvents,onChange:k,disabled:s,placeholder:"Search and select events..."})),!S&&n.createElement("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg"},n.createElement("p",{className:"text-sm text-gray-900"},"Super Admins have access to all events by default."))),n.createElement("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:M,disabled:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:s,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},s&&n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),d?"Update Admin":"Create Admin"))))}const Coe={SUPER_ADMIN:{label:"Super Admin",color:"bg-red-100 text-red-700"},ADMIN:{label:"Admin",color:"bg-purple-100 text-purple-700"},MANAGEMENT_STAFF:{label:"Management",color:"bg-blue-100 text-blue-700"}},Aoe={ACTIVATED:{label:"Active",color:"bg-green-100 text-green-700"},DEACTIVATED:{label:"Inactive",color:"bg-gray-100 text-gray-700"}},Toe=[{value:"",label:"All Roles"},{value:"SUPER_ADMIN",label:"Super Admin"},{value:"ADMIN",label:"Admin"},{value:"MANAGEMENT_STAFF",label:"Management Staff"}],Ooe=[{value:"",label:"All Status"},{value:"ACTIVATED",label:"Active"},{value:"DEACTIVATED",label:"Inactive"}];function koe(){const{admin:e}=Fn(),{admins:t,pagination:a,filters:r,isLoading:s,error:o,fetchAdmins:c,createAdmin:d,updateAdmin:m,deleteAdmin:p,updateFilters:f,changePage:h,clearError:b}=hoe(),[E,N]=y.useState(!1),[S,w]=y.useState(!1),[C,k]=y.useState(null),[A,M]=y.useState(!1),[O,D]=y.useState(null),[_,P]=y.useState(null),[R,U]=y.useState(r.search),L=y.useCallback(V=>{U(V);const we=setTimeout(()=>{f({search:V})},300);return()=>clearTimeout(we)},[f]),I=y.useCallback(V=>{f({role:V})},[f]),ae=y.useCallback(V=>{f({status:V})},[f]),ne=y.useCallback(()=>{k(null),D(null),P(null),N(!0)},[]),ue=y.useCallback(V=>{k(V),D(null),P(null),N(!0)},[]),F=y.useCallback(()=>{N(!1),k(null),D(null),P(null)},[]),G=y.useCallback(V=>{k(V),w(!0)},[]),le=y.useCallback(()=>{w(!1),k(null)},[]),te=y.useCallback(async V=>{M(!0),D(null),P(null);try{let we;C?we=await m(C._id,V):we=await d(V),we.success?F():(D(we.error),we.validationErrors&&P(we.validationErrors))}catch{D("An unexpected error occurred")}finally{M(!1)}},[C,d,m,F]),H=y.useCallback(async()=>{if(C){M(!0);try{const V=await p(C._id);V.success?le():alert(V.error||"Failed to delete admin")}catch{alert("An unexpected error occurred")}finally{M(!1)}}},[C,p,le]),j=y.useCallback(V=>{if(!V)return"-";const we=V.replace(/\D/g,"");return we.length===10?`+91 ${we.slice(0,5)} ${we.slice(5)}`:V},[]),B=y.useCallback(V=>Coe[V]||{label:V,color:"bg-gray-100 text-gray-700"},[]),X=y.useCallback(V=>Aoe[V]||{label:V,color:"bg-gray-100 text-gray-700"},[]),K=y.useCallback(V=>e?._id!==V._id,[e]),oe=y.useMemo(()=>{if(s||o||t.length>0)return null;const V=r.search||r.role||r.status;return n.createElement("tr",null,n.createElement("td",{colSpan:"5",className:"px-4 sm:px-6 py-12 text-center"},n.createElement("div",{className:"flex flex-col items-center"},n.createElement(Mt,{className:"h-10 w-10 sm:h-12 sm:w-12 text-gray-300 mb-4"}),n.createElement("h3",{className:"text-base sm:text-lg font-medium text-gray-900 mb-1"},V?"No admins found":"No admins yet"),n.createElement("p",{className:"text-sm text-gray-500 mb-4 px-4"},V?"Try adjusting your search or filter criteria":"Get started by creating a new admin"),!V&&n.createElement("button",{onClick:ne,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center gap-2 text-sm"},n.createElement(Qt,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Create Admin"))))},[s,o,t.length,r,ne]),Q=V=>{const we=B(V.role),W=X(V.status),Se=e?._id===V._id;return n.createElement("div",{key:V._id,className:`p-4 border-b border-gray-100 ${Se?"bg-blue-50/30":""}`},n.createElement("div",{className:"flex items-start justify-between gap-3"},n.createElement("div",{className:"flex items-center gap-3 min-w-0 flex-1"},n.createElement("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-purple-600 font-medium"},V.name?.charAt(0)?.toUpperCase()||"?")),n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("p",{className:"font-medium text-gray-900 truncate"},V.name,Se&&n.createElement("span",{className:"ml-2 text-xs text-blue-600"},"(You)")),n.createElement("p",{className:"text-sm text-gray-500 truncate"},"@",V.username))),n.createElement("div",{className:"flex items-center gap-1 flex-shrink-0"},n.createElement("button",{onClick:()=>ue(V),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>G(V),disabled:!K(V),className:`p-2 rounded-lg transition-all ${K(V)?"text-red-600 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,title:K(V)?"Delete":"Can't delete your own account"},n.createElement(pt,{className:"h-4 w-4"})))),n.createElement("div",{className:"mt-3 flex flex-wrap items-center gap-2"},n.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${we.color}`},we.label),n.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${W.color}`},W.label),n.createElement("span",{className:"text-xs text-gray-500"},j(V.phone)),V.role==="MANAGEMENT_STAFF"&&V.maxCashTicketsAllowed!=null&&n.createElement("span",{className:"text-xs text-gray-500"},"Max Tickets: ",V.maxCashTicketsAllowed)))};return n.createElement("div",{className:"px-2 sm:px-0"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-4 sm:mb-6"},n.createElement("div",null,n.createElement("h1",{className:"text-xl sm:text-2xl font-semibold text-gray-900"},"Admin Management"),n.createElement("p",{className:"text-sm text-gray-500 mt-0.5 sm:mt-1"},"Manage admin users and their permissions")),n.createElement("button",{onClick:ne,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors flex items-center justify-center gap-2 text-sm sm:text-base w-full sm:w-auto"},n.createElement(Qt,{className:"h-4 w-4 sm:h-5 sm:w-5"}),"Create Admin")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-3 sm:p-4 mb-4 sm:mb-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:flex-wrap items-stretch sm:items-center gap-3 sm:gap-4"},n.createElement("div",{className:"relative flex-1 sm:flex-none sm:w-64 lg:w-80"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-gray-400"}),n.createElement("input",{type:"text",placeholder:"Search by name, username, or phone...",value:R,onChange:V=>L(V.target.value),className:"w-full pl-9 sm:pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none text-sm"})),n.createElement("div",{className:"flex items-center gap-2 sm:gap-4"},n.createElement("select",{value:r.role,onChange:V=>I(V.target.value),className:"flex-1 sm:flex-none px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white text-sm"},Toe.map(V=>n.createElement("option",{key:V.value,value:V.value},V.label))),n.createElement("select",{value:r.status,onChange:V=>ae(V.target.value),className:"flex-1 sm:flex-none px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none bg-white text-sm"},Ooe.map(V=>n.createElement("option",{key:V.value,value:V.value},V.label))),n.createElement("button",{onClick:()=>c(a.page),disabled:s,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 flex-shrink-0",title:"Refresh"},n.createElement(zn,{className:`h-4 w-4 sm:h-5 sm:w-5 ${s?"animate-spin":""}`}))))),o&&n.createElement("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6 flex items-center gap-3"},n.createElement(Mt,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),n.createElement("p",{className:"text-sm text-red-700 flex-1"},o),n.createElement("button",{onClick:b,className:"text-red-500 hover:text-red-700 text-sm font-medium flex-shrink-0"},"Dismiss")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"hidden md:block overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Admin"),n.createElement("th",{className:"text-left px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Phone"),n.createElement("th",{className:"text-left px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Role"),n.createElement("th",{className:"text-left px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-4 lg:px-6 py-3 lg:py-4 text-xs lg:text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,s&&t.length===0&&n.createElement("tr",null,n.createElement("td",{colSpan:"5",className:"px-6 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-2"}),n.createElement("p",{className:"text-gray-500"},"Loading admins..."))),oe,t.map(V=>{const we=B(V.role),W=X(V.status),Se=e?._id===V._id;return n.createElement("tr",{key:V._id,className:`border-b border-gray-100 hover:bg-gray-50 ${Se?"bg-blue-50/30":""}`},n.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"w-8 h-8 lg:w-10 lg:h-10 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0"},n.createElement("span",{className:"text-purple-600 font-medium text-sm lg:text-base"},V.name?.charAt(0)?.toUpperCase()||"?")),n.createElement("div",{className:"min-w-0"},n.createElement("p",{className:"font-medium text-gray-900 text-sm lg:text-base truncate"},V.name,Se&&n.createElement("span",{className:"ml-2 text-xs text-blue-600"},"(You)")),n.createElement("p",{className:"text-xs lg:text-sm text-gray-500 truncate"},"@",V.username)))),n.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4 text-sm text-gray-600"},j(V.phone)),n.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4"},n.createElement("div",{className:"flex flex-col gap-1"},n.createElement("span",{className:`px-2 lg:px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${we.color} inline-flex items-center w-fit`},we.label),V.role==="MANAGEMENT_STAFF"&&V.maxCashTicketsAllowed!=null&&n.createElement("span",{className:"text-xs text-gray-500"},"Max: ",V.maxCashTicketsAllowed," tickets"))),n.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4"},n.createElement("span",{className:`px-2 lg:px-3 py-1 rounded-full text-xs font-medium ${W.color}`},W.label)),n.createElement("td",{className:"px-4 lg:px-6 py-3 lg:py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1 lg:gap-2"},n.createElement("button",{onClick:()=>ue(V),className:"p-1.5 lg:p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Edit"},n.createElement(Fa,{className:"h-4 w-4 lg:h-5 lg:w-5"})),n.createElement("button",{onClick:()=>G(V),disabled:!K(V),className:`p-1.5 lg:p-2 rounded-lg transition-all ${K(V)?"text-red-600 hover:bg-red-50":"text-gray-300 cursor-not-allowed"}`,title:K(V)?"Delete":"Can't delete your own account"},n.createElement(pt,{className:"h-4 w-4 lg:h-5 lg:w-5"})))))})))),n.createElement("div",{className:"md:hidden"},s&&t.length===0&&n.createElement("div",{className:"px-4 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 animate-spin text-blue-600 mx-auto mb-2"}),n.createElement("p",{className:"text-gray-500 text-sm"},"Loading admins...")),!s&&!o&&t.length===0&&n.createElement("div",{className:"px-4 py-12 text-center"},n.createElement(Mt,{className:"h-10 w-10 text-gray-300 mx-auto mb-4"}),n.createElement("h3",{className:"text-base font-medium text-gray-900 mb-1"},r.search||r.role||r.status?"No admins found":"No admins yet"),n.createElement("p",{className:"text-sm text-gray-500 mb-4"},r.search||r.role||r.status?"Try adjusting your search or filter criteria":"Get started by creating a new admin"),!(r.search||r.role||r.status)&&n.createElement("button",{onClick:ne,className:"px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors inline-flex items-center gap-2 text-sm"},n.createElement(Qt,{className:"h-4 w-4"}),"Create Admin")),t.map(Q)),a.totalPages>0&&n.createElement(ga,{currentPage:a.page,totalPages:a.totalPages,totalItems:a.total,itemsPerPage:a.limit,onPageChange:h,itemLabel:"admins"})),n.createElement(Soe,{isOpen:E,onClose:F,onSubmit:te,admin:C,isLoading:A,serverError:O,validationErrors:_}),n.createElement(Va,{isOpen:S,onClose:le,onConfirm:H,title:"Delete Admin",message:`Are you sure you want to delete "${C?.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:A}))}function Doe(){return n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-6"},n.createElement("h2",{className:"text-2xl font-bold text-gray-900 mb-4"},"Payment History"),n.createElement("p",{className:"text-gray-600"},"View payment history here."))}const us={BASE:"/web/offline-cash",ALLOWED_EVENTS:"/web/offline-cash/allowed-events",GET_BY_ID:e=>`/web/offline-cash/${e}`,DELETE:e=>`/web/offline-cash/${e}`,EVENT_ENROLLMENTS:e=>`/web/offline-cash/event/${e}/enrollments`},vo={getAllowedEvents:async(e={})=>{const t=new URLSearchParams;e.search&&t.append("search",e.search),e.isLive!==void 0&&t.append("isLive",e.isLive);const a=t.toString(),r=a?`${us.ALLOWED_EVENTS}?${a}`:us.ALLOWED_EVENTS;console.log("[OfflineCashService] Fetching allowed events with params:",e);const s=await Ee(be.get(r));return s.success?console.log("[OfflineCashService] Fetched allowed events:",s.data.events?.length):console.error("[OfflineCashService] Failed to fetch allowed events:",s.message),s},create:async e=>{console.log("[OfflineCashService] Creating offline cash record for phone:",e.phone);const t=await Ee(be.post(us.BASE,e));return t.success?console.log("[OfflineCashService] Record created successfully, link:",t.data.link):console.error("[OfflineCashService] Failed to create record:",t.message),t},getAll:async(e={})=>{const t=new URLSearchParams;e.eventId&&t.append("eventId",e.eventId),e.redeemed!==void 0&&e.redeemed!==""&&t.append("redeemed",e.redeemed),e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit);const a=t.toString(),r=a?`${us.BASE}?${a}`:us.BASE;console.log("[OfflineCashService] Fetching offline cash records with params:",e);const s=await Ee(be.get(r));return s.success?console.log("[OfflineCashService] Fetched records:",s.data.records?.length):console.error("[OfflineCashService] Failed to fetch records:",s.message),s},getById:async e=>{console.log("[OfflineCashService] Fetching record by ID:",e);const t=await Ee(be.get(us.GET_BY_ID(e)));return t.success?console.log("[OfflineCashService] Fetched record:",t.data._id):console.error("[OfflineCashService] Failed to fetch record:",t.message),t},delete:async e=>{console.log("[OfflineCashService] Deleting record:",e);const t=await Ee(be.delete(us.DELETE(e)));return t.success?console.log("[OfflineCashService] Record deleted successfully"):console.error("[OfflineCashService] Failed to delete record:",t.message),t},getEventEnrollments:async(e,t={})=>{const a=new URLSearchParams;t.status&&a.append("status",t.status),t.page&&a.append("page",t.page),t.limit&&a.append("limit",t.limit);const r=a.toString(),s=us.EVENT_ENROLLMENTS(e),o=r?`${s}?${r}`:s;console.log("[OfflineCashService] Fetching event enrollments:",e,t);const c=await Ee(be.get(o));return c.success?console.log("[OfflineCashService] Fetched enrollments:",c.data.enrollments?.length):console.error("[OfflineCashService] Failed to fetch enrollments:",c.message),c}};function _oe(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({total:0,page:1,limit:20,totalPages:0}),[o,c]=y.useState({eventId:"",redeemed:"",...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),[h,b]=y.useState([]),[E,N]=y.useState(!1),[S,w]=y.useState(null),C=y.useRef(null),k=y.useCallback(async(ue="")=>{N(!0),w(null);try{const F={};ue&&(F.search=ue);const G=await vo.getAllowedEvents(F);G.success?b(G.data.events||[]):(w(G.message),b([]))}catch{w("Failed to fetch allowed events"),b([])}finally{N(!1)}},[]),A=y.useCallback(ue=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{k(ue)},300)},[k]),M=y.useCallback(async(ue=r.page)=>{m(!0),f(null);try{const F={page:ue,limit:r.limit,...o.eventId&&{eventId:o.eventId},...o.redeemed!==""&&{redeemed:o.redeemed}},G=await vo.getAll(F);G.success?(a(G.data.records||[]),s({total:G.data.pagination?.total||0,page:G.data.pagination?.page||1,limit:G.data.pagination?.limit||20,totalPages:G.data.pagination?.pages||0})):(f(G.message),a([]))}catch{f("Failed to fetch cash ticket records"),a([])}finally{m(!1)}},[o,r.limit]),O=y.useCallback(async ue=>{m(!0),f(null);try{const F=await vo.create(ue);return F.success?(await M(1),{success:!0,data:F.data}):F.status===409&&F.error?.existingLink?{success:!1,error:F.message,existingLink:F.error.existingLink,signature:F.error.signature}:{success:!1,error:F.message,validationErrors:F.error}}catch{return{success:!1,error:"Failed to create cash ticket"}}finally{m(!1)}},[M]),D=y.useCallback(async ue=>{try{const F=await vo.getById(ue);return F.success?{success:!0,data:F.data}:{success:!1,error:F.message}}catch{return{success:!1,error:"Failed to fetch record details"}}},[]),_=y.useCallback(async ue=>{m(!0),f(null);try{const F=await vo.delete(ue);return F.success?(a(G=>G.filter(le=>le._id!==ue)),s(G=>({...G,total:G.total-1,totalPages:Math.ceil((G.total-1)/G.limit)})),{success:!0}):{success:!1,error:F.message}}catch{return{success:!1,error:"Failed to delete record"}}finally{m(!1)}},[]),P=y.useCallback(async(ue,F={})=>{try{const G=await vo.getEventEnrollments(ue,F);return G.success?{success:!0,data:{enrollments:G.data.enrollments||[],pagination:G.data.pagination}}:{success:!1,error:G.message}}catch{return{success:!1,error:"Failed to fetch enrollments"}}},[]),R=y.useCallback(ue=>{c(F=>({...F,...ue}))},[]),U=y.useCallback(()=>{c({eventId:"",redeemed:"",...e})},[e]),L=y.useCallback(ue=>{M(ue)},[M]),I=y.useCallback(ue=>{s(F=>({...F,limit:ue}))},[]),ae=y.useCallback(()=>{f(null)},[]),ne=y.useCallback(()=>{w(null)},[]);return y.useEffect(()=>{M(1)},[o]),y.useEffect(()=>{k()},[k]),y.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]),{records:t,pagination:r,filters:o,isLoading:d,error:p,allowedEvents:h,eventsLoading:E,eventsError:S,fetchRecords:M,createRecord:O,getRecordById:D,deleteRecord:_,getEventEnrollments:P,fetchAllowedEvents:k,searchEvents:A,updateFilters:R,resetFilters:U,changePage:L,changeLimit:I,clearError:ae,clearEventsError:ne}}const Poe=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"",Moe=e=>e==null?"":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Gk={TECHNOLOGY:"bg-blue-100 text-gray-900",MUSIC:"bg-purple-100 text-purple-700",SPORTS:"bg-green-100 text-green-700",BUSINESS:"bg-yellow-100 text-yellow-700",EDUCATION:"bg-indigo-100 text-indigo-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",DEFAULT:"bg-gray-100 text-gray-700"};function Roe({selectedId:e="",onChange:t,events:a=[],isLoading:r=!1,onSearch:s,disabled:o=!1,placeholder:c="Select an event...",error:d}){const[m,p]=y.useState(!1),[f,h]=y.useState(""),[b,E]=y.useState(-1),N=y.useRef(null),S=y.useRef(null),w=y.useRef(null),C=y.useMemo(()=>{if(!f.trim())return a;const R=f.toLowerCase();return a.filter(U=>U.name.toLowerCase().includes(R)||U.category?.toLowerCase().includes(R))},[a,f]),k=y.useMemo(()=>a.find(R=>R._id===e),[a,e]);y.useEffect(()=>{const R=U=>{N.current&&!N.current.contains(U.target)&&(p(!1),h(""),E(-1))};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const A=y.useCallback(R=>{const U=R.target.value;h(U),E(-1),s&&s(U)},[s]),M=y.useCallback(R=>{o||(t(R._id,R),p(!1),h(""),E(-1))},[t,o]),O=y.useCallback(R=>{R.stopPropagation(),!o&&t("",null)},[t,o]),D=y.useCallback(()=>{o||(p(!0),setTimeout(()=>S.current?.focus(),0))},[o]),_=y.useCallback(R=>{if(!m){(R.key==="Enter"||R.key===" "||R.key==="ArrowDown")&&(R.preventDefault(),p(!0));return}switch(R.key){case"Escape":p(!1),h(""),E(-1);break;case"ArrowDown":R.preventDefault(),E(U=>U<C.length-1?U+1:U);break;case"ArrowUp":R.preventDefault(),E(U=>U>0?U-1:0);break;case"Enter":R.preventDefault(),b>=0&&C[b]&&M(C[b]);break}},[m,C,b,M]);y.useEffect(()=>{if(b>=0&&w.current){const R=w.current.children[b];R&&R.scrollIntoView({block:"nearest"})}},[b]);const P=R=>Gk[R]||Gk.DEFAULT;return n.createElement("div",{ref:N,className:"relative",onKeyDown:_},n.createElement("div",{onClick:D,className:`min-h-[42px] px-2 sm:px-3 py-2 border rounded-lg cursor-pointer transition-colors ${o?"bg-gray-100 cursor-not-allowed":m?"border-gray-800":d?"border-red-500":"border-gray-300 hover:border-gray-400"}`,tabIndex:o?-1:0,role:"combobox","aria-expanded":m,"aria-haspopup":"listbox"},n.createElement("div",{className:"flex items-center gap-2"},k?n.createElement("div",{className:"flex-1 flex items-center gap-2 min-w-0"},n.createElement("span",{className:"truncate text-sm font-medium text-gray-900"},k.name),k.isLive&&n.createElement("span",{className:"shrink-0 px-1.5 py-0.5 bg-green-100 text-green-700 text-xs rounded"},"Live"),!o&&n.createElement("button",{type:"button",onClick:O,className:"shrink-0 p-0.5 hover:bg-gray-200 rounded"},n.createElement(Na,{className:"h-4 w-4 text-gray-500"}))):n.createElement("span",{className:"flex-1 text-gray-400 text-sm"},c),n.createElement(Ln,{className:`h-4 w-4 sm:h-5 sm:w-5 text-gray-400 shrink-0 transition-transform ${m?"rotate-180":""}`}))),d&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500 flex items-center gap-1"},n.createElement(Mt,{className:"h-3 w-3 sm:h-4 sm:w-4"}),d),m&&!o&&n.createElement("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg"},n.createElement("div",{className:"p-2 border-b border-gray-200"},n.createElement("div",{className:"relative"},n.createElement(za,{className:"absolute left-2.5 sm:left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{ref:S,type:"text",value:f,onChange:A,placeholder:"Search events...",className:"w-full pl-8 sm:pl-9 pr-4 py-2 border border-gray-300 rounded-md focus:border-gray-800 outline-none text-sm"}),r&&n.createElement(Fe,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400 animate-spin"}))),n.createElement("div",{className:"px-2 py-1.5 border-b border-gray-200 bg-gray-50"},n.createElement("span",{className:"text-xs text-gray-500"},C.length," event",C.length!==1?"s":""," available")),n.createElement("div",{ref:w,className:"max-h-60 sm:max-h-72 overflow-y-auto",role:"listbox"},C.length===0?n.createElement("div",{className:"px-4 py-6 sm:py-8 text-center text-gray-500 text-sm"},r?n.createElement("div",{className:"flex flex-col items-center gap-2"},n.createElement(Fe,{className:"h-5 w-5 sm:h-6 sm:w-6 animate-spin"}),n.createElement("span",null,"Loading events...")):f?n.createElement("span",null,'No events found for "',f,'"'):n.createElement("span",null,"No events available")):C.map((R,U)=>{const L=R._id===e,I=U===b;return n.createElement("div",{key:R._id,onClick:()=>M(R),className:`px-2 sm:px-3 py-2 sm:py-3 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors ${L?"bg-blue-50":I?"bg-gray-100":"hover:bg-gray-50"}`,role:"option","aria-selected":L},n.createElement("div",{className:"flex items-start gap-2 sm:gap-3"},n.createElement("div",{className:`shrink-0 w-4 h-4 sm:w-5 sm:h-5 rounded-full border-2 flex items-center justify-center mt-0.5 ${L?"bg-gray-800 border-gray-800":"border-gray-300"}`},L&&n.createElement(cn,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 text-white"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap"},n.createElement("p",{className:"font-medium text-gray-900 text-sm truncate"},R.name),R.isLive&&n.createElement("span",{className:"shrink-0 px-1 sm:px-1.5 py-0.5 bg-green-100 text-green-700 text-xs rounded"},"Live")),n.createElement("div",{className:"flex items-center gap-1.5 sm:gap-2 mt-1 flex-wrap"},R.category&&n.createElement("span",{className:`px-1 sm:px-1.5 py-0.5 text-xs rounded ${P(R.category)}`},R.category),R.startDate&&n.createElement("span",{className:"flex items-center gap-1 text-xs text-gray-500"},n.createElement(Rt,{className:"h-3 w-3"}),Poe(R.startDate)),R.price!==void 0&&n.createElement("span",{className:"text-xs text-gray-600 font-medium"},Moe(R.price))))))}))))}const Loe=e=>e==null?"":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),joe=e=>{const t={};if(e.eventId||(t.eventId="Event is required"),!e.phone.trim())t.phone="Phone number is required";else{const a=e.phone.replace(/[^0-9]/g,"");(a.length<10||a.length>15)&&(t.phone="Phone must be 10-15 digits")}return!e.ticketCount||e.ticketCount<1?t.ticketCount="At least 1 ticket is required":e.ticketCount>100&&(t.ticketCount="Maximum 100 tickets allowed"),e.priceCharged&&e.priceCharged<0&&(t.priceCharged="Price cannot be negative"),{isValid:Object.keys(t).length===0,errors:t}},vb=()=>({eventId:"",phone:"",ticketCount:1,priceCharged:"",notes:""});function zoe({isOpen:e,onClose:t,onSubmit:a,isLoading:r=!1,serverError:s=null,existingLinkData:o=null,allowedEvents:c=[],eventsLoading:d=!1,onSearchEvents:m}){const[p,f]=y.useState(vb()),[h,b]=y.useState({}),[E,N]=y.useState(null),[S,w]=y.useState(null),[C,k]=y.useState(!1);y.useEffect(()=>{e&&(f(vb()),b({}),N(null),w(null),k(!1))},[e]),y.useEffect(()=>{o&&w({link:o.existingLink,isExisting:!0})},[o]);const A=y.useCallback(U=>{const{name:L,value:I,type:ae}=U.target;let ne=I;ae==="number"&&(ne=I===""?"":Number(I)),f(ue=>({...ue,[L]:ne})),h[L]&&b(ue=>({...ue,[L]:null}))},[h]),M=y.useCallback((U,L)=>{f(I=>({...I,eventId:U})),N(L),L?.price&&f(I=>({...I,eventId:U,priceCharged:I.priceCharged||L.price*(I.ticketCount||1)})),h.eventId&&b(I=>({...I,eventId:null}))},[h.eventId]),O=y.useCallback(U=>{const L=U.target.value===""?"":Number(U.target.value);f(I=>{const ae={...I,ticketCount:L};return E?.price&&L&&(ae.priceCharged=E.price*L),ae}),h.ticketCount&&b(I=>({...I,ticketCount:null}))},[E,h.ticketCount]),D=y.useCallback(async()=>{if(S?.link)try{await navigator.clipboard.writeText(S.link),k(!0),setTimeout(()=>k(!1),2e3)}catch(U){console.error("[CashTicketForm] Failed to copy:",U)}},[S]),_=async U=>{U.preventDefault();const L=joe(p);if(!L.isValid){b(L.errors);return}const I={eventId:p.eventId,phone:p.phone.replace(/[^0-9]/g,""),ticketCount:Number(p.ticketCount)};p.priceCharged!==""&&p.priceCharged!==null&&(I.priceCharged=Number(p.priceCharged)),p.notes.trim()&&(I.notes=p.notes.trim());const ae=await a(I);ae?.success&&ae.data&&w({link:ae.data.link,isExisting:!1,ticketCount:ae.data.ticketCount,event:ae.data.event,phone:ae.data.phone})},P=y.useCallback(()=>{r||t()},[r,t]),R=y.useCallback(()=>{f(vb()),N(null),w(null),k(!1),b({})},[]);return n.createElement(Zt,{isOpen:e,onClose:P,title:S?"Ticket Link Generated":"Generate Cash Ticket Link",size:"xl",closeOnOverlayClick:!r},S?n.createElement("div",{className:"space-y-4"},S.isExisting&&n.createElement("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-start gap-2"},n.createElement(Mt,{className:"h-5 w-5 text-yellow-600 shrink-0 mt-0.5"}),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium text-yellow-800"},"Existing Link Found"),n.createElement("p",{className:"text-sm text-yellow-700 mt-0.5"},"An unredeemed ticket link already exists for this phone and event."))),!S.isExisting&&n.createElement("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg"},n.createElement("p",{className:"text-sm font-medium text-green-800"},"Success!"),n.createElement("p",{className:"text-sm text-green-700 mt-0.5"},"Cash ticket link has been generated successfully.")),S.event&&n.createElement("div",{className:"p-3 bg-gray-50 rounded-lg space-y-1"},n.createElement("p",{className:"text-sm"},n.createElement("span",{className:"text-gray-500"},"Event:")," ",n.createElement("span",{className:"font-medium text-gray-900"},S.event.name)),n.createElement("p",{className:"text-sm"},n.createElement("span",{className:"text-gray-500"},"Phone:")," ",n.createElement("span",{className:"font-medium text-gray-900"},S.phone)),n.createElement("p",{className:"text-sm"},n.createElement("span",{className:"text-gray-500"},"Tickets:")," ",n.createElement("span",{className:"font-medium text-gray-900"},S.ticketCount))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Redemption Link"),n.createElement("div",{className:"flex gap-2"},n.createElement("input",{type:"text",value:S.link,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm text-gray-700 truncate"}),n.createElement("button",{type:"button",onClick:D,className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 shrink-0 ${C?"bg-green-600 text-white":"bg-gray-800 text-white hover:bg-gray-900"}`},C?n.createElement(n.Fragment,null,n.createElement(cn,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline"},"Copied!")):n.createElement(n.Fragment,null,n.createElement(eg,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline"},"Copy"))),n.createElement("a",{href:S.link,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-2 shrink-0"},n.createElement(hE,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline"},"Open")))),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:P,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Close"),n.createElement("button",{type:"button",onClick:R,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Create Another"))):n.createElement("form",{onSubmit:_,className:"space-y-4"},s&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("p",{className:"text-sm text-red-700"},s)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Event ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement(Roe,{selectedId:p.eventId,onChange:M,events:c,isLoading:d,onSearch:m,disabled:r,placeholder:"Search and select an event...",error:h.eventId})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"tel",name:"phone",value:p.phone,onChange:A,disabled:r,placeholder:"Enter customer phone number",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.phone?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),h.phone&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},h.phone)),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Number of Tickets ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"number",name:"ticketCount",value:p.ticketCount,onChange:O,disabled:r,min:"1",max:"100",placeholder:"1",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.ticketCount?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),h.ticketCount&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},h.ticketCount)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Price Charged (INR) ",n.createElement("span",{className:"text-gray-400"},"(Optional)")),n.createElement("input",{type:"number",name:"priceCharged",value:p.priceCharged,onChange:A,disabled:r,min:"0",placeholder:"0",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${h.priceCharged?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),h.priceCharged&&n.createElement("p",{className:"mt-1 text-xs sm:text-sm text-red-500"},h.priceCharged),E?.price&&n.createElement("p",{className:"mt-1 text-xs text-gray-500"},"Base price: ",Loe(E.price),"/ticket"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Notes ",n.createElement("span",{className:"text-gray-400"},"(Optional)")),n.createElement("textarea",{name:"notes",value:p.notes,onChange:A,disabled:r,rows:2,placeholder:"Add any notes about this transaction",className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none transition-colors resize-none ${r?"bg-gray-100":""}`})),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:P,disabled:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:r,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},r&&n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),"Generate Link"))))}const wf=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Uoe=e=>e==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function Sf({icon:e,label:t,value:a,className:r=""}){return n.createElement("div",{className:`flex items-start gap-3 ${r}`},n.createElement("div",{className:"shrink-0 w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center"},n.createElement(e,{className:"h-4 w-4 text-gray-600"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"text-xs text-gray-500"},t),n.createElement("p",{className:"text-sm font-medium text-gray-900 break-words"},a||"-")))}function Ioe({isOpen:e,onClose:t,record:a,isLoading:r=!1}){const[s,o]=y.useState(!1);y.useEffect(()=>{e||o(!1)},[e]);const c=y.useCallback(async()=>{if(a?.link)try{await navigator.clipboard.writeText(a.link),o(!0),setTimeout(()=>o(!1),2e3)}catch(d){console.error("[CashTicketDetailsModal] Failed to copy:",d)}},[a?.link]);return n.createElement(Zt,{isOpen:e,onClose:t,title:"Cash Ticket Details",size:"lg"},r?n.createElement("div",{className:"flex flex-col items-center justify-center py-12"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading details...")):a?n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium ${a.redeemed?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`},a.redeemed?n.createElement(n.Fragment,null,n.createElement(Ml,{className:"h-4 w-4"}),"Redeemed"):n.createElement(n.Fragment,null,n.createElement(oa,{className:"h-4 w-4"}),"Pending Redemption")),a.redeemedAt&&n.createElement("span",{className:"text-xs text-gray-500"},wf(a.redeemedAt))),n.createElement("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100"},n.createElement("div",{className:"flex items-start gap-3"},n.createElement("div",{className:"shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},n.createElement(Rt,{className:"h-5 w-5 text-gray-800"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"text-xs text-gray-800 font-medium"},"Event"),n.createElement("p",{className:"text-base font-semibold text-gray-900 truncate"},a.eventId?.name||"Unknown Event"),a.eventId?.startDate&&n.createElement("p",{className:"text-xs text-gray-500 mt-1"},wf(a.eventId.startDate),a.eventId?.endDate&&` - ${wf(a.eventId.endDate)}`)))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement(Sf,{icon:ag,label:"Phone Number",value:a.generatedFor}),n.createElement(Sf,{icon:No,label:"Ticket Count",value:`${a.ticketCount} ticket${a.ticketCount!==1?"s":""}`}),n.createElement(Sf,{icon:jU,label:"Price Charged",value:Uoe(a.priceCharged)}),n.createElement(Sf,{icon:oa,label:"Created At",value:wf(a.createdAt)})),a.generatedBy&&n.createElement("div",{className:"p-3 bg-gray-50 rounded-lg"},n.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Generated By"),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center"},n.createElement(Ns,{className:"h-4 w-4 text-gray-600"})),n.createElement("div",null,n.createElement("p",{className:"text-sm font-medium text-gray-900"},a.generatedBy.name||"Unknown"),n.createElement("p",{className:"text-xs text-gray-500"},a.generatedBy.email)))),a.notes&&n.createElement("div",{className:"p-3 bg-gray-50 rounded-lg"},n.createElement("div",{className:"flex items-center gap-2 mb-2"},n.createElement(hD,{className:"h-4 w-4 text-gray-500"}),n.createElement("p",{className:"text-xs text-gray-500 font-medium"},"Notes")),n.createElement("p",{className:"text-sm text-gray-700"},a.notes)),!a.redeemed&&a.link&&n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Redemption Link"),n.createElement("div",{className:"flex gap-2"},n.createElement("input",{type:"text",value:a.link,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm text-gray-700 truncate"}),n.createElement("button",{type:"button",onClick:c,className:`px-3 py-2 rounded-lg transition-colors flex items-center gap-1.5 shrink-0 ${s?"bg-green-600 text-white":"bg-gray-800 text-white hover:bg-gray-900"}`},s?n.createElement(n.Fragment,null,n.createElement(cn,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline text-sm"},"Copied!")):n.createElement(n.Fragment,null,n.createElement(eg,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline text-sm"},"Copy"))),n.createElement("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center gap-1.5 shrink-0"},n.createElement(hE,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline text-sm"},"Open")))),a.signature&&n.createElement("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200"},n.createElement("span",{className:"text-xs text-gray-400"},"Signature"),n.createElement("code",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded"},a.signature)),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:t,className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium"},"Close"))):n.createElement("div",{className:"flex flex-col items-center justify-center py-12"},n.createElement(Ti,{className:"h-12 w-12 text-gray-300"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No record data available")))}const Kk=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",Yk=e=>e==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),Cf={redeemed:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700"};function Foe(){const{admin:e}=Fn(),{records:t,pagination:a,filters:r,isLoading:s,error:o,allowedEvents:c,eventsLoading:d,fetchRecords:m,createRecord:p,getRecordById:f,deleteRecord:h,searchEvents:b,updateFilters:E,changePage:N,clearError:S}=_oe(),w=y.useMemo(()=>e?.role==="ADMIN"||e?.role==="SUPER_ADMIN",[e?.role]),C=y.useMemo(()=>e?.role==="MANAGEMENT_STAFF"?t.filter(pe=>pe.generatedBy?._id===e._id):t,[t,e?.role,e?._id]),[k,A]=y.useState(!1),[M,O]=y.useState(!1),[D,_]=y.useState(!1),[P,R]=y.useState(null),[U,L]=y.useState(!1),[I,ae]=y.useState(!1),[ne,ue]=y.useState(null),[F,G]=y.useState(null),[le,te]=y.useState(null),[H,j]=y.useState(!1),[B,X]=y.useState(r.eventId||""),[K,oe]=y.useState(r.redeemed||""),Q=y.useCallback(()=>{ue(null),G(null),A(!0)},[]),V=y.useCallback(()=>{A(!1),ue(null),G(null)},[]),we=y.useCallback(async pe=>{ae(!0),ue(null),G(null);try{const qe=await p(pe);return qe.success?qe:qe.existingLink?(G({existingLink:qe.existingLink,signature:qe.signature}),{success:!1}):(ue(qe.error||"Failed to create cash ticket"),{success:!1})}catch{return ue("An unexpected error occurred"),{success:!1}}finally{ae(!1)}},[p]),W=y.useCallback(async pe=>{R(pe),O(!0),L(!0);try{const qe=await f(pe._id);qe.success&&R(qe.data)}catch(qe){console.error("[CashTickets] Failed to fetch details:",qe)}finally{L(!1)}},[f]),Se=y.useCallback(()=>{O(!1),R(null)},[]),Te=y.useCallback(pe=>{R(pe),_(!0)},[]),ge=y.useCallback(()=>{_(!1),R(null)},[]),$e=y.useCallback(async()=>{if(P){ae(!0);try{const pe=await h(P._id);pe.success?ge():alert(pe.error||"Failed to delete record")}catch{alert("An unexpected error occurred")}finally{ae(!1)}}},[P,h,ge]),Pe=y.useCallback(async(pe,qe)=>{try{await navigator.clipboard.writeText(pe),te(qe),setTimeout(()=>te(null),2e3)}catch(He){console.error("[CashTickets] Failed to copy:",He)}},[]),ve=y.useCallback(()=>{E({eventId:B,redeemed:K}),j(!1)},[B,K,E]),Ue=y.useCallback(()=>{X(""),oe(""),E({eventId:"",redeemed:""}),j(!1)},[E]),xe=y.useCallback(()=>{m(a.page)},[m,a.page]),Le=y.useMemo(()=>r.eventId||r.redeemed!=="",[r]),Et=y.useMemo(()=>C.reduce((pe,qe)=>pe+(qe.ticketCount||0),0),[C]),Ht=y.useMemo(()=>e?.role==="MANAGEMENT_STAFF"&&e?.maxCashTicketsAllowed!=null,[e?.role,e?.maxCashTicketsAllowed]),Tt=y.useMemo(()=>Ht?Math.min(100,Et/e.maxCashTicketsAllowed*100):0,[Ht,Et,e?.maxCashTicketsAllowed]),Ae=Tt>=80,ce=Et>=e?.maxCashTicketsAllowed;return n.createElement("div",{className:"space-y-4 sm:space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"Cash Tickets"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Generate and manage offline cash payment ticket links")),n.createElement("button",{onClick:Q,disabled:ce,className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg transition-colors font-medium ${ce?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-900"}`,title:ce?"Ticket limit reached":"Generate new ticket link"},n.createElement(Qt,{className:"h-5 w-5"}),n.createElement("span",null,"Generate Link"))),Ht&&n.createElement("div",{className:`p-4 rounded-xl border ${ce?"bg-red-50 border-red-200":Ae?"bg-yellow-50 border-yellow-200":"bg-blue-50 border-blue-200"}`},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3"},n.createElement("div",{className:"flex-1"},n.createElement("div",{className:"flex items-center gap-2 mb-2"},n.createElement(No,{className:`h-5 w-5 ${ce?"text-red-600":Ae?"text-yellow-600":"text-gray-800"}`}),n.createElement("h3",{className:`font-medium ${ce?"text-red-800":Ae?"text-yellow-800":"text-blue-800"}`},"Ticket Generation Limit")),n.createElement("p",{className:`text-sm ${ce?"text-red-700":Ae?"text-yellow-700":"text-blue-700"}`},ce?n.createElement(n.Fragment,null,"You have reached your maximum ticket limit. Contact your administrator to increase your limit."):n.createElement(n.Fragment,null,"You have created"," ",n.createElement("span",{className:"font-semibold"},Et," of ",e.maxCashTicketsAllowed)," ","tickets (",e.maxCashTicketsAllowed-Et," remaining)"))),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"text-right"},n.createElement("div",{className:`text-2xl font-bold ${ce?"text-red-700":Ae?"text-yellow-700":"text-blue-700"}`},Et),n.createElement("div",{className:`text-xs ${ce?"text-red-600":Ae?"text-yellow-600":"text-gray-800"}`},"of ",e.maxCashTicketsAllowed)))),n.createElement("div",{className:"mt-3"},n.createElement("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden"},n.createElement("div",{className:`h-full transition-all duration-300 ${ce?"bg-red-600":Ae?"bg-yellow-500":"bg-blue-600"}`,style:{width:`${Tt}%`}})))),o&&n.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("div",{className:"flex-1"},n.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading records"),n.createElement("p",{className:"text-sm text-red-700 mt-0.5"},o)),n.createElement("button",{onClick:S,className:"shrink-0 text-red-600 hover:text-red-800"},"")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},n.createElement("button",{onClick:()=>j(!H),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Le?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),Le&&n.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(r.eventId?1:0)+(r.redeemed!==""?1:0)),n.createElement(Ln,{className:`h-4 w-4 transition-transform ${H?"rotate-180":""}`})),n.createElement("button",{onClick:xe,disabled:s,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},n.createElement(zn,{className:`h-4 w-4 ${s?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Refresh")),n.createElement("div",{className:"ml-auto text-sm text-gray-500"},a.total," record",a.total!==1?"s":""," total")),H&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Event"),n.createElement("select",{value:B,onChange:pe=>X(pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Events"),c.map(pe=>n.createElement("option",{key:pe._id,value:pe._id},pe.name)))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),n.createElement("select",{value:K,onChange:pe=>oe(pe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Status"),n.createElement("option",{value:"false"},"Pending"),n.createElement("option",{value:"true"},"Redeemed"))),n.createElement("div",{className:"flex items-end gap-2 sm:col-span-2 lg:col-span-1"},n.createElement("button",{onClick:ve,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),n.createElement("button",{onClick:Ue,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),n.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Event"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Phone"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Details"),w&&n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Created By"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,s&&C.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:w?6:5,className:"px-6 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading records..."))):C.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:w?6:5,className:"px-6 py-12 text-center"},n.createElement(No,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No records found"),n.createElement("button",{onClick:Q,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Generate your first ticket link"))):C.map(pe=>n.createElement("tr",{key:pe._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center shrink-0"},n.createElement(Rt,{className:"h-4 w-4 text-gray-800"})),n.createElement("span",{className:"font-medium text-gray-900 truncate max-w-[200px]"},pe.eventId?.name||"Unknown Event"))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-2 text-gray-600"},n.createElement(ag,{className:"h-4 w-4 text-gray-400"}),pe.generatedFor)),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex flex-col"},n.createElement("span",{className:"text-gray-900 font-medium"},pe.ticketCount," x ",Yk(pe.priceCharged)),n.createElement("span",{className:"text-xs text-gray-500 mt-0.5"},Kk(pe.createdAt)))),w&&n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex flex-col"},n.createElement("span",{className:"text-gray-900 font-medium"},pe.generatedBy?.name||"-"),(pe.generatedBy?.email||pe.generatedBy?.phone)&&n.createElement("span",{className:"text-xs text-gray-500 mt-0.5"},pe.generatedBy?.email||pe.generatedBy?.phone))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${pe.redeemed?Cf.redeemed:Cf.pending}`},pe.redeemed?"Redeemed":"Pending")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1"},!pe.redeemed&&pe.link&&n.createElement("button",{onClick:()=>Pe(pe.link,pe._id),className:`p-2 rounded-lg transition-colors ${le===pe._id?"text-green-600 bg-green-50":"text-gray-600 hover:bg-gray-100"}`,title:"Copy link"},le===pe._id?n.createElement(cn,{className:"h-4 w-4"}):n.createElement(eg,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>W(pe),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},n.createElement(Vt,{className:"h-4 w-4"})),!pe.redeemed&&n.createElement("button",{onClick:()=>Te(pe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},n.createElement(pt,{className:"h-4 w-4"}))))))))),a.totalPages>0&&n.createElement(ga,{currentPage:a.page,totalPages:a.totalPages,totalItems:a.total,itemsPerPage:a.limit,onPageChange:N,itemLabel:"records"})),n.createElement("div",{className:"md:hidden space-y-4"},s&&C.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading records...")):C.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(No,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No records found"),n.createElement("button",{onClick:Q,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Generate your first ticket link")):n.createElement(n.Fragment,null,C.map(pe=>n.createElement("div",{key:pe._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},n.createElement("div",{className:"flex items-start justify-between gap-3"},n.createElement("div",{className:"flex items-center gap-2 min-w-0"},n.createElement("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center shrink-0"},n.createElement(Rt,{className:"h-5 w-5 text-gray-800"})),n.createElement("div",{className:"min-w-0"},n.createElement("p",{className:"font-medium text-gray-900 truncate"},pe.eventId?.name||"Unknown Event"),n.createElement("p",{className:"text-xs text-gray-500"},Kk(pe.createdAt)))),n.createElement("span",{className:`shrink-0 px-2.5 py-1 rounded-full text-xs font-medium ${pe.redeemed?Cf.redeemed:Cf.pending}`},pe.redeemed?"Redeemed":"Pending")),n.createElement("div",{className:"grid grid-cols-2 gap-3 text-sm"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(ag,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-gray-600"},pe.generatedFor)),n.createElement("div",{className:"flex items-center gap-2"},n.createElement(No,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-gray-600"},pe.ticketCount," x ",Yk(pe.priceCharged)))),w&&n.createElement("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100"},n.createElement("span",{className:"text-sm text-gray-500"},"Created By"),n.createElement("div",{className:"flex flex-col items-end"},n.createElement("span",{className:"text-sm font-medium text-gray-900"},pe.generatedBy?.name||"-"),(pe.generatedBy?.email||pe.generatedBy?.phone)&&n.createElement("span",{className:"text-xs text-gray-500"},pe.generatedBy?.email||pe.generatedBy?.phone))),n.createElement("div",{className:"flex items-center gap-2 pt-2 border-t border-gray-100"},!pe.redeemed&&pe.link&&n.createElement("button",{onClick:()=>Pe(pe.link,pe._id),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${le===pe._id?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`},le===pe._id?n.createElement(n.Fragment,null,n.createElement(cn,{className:"h-4 w-4"}),"Copied!"):n.createElement(n.Fragment,null,n.createElement(eg,{className:"h-4 w-4"}),"Copy Link")),n.createElement("button",{onClick:()=>W(pe),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},n.createElement(Vt,{className:"h-4 w-4"}),"Details"),!pe.redeemed&&n.createElement("button",{onClick:()=>Te(pe),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},n.createElement(pt,{className:"h-4 w-4"}))))),a.totalPages>0&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:a.page,totalPages:a.totalPages,totalItems:a.total,itemsPerPage:a.limit,onPageChange:N,itemLabel:"records"})))),n.createElement(zoe,{isOpen:k,onClose:V,onSubmit:we,isLoading:I,serverError:ne,existingLinkData:F,allowedEvents:c,eventsLoading:d,onSearchEvents:b}),n.createElement(Ioe,{isOpen:M,onClose:Se,record:P,isLoading:U}),n.createElement(Va,{isOpen:D,onClose:ge,onConfirm:$e,title:"Delete Cash Ticket",message:`Are you sure you want to delete this cash ticket for ${P?.generatedFor}? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:I}))}const tn={BASE:"/web/vouchers",GET_BY_ID:e=>`/web/vouchers/${e}`,UPDATE:e=>`/web/vouchers/${e}`,DELETE:e=>`/web/vouchers/${e}`,ENABLE:e=>`/web/vouchers/${e}/enable`,DISABLE:e=>`/web/vouchers/${e}/disable`,DELETED:"/web/vouchers/deleted",RESTORE:e=>`/web/vouchers/${e}/restore`,PERMANENT_DELETE:e=>`/web/vouchers/${e}/permanent`},ri={create:async e=>{console.log("[VoucherService] Creating voucher with code:",e.code);const t=await Ee(be.post(tn.BASE,e));return t.success?console.log("[VoucherService] Voucher created successfully:",t.data.voucher?._id):console.error("[VoucherService] Failed to create voucher:",t.message),t},getAll:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.isActive!==void 0&&e.isActive!==""&&t.append("isActive",e.isActive),e.search&&t.append("search",e.search);const a=t.toString(),r=a?`${tn.BASE}?${a}`:tn.BASE;console.log("[VoucherService] Fetching vouchers with params:",e);const s=await Ee(be.get(r));return s.success?console.log("[VoucherService] Fetched vouchers:",s.data.vouchers?.length):console.error("[VoucherService] Failed to fetch vouchers:",s.message),s},getById:async e=>{console.log("[VoucherService] Fetching voucher by ID:",e);const t=await Ee(be.get(tn.GET_BY_ID(e)));return t.success?console.log("[VoucherService] Fetched voucher:",t.data.voucher?._id):console.error("[VoucherService] Failed to fetch voucher:",t.message),t},update:async(e,t)=>{console.log("[VoucherService] Updating voucher:",e);const a=await Ee(be.put(tn.UPDATE(e),t));return a.success?console.log("[VoucherService] Voucher updated successfully"):console.error("[VoucherService] Failed to update voucher:",a.message),a},enable:async e=>{console.log("[VoucherService] Enabling voucher:",e);const t=await Ee(be.post(tn.ENABLE(e)));return t.success?console.log("[VoucherService] Voucher enabled successfully"):console.error("[VoucherService] Failed to enable voucher:",t.message),t},disable:async e=>{console.log("[VoucherService] Disabling voucher:",e);const t=await Ee(be.post(tn.DISABLE(e)));return t.success?console.log("[VoucherService] Voucher disabled successfully"):console.error("[VoucherService] Failed to disable voucher:",t.message),t},delete:async e=>{console.log("[VoucherService] Deleting voucher:",e);const t=await Ee(be.delete(tn.DELETE(e)));return t.success?console.log("[VoucherService] Voucher deleted successfully"):console.error("[VoucherService] Failed to delete voucher:",t.message),t},getDeleted:async()=>{console.log("[VoucherService] Fetching deleted vouchers");const e=await Ee(be.get(tn.DELETED));return e.success?console.log("[VoucherService] Fetched deleted vouchers:",e.data.vouchers?.length):console.error("[VoucherService] Failed to fetch deleted vouchers:",e.message),e},restore:async e=>{console.log("[VoucherService] Restoring voucher:",e);const t=await Ee(be.post(tn.RESTORE(e)));return t.success?console.log("[VoucherService] Voucher restored successfully"):console.error("[VoucherService] Failed to restore voucher:",t.message),t},permanentDelete:async e=>{console.log("[VoucherService] Permanently deleting voucher:",e);const t=await Ee(be.delete(tn.PERMANENT_DELETE(e)));return t.success?console.log("[VoucherService] Voucher permanently deleted"):console.error("[VoucherService] Failed to permanently delete voucher:",t.message),t}};function $oe(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,c]=y.useState({search:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),h=y.useRef(null),b=y.useCallback(async(P=r.currentPage)=>{m(!0),f(null);try{const R={page:P,limit:r.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.isActive!==""&&{isActive:o.isActive}},U=await ri.getAll(R);U.success?(a(U.data.vouchers||[]),s({currentPage:U.data.pagination?.currentPage||1,totalPages:U.data.pagination?.totalPages||0,totalCount:U.data.pagination?.totalCount||0,limit:U.data.pagination?.limit||10})):(f(U.message),a([]))}catch{f("Failed to fetch vouchers"),a([])}finally{m(!1)}},[o,r.limit]),E=y.useCallback(async P=>{try{const R=await ri.create(P);return R.success?(await b(1),{success:!0,data:R.data}):{success:!1,error:R.message,validationErrors:R.error}}catch{return{success:!1,error:"Failed to create voucher"}}},[b]),N=y.useCallback(async P=>{try{const R=await ri.getById(P);return R.success?{success:!0,data:R.data.voucher}:{success:!1,error:R.message}}catch{return{success:!1,error:"Failed to fetch voucher details"}}},[]),S=y.useCallback(async(P,R)=>{try{const U=await ri.update(P,R);return U.success?(a(L=>L.map(I=>I._id===P?{...I,...U.data.voucher}:I)),{success:!0,data:U.data}):{success:!1,error:U.message,validationErrors:U.error}}catch{return{success:!1,error:"Failed to update voucher"}}},[]),w=y.useCallback(async(P,R)=>{try{const U=R?await ri.disable(P):await ri.enable(P);return U.success?(a(L=>L.map(I=>I._id===P?{...I,isActive:!R}:I)),{success:!0}):{success:!1,error:U.message}}catch{return{success:!1,error:"Failed to update voucher status"}}},[]),C=y.useCallback(async P=>{try{const R=await ri.delete(P);return R.success?(a(U=>U.filter(L=>L._id!==P)),s(U=>({...U,totalCount:U.totalCount-1,totalPages:Math.ceil((U.totalCount-1)/U.limit)})),{success:!0}):{success:!1,error:R.message}}catch{return{success:!1,error:"Failed to delete voucher"}}},[]),k=y.useCallback(P=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{c(R=>({...R,search:P}))},300)},[]),A=y.useCallback(P=>{c(R=>({...R,...P}))},[]),M=y.useCallback(()=>{c({search:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),O=y.useCallback(P=>{b(P)},[b]),D=y.useCallback(P=>{s(R=>({...R,limit:P}))},[]),_=y.useCallback(()=>{f(null)},[]);return y.useEffect(()=>{b(1)},[o]),y.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),{vouchers:t,pagination:r,filters:o,isLoading:d,error:p,fetchVouchers:b,createVoucher:E,getVoucherById:N,updateVoucher:S,toggleVoucherStatus:w,deleteVoucher:C,searchVouchers:k,updateFilters:A,resetFilters:M,changePage:O,changeLimit:D,clearError:_}}const Qk=()=>({title:"",description:"",code:"",maxUsage:"",events:[],isActive:!0});function Boe({isOpen:e,onClose:t,onSubmit:a,isLoading:r=!1,serverError:s=null,voucherToEdit:o=null}){const[c,d]=y.useState(Qk()),[m,p]=y.useState({}),f=!!o;y.useEffect(()=>{e&&(d(o?{title:o.title||"",description:o.description||"",code:o.code||"",maxUsage:o.maxUsage?.toString()||"",events:o.events?.map(w=>w._id||w)||[],isActive:o.isActive??!0}:Qk()),p({}))},[e,o]);const h=w=>{const C={};if(w.title.trim()?w.title.length>100&&(C.title="Title must be less than 100 characters"):C.title="Title is required",w.description.trim()?w.description.length>500&&(C.description="Description must be less than 500 characters"):C.description="Description is required",w.code.trim()?/^[A-Z0-9_-]+$/i.test(w.code)?w.code.length>20&&(C.code="Code must be less than 20 characters"):C.code="Code can only contain letters, numbers, hyphens, and underscores":C.code="Voucher code is required",!w.maxUsage)C.maxUsage="Maximum usage is required";else{const k=parseInt(w.maxUsage,10);isNaN(k)||k<1?C.maxUsage="Maximum usage must be at least 1":k>1e6&&(C.maxUsage="Maximum usage cannot exceed 1,000,000")}return{isValid:Object.keys(C).length===0,errors:C}},b=(w,C)=>{d(k=>({...k,[w]:C})),m[w]&&p(k=>{const A={...k};return delete A[w],A})},E=w=>{b("code",w.toUpperCase())},N=w=>{b("events",w)},S=async w=>{w.preventDefault();const{isValid:C,errors:k}=h(c);if(!C){p(k);return}const A={title:c.title.trim(),description:c.description.trim(),code:c.code.trim().toUpperCase(),maxUsage:parseInt(c.maxUsage,10),isActive:c.isActive};c.events.length>0&&(A.events=c.events),(await a(A))?.success&&t()};return n.createElement(Zt,{isOpen:e,onClose:t,title:f?"Edit Voucher":"Create Voucher",size:"lg"},n.createElement("form",{onSubmit:S,className:"space-y-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:c.title,onChange:w=>b("title",w.target.value),placeholder:"e.g., Festival Food Court Discount",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.title?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.title&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.title)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("textarea",{value:c.description,onChange:w=>b("description",w.target.value),placeholder:"e.g., Get Rs.200 off at the food court for first 1500 buyers",rows:3,disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${m.description?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.description&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.description)),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Voucher Code ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:c.code,onChange:w=>E(w.target.value),placeholder:"e.g., FESTIVAL200",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none font-mono uppercase transition-colors ${m.code?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.code&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.code)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Maximum Usage ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"number",value:c.maxUsage,onChange:w=>b("maxUsage",w.target.value),placeholder:"e.g., 1500",min:"1",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.maxUsage?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.maxUsage&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.maxUsage))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Linked Events",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement(zR,{selectedIds:c.events,onChange:N,disabled:r,placeholder:"Select events to link this voucher..."}),n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Leave empty to make the voucher available for all events")),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:c.isActive,onChange:w=>b("isActive",w.target.checked),disabled:r,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-800"})),n.createElement("span",{className:"text-sm text-gray-700"},c.isActive?"Active":"Disabled")),s&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("p",{className:"text-sm text-red-700"},s)),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:t,disabled:r,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:r,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},r?n.createElement(n.Fragment,null,n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),n.createElement("span",null,f?"Updating...":"Creating...")):n.createElement("span",null,f?"Update Voucher":"Create Voucher")))))}const Xk=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Voe=(e,t)=>t?Math.min(Math.round(e/t*100),100):0,qoe=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";function Hoe({isOpen:e,onClose:t,voucher:a,isLoading:r=!1}){if(!a&&!r)return null;const s=a?Voe(a.usageCount||0,a.maxUsage):0;return n.createElement(Zt,{isOpen:e,onClose:t,title:"Voucher Details",size:"lg"},r?n.createElement("div",{className:"py-12 flex flex-col items-center justify-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading voucher details...")):a?n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"flex items-start justify-between gap-4 pb-4 border-b border-gray-200"},n.createElement("div",null,n.createElement("h3",{className:"text-lg font-semibold text-gray-900"},a.title),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},a.description)),n.createElement("span",{className:`shrink-0 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1.5 ${a.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},a.isActive?n.createElement(Ml,{className:"h-4 w-4"}):n.createElement(Ti,{className:"h-4 w-4"}),a.isActive?"Active":"Disabled")),n.createElement("div",{className:"bg-blue-50 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},n.createElement(Du,{className:"h-5 w-5 text-gray-800"})),n.createElement("div",null,n.createElement("p",{className:"text-xs text-gray-800 font-medium uppercase"},"Voucher Code"),n.createElement("p",{className:"text-xl font-bold text-blue-900 font-mono tracking-wider"},a.code)))),n.createElement("div",null,n.createElement("div",{className:"flex items-center justify-between mb-2"},n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Usage Progress"),n.createElement("span",{className:"text-sm text-gray-500"},a.usageCount||0," / ",a.maxUsage," claimed")),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-3"},n.createElement("div",{className:`h-3 rounded-full transition-all ${qoe(s)}`,style:{width:`${s}%`}})),n.createElement("p",{className:"text-xs text-gray-500 mt-1"},s,"% used (",a.maxUsage-(a.usageCount||0)," remaining)")),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(yE,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Maximum Usage")),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},a.maxUsage?.toLocaleString("en-IN"))),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(sm,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Times Used")),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},(a.usageCount||0).toLocaleString("en-IN"))),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(oa,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Created")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},Xk(a.createdAt))),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(oa,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Last Updated")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},Xk(a.updatedAt)))),a.createdBy&&n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(Ns,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Created By")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},a.createdBy.name||a.createdBy.email),a.createdBy.email&&a.createdBy.name&&n.createElement("p",{className:"text-xs text-gray-500"},a.createdBy.email)),a.events&&a.events.length>0&&n.createElement("div",null,n.createElement("div",{className:"flex items-center gap-2 mb-2"},n.createElement(Rt,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Linked Events")),n.createElement("div",{className:"flex flex-wrap gap-2"},a.events.map(o=>n.createElement("span",{key:o._id||o,className:"px-3 py-1.5 bg-blue-100 text-gray-900 rounded-full text-sm font-medium"},o.name||o)))),a.claimedPhones&&a.claimedPhones.length>0&&n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("p",{className:"text-sm text-gray-500"},n.createElement("span",{className:"font-medium"},a.claimedPhones.length)," phone number",a.claimedPhones.length!==1?"s":""," have claimed this voucher")),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"},"Close"))):n.createElement("div",{className:"py-12 text-center text-gray-500"},n.createElement("p",null,"No voucher data available")))}const Wk=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",Zk=(e,t)=>t?Math.min(Math.round(e/t*100),100):0,Jk=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500",Af={active:"bg-green-100 text-green-700",disabled:"bg-gray-100 text-gray-600"};function Goe(){const{vouchers:e,pagination:t,filters:a,isLoading:r,error:s,fetchVouchers:o,createVoucher:c,getVoucherById:d,updateVoucher:m,toggleVoucherStatus:p,deleteVoucher:f,searchVouchers:h,updateFilters:b,resetFilters:E,changePage:N,clearError:S}=$oe(),[w,C]=y.useState(!1),[k,A]=y.useState(!1),[M,O]=y.useState(!1),[D,_]=y.useState(null),[P,R]=y.useState(null),[U,L]=y.useState(!1),[I,ae]=y.useState(!1),[ne,ue]=y.useState(null),[F,G]=y.useState(!1),[le,te]=y.useState(a.search||""),[H,j]=y.useState(a.isActive||""),B=y.useCallback(()=>{ue(null),R(null),C(!0)},[]),X=y.useCallback(async xe=>{ue(null),L(!0);try{const Le=await d(xe._id);Le.success?(R(Le.data),C(!0)):alert(Le.error||"Failed to load voucher details")}catch{alert("An unexpected error occurred")}finally{L(!1)}},[d]),K=y.useCallback(()=>{C(!1),ue(null),R(null)},[]),oe=y.useCallback(async xe=>{ae(!0),ue(null);try{let Le;return P?Le=await m(P._id,xe):Le=await c(xe),Le.success?Le:(ue(Le.error||"Failed to save voucher"),{success:!1})}catch{return ue("An unexpected error occurred"),{success:!1}}finally{ae(!1)}},[c,m,P]),Q=y.useCallback(async xe=>{_(xe),A(!0),L(!0);try{const Le=await d(xe._id);Le.success&&_(Le.data)}catch(Le){console.error("[Vouchers] Failed to fetch details:",Le)}finally{L(!1)}},[d]),V=y.useCallback(()=>{A(!1),_(null)},[]),we=y.useCallback(async xe=>{ae(!0);try{const Le=await p(xe._id,xe.isActive);Le.success||alert(Le.error||"Failed to update voucher status")}catch{alert("An unexpected error occurred")}finally{ae(!1)}},[p]),W=y.useCallback(xe=>{_(xe),O(!0)},[]),Se=y.useCallback(()=>{O(!1),_(null)},[]),Te=y.useCallback(async()=>{if(D){ae(!0);try{const xe=await f(D._id);xe.success?Se():alert(xe.error||"Failed to delete voucher")}catch{alert("An unexpected error occurred")}finally{ae(!1)}}},[D,f,Se]),ge=y.useCallback(xe=>{const Le=xe.target.value;te(Le),h(Le)},[h]),$e=y.useCallback(()=>{b({search:le,isActive:H}),G(!1)},[le,H,b]),Pe=y.useCallback(()=>{te(""),j(""),E(),G(!1)},[E]),ve=y.useCallback(()=>{o(t.currentPage)},[o,t.currentPage]),Ue=y.useMemo(()=>a.search||a.isActive!=="",[a]);return n.createElement("div",{className:"space-y-4 sm:space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"Vouchers"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Create and manage discount vouchers")),n.createElement("button",{onClick:B,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},n.createElement(Qt,{className:"h-5 w-5"}),n.createElement("span",null,"Create Voucher"))),s&&n.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("div",{className:"flex-1"},n.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading vouchers"),n.createElement("p",{className:"text-sm text-red-700 mt-0.5"},s)),n.createElement("button",{onClick:S,className:"shrink-0 text-red-600 hover:text-red-800"},"")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},n.createElement("div",{className:"relative flex-1 max-w-md"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{type:"text",value:le,onChange:ge,placeholder:"Search vouchers...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),n.createElement("button",{onClick:()=>G(!F),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Ue?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),Ue&&n.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(a.search?1:0)+(a.isActive!==""?1:0)),n.createElement(Ln,{className:`h-4 w-4 transition-transform ${F?"rotate-180":""}`})),n.createElement("button",{onClick:ve,disabled:r,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},n.createElement(zn,{className:`h-4 w-4 ${r?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Refresh")),n.createElement("div",{className:"ml-auto text-sm text-gray-500"},t.totalCount," voucher",t.totalCount!==1?"s":""," total")),F&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),n.createElement("select",{value:H,onChange:xe=>j(xe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Status"),n.createElement("option",{value:"true"},"Active"),n.createElement("option",{value:"false"},"Disabled"))),n.createElement("div",{className:"flex items-end gap-2 sm:col-span-1 lg:col-span-2"},n.createElement("button",{onClick:$e,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),n.createElement("button",{onClick:Pe,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),n.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Code"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Title"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Usage"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Events"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Created"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,r&&e.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading vouchers..."))):e.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},n.createElement(Du,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No vouchers found"),n.createElement("button",{onClick:B,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first voucher"))):e.map(xe=>{const Le=Zk(xe.usageCount||0,xe.maxUsage);return n.createElement("tr",{key:xe._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:"px-2.5 py-1 bg-gray-100 text-gray-700 rounded font-mono text-sm font-medium"},xe.code)),n.createElement("td",{className:"px-6 py-4"},n.createElement("p",{className:"font-medium text-gray-900 truncate max-w-[200px]"},xe.title)),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"w-32"},n.createElement("div",{className:"flex items-center justify-between text-xs mb-1"},n.createElement("span",{className:"text-gray-600"},xe.usageCount||0," / ",xe.maxUsage),n.createElement("span",{className:"text-gray-400"},Le,"%")),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-1.5"},n.createElement("div",{className:`h-1.5 rounded-full ${Jk(Le)}`,style:{width:`${Le}%`}})))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${xe.isActive?Af.active:Af.disabled}`},xe.isActive?"Active":"Disabled")),n.createElement("td",{className:"px-6 py-4"},xe.events&&xe.events.length>0?n.createElement("div",{className:"flex items-center gap-1"},n.createElement(Rt,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-sm text-gray-600"},xe.events.length," event",xe.events.length!==1?"s":"")):n.createElement("span",{className:"text-sm text-gray-400"},"All events")),n.createElement("td",{className:"px-6 py-4 text-sm text-gray-500"},Wk(xe.createdAt)),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1"},n.createElement("button",{onClick:()=>we(xe),disabled:I,className:`p-2 rounded-lg transition-colors ${xe.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:xe.isActive?"Disable voucher":"Enable voucher"},xe.isActive?n.createElement(El,{className:"h-5 w-5"}):n.createElement(Un,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>Q(xe),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},n.createElement(Vt,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>X(xe),disabled:U,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit voucher"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>W(xe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},n.createElement(pt,{className:"h-4 w-4"})))))})))),t.totalPages>0&&n.createElement(ga,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:N,itemLabel:"vouchers"})),n.createElement("div",{className:"md:hidden space-y-4"},r&&e.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading vouchers...")):e.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Du,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No vouchers found"),n.createElement("button",{onClick:B,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first voucher")):n.createElement(n.Fragment,null,e.map(xe=>{const Le=Zk(xe.usageCount||0,xe.maxUsage);return n.createElement("div",{key:xe._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},n.createElement("div",{className:"flex items-start justify-between gap-3"},n.createElement("div",{className:"min-w-0"},n.createElement("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded font-mono text-sm font-medium"},xe.code),n.createElement("p",{className:"font-medium text-gray-900 mt-2 truncate"},xe.title),n.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},Wk(xe.createdAt))),n.createElement("span",{className:`shrink-0 px-2.5 py-1 rounded-full text-xs font-medium ${xe.isActive?Af.active:Af.disabled}`},xe.isActive?"Active":"Disabled")),n.createElement("div",null,n.createElement("div",{className:"flex items-center justify-between text-xs mb-1"},n.createElement("span",{className:"text-gray-600"},xe.usageCount||0," / ",xe.maxUsage," claimed"),n.createElement("span",{className:"text-gray-400"},Le,"%")),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},n.createElement("div",{className:`h-2 rounded-full ${Jk(Le)}`,style:{width:`${Le}%`}}))),xe.events&&xe.events.length>0&&n.createElement("div",{className:"flex items-center gap-1 text-sm text-gray-600"},n.createElement(Rt,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",null,xe.events.length," event",xe.events.length!==1?"s":"")),n.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},n.createElement("button",{onClick:()=>we(xe),disabled:I,className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${xe.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},xe.isActive?n.createElement(n.Fragment,null,n.createElement(El,{className:"h-4 w-4"}),"On"):n.createElement(n.Fragment,null,n.createElement(Un,{className:"h-4 w-4"}),"Off")),n.createElement("button",{onClick:()=>Q(xe),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},n.createElement(Vt,{className:"h-4 w-4"}),"Details"),n.createElement("button",{onClick:()=>X(xe),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>W(xe),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},n.createElement(pt,{className:"h-4 w-4"}))))}),t.totalPages>0&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:N,itemLabel:"vouchers"})))),n.createElement(Boe,{isOpen:w,onClose:K,onSubmit:oe,isLoading:I,serverError:ne,voucherToEdit:P}),n.createElement(Hoe,{isOpen:k,onClose:V,voucher:D,isLoading:U}),n.createElement(Va,{isOpen:M,onClose:Se,onConfirm:Te,title:"Delete Voucher",message:`Are you sure you want to delete the voucher "${D?.code}"? This action can be undone by restoring from deleted vouchers.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:I}))}const fr={BASE:"/web/sessions",GET_BY_ID:e=>`/web/sessions/${e}`,UPDATE:e=>`/web/sessions/${e}`,DELETE:e=>`/web/sessions/${e}`,TOGGLE_LIVE:e=>`/web/sessions/${e}/toggle-live`,DELETED:"/web/sessions/deleted",RESTORE:e=>`/web/sessions/${e}/restore`,PERMANENT_DELETE:e=>`/web/sessions/${e}/permanent`,BOOKINGS:"/web/sessions/bookings",UPDATE_BOOKING:e=>`/web/sessions/bookings/${e}`},ms={create:async e=>{console.log("[SessionService] Creating session:",e.title);const t=await Ee(be.post(fr.BASE,e));return t.success?console.log("[SessionService] Session created successfully:",t.data.session?._id):console.error("[SessionService] Failed to create session:",t.message),t},getAll:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.sortBy&&t.append("sortBy",e.sortBy),e.sortOrder&&t.append("sortOrder",e.sortOrder),e.isLive!==void 0&&e.isLive!==""&&t.append("isLive",e.isLive),e.sessionType&&t.append("sessionType",e.sessionType),e.search&&t.append("search",e.search);const a=t.toString(),r=a?`${fr.BASE}?${a}`:fr.BASE;console.log("[SessionService] Fetching sessions with params:",e);const s=await Ee(be.get(r));return s.success?console.log("[SessionService] Fetched sessions:",s.data.sessions?.length):console.error("[SessionService] Failed to fetch sessions:",s.message),s},getById:async e=>{console.log("[SessionService] Fetching session by ID:",e);const t=await Ee(be.get(fr.GET_BY_ID(e)));return t.success?console.log("[SessionService] Fetched session:",t.data.session?._id):console.error("[SessionService] Failed to fetch session:",t.message),t},update:async(e,t)=>{console.log("[SessionService] Updating session:",e);const a=await Ee(be.put(fr.UPDATE(e),t));return a.success?console.log("[SessionService] Session updated successfully"):console.error("[SessionService] Failed to update session:",a.message),a},toggleLive:async e=>{console.log("[SessionService] Toggling session live status:",e);const t=await Ee(be.patch(fr.TOGGLE_LIVE(e)));return t.success?console.log("[SessionService] Session live status toggled successfully"):console.error("[SessionService] Failed to toggle session live status:",t.message),t},delete:async e=>{console.log("[SessionService] Deleting session:",e);const t=await Ee(be.delete(fr.DELETE(e)));return t.success?console.log("[SessionService] Session deleted successfully"):console.error("[SessionService] Failed to delete session:",t.message),t},getDeleted:async()=>{console.log("[SessionService] Fetching deleted sessions");const e=await Ee(be.get(fr.DELETED));return e.success?console.log("[SessionService] Fetched deleted sessions:",e.data.sessions?.length):console.error("[SessionService] Failed to fetch deleted sessions:",e.message),e},restore:async e=>{console.log("[SessionService] Restoring session:",e);const t=await Ee(be.post(fr.RESTORE(e)));return t.success?console.log("[SessionService] Session restored successfully"):console.error("[SessionService] Failed to restore session:",t.message),t},permanentDelete:async e=>{console.log("[SessionService] Permanently deleting session:",e);const t=await Ee(be.delete(fr.PERMANENT_DELETE(e)));return t.success?console.log("[SessionService] Session permanently deleted"):console.error("[SessionService] Failed to permanently delete session:",t.message),t},getBookings:async(e={})=>{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.status&&t.append("status",e.status),e.sessionId&&t.append("sessionId",e.sessionId);const a=t.toString(),r=a?`${fr.BOOKINGS}?${a}`:fr.BOOKINGS;console.log("[SessionService] Fetching bookings with params:",e);const s=await Ee(be.get(r));return s.success?console.log("[SessionService] Fetched bookings:",s.data.bookings?.length):console.error("[SessionService] Failed to fetch bookings:",s.message),s},updateBooking:async(e,t)=>{console.log("[SessionService] Updating booking:",e,"with status:",t.status);const a=await Ee(be.put(fr.UPDATE_BOOKING(e),t));return a.success?console.log("[SessionService] Booking updated successfully"):console.error("[SessionService] Failed to update booking:",a.message),a}};function Koe(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,c]=y.useState({search:"",isLive:"",sessionType:"",category:"",sortBy:"createdAt",sortOrder:"desc",...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),[h,b]=y.useState([]),[E,N]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[S,w]=y.useState({status:"",sessionId:""}),[C,k]=y.useState(!1),[A,M]=y.useState(null),O=y.useRef(null),D=y.useCallback(async(K=r.currentPage)=>{m(!0),f(null);try{const oe={page:K,limit:r.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.isLive!==""&&{isLive:o.isLive},...o.sessionType&&{sessionType:o.sessionType},...o.category&&{category:o.category}};console.log("[useSessions] Fetching sessions with params:",oe);const Q=await ms.getAll(oe);Q.success?(a(Q.data.sessions||[]),s({currentPage:Q.data.pagination?.currentPage||1,totalPages:Q.data.pagination?.totalPages||0,totalCount:Q.data.pagination?.totalCount||0,limit:Q.data.pagination?.limit||10})):(f(Q.message),a([]))}catch{f("Failed to fetch sessions"),a([])}finally{m(!1)}},[o,r.limit]),_=y.useCallback(async K=>{try{const oe=await ms.create(K);return oe.success?(await D(1),{success:!0,data:oe.data}):{success:!1,error:oe.message,validationErrors:oe.error}}catch{return{success:!1,error:"Failed to create session"}}},[D]),P=y.useCallback(async K=>{try{const oe=await ms.getById(K);return oe.success?{success:!0,data:oe.data.session}:{success:!1,error:oe.message}}catch{return{success:!1,error:"Failed to fetch session details"}}},[]),R=y.useCallback(async(K,oe)=>{try{const Q=await ms.update(K,oe);return Q.success?(a(V=>V.map(we=>we._id===K?{...we,...Q.data.session}:we)),{success:!0,data:Q.data}):{success:!1,error:Q.message,validationErrors:Q.error}}catch{return{success:!1,error:"Failed to update session"}}},[]),U=y.useCallback(async(K,oe)=>{try{const Q=await ms.toggleLive(K);return Q.success?(a(V=>V.map(we=>we._id===K?{...we,isLive:!oe}:we)),{success:!0}):{success:!1,error:Q.message}}catch{return{success:!1,error:"Failed to update session status"}}},[]),L=y.useCallback(async K=>{try{const oe=await ms.delete(K);return oe.success?(a(Q=>Q.filter(V=>V._id!==K)),s(Q=>({...Q,totalCount:Q.totalCount-1,totalPages:Math.ceil((Q.totalCount-1)/Q.limit)})),{success:!0}):{success:!1,error:oe.message}}catch{return{success:!1,error:"Failed to delete session"}}},[]),I=y.useCallback(K=>{O.current&&clearTimeout(O.current),O.current=setTimeout(()=>{c(oe=>({...oe,search:K}))},300)},[]),ae=y.useCallback(K=>{c(oe=>({...oe,...K}))},[]),ne=y.useCallback(()=>{c({search:"",isLive:"",sessionType:"",category:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),ue=y.useCallback(K=>{D(K)},[D]),F=y.useCallback(K=>{s(oe=>({...oe,limit:K}))},[]),G=y.useCallback(()=>{f(null)},[]),le=y.useCallback(async(K=E.currentPage)=>{k(!0),M(null);try{const oe={page:K,limit:E.limit,...S.status&&{status:S.status},...S.sessionId&&{sessionId:S.sessionId}};console.log("[useSessions] Fetching bookings with params:",oe);const Q=await ms.getBookings(oe);Q.success?(b(Q.data.bookings||[]),N({currentPage:Q.data.pagination?.currentPage||1,totalPages:Q.data.pagination?.totalPages||0,totalCount:Q.data.pagination?.totalCount||0,limit:Q.data.pagination?.limit||10}),console.log("[useSessions] Fetched bookings:",Q.data.bookings?.length)):(console.error("[useSessions] Failed to fetch bookings:",Q.message),M(Q.message||"Failed to fetch bookings"),b([]))}catch(oe){console.error("[useSessions] Error fetching bookings:",oe),M("Failed to fetch bookings"),b([])}finally{k(!1)}},[S,E.limit]),te=y.useCallback(async(K,oe)=>{try{console.log("[useSessions] Updating booking:",K,"with data:",oe);const Q=await ms.updateBooking(K,oe);return Q.success?(console.log("[useSessions] Booking updated successfully"),b(V=>V.map(we=>we._id===K?{...we,...Q.data.booking}:we)),{success:!0,data:Q.data}):(console.error("[useSessions] Failed to update booking:",Q.message),{success:!1,error:Q.message})}catch(Q){return console.error("[useSessions] Error updating booking:",Q),{success:!1,error:"Failed to update booking"}}},[]),H=y.useCallback(K=>{w(oe=>({...oe,...K}))},[]),j=y.useCallback(()=>{w({status:"",sessionId:""})},[]),B=y.useCallback(K=>{le(K)},[le]),X=y.useCallback(()=>{M(null)},[]);return y.useEffect(()=>{D(1)},[o]),y.useEffect(()=>()=>{O.current&&clearTimeout(O.current)},[]),{sessions:t,pagination:r,filters:o,isLoading:d,error:p,fetchSessions:D,createSession:_,getSessionById:P,updateSession:R,toggleSessionLive:U,deleteSession:L,searchSessions:I,updateFilters:ae,resetFilters:ne,changePage:ue,changeLimit:F,clearError:G,bookings:h,bookingPagination:E,bookingFilters:S,isLoadingBookings:C,bookingError:A,fetchBookings:le,updateBooking:te,updateBookingFilters:H,resetBookingFilters:j,changeBookingPage:B,clearBookingError:X}}const Yoe=[{value:"therapeutic",label:"Therapeutic"},{value:"mental_wellness",label:"Mental Wellness"},{value:"career",label:"Career"},{value:"relationships",label:"Relationships"},{value:"lifestyle",label:"Lifestyle"},{value:"other",label:"Other"}],e3=()=>({title:"",shortDescription:"",longDescription:"",price:"",compareAtPrice:"",duration:"",sessionType:"OTO",category:"mental_wellness",isLive:!1,host:"",hostEmail:"",hostPhone:"",availableSlots:"",calendlyLink:"",sessionDate:"",imageUrl:"",tags:[]});function Qoe({isOpen:e,onClose:t,onSubmit:a,isLoading:r=!1,serverError:s=null,sessionToEdit:o=null}){const[c,d]=y.useState(e3()),[m,p]=y.useState({}),f=!!o,[h,b]=y.useState("");y.useEffect(()=>{e&&(d(o?{title:o.title||"",shortDescription:o.shortDescription||"",longDescription:o.longDescription||"",price:o.price?.toString()||"",compareAtPrice:o.compareAtPrice?.toString()||"",duration:o.duration?.toString()||"",sessionType:o.sessionType||"OTO",category:o.category||"mental_wellness",isLive:o.isLive??!1,host:o.host||"",hostEmail:o.hostEmail||"",hostPhone:o.hostPhone||"",availableSlots:o.availableSlots?.toString()||"",calendlyLink:o.calendlyLink||"",sessionDate:o.sessionDate?new Date(o.sessionDate).toISOString().slice(0,16):"",imageUrl:o.imageUrl||"",tags:o.tags||[]}:e3()),p({}),b(""))},[e,o]);const E=w=>{const C={};if(w.title.trim()?w.title.length>200&&(C.title="Title must be less than 200 characters"):C.title="Title is required",w.shortDescription.trim()?w.shortDescription.length>500&&(C.shortDescription="Short description must be less than 500 characters"):C.shortDescription="Short description is required",w.longDescription.trim()?w.longDescription.length>5e3&&(C.longDescription="Long description must be less than 5000 characters"):C.longDescription="Long description is required",!w.price)C.price="Price is required";else{const k=parseFloat(w.price);(isNaN(k)||k<0)&&(C.price="Price must be a positive number")}if(w.compareAtPrice){const k=parseFloat(w.compareAtPrice),A=parseFloat(w.price);isNaN(k)||k<0?C.compareAtPrice="Compare at price must be a positive number":!isNaN(A)&&k<A&&(C.compareAtPrice="Compare at price must be greater than or equal to price")}if(!w.duration)C.duration="Duration is required";else{const k=parseInt(w.duration,10);isNaN(k)||k<1?C.duration="Duration must be at least 1 minute":k>480&&(C.duration="Duration cannot exceed 480 minutes (8 hours)")}if(w.host.trim()?w.host.length>100&&(C.host="Host name must be less than 100 characters"):C.host="Host name is required",w.hostEmail&&w.hostEmail.trim()&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w.hostEmail.trim())||(C.hostEmail="Please provide a valid email address")),w.hostPhone&&w.hostPhone.trim()&&(/^[\d\s+\-()]+$/.test(w.hostPhone.trim())?w.hostPhone.trim().length<10&&(C.hostPhone="Phone number must be at least 10 digits"):C.hostPhone="Please provide a valid phone number"),w.sessionType==="OTM"&&w.availableSlots){const k=parseInt(w.availableSlots,10);(isNaN(k)||k<1)&&(C.availableSlots="Available slots must be at least 1")}return w.calendlyLink.trim()?/^https?:\/\/.+/.test(w.calendlyLink)||(C.calendlyLink="Please provide a valid URL"):C.calendlyLink="Calendly link is required",w.imageUrl&&!/^https?:\/\/.+/.test(w.imageUrl)&&(C.imageUrl="Please provide a valid image URL"),{isValid:Object.keys(C).length===0,errors:C}},N=(w,C)=>{d(k=>({...k,[w]:C})),m[w]&&p(k=>{const A={...k};return delete A[w],A})},S=async w=>{w.preventDefault();const{isValid:C,errors:k}=E(c);if(!C){p(k);return}const A={title:c.title.trim(),shortDescription:c.shortDescription.trim(),longDescription:c.longDescription.trim(),price:parseFloat(c.price),duration:parseInt(c.duration,10),sessionType:c.sessionType,category:c.category,isLive:c.isLive,host:c.host.trim()};c.compareAtPrice&&(A.compareAtPrice=parseFloat(c.compareAtPrice)),c.availableSlots&&(A.availableSlots=parseInt(c.availableSlots,10)),A.calendlyLink=c.calendlyLink.trim(),c.sessionDate&&(A.sessionDate=new Date(c.sessionDate).toISOString()),c.imageUrl.trim()&&(A.imageUrl=c.imageUrl.trim()),c.hostEmail.trim()&&(A.hostEmail=c.hostEmail.trim()),c.hostPhone.trim()&&(A.hostPhone=c.hostPhone.trim()),c.tags.length>0&&(A.tags=c.tags),(await a(A))?.success&&t()};return n.createElement(Zt,{isOpen:e,onClose:t,title:f?"Edit Session":"Create Session",size:"xl"},n.createElement("form",{onSubmit:S,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:c.title,onChange:w=>N("title",w.target.value),placeholder:"e.g., One-on-One Career Coaching",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.title?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.title&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.title)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Short Description ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("textarea",{value:c.shortDescription,onChange:w=>N("shortDescription",w.target.value),placeholder:"Brief overview of the session...",rows:2,disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${m.shortDescription?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.shortDescription&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.shortDescription)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Long Description ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("textarea",{value:c.longDescription,onChange:w=>N("longDescription",w.target.value),placeholder:"Detailed description of what participants will learn...",rows:4,disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${m.longDescription?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.longDescription&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.longDescription)),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Price () ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"number",value:c.price,onChange:w=>N("price",w.target.value),placeholder:"e.g., 999",min:"0",step:"0.01",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.price?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.price&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.price)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Compare at Price ()"),n.createElement("input",{type:"number",value:c.compareAtPrice,onChange:w=>N("compareAtPrice",w.target.value),placeholder:"e.g., 1499",min:"0",step:"0.01",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.compareAtPrice?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.compareAtPrice&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.compareAtPrice)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Duration (mins) ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"number",value:c.duration,onChange:w=>N("duration",w.target.value),placeholder:"e.g., 60",min:"1",max:"480",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.duration?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.duration&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.duration))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Session Type ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{value:c.sessionType,onChange:w=>N("sessionType",w.target.value),disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${r?"bg-gray-100":""}`},n.createElement("option",{value:"OTO"},"One-to-One (OTO)"),n.createElement("option",{value:"OTM"},"One-to-Many (OTM)"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Category ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{value:c.category,onChange:w=>N("category",w.target.value),disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${r?"bg-gray-100":""}`},Yoe.map(w=>n.createElement("option",{key:w.value,value:w.value},w.label))))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Host Name ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:c.host,onChange:w=>N("host",w.target.value),placeholder:"e.g., John Doe",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.host?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.host&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.host)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Host Email",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement("input",{type:"email",value:c.hostEmail,onChange:w=>N("hostEmail",w.target.value),placeholder:"host@example.com",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.hostEmail?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.hostEmail&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.hostEmail)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Host Phone",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement("input",{type:"tel",value:c.hostPhone,onChange:w=>N("hostPhone",w.target.value),placeholder:"+91 9876543210",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.hostPhone?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.hostPhone&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.hostPhone))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Available Slots",c.sessionType==="OTM"&&n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(for group sessions)")),n.createElement("input",{type:"number",value:c.availableSlots,onChange:w=>N("availableSlots",w.target.value),placeholder:c.sessionType==="OTO"?"1":"e.g., 50",min:"1",disabled:r||c.sessionType==="OTO",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.availableSlots?"border-red-500":"border-gray-300"} ${r||c.sessionType==="OTO"?"bg-gray-100":""}`}),m.availableSlots&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.availableSlots),c.sessionType==="OTO"&&n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Fixed to 1 for one-to-one sessions")),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Session Date",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement("input",{type:"datetime-local",value:c.sessionDate,onChange:w=>N("sessionDate",w.target.value),disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${r?"bg-gray-100":""}`}))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Calendly Link ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"url",value:c.calendlyLink,onChange:w=>N("calendlyLink",w.target.value),placeholder:"https://calendly.com/your-link",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.calendlyLink?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.calendlyLink&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.calendlyLink)),n.createElement(xi,{label:"Session Image",value:c.imageUrl,onUpload:w=>N("imageUrl",w),disabled:r,error:m.imageUrl,type:"image",folder:"sessions",placeholder:"Drop image here or click to upload"}),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Tags",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement("div",{className:"flex gap-2"},n.createElement("input",{type:"text",value:h,onChange:w=>b(w.target.value),onKeyDown:w=>{if(w.key==="Enter"){w.preventDefault();const C=h.trim().toLowerCase();C&&!c.tags.includes(C)&&(N("tags",[...c.tags,C]),b(""))}},placeholder:"Type a tag and press Enter",disabled:r,className:`flex-1 px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${r?"bg-gray-100":""}`}),n.createElement("button",{type:"button",onClick:()=>{const w=h.trim().toLowerCase();w&&!c.tags.includes(w)&&(N("tags",[...c.tags,w]),b(""))},disabled:r||!h.trim(),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50"},n.createElement(Qt,{className:"h-4 w-4"}))),c.tags.length>0&&n.createElement("div",{className:"flex flex-wrap gap-2 mt-2"},c.tags.map((w,C)=>n.createElement("span",{key:C,className:"inline-flex items-center gap-1 px-2.5 py-1 bg-gray-100 text-gray-700 rounded-full text-sm"},w,n.createElement("button",{type:"button",onClick:()=>{N("tags",c.tags.filter((k,A)=>A!==C))},disabled:r,className:"text-gray-500 hover:text-gray-700"},n.createElement(Na,{className:"h-3 w-3"})))))),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:c.isLive,onChange:w=>N("isLive",w.target.checked),disabled:r,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),n.createElement("span",{className:"text-sm text-gray-700"},c.isLive?"Live (Available for booking)":"Not Live")),s&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("p",{className:"text-sm text-red-700"},s)),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200 sticky bottom-0 bg-white"},n.createElement("button",{type:"button",onClick:t,disabled:r,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:r,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},r?n.createElement(n.Fragment,null,n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),n.createElement("span",null,f?"Updating...":"Creating...")):n.createElement("span",null,f?"Update Session":"Create Session")))))}const bb=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",t3=e=>e==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),Xoe=e=>{if(!e)return"-";if(e<60)return`${e} min`;const t=Math.floor(e/60),a=e%60;return a>0?`${t}h ${a}m`:`${t}h`},Woe=(e,t)=>t?Math.min(Math.round(e/t*100),100):0,Zoe=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500";function Joe({isOpen:e,onClose:t,session:a,isLoading:r=!1}){if(!a&&!r)return null;const s=a?.bookedSlots||0,o=a?.availableSlots,c=Woe(s,o),d=a?.discountPercent||0;return n.createElement(Zt,{isOpen:e,onClose:t,title:"Session Details",size:"lg"},r?n.createElement("div",{className:"py-12 flex flex-col items-center justify-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading session details...")):a?n.createElement("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto pr-2"},n.createElement("div",{className:"flex items-start justify-between gap-4 pb-4 border-b border-gray-200"},n.createElement("div",{className:"flex-1"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${a.sessionType==="OTO"?"bg-purple-100 text-purple-700":"bg-blue-100 text-gray-900"}`},a.sessionType==="OTO"?"One-to-One":"One-to-Many")),n.createElement("h3",{className:"text-lg font-semibold text-gray-900"},a.title),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},a.shortDescription)),n.createElement("span",{className:`shrink-0 px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1.5 ${a.isLive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},a.isLive?n.createElement(Ml,{className:"h-4 w-4"}):n.createElement(Ti,{className:"h-4 w-4"}),a.isLive?"Live":"Not Live")),a.imageUrl&&n.createElement("div",{className:"rounded-lg overflow-hidden bg-gray-100"},n.createElement("img",{src:a.imageUrl,alt:a.title,className:"w-full h-48 object-cover",onError:m=>{m.target.style.display="none"}})),n.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center"},n.createElement(tI,{className:"h-5 w-5 text-gray-800"})),n.createElement("div",null,n.createElement("p",{className:"text-xs text-gray-800 font-medium uppercase"},"Price"),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("p",{className:"text-2xl font-bold text-blue-900"},t3(a.price)),a.compareAtPrice&&a.compareAtPrice>a.price&&n.createElement("p",{className:"text-sm text-gray-500 line-through"},t3(a.compareAtPrice))))),d>0&&n.createElement("div",{className:"flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full"},n.createElement(xI,{className:"h-4 w-4"}),n.createElement("span",{className:"font-semibold"},d,"% OFF")))),n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-2"},"Description"),n.createElement("p",{className:"text-sm text-gray-600 whitespace-pre-wrap"},a.longDescription)),a.sessionType==="OTM"&&o&&n.createElement("div",null,n.createElement("div",{className:"flex items-center justify-between mb-2"},n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Booking Progress"),n.createElement("span",{className:"text-sm text-gray-500"},s," / ",o," booked")),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-3"},n.createElement("div",{className:`h-3 rounded-full transition-all ${Zoe(c)}`,style:{width:`${c}%`}})),n.createElement("p",{className:"text-xs text-gray-500 mt-1"},c,"% filled (",o-s," slots remaining)")),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(oa,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Duration")),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},Xoe(a.duration))),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(Ns,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Host")),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},a.host)),a.sessionDate&&n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(Rt,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Session Date")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},bb(a.sessionDate))),o&&n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(sm,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},a.sessionType==="OTO"?"Slot":"Available Slots")),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},o-s," remaining")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(oa,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Created")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},bb(a.createdAt))),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(oa,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Last Updated")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},bb(a.updatedAt)))),a.calendlyLink&&n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(sI,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Booking Link")),n.createElement("a",{href:a.calendlyLink,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-gray-800 hover:text-black hover:underline break-all"},a.calendlyLink)),a.createdBy&&n.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(Ns,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-xs text-gray-500 font-medium"},"Created By")),n.createElement("p",{className:"text-sm font-medium text-gray-900"},a.createdBy.name||a.createdBy.email),a.createdBy.email&&a.createdBy.name&&n.createElement("p",{className:"text-xs text-gray-500"},a.createdBy.email)),n.createElement("div",{className:"pt-4 border-t border-gray-200 sticky bottom-0 bg-white"},n.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium"},"Close"))):n.createElement("div",{className:"py-12 text-center text-gray-500"},n.createElement("p",null,"No session data available")))}const vu=e=>e==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e),a3=e=>{if(!e)return"-";if(e<60)return`${e}m`;const t=Math.floor(e/60),a=e%60;return a>0?`${t}h ${a}m`:`${t}h`},ece=(e,t)=>t?Math.min(Math.round(e/t*100),100):0,tce=e=>e>=90?"bg-red-500":e>=70?"bg-yellow-500":"bg-green-500",Tf={live:"bg-green-100 text-green-700",notLive:"bg-gray-100 text-gray-600"},r3={OTO:"bg-purple-100 text-purple-700",OTM:"bg-gray-100 text-gray-700"},n3=[{value:"therapeutic",label:"Therapeutic"},{value:"mental_wellness",label:"Mental Wellness"},{value:"career",label:"Career"},{value:"relationships",label:"Relationships"},{value:"lifestyle",label:"Lifestyle"},{value:"other",label:"Other"}],l3={therapeutic:"bg-blue-100 text-blue-700",mental_wellness:"bg-green-100 text-green-700",career:"bg-amber-100 text-amber-700",relationships:"bg-pink-100 text-pink-700",lifestyle:"bg-indigo-100 text-indigo-700",other:"bg-gray-100 text-gray-700"},Of={pending:{color:"bg-amber-100 text-amber-700",label:"Pending"},confirmed:{color:"bg-blue-100 text-blue-700",label:"Confirmed"},completed:{color:"bg-green-100 text-green-700",label:"Completed"},cancelled:{color:"bg-red-100 text-red-700",label:"Cancelled"},no_show:{color:"bg-gray-100 text-gray-700",label:"No Show"}},s3=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",ace=e=>e?new Date(e).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-";function rce(){const{sessions:e,pagination:t,filters:a,isLoading:r,error:s,fetchSessions:o,createSession:c,getSessionById:d,updateSession:m,toggleSessionLive:p,deleteSession:f,searchSessions:h,updateFilters:b,resetFilters:E,changePage:N,clearError:S,bookings:w,bookingPagination:C,bookingFilters:k,isLoadingBookings:A,bookingError:M,fetchBookings:O,updateBooking:D,updateBookingFilters:_,resetBookingFilters:P,changeBookingPage:R,clearBookingError:U}=Koe(),[L,I]=y.useState(!1),[ae,ne]=y.useState(!1),[ue,F]=y.useState(!1),[G,le]=y.useState(null),[te,H]=y.useState(null),[j,B]=y.useState(!1),[X,K]=y.useState(!1),[oe,Q]=y.useState(null),[V,we]=y.useState("sessions"),[W,Se]=y.useState(!1),[Te,ge]=y.useState(a.search||""),[$e,Pe]=y.useState(a.isLive||""),[ve,Ue]=y.useState(a.sessionType||""),[xe,Le]=y.useState(a.category||""),[Et,Ht]=y.useState(k.status||""),[Tt,Ae]=y.useState(k.sessionId||""),[ce,pe]=y.useState(null),[qe,He]=y.useState(!1),ht=y.useCallback(()=>{Q(null),H(null),I(!0)},[]),Ha=y.useCallback(async de=>{Q(null),B(!0);try{const Je=await d(de._id);Je.success?(H(Je.data),I(!0)):alert(Je.error||"Failed to load session details")}catch{alert("An unexpected error occurred")}finally{B(!1)}},[d]),$n=y.useCallback(()=>{I(!1),Q(null),H(null)},[]),yn=y.useCallback(async de=>{K(!0),Q(null);try{let Je;return te?Je=await m(te._id,de):Je=await c(de),Je.success?Je:(Q(Je.error||"Failed to save session"),{success:!1})}catch{return Q("An unexpected error occurred"),{success:!1}}finally{K(!1)}},[c,m,te]),Bn=y.useCallback(async de=>{le(de),ne(!0),B(!0);try{const Je=await d(de._id);Je.success&&le(Je.data)}catch(Je){console.error("[Sessions] Failed to fetch details:",Je)}finally{B(!1)}},[d]),Vn=y.useCallback(()=>{ne(!1),le(null)},[]),Ga=y.useCallback(async de=>{K(!0);try{const Je=await p(de._id,de.isLive);Je.success||alert(Je.error||"Failed to update session status")}catch{alert("An unexpected error occurred")}finally{K(!1)}},[p]),Ne=y.useCallback(de=>{le(de),F(!0)},[]),Oe=y.useCallback(()=>{F(!1),le(null)},[]),je=y.useCallback(async()=>{if(G){K(!0);try{const de=await f(G._id);de.success?Oe():alert(de.error||"Failed to delete session")}catch{alert("An unexpected error occurred")}finally{K(!1)}}},[G,f,Oe]),Jt=y.useCallback(de=>{const Je=de.target.value;ge(Je),h(Je)},[h]),va=y.useCallback(()=>{b({search:Te,isLive:$e,sessionType:ve,category:xe}),Se(!1)},[Te,$e,ve,xe,b]),qn=y.useCallback(()=>{ge(""),Pe(""),Ue(""),Le(""),E(),Se(!1)},[E]),vn=y.useCallback(()=>{_({status:Et,sessionId:Tt}),Se(!1)},[Et,Tt,_]),Hn=y.useCallback(()=>{Ht(""),Ae(""),P(),Se(!1)},[P]),Ua=y.useCallback(async(de,Je)=>{He(!0);try{const En=await D(de,{status:Je});En.success||alert(En.error||"Failed to update booking status")}catch(En){console.error("[Sessions] Error updating booking:",En),alert("An unexpected error occurred")}finally{He(!1),pe(null)}},[D]),Qr=y.useCallback(()=>{V==="sessions"?o(t.currentPage):O(C.currentPage)},[V,o,O,t.currentPage,C.currentPage]),bn=y.useMemo(()=>a.search||a.isLive!==""||a.sessionType||a.category,[a]),xn=y.useMemo(()=>k.status||k.sessionId,[k]);return y.useEffect(()=>{V==="bookings"&&O(1)},[V]),y.useEffect(()=>{V==="bookings"&&O(1)},[k]),n.createElement("div",{className:"space-y-4 sm:space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"Sessions"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Create and manage coaching sessions and bookings")),V==="sessions"&&n.createElement("button",{onClick:ht,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},n.createElement(Qt,{className:"h-5 w-5"}),n.createElement("span",null,"Create Session"))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement("div",{className:"flex border-b border-gray-200"},n.createElement("button",{onClick:()=>we("sessions"),className:`flex-1 sm:flex-none px-6 py-3 text-sm font-medium transition-colors relative ${V==="sessions"?"text-gray-900":"text-gray-500 hover:text-gray-700"}`},n.createElement("div",{className:"flex items-center justify-center gap-2"},n.createElement(vl,{className:"h-4 w-4"}),n.createElement("span",null,"Sessions"),n.createElement("span",{className:"px-2 py-0.5 text-xs bg-gray-100 rounded-full"},t.totalCount)),V==="sessions"&&n.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-800"})),n.createElement("button",{onClick:()=>we("bookings"),className:`flex-1 sm:flex-none px-6 py-3 text-sm font-medium transition-colors relative ${V==="bookings"?"text-gray-900":"text-gray-500 hover:text-gray-700"}`},n.createElement("div",{className:"flex items-center justify-center gap-2"},n.createElement(yU,{className:"h-4 w-4"}),n.createElement("span",null,"Bookings"),n.createElement("span",{className:"px-2 py-0.5 text-xs bg-gray-100 rounded-full"},C.totalCount)),V==="bookings"&&n.createElement("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-gray-800"})))),(s||M)&&n.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("div",{className:"flex-1"},n.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading ",s?"sessions":"bookings"),n.createElement("p",{className:"text-sm text-red-700 mt-0.5"},s||M)),n.createElement("button",{onClick:s?S:U,className:"shrink-0 text-red-600 hover:text-red-800"},"")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},V==="sessions"?n.createElement(n.Fragment,null,n.createElement("div",{className:"relative flex-1 max-w-md"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{type:"text",value:Te,onChange:Jt,placeholder:"Search sessions...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),n.createElement("button",{onClick:()=>Se(!W),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${bn?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),bn&&n.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(a.search?1:0)+(a.isLive!==""?1:0)+(a.sessionType?1:0)+(a.category?1:0)),n.createElement(Ln,{className:`h-4 w-4 transition-transform ${W?"rotate-180":""}`}))):n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>Se(!W),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${xn?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),xn&&n.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(k.status?1:0)+(k.sessionId?1:0)),n.createElement(Ln,{className:`h-4 w-4 transition-transform ${W?"rotate-180":""}`}))),n.createElement("button",{onClick:Qr,disabled:r||A,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},n.createElement(zn,{className:`h-4 w-4 ${r||A?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Refresh")),n.createElement("div",{className:"ml-auto text-sm text-gray-500"},V==="sessions"?n.createElement(n.Fragment,null,t.totalCount," session",t.totalCount!==1?"s":""," total"):n.createElement(n.Fragment,null,C.totalCount," booking",C.totalCount!==1?"s":""," total"))),W&&V==="sessions"&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),n.createElement("select",{value:$e,onChange:de=>Pe(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Status"),n.createElement("option",{value:"true"},"Live"),n.createElement("option",{value:"false"},"Not Live"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Session Type"),n.createElement("select",{value:ve,onChange:de=>Ue(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Types"),n.createElement("option",{value:"OTO"},"One-to-One (OTO)"),n.createElement("option",{value:"OTM"},"One-to-Many (OTM)"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Category"),n.createElement("select",{value:xe,onChange:de=>Le(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Categories"),n3.map(de=>n.createElement("option",{key:de.value,value:de.value},de.label)))),n.createElement("div",{className:"flex items-end gap-2 sm:col-span-2"},n.createElement("button",{onClick:va,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),n.createElement("button",{onClick:qn,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset")))),W&&V==="bookings"&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Booking Status"),n.createElement("select",{value:Et,onChange:de=>Ht(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Status"),n.createElement("option",{value:"pending"},"Pending"),n.createElement("option",{value:"confirmed"},"Confirmed"),n.createElement("option",{value:"completed"},"Completed"),n.createElement("option",{value:"cancelled"},"Cancelled"),n.createElement("option",{value:"no_show"},"No Show"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Session"),n.createElement("select",{value:Tt,onChange:de=>Ae(de.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Sessions"),e.map(de=>n.createElement("option",{key:de._id,value:de._id},de.title)))),n.createElement("div",{className:"flex items-end gap-2 sm:col-span-2"},n.createElement("button",{onClick:vn,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),n.createElement("button",{onClick:Hn,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),V==="sessions"&&n.createElement(n.Fragment,null,n.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Session"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Type"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Category"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Price"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Duration"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Host"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,r&&e.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:8,className:"px-6 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading sessions..."))):e.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:8,className:"px-6 py-12 text-center"},n.createElement(vl,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No sessions found"),n.createElement("button",{onClick:ht,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first session"))):e.map(de=>n.createElement("tr",{key:de._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"max-w-[200px]"},n.createElement("p",{className:"font-medium text-gray-900 truncate"},de.title),n.createElement("p",{className:"text-xs text-gray-500 truncate mt-0.5"},de.shortDescription))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${r3[de.sessionType]}`},de.sessionType==="OTO"?"OTO":"OTM")),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${l3[de.category]||l3.other}`},n3.find(Je=>Je.value===de.category)?.label||"Other")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-1"},n.createElement("span",{className:"font-semibold text-gray-900"},vu(de.price)),de.compareAtPrice&&de.compareAtPrice>de.price&&n.createElement("span",{className:"text-xs text-gray-400 line-through"},vu(de.compareAtPrice)))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-1 text-gray-600"},n.createElement(oa,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm"},a3(de.duration)))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"w-7 h-7 bg-gray-200 rounded-full flex items-center justify-center"},n.createElement(Ns,{className:"h-4 w-4 text-gray-500"})),n.createElement("span",{className:"text-sm text-gray-700 truncate max-w-[100px]"},de.host))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${de.isLive?Tf.live:Tf.notLive}`},de.isLive?"Live":"Not Live")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1"},n.createElement("button",{onClick:()=>Ga(de),disabled:X,className:`p-2 rounded-lg transition-colors ${de.isLive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:de.isLive?"Set Not Live":"Set Live"},de.isLive?n.createElement(El,{className:"h-5 w-5"}):n.createElement(Un,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>Bn(de),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},n.createElement(Vt,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>Ha(de),disabled:j,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit session"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>Ne(de),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},n.createElement(pt,{className:"h-4 w-4"}))))))))),t.totalPages>0&&n.createElement(ga,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:N,itemLabel:"sessions"})),n.createElement("div",{className:"md:hidden space-y-4"},r&&e.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading sessions...")):e.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(vl,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No sessions found"),n.createElement("button",{onClick:ht,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first session")):n.createElement(n.Fragment,null,e.map(de=>{const Je=ece(de.bookedSlots||0,de.availableSlots);return n.createElement("div",{key:de._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},n.createElement("div",{className:"flex items-start justify-between gap-3"},n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${r3[de.sessionType]}`},de.sessionType),n.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${de.isLive?Tf.live:Tf.notLive}`},de.isLive?"Live":"Not Live")),n.createElement("p",{className:"font-medium text-gray-900 truncate"},de.title),n.createElement("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-2"},de.shortDescription))),n.createElement("div",{className:"grid grid-cols-3 gap-2 text-center"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Price"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},vu(de.price))),n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Duration"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},a3(de.duration))),n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Host"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm truncate"},de.host))),de.sessionType==="OTM"&&de.availableSlots&&n.createElement("div",null,n.createElement("div",{className:"flex items-center justify-between text-xs mb-1"},n.createElement("span",{className:"text-gray-600"},de.bookedSlots||0," / ",de.availableSlots," booked"),n.createElement("span",{className:"text-gray-400"},Je,"%")),n.createElement("div",{className:"w-full bg-gray-200 rounded-full h-2"},n.createElement("div",{className:`h-2 rounded-full ${tce(Je)}`,style:{width:`${Je}%`}}))),n.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},n.createElement("button",{onClick:()=>Ga(de),disabled:X,className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${de.isLive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},de.isLive?n.createElement(n.Fragment,null,n.createElement(El,{className:"h-4 w-4"}),"Live"):n.createElement(n.Fragment,null,n.createElement(Un,{className:"h-4 w-4"}),"Off")),n.createElement("button",{onClick:()=>Bn(de),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},n.createElement(Vt,{className:"h-4 w-4"}),"Details"),n.createElement("button",{onClick:()=>Ha(de),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>Ne(de),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},n.createElement(pt,{className:"h-4 w-4"}))))}),t.totalPages>0&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:N,itemLabel:"sessions"}))))),V==="bookings"&&n.createElement(n.Fragment,null,n.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"User"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Session"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Scheduled Date"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Amount"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Booked On"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,A&&w.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading bookings..."))):w.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},n.createElement(Zd,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No bookings found"))):w.map(de=>n.createElement("tr",{key:de._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center"},n.createElement(Ns,{className:"h-4 w-4 text-gray-500"})),n.createElement("div",{className:"min-w-0"},n.createElement("p",{className:"font-medium text-gray-900 truncate max-w-[150px]"},de.userId?.name||"Unknown User"),n.createElement("p",{className:"text-xs text-gray-500 truncate max-w-[150px]"},de.userId?.email||"-")))),n.createElement("td",{className:"px-6 py-4"},n.createElement("p",{className:"font-medium text-gray-900 truncate max-w-[180px]"},de.sessionId?.title||"Unknown Session"),n.createElement("p",{className:"text-xs text-gray-500"},de.sessionId?.sessionType||"-")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-1 text-gray-600"},n.createElement(Rt,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm"},ace(de.scheduledSlot)))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:"font-semibold text-gray-900"},vu(de.amountPaid))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Of[de.status]?.color||"bg-gray-100 text-gray-700"}`},Of[de.status]?.label||de.status)),n.createElement("td",{className:"px-6 py-4 text-sm text-gray-500"},s3(de.createdAt)),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1"},de.status==="pending"&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>Ua(de._id,"confirmed"),disabled:qe,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Confirm"},n.createElement(cn,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>Ua(de._id,"cancelled"),disabled:qe,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Cancel"},n.createElement(Na,{className:"h-4 w-4"}))),de.status==="confirmed"&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>Ua(de._id,"completed"),disabled:qe,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Mark Completed"},n.createElement(cn,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>Ua(de._id,"no_show"),disabled:qe,className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"No Show"},n.createElement(Zd,{className:"h-4 w-4"})))))))))),C.totalPages>0&&n.createElement(ga,{currentPage:C.currentPage,totalPages:C.totalPages,totalItems:C.totalCount,itemsPerPage:C.limit,onPageChange:R,itemLabel:"bookings"})),n.createElement("div",{className:"md:hidden space-y-4"},A&&w.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading bookings...")):w.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Zd,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No bookings found")):n.createElement(n.Fragment,null,w.map(de=>n.createElement("div",{key:de._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},n.createElement("div",{className:"flex items-start justify-between gap-3"},n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Of[de.status]?.color||"bg-gray-100 text-gray-700"}`},Of[de.status]?.label||de.status)),n.createElement("p",{className:"font-medium text-gray-900 truncate"},de.userId?.name||"Unknown User"),n.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},de.userId?.email||"-"))),n.createElement("div",{className:"p-2 bg-gray-50 rounded-lg"},n.createElement("p",{className:"text-xs text-gray-500"},"Session"),n.createElement("p",{className:"font-medium text-gray-900 text-sm truncate"},de.sessionId?.title||"Unknown Session")),n.createElement("div",{className:"grid grid-cols-2 gap-2 text-center"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Scheduled"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},s3(de.scheduledSlot))),n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Amount"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},vu(de.amountPaid)))),(de.status==="pending"||de.status==="confirmed")&&n.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},de.status==="pending"&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>Ua(de._id,"confirmed"),disabled:qe,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors"},n.createElement(cn,{className:"h-4 w-4"}),"Confirm"),n.createElement("button",{onClick:()=>Ua(de._id,"cancelled"),disabled:qe,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-red-100 text-red-700 rounded-lg text-sm font-medium hover:bg-red-200 transition-colors"},n.createElement(Na,{className:"h-4 w-4"}),"Cancel")),de.status==="confirmed"&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>Ua(de._id,"completed"),disabled:qe,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg text-sm font-medium hover:bg-green-200 transition-colors"},n.createElement(cn,{className:"h-4 w-4"}),"Complete"),n.createElement("button",{onClick:()=>Ua(de._id,"no_show"),disabled:qe,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},n.createElement(Zd,{className:"h-4 w-4"}),"No Show"))))),C.totalPages>0&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:C.currentPage,totalPages:C.totalPages,totalItems:C.totalCount,itemsPerPage:C.limit,onPageChange:R,itemLabel:"bookings"}))))),n.createElement(Qoe,{isOpen:L,onClose:$n,onSubmit:yn,isLoading:X,serverError:oe,sessionToEdit:te}),n.createElement(Joe,{isOpen:ae,onClose:Vn,session:G,isLoading:j}),n.createElement(Va,{isOpen:ue,onClose:Oe,onConfirm:je,title:"Delete Session",message:`Are you sure you want to delete the session "${G?.title}"? This action can be undone by restoring from deleted sessions.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:X}))}const bu={BASE:"/web/sos/quizzes",GET_BY_ID:e=>`/web/sos/quizzes/${e}`,UPDATE:e=>`/web/sos/quizzes/${e}`,DELETE:e=>`/web/sos/quizzes/${e}`},xu={getAll:async(e={})=>{const{page:t=1,limit:a=10,sortBy:r="createdAt",sortOrder:s="desc",programId:o="",dayNumber:c="",isActive:d=""}=e,m=new URLSearchParams;m.append("page",t.toString()),m.append("limit",a.toString()),m.append("sortBy",r),m.append("sortOrder",s),o&&m.append("programId",o),c&&m.append("dayNumber",c.toString()),d!==""&&m.append("isActive",d);const p=`${bu.BASE}?${m.toString()}`;return console.log("[SOSQuizService] Fetching quizzes:",p),Ee(be.get(p))},getById:async e=>e?(console.log("[SOSQuizService] Fetching quiz:",e),Ee(be.get(bu.GET_BY_ID(e)))):(console.error("[SOSQuizService] getById: No ID provided"),{success:!1,error:"Quiz ID is required"}),create:async e=>(console.log("[SOSQuizService] Creating quiz:",e.title,"for program:",e.programId,"day:",e.dayNumber),e.programId?e.dayNumber?Ee(be.post(bu.BASE,e)):(console.error("[SOSQuizService] create: No dayNumber provided"),{success:!1,error:"Day number is required"}):(console.error("[SOSQuizService] create: No programId provided"),{success:!1,error:"Program ID is required"})),update:async(e,t)=>{if(!e)return console.error("[SOSQuizService] update: No ID provided"),{success:!1,error:"Quiz ID is required"};console.log("[SOSQuizService] Updating quiz:",e);const{programId:a,dayNumber:r,...s}=t;return(a||r)&&console.warn("[SOSQuizService] Ignoring programId and dayNumber in update - these cannot be changed"),Ee(be.put(bu.UPDATE(e),s))},delete:async e=>e?(console.log("[SOSQuizService] Deleting quiz:",e),Ee(be.delete(bu.DELETE(e)))):(console.error("[SOSQuizService] delete: No ID provided"),{success:!1,error:"Quiz ID is required"}),buildQuestion:e=>{const{questionText:t,questionType:a,options:r=[],points:s=5}=e,o={questionText:t,questionType:a,points:s};return(a==="scale"||a==="single-choice"||a==="multiple-choice")&&(o.options=r.map((c,d)=>({text:c.text,value:c.value??d+1}))),o}};function nce(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,c]=y.useState({programId:"",dayNumber:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),h=y.useRef(null),b=y.useCallback(async(_=r.currentPage)=>{m(!0),f(null);try{const P={page:_,limit:r.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.programId&&{programId:o.programId},...o.dayNumber&&{dayNumber:o.dayNumber},...o.isActive!==""&&{isActive:o.isActive}};console.log("[useSOSQuizzes] Fetching quizzes with params:",P);const R=await xu.getAll(P);R.success?(a(R.data.quizzes||[]),s({currentPage:R.data.pagination?.currentPage||1,totalPages:R.data.pagination?.totalPages||0,totalCount:R.data.pagination?.totalCount||0,limit:R.data.pagination?.limit||10}),console.log("[useSOSQuizzes] Fetched quizzes:",R.data.quizzes?.length)):(console.error("[useSOSQuizzes] Failed to fetch quizzes:",R.message),f(R.message||"Failed to fetch quizzes"),a([]))}catch(P){console.error("[useSOSQuizzes] Error fetching quizzes:",P),f("Failed to fetch quizzes"),a([])}finally{m(!1)}},[o,r.limit]),E=y.useCallback(async _=>{try{console.log("[useSOSQuizzes] Creating quiz:",_.title,"for program:",_.programId);const P=await xu.create(_);return P.success?(console.log("[useSOSQuizzes] Quiz created successfully"),await b(1),{success:!0,data:P.data}):(console.error("[useSOSQuizzes] Failed to create quiz:",P.message),{success:!1,error:P.message,validationErrors:P.error})}catch(P){return console.error("[useSOSQuizzes] Error creating quiz:",P),{success:!1,error:"Failed to create quiz"}}},[b]),N=y.useCallback(async _=>{try{console.log("[useSOSQuizzes] Fetching quiz by ID:",_);const P=await xu.getById(_);return P.success?{success:!0,data:P.data.quiz}:(console.error("[useSOSQuizzes] Failed to fetch quiz:",P.message),{success:!1,error:P.message})}catch(P){return console.error("[useSOSQuizzes] Error fetching quiz:",P),{success:!1,error:"Failed to fetch quiz details"}}},[]),S=y.useCallback(async(_,P)=>{try{console.log("[useSOSQuizzes] Updating quiz:",_);const R=await xu.update(_,P);return R.success?(console.log("[useSOSQuizzes] Quiz updated successfully"),a(U=>U.map(L=>L._id===_?{...L,...R.data.quiz}:L)),{success:!0,data:R.data}):(console.error("[useSOSQuizzes] Failed to update quiz:",R.message),{success:!1,error:R.message,validationErrors:R.error})}catch(R){return console.error("[useSOSQuizzes] Error updating quiz:",R),{success:!1,error:"Failed to update quiz"}}},[]),w=y.useCallback(async _=>{try{console.log("[useSOSQuizzes] Deleting quiz:",_);const P=await xu.delete(_);return P.success?(console.log("[useSOSQuizzes] Quiz deleted successfully"),a(R=>R.filter(U=>U._id!==_)),s(R=>({...R,totalCount:R.totalCount-1,totalPages:Math.ceil((R.totalCount-1)/R.limit)})),{success:!0}):(console.error("[useSOSQuizzes] Failed to delete quiz:",P.message),{success:!1,error:P.message})}catch(P){return console.error("[useSOSQuizzes] Error deleting quiz:",P),{success:!1,error:"Failed to delete quiz"}}},[]),C=y.useCallback(_=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{c(P=>({...P,programId:_}))},300)},[]),k=y.useCallback(_=>{c(P=>({...P,..._}))},[]),A=y.useCallback(()=>{c({programId:"",dayNumber:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),M=y.useCallback(_=>{b(_)},[b]),O=y.useCallback(_=>{s(P=>({...P,limit:_}))},[]),D=y.useCallback(()=>{f(null)},[]);return y.useEffect(()=>{b(1)},[o]),y.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),{quizzes:t,pagination:r,filters:o,isLoading:d,error:p,fetchQuizzes:b,createQuiz:E,getQuizById:N,updateQuiz:S,deleteQuiz:w,filterByProgram:C,updateFilters:k,resetFilters:A,changePage:M,changeLimit:O,clearError:D}}const ds={BASE:"/web/sos/programs",GET_BY_ID:e=>`/web/sos/programs/${e}`,UPDATE:e=>`/web/sos/programs/${e}`,DELETE:e=>`/web/sos/programs/${e}`,TOGGLE_STATUS:e=>`/web/sos/programs/${e}/toggle-status`,STATS:e=>`/web/sos/programs/${e}/stats`,QUIZZES:e=>`/web/sos/programs/${e}/quizzes`},fs={getAll:async(e={})=>{const{page:t=1,limit:a=10,sortBy:r="createdAt",sortOrder:s="desc",type:o="",isActive:c="",search:d=""}=e,m=new URLSearchParams;m.append("page",t.toString()),m.append("limit",a.toString()),m.append("sortBy",r),m.append("sortOrder",s),o&&m.append("type",o),c!==""&&m.append("isActive",c),d&&m.append("search",d);const p=`${ds.BASE}?${m.toString()}`;return console.log("[SOSProgramService] Fetching programs:",p),Ee(be.get(p))},getById:async e=>e?(console.log("[SOSProgramService] Fetching program:",e),Ee(be.get(ds.GET_BY_ID(e)))):(console.error("[SOSProgramService] getById: No ID provided"),{success:!1,error:"Program ID is required"}),create:async e=>(console.log("[SOSProgramService] Creating program:",e.title),Ee(be.post(ds.BASE,e))),update:async(e,t)=>e?(console.log("[SOSProgramService] Updating program:",e),Ee(be.put(ds.UPDATE(e),t))):(console.error("[SOSProgramService] update: No ID provided"),{success:!1,error:"Program ID is required"}),delete:async e=>e?(console.log("[SOSProgramService] Deleting program:",e),Ee(be.delete(ds.DELETE(e)))):(console.error("[SOSProgramService] delete: No ID provided"),{success:!1,error:"Program ID is required"}),toggleStatus:async e=>e?(console.log("[SOSProgramService] Toggling status for program:",e),Ee(be.patch(ds.TOGGLE_STATUS(e)))):(console.error("[SOSProgramService] toggleStatus: No ID provided"),{success:!1,error:"Program ID is required"}),getStats:async e=>e?(console.log("[SOSProgramService] Fetching stats for program:",e),Ee(be.get(ds.STATS(e)))):(console.error("[SOSProgramService] getStats: No ID provided"),{success:!1,error:"Program ID is required"}),getQuizzes:async e=>e?(console.log("[SOSProgramService] Fetching quizzes for program:",e),Ee(be.get(ds.QUIZZES(e)))):(console.error("[SOSProgramService] getQuizzes: No ID provided"),{success:!1,error:"Program ID is required"})};function lce(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,c]=y.useState({search:"",type:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),h=y.useRef(null),b=y.useCallback(async(U=r.currentPage)=>{m(!0),f(null);try{const L={page:U,limit:r.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.type&&{type:o.type},...o.isActive!==""&&{isActive:o.isActive}};console.log("[useSOSPrograms] Fetching programs with params:",L);const I=await fs.getAll(L);I.success?(a(I.data.programs||[]),s({currentPage:I.data.pagination?.currentPage||1,totalPages:I.data.pagination?.totalPages||0,totalCount:I.data.pagination?.totalCount||0,limit:I.data.pagination?.limit||10}),console.log("[useSOSPrograms] Fetched programs:",I.data.programs?.length)):(console.error("[useSOSPrograms] Failed to fetch programs:",I.message),f(I.message||"Failed to fetch programs"),a([]))}catch(L){console.error("[useSOSPrograms] Error fetching programs:",L),f("Failed to fetch programs"),a([])}finally{m(!1)}},[o,r.limit]),E=y.useCallback(async U=>{try{console.log("[useSOSPrograms] Creating program:",U.title);const L=await fs.create(U);return L.success?(console.log("[useSOSPrograms] Program created successfully"),await b(1),{success:!0,data:L.data}):(console.error("[useSOSPrograms] Failed to create program:",L.message),{success:!1,error:L.message,validationErrors:L.error})}catch(L){return console.error("[useSOSPrograms] Error creating program:",L),{success:!1,error:"Failed to create program"}}},[b]),N=y.useCallback(async U=>{try{console.log("[useSOSPrograms] Fetching program by ID:",U);const L=await fs.getById(U);return L.success?{success:!0,data:L.data.program}:(console.error("[useSOSPrograms] Failed to fetch program:",L.message),{success:!1,error:L.message})}catch(L){return console.error("[useSOSPrograms] Error fetching program:",L),{success:!1,error:"Failed to fetch program details"}}},[]),S=y.useCallback(async U=>{try{console.log("[useSOSPrograms] Fetching stats for program:",U);const L=await fs.getStats(U);return L.success?{success:!0,data:L.data}:(console.error("[useSOSPrograms] Failed to fetch program stats:",L.message),{success:!1,error:L.message})}catch(L){return console.error("[useSOSPrograms] Error fetching program stats:",L),{success:!1,error:"Failed to fetch program statistics"}}},[]),w=y.useCallback(async U=>{try{console.log("[useSOSPrograms] Fetching quizzes for program:",U);const L=await fs.getQuizzes(U);return L.success?{success:!0,data:L.data}:(console.error("[useSOSPrograms] Failed to fetch program quizzes:",L.message),{success:!1,error:L.message})}catch(L){return console.error("[useSOSPrograms] Error fetching program quizzes:",L),{success:!1,error:"Failed to fetch program quizzes"}}},[]),C=y.useCallback(async(U,L)=>{try{console.log("[useSOSPrograms] Updating program:",U);const I=await fs.update(U,L);return I.success?(console.log("[useSOSPrograms] Program updated successfully"),a(ae=>ae.map(ne=>ne._id===U?{...ne,...I.data.program}:ne)),{success:!0,data:I.data}):(console.error("[useSOSPrograms] Failed to update program:",I.message),{success:!1,error:I.message,validationErrors:I.error})}catch(I){return console.error("[useSOSPrograms] Error updating program:",I),{success:!1,error:"Failed to update program"}}},[]),k=y.useCallback(async(U,L)=>{try{console.log("[useSOSPrograms] Toggling status for program:",U);const I=await fs.toggleStatus(U);return I.success?(console.log("[useSOSPrograms] Program status toggled successfully"),a(ae=>ae.map(ne=>ne._id===U?{...ne,isActive:!L}:ne)),{success:!0}):(console.error("[useSOSPrograms] Failed to toggle program status:",I.message),{success:!1,error:I.message})}catch(I){return console.error("[useSOSPrograms] Error toggling program status:",I),{success:!1,error:"Failed to update program status"}}},[]),A=y.useCallback(async U=>{try{console.log("[useSOSPrograms] Deleting program:",U);const L=await fs.delete(U);return L.success?(console.log("[useSOSPrograms] Program deleted successfully"),a(I=>I.filter(ae=>ae._id!==U)),s(I=>({...I,totalCount:I.totalCount-1,totalPages:Math.ceil((I.totalCount-1)/I.limit)})),{success:!0}):(console.error("[useSOSPrograms] Failed to delete program:",L.message),{success:!1,error:L.message})}catch(L){return console.error("[useSOSPrograms] Error deleting program:",L),{success:!1,error:"Failed to delete program"}}},[]),M=y.useCallback(U=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{c(L=>({...L,search:U}))},300)},[]),O=y.useCallback(U=>{c(L=>({...L,...U}))},[]),D=y.useCallback(()=>{c({search:"",type:"",isActive:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),_=y.useCallback(U=>{b(U)},[b]),P=y.useCallback(U=>{s(L=>({...L,limit:U}))},[]),R=y.useCallback(()=>{f(null)},[]);return y.useEffect(()=>{b(1)},[o]),y.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),{programs:t,pagination:r,filters:o,isLoading:d,error:p,fetchPrograms:b,createProgram:E,getProgramById:N,getProgramStats:S,getProgramQuizzes:w,updateProgram:C,toggleProgramStatus:k,deleteProgram:A,searchPrograms:M,updateFilters:O,resetFilters:D,changePage:_,changeLimit:P,clearError:R}}const i3=()=>({programId:"",dayNumber:"",title:"",description:"",questions:[],isActive:!0}),sce=()=>({questionText:"",questionType:"single-choice",options:[{text:"",value:1},{text:"",value:2}],points:5}),ice=[{value:"scale",label:"Scale (1-5)",description:"Rating scale from 1 to 5"},{value:"single-choice",label:"Single Choice",description:"Choose one option"},{value:"multiple-choice",label:"Multiple Choice",description:"Select multiple options"},{value:"boolean",label:"Yes/No",description:"True or false question"},{value:"text",label:"Text",description:"Free text response"}];function oce({isOpen:e,onClose:t,onSubmit:a,isLoading:r=!1,serverError:s=null,quizToEdit:o=null,programs:c=[],selectedProgram:d=null}){const[m,p]=y.useState(i3()),[f,h]=y.useState({}),[b,E]=y.useState("basic"),N=!!o,S=c.find(R=>R._id===m.programId)||d;y.useEffect(()=>{e&&(p(o?{programId:o.programId?._id||o.programId||"",dayNumber:o.dayNumber?.toString()||"",title:o.title||"",description:o.description||"",questions:o.questions?.map(R=>({questionText:R.questionText||"",questionType:R.questionType||"single-choice",options:R.options||[{text:"",value:1},{text:"",value:2}],points:R.points||5}))||[],isActive:o.isActive??!0}:{...i3(),programId:d?._id||""}),h({}),E("basic"))},[e,o,d]);const w=R=>{const U={};if(!N&&!R.programId&&(U.programId="Please select a program"),!N)if(!R.dayNumber)U.dayNumber="Day number is required";else{const L=parseInt(R.dayNumber,10);isNaN(L)||L<1?U.dayNumber="Day number must be at least 1":S&&L>S.durationDays&&(U.dayNumber=`Day number cannot exceed program duration (${S.durationDays} days)`)}if(R.title.trim()?R.title.length>200&&(U.title="Title must be less than 200 characters"):U.title="Title is required",R.questions.length===0)U.questions="At least one question is required";else{const L=[];R.questions.forEach((I,ae)=>{const ne={};I.questionText.trim()||(ne.questionText="Question text is required"),(I.questionType==="scale"||I.questionType==="single-choice"||I.questionType==="multiple-choice")&&I.options&&(I.options.some(F=>!F.text.trim())&&(ne.options="All options must have text"),I.options.length<2&&(ne.options="At least 2 options are required")),Object.keys(ne).length>0&&(L[ae]=ne)}),(L.length>0||Object.keys(L).some(I=>L[I]))&&(U.questionErrors=L)}return{isValid:Object.keys(U).length===0,errors:U}},C=(R,U)=>{p(L=>({...L,[R]:U})),f[R]&&h(L=>{const I={...L};return delete I[R],I})},k=()=>{p(R=>({...R,questions:[...R.questions,sce()]}))},A=R=>{p(U=>({...U,questions:U.questions.filter((L,I)=>I!==R)}))},M=(R,U,L)=>{p(I=>({...I,questions:I.questions.map((ae,ne)=>{if(ne!==R)return ae;const ue={...ae,[U]:L};return U==="questionType"&&(L==="scale"?ue.options=[{text:"Very Bad",value:1},{text:"Bad",value:2},{text:"Neutral",value:3},{text:"Good",value:4},{text:"Very Good",value:5}]:L==="single-choice"||L==="multiple-choice"?ue.options=[{text:"",value:1},{text:"",value:2}]:(L==="boolean"||L==="text")&&(ue.options=[])),ue})}))},O=R=>{p(U=>({...U,questions:U.questions.map((L,I)=>I!==R?L:{...L,options:[...L.options,{text:"",value:L.options.length+1}]})}))},D=(R,U)=>{p(L=>({...L,questions:L.questions.map((I,ae)=>ae!==R?I:{...I,options:I.options.filter((ne,ue)=>ue!==U).map((ne,ue)=>({...ne,value:ue+1}))})}))},_=(R,U,L)=>{p(I=>({...I,questions:I.questions.map((ae,ne)=>ne!==R?ae:{...ae,options:ae.options.map((ue,F)=>F!==U?ue:{...ue,text:L})})}))},P=async R=>{R.preventDefault();const{isValid:U,errors:L}=w(m);if(!U){h(L),(L.questions||L.questionErrors)&&E("questions");return}const I={title:m.title.trim(),description:m.description.trim(),questions:m.questions.map(ne=>({questionText:ne.questionText.trim(),questionType:ne.questionType,points:ne.points,...ne.questionType==="scale"||ne.questionType==="single-choice"||ne.questionType==="multiple-choice"?{options:ne.options.map(ue=>({text:ue.text.trim(),value:ue.value}))}:{}})),isActive:m.isActive};N||(I.programId=m.programId,I.dayNumber=parseInt(m.dayNumber,10)),console.log("[SOSQuizForm] Submitting data:",I),(await a(I))?.success&&t()};return n.createElement(Zt,{isOpen:e,onClose:t,title:N?"Edit SOS Quiz":"Create SOS Quiz",size:"xl"},n.createElement("form",{onSubmit:P,className:"space-y-4"},n.createElement("div",{className:"flex border-b border-gray-200"},n.createElement("button",{type:"button",onClick:()=>E("basic"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${b==="basic"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700"}`},"Basic Info"),n.createElement("button",{type:"button",onClick:()=>E("questions"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${b==="questions"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700"}`},"Questions (",m.questions.length,")")),n.createElement("div",{className:"max-h-[60vh] overflow-y-auto pr-2"},b==="basic"?n.createElement("div",{className:"space-y-4"},!N&&n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Program ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{value:m.programId,onChange:R=>C("programId",R.target.value),disabled:r||d,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${f.programId?"border-red-500":"border-gray-300"} ${r||d?"bg-gray-100":""}`},n.createElement("option",{value:""},"Select a program"),c.map(R=>n.createElement("option",{key:R._id,value:R._id},R.title," (",R.durationDays," days)"))),f.programId&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},f.programId)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Day Number ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"number",value:m.dayNumber,onChange:R=>C("dayNumber",R.target.value),placeholder:"e.g., 1",min:"1",max:S?.durationDays||365,disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${f.dayNumber?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),f.dayNumber&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},f.dayNumber),S&&n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Program duration: ",S.durationDays," days"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Quiz Title ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:m.title,onChange:R=>C("title",R.target.value),placeholder:"e.g., Day 1: Introduction to Mindfulness",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${f.title?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),f.title&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},f.title)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement("textarea",{value:m.description,onChange:R=>C("description",R.target.value),placeholder:"Brief description of this day's activities...",rows:3,disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors border-gray-300 ${r?"bg-gray-100":""}`})),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:m.isActive,onChange:R=>C("isActive",R.target.checked),disabled:r,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),n.createElement("span",{className:"text-sm text-gray-700"},m.isActive?"Active":"Inactive"))):n.createElement("div",{className:"space-y-4"},f.questions&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg"},n.createElement("p",{className:"text-sm text-red-700"},f.questions)),m.questions.length===0?n.createElement("div",{className:"p-8 text-center border-2 border-dashed border-gray-200 rounded-lg"},n.createElement("p",{className:"text-gray-500 mb-3"},"No questions added yet"),n.createElement("button",{type:"button",onClick:k,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},n.createElement(Qt,{className:"h-4 w-4"}),"Add Question")):n.createElement(n.Fragment,null,m.questions.map((R,U)=>n.createElement("div",{key:U,className:"p-4 border border-gray-200 rounded-lg space-y-3"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u0,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"font-medium text-gray-700"},"Question ",U+1)),n.createElement("button",{type:"button",onClick:()=>A(U),className:"p-1 text-red-500 hover:bg-red-50 rounded"},n.createElement(pt,{className:"h-4 w-4"}))),n.createElement("div",null,n.createElement("input",{type:"text",value:R.questionText,onChange:L=>M(U,"questionText",L.target.value),placeholder:"Enter your question...",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${f.questionErrors?.[U]?.questionText?"border-red-500":"border-gray-300"}`}),f.questionErrors?.[U]?.questionText&&n.createElement("p",{className:"text-red-600 text-xs mt-1"},f.questionErrors[U].questionText)),n.createElement("div",{className:"grid grid-cols-2 gap-3"},n.createElement("div",null,n.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Type"),n.createElement("select",{value:R.questionType,onChange:L=>M(U,"questionType",L.target.value),disabled:r,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},ice.map(L=>n.createElement("option",{key:L.value,value:L.value},L.label)))),n.createElement("div",null,n.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Points"),n.createElement("input",{type:"number",value:R.points,onChange:L=>M(U,"points",parseInt(L.target.value)||0),min:"0",max:"100",disabled:r,className:"w-full px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:border-gray-800 outline-none"}))),(R.questionType==="scale"||R.questionType==="single-choice"||R.questionType==="multiple-choice")&&n.createElement("div",{className:"space-y-2"},n.createElement("label",{className:"block text-xs font-medium text-gray-600"},"Options"),R.options.map((L,I)=>n.createElement("div",{key:I,className:"flex items-center gap-2"},n.createElement("span",{className:"text-xs text-gray-400 w-6"},I+1,"."),n.createElement("input",{type:"text",value:L.text,onChange:ae=>_(U,I,ae.target.value),placeholder:`Option ${I+1}`,disabled:r||R.questionType==="scale",className:"flex-1 px-2 py-1.5 text-sm border border-gray-300 rounded-lg focus:border-gray-800 outline-none"}),(R.questionType==="single-choice"||R.questionType==="multiple-choice")&&R.options.length>2&&n.createElement("button",{type:"button",onClick:()=>D(U,I),className:"p-1 text-red-500 hover:bg-red-50 rounded"},n.createElement(pt,{className:"h-3 w-3"})))),(R.questionType==="single-choice"||R.questionType==="multiple-choice")&&n.createElement("button",{type:"button",onClick:()=>O(U),className:"text-xs text-gray-600 hover:text-gray-800 flex items-center gap-1"},n.createElement(Qt,{className:"h-3 w-3"}),"Add Option"),f.questionErrors?.[U]?.options&&n.createElement("p",{className:"text-red-600 text-xs"},f.questionErrors[U].options)))),n.createElement("button",{type:"button",onClick:k,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors flex items-center justify-center gap-2"},n.createElement(Qt,{className:"h-4 w-4"}),"Add Question")))),s&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("p",{className:"text-sm text-red-700"},s)),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:t,disabled:r,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:r,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},r?n.createElement(n.Fragment,null,n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),n.createElement("span",null,N?"Updating...":"Creating...")):n.createElement("span",null,N?"Update Quiz":"Create Quiz")))))}const o3=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",cce={scale:"Scale (1-5)","single-choice":"Single Choice","multiple-choice":"Multiple Choice",boolean:"Yes/No",text:"Text Response"},uce={scale:Lo,"single-choice":vE,"multiple-choice":PI,boolean:Un,text:zI};function mce({isOpen:e,onClose:t,quiz:a,isLoading:r=!1}){if(!e)return null;const s=a?.questions?.reduce((o,c)=>o+(c.points||0),0)||0;return n.createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto"},n.createElement("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),n.createElement("div",{className:"relative min-h-full flex items-center justify-center p-4"},n.createElement("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},n.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Quiz Details"),n.createElement("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},n.createElement(Na,{className:"h-5 w-5"}))),n.createElement("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},r?n.createElement("div",{className:"flex flex-col items-center justify-center py-12"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading quiz details...")):a?n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("div",{className:"flex items-center gap-2 mb-2"},n.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${a.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},a.isActive?"Active":"Inactive"),a.dayNumber&&n.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"},"Day ",a.dayNumber)),n.createElement("h3",{className:"text-xl font-semibold text-gray-900"},a.title)),a.programId&&n.createElement("div",{className:"p-3 bg-gray-50 rounded-lg"},n.createElement("p",{className:"text-xs text-gray-500 mb-1"},"Program"),n.createElement("p",{className:"font-medium text-gray-900"},a.programId.title||a.programId)),a.description&&n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-1"},"Description"),n.createElement("p",{className:"text-gray-600 whitespace-pre-wrap"},a.description)),n.createElement("div",{className:"grid grid-cols-3 gap-4"},n.createElement("div",{className:"bg-blue-50 rounded-lg p-4 text-center"},n.createElement(Uf,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-blue-700"},a.questions?.length||a.questionCount||0),n.createElement("p",{className:"text-xs text-blue-600"},"Questions")),n.createElement("div",{className:"bg-amber-50 rounded-lg p-4 text-center"},n.createElement(Lo,{className:"h-5 w-5 text-amber-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-amber-700"},s),n.createElement("p",{className:"text-xs text-amber-600"},"Total Points")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},n.createElement(Rt,{className:"h-5 w-5 text-gray-500 mx-auto mb-1"}),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},"Day ",a.dayNumber||"-"),n.createElement("p",{className:"text-xs text-gray-500"},"Program Day"))),a.questions&&a.questions.length>0&&n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2"},n.createElement(Uf,{className:"h-4 w-4"}),"Questions"),n.createElement("div",{className:"space-y-3"},a.questions.map((o,c)=>{const d=uce[o.questionType]||Uf;return n.createElement("div",{key:c,className:"p-3 border border-gray-200 rounded-lg"},n.createElement("div",{className:"flex items-start gap-3"},n.createElement("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600"},c+1),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"text-gray-900 font-medium"},o.questionText),n.createElement("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500"},n.createElement("span",{className:"flex items-center gap-1"},n.createElement(d,{className:"h-3 w-3"}),cce[o.questionType]||o.questionType),n.createElement("span",{className:"flex items-center gap-1"},n.createElement(Lo,{className:"h-3 w-3"}),o.points," pts")),o.options&&o.options.length>0&&n.createElement("div",{className:"mt-2 space-y-1"},o.options.map((m,p)=>n.createElement("div",{key:p,className:"flex items-center gap-2 text-sm text-gray-600"},n.createElement("span",{className:`w-4 h-4 border border-gray-300 flex-shrink-0 ${o.questionType==="multiple-choice"?"rounded":"rounded-full"}`}),n.createElement("span",null,m.text,o.questionType==="scale"&&n.createElement("span",{className:"text-gray-400 ml-1"},"(",m.value,")"))))),o.questionType==="boolean"&&n.createElement("div",{className:"mt-2 flex items-center gap-4 text-sm text-gray-600"},n.createElement("span",{className:"flex items-center gap-1"},n.createElement(Ml,{className:"h-4 w-4 text-green-500"}),"Yes"),n.createElement("span",{className:"flex items-center gap-1"},n.createElement(Ti,{className:"h-4 w-4 text-red-500"}),"No")),o.questionType==="text"&&n.createElement("div",{className:"mt-2 text-sm text-gray-500 italic"},"Free text response"))))}))),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500"},n.createElement("span",null,"Created: ",o3(a.createdAt)),a.updatedAt&&a.updatedAt!==a.createdAt&&n.createElement("span",null,"Updated: ",o3(a.updatedAt))))):n.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500"},n.createElement("p",null,"No quiz data available"))),n.createElement("div",{className:"p-4 border-t border-gray-200 bg-gray-50"},n.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},"Close")))))}const c3=()=>({title:"",description:"",type:"ISOS",durationDays:"",imageUrl:"",isActive:!1}),u3=[{value:"GSOS",label:"General SOS (GSOS)",description:"Single day quick programs"},{value:"ISOS",label:"Intensive SOS (ISOS)",description:"Multi-day structured programs (7D, 15D, 30D)"}];function dce({isOpen:e,onClose:t,onSubmit:a,isLoading:r=!1,serverError:s=null,programToEdit:o=null}){const[c,d]=y.useState(c3()),[m,p]=y.useState({}),f=!!o;y.useEffect(()=>{e&&(d(o?{title:o.title||"",description:o.description||"",type:o.type||"ISOS",durationDays:o.durationDays?.toString()||"",imageUrl:o.imageUrl||"",isActive:o.isActive??!1}:c3()),p({}))},[e,o]);const h=N=>{const S={};if(N.title.trim()?N.title.length>200&&(S.title="Title must be less than 200 characters"):S.title="Title is required",N.description.trim()?N.description.length>2e3&&(S.description="Description must be less than 2000 characters"):S.description="Description is required",!N.durationDays)S.durationDays="Duration is required";else{const w=parseInt(N.durationDays,10);isNaN(w)||w<1?S.durationDays="Duration must be at least 1 day":w>365&&(S.durationDays="Duration cannot exceed 365 days"),N.type==="GSOS"&&w!==1&&(S.durationDays="General SOS programs should be 1 day")}return N.imageUrl&&!/^https?:\/\/.+/.test(N.imageUrl)&&(S.imageUrl="Please provide a valid image URL"),{isValid:Object.keys(S).length===0,errors:S}},b=(N,S)=>{d(w=>{const C={...w,[N]:S};return N==="type"&&S==="GSOS"&&(C.durationDays="1"),C}),m[N]&&p(w=>{const C={...w};return delete C[N],C})},E=async N=>{N.preventDefault();const{isValid:S,errors:w}=h(c);if(!S){p(w);return}const C={title:c.title.trim(),description:c.description.trim(),type:c.type,durationDays:parseInt(c.durationDays,10),isActive:c.isActive};c.imageUrl.trim()&&(C.imageUrl=c.imageUrl.trim()),console.log("[SOSProgramForm] Submitting data:",C),(await a(C))?.success&&t()};return n.createElement(Zt,{isOpen:e,onClose:t,title:f?"Edit SOS Program":"Create SOS Program",size:"lg"},n.createElement("form",{onSubmit:E,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Program Title ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:c.title,onChange:N=>b("title",N.target.value),placeholder:"e.g., 7-Day Anxiety Relief Program",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.title?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.title&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.title)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("textarea",{value:c.description,onChange:N=>b("description",N.target.value),placeholder:"Describe what participants will achieve through this program...",rows:4,disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${m.description?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.description&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.description)),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Program Type ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{value:c.type,onChange:N=>b("type",N.target.value),disabled:r||f,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${r||f?"bg-gray-100":""}`},u3.map(N=>n.createElement("option",{key:N.value,value:N.value},N.label))),f&&n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Type cannot be changed after creation"),n.createElement("p",{className:"text-xs text-gray-500 mt-1"},u3.find(N=>N.value===c.type)?.description)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Duration (Days) ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"number",value:c.durationDays,onChange:N=>b("durationDays",N.target.value),placeholder:"e.g., 7",min:"1",max:"365",disabled:r||f||c.type==="GSOS",className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.durationDays?"border-red-500":"border-gray-300"} ${r||f||c.type==="GSOS"?"bg-gray-100":""}`}),m.durationDays&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.durationDays),f&&n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Duration cannot be changed after creation"),c.type==="GSOS"&&!f&&n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Fixed to 1 day for General SOS"))),n.createElement(xi,{label:"Program Image",value:c.imageUrl,onUpload:N=>b("imageUrl",N),disabled:r,error:m.imageUrl,type:"image",folder:"sos-programs",placeholder:"Drop image here or click to upload"}),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:c.isActive,onChange:N=>b("isActive",N.target.checked),disabled:r,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),n.createElement("span",{className:"text-sm text-gray-700"},c.isActive?"Active (Visible to users)":"Inactive")),s&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("p",{className:"text-sm text-red-700"},s)),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200 sticky bottom-0 bg-white"},n.createElement("button",{type:"button",onClick:t,disabled:r,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:r,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},r?n.createElement(n.Fragment,null,n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),n.createElement("span",null,f?"Updating...":"Creating...")):n.createElement("span",null,f?"Update Program":"Create Program")))))}const xb=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-",fce={GSOS:"bg-blue-100 text-blue-700",ISOS:"bg-purple-100 text-purple-700"},m3={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-600"};function gce({isOpen:e,onClose:t,program:a,isLoading:r=!1,onFetchStats:s}){const[o,c]=y.useState(null),[d,m]=y.useState(!1),[p,f]=y.useState(null);return y.useEffect(()=>{(async()=>{if(!(!e||!a?._id||!s)){m(!0),f(null);try{const b=await s(a._id);b.success?c(b.data.stats):f(b.error||"Failed to load statistics")}catch(b){console.error("[SOSProgramDetailsModal] Error fetching stats:",b),f("Failed to load statistics")}finally{m(!1)}}})()},[e,a?._id,s]),y.useEffect(()=>{e||(c(null),f(null))},[e]),e?n.createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto"},n.createElement("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),n.createElement("div",{className:"relative min-h-full flex items-center justify-center p-4"},n.createElement("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},n.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Program Details"),n.createElement("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},n.createElement(Na,{className:"h-5 w-5"}))),n.createElement("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},r?n.createElement("div",{className:"flex flex-col items-center justify-center py-12"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading program details...")):a?n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("div",{className:"flex items-center gap-2 mb-2"},n.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${fce[a.type]}`},a.type==="GSOS"?"General SOS":"Intensive SOS"),n.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${a.isActive?m3.active:m3.inactive}`},a.isActive?"Active":"Inactive")),n.createElement("h3",{className:"text-xl font-semibold text-gray-900"},a.title)),a.description&&n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-1"},"Description"),n.createElement("p",{className:"text-gray-600 whitespace-pre-wrap"},a.description)),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},n.createElement(Rt,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm"},"Duration")),n.createElement("p",{className:"font-semibold text-gray-900"},a.durationDays," ",a.durationDays===1?"Day":"Days")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},n.createElement(oa,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm"},"Created")),n.createElement("p",{className:"font-semibold text-gray-900"},xb(a.createdAt)))),n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2"},n.createElement(Dn,{className:"h-4 w-4"}),"Statistics"),d?n.createElement("div",{className:"flex items-center justify-center py-8 bg-gray-50 rounded-lg"},n.createElement(Fe,{className:"h-6 w-6 text-gray-400 animate-spin"}),n.createElement("span",{className:"ml-2 text-sm text-gray-500"},"Loading statistics...")):p?n.createElement("div",{className:"p-4 bg-red-50 rounded-lg text-sm text-red-600"},p):o?n.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},n.createElement("div",{className:"bg-blue-50 rounded-lg p-3 text-center"},n.createElement(sm,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-blue-700"},o.totalEnrolled||0),n.createElement("p",{className:"text-xs text-blue-600"},"Total Enrolled")),n.createElement("div",{className:"bg-amber-50 rounded-lg p-3 text-center"},n.createElement(oa,{className:"h-5 w-5 text-amber-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-amber-700"},o.inProgress||0),n.createElement("p",{className:"text-xs text-amber-600"},"In Progress")),n.createElement("div",{className:"bg-green-50 rounded-lg p-3 text-center"},n.createElement(gD,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-green-700"},o.completed||0),n.createElement("p",{className:"text-xs text-green-600"},"Completed")),n.createElement("div",{className:"bg-red-50 rounded-lg p-3 text-center"},n.createElement(Ti,{className:"h-5 w-5 text-red-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-red-700"},o.abandoned||0),n.createElement("p",{className:"text-xs text-red-600"},"Abandoned"))):n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-gray-500 text-center"},"No statistics available"),o&&n.createElement("div",{className:"grid grid-cols-3 gap-3 mt-3"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},n.createElement(xD,{className:"h-4 w-4 text-gray-500 mx-auto mb-1"}),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},o.completionRate||0,"%"),n.createElement("p",{className:"text-xs text-gray-500"},"Completion Rate")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},n.createElement(hD,{className:"h-4 w-4 text-gray-500 mx-auto mb-1"}),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},o.quizCount||0,"/",a.durationDays),n.createElement("p",{className:"text-xs text-gray-500"},"Quizzes Created")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},n.createElement(Lo,{className:"h-4 w-4 text-gray-500 mx-auto mb-1"}),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},o.averageScore?.toFixed(1)||"-"),n.createElement("p",{className:"text-xs text-gray-500"},"Avg. Score")))),a.imageUrl&&n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-2"},"Program Image"),n.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 aspect-video"},n.createElement("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover",onError:h=>{h.target.style.display="none",h.target.parentElement.innerHTML='<div class="flex items-center justify-center h-full text-gray-400 text-sm">Failed to load image</div>'}}))),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500"},n.createElement("span",null,"Created: ",xb(a.createdAt)),a.updatedAt&&a.updatedAt!==a.createdAt&&n.createElement("span",null,"Updated: ",xb(a.updatedAt)),a.createdBy?.name&&n.createElement("span",null,"By: ",a.createdBy.name)))):n.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500"},n.createElement("p",null,"No program data available"))),n.createElement("div",{className:"p-4 border-t border-gray-200 bg-gray-50"},n.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},"Close"))))):null}const gs={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-600"},d3={GSOS:"bg-blue-100 text-blue-700",ISOS:"bg-purple-100 text-purple-700"};function pce(){const[e,t]=y.useState("quizzes"),{quizzes:a,pagination:r,filters:s,isLoading:o,error:c,fetchQuizzes:d,createQuiz:m,getQuizById:p,updateQuiz:f,deleteQuiz:h,filterByProgram:b,updateFilters:E,resetFilters:N,changePage:S,clearError:w}=nce(),{programs:C,pagination:k,filters:A,isLoading:M,error:O,fetchPrograms:D,createProgram:_,getProgramById:P,getProgramStats:R,updateProgram:U,toggleProgramStatus:L,deleteProgram:I,searchPrograms:ae,updateFilters:ne,resetFilters:ue,changePage:F,clearError:G}=lce(),[le,te]=y.useState(!1),[H,j]=y.useState(!1),[B,X]=y.useState(!1),[K,oe]=y.useState(null),[Q,V]=y.useState(null),[we,W]=y.useState(!1),[Se,Te]=y.useState(!1),[ge,$e]=y.useState(!1),[Pe,ve]=y.useState(!1),[Ue,xe]=y.useState(null),[Le,Et]=y.useState(null),[Ht,Tt]=y.useState(!1),[Ae,ce]=y.useState(!1),[pe,qe]=y.useState(null),[He,ht]=y.useState(!1),[Ha,$n]=y.useState(s.programId||""),[yn,Bn]=y.useState(s.isActive||""),[Vn,Ga]=y.useState(!1),[Ne,Oe]=y.useState(A.search||""),[je,Jt]=y.useState(A.type||""),[va,qn]=y.useState(A.isActive||"");y.useEffect(()=>{D(1)},[]);const vn=y.useCallback(()=>{qe(null),V(null),te(!0)},[]),Hn=y.useCallback(async fe=>{qe(null),W(!0);try{const Me=await p(fe._id);Me.success?(V(Me.data),te(!0)):alert(Me.error||"Failed to load quiz details")}catch(Me){console.error("[Quizes] Failed to load quiz for edit:",Me),alert("An unexpected error occurred")}finally{W(!1)}},[p]),Ua=y.useCallback(()=>{te(!1),qe(null),V(null)},[]),Qr=y.useCallback(async fe=>{ce(!0),qe(null);try{let Me;return Q?Me=await f(Q._id,fe):Me=await m(fe),Me.success?Me:(qe(Me.error||"Failed to save quiz"),{success:!1})}catch(Me){return console.error("[Quizes] Form submission error:",Me),qe("An unexpected error occurred"),{success:!1}}finally{ce(!1)}},[m,f,Q]),bn=y.useCallback(async fe=>{oe(fe),j(!0),W(!0);try{const Me=await p(fe._id);Me.success&&oe(Me.data)}catch(Me){console.error("[Quizes] Failed to fetch details:",Me)}finally{W(!1)}},[p]),xn=y.useCallback(()=>{j(!1),oe(null)},[]),de=y.useCallback(fe=>{oe(fe),X(!0)},[]),Je=y.useCallback(()=>{X(!1),oe(null)},[]),En=y.useCallback(async()=>{if(K){ce(!0);try{const fe=await h(K._id);fe.success?Je():alert(fe.error||"Failed to delete quiz")}catch(fe){console.error("[Quizes] Delete error:",fe),alert("An unexpected error occurred")}finally{ce(!1)}}},[K,h,Je]),js=y.useCallback(()=>{E({programId:Ha,isActive:yn}),ht(!1)},[Ha,yn,E]),rp=y.useCallback(()=>{$n(""),Bn(""),N(),ht(!1)},[N]),Rm=y.useCallback(()=>{d(r.currentPage)},[d,r.currentPage]),_i=y.useCallback(()=>{qe(null),Et(null),Te(!0)},[]),mc=y.useCallback(async fe=>{qe(null),Tt(!0);try{const Me=await P(fe._id);Me.success?(Et(Me.data),Te(!0)):alert(Me.error||"Failed to load program details")}catch(Me){console.error("[Quizes] Failed to load program for edit:",Me),alert("An unexpected error occurred")}finally{Tt(!1)}},[P]),dc=y.useCallback(()=>{Te(!1),qe(null),Et(null)},[]),fc=y.useCallback(async fe=>{ce(!0),qe(null);try{let Me;return Le?Me=await U(Le._id,fe):Me=await _(fe),Me.success?Me:(qe(Me.error||"Failed to save program"),{success:!1})}catch(Me){return console.error("[Quizes] Form submission error:",Me),qe("An unexpected error occurred"),{success:!1}}finally{ce(!1)}},[_,U,Le]),gc=y.useCallback(async fe=>{xe(fe),$e(!0),Tt(!0);try{const Me=await P(fe._id);Me.success&&xe(Me.data)}catch(Me){console.error("[Quizes] Failed to fetch program details:",Me)}finally{Tt(!1)}},[P]),Lm=y.useCallback(()=>{$e(!1),xe(null)},[]),Xr=y.useCallback(async fe=>{ce(!0);try{const Me=await L(fe._id,fe.isActive);Me.success||alert(Me.error||"Failed to update program status")}catch(Me){console.error("[Quizes] Toggle status error:",Me),alert("An unexpected error occurred")}finally{ce(!1)}},[L]),ea=y.useCallback(fe=>{xe(fe),ve(!0)},[]),ba=y.useCallback(()=>{ve(!1),xe(null)},[]),Ul=y.useCallback(async()=>{if(Ue){ce(!0);try{const fe=await I(Ue._id);fe.success?ba():alert(fe.error||"Failed to delete program")}catch(fe){console.error("[Quizes] Delete error:",fe),alert("An unexpected error occurred")}finally{ce(!1)}}},[Ue,I,ba]),pc=y.useCallback(fe=>{const Me=fe.target.value;Oe(Me),ae(Me)},[ae]),np=y.useCallback(()=>{ne({search:Ne,type:je,isActive:va}),Ga(!1)},[Ne,je,va,ne]),lp=y.useCallback(()=>{Oe(""),Jt(""),qn(""),ue(),Ga(!1)},[ue]),jm=y.useCallback(()=>{D(k.currentPage)},[D,k.currentPage]),Il=y.useMemo(()=>s.programId||s.isActive!=="",[s]),Pi=y.useMemo(()=>A.search||A.type||A.isActive!=="",[A]),Gn=y.useCallback(fe=>fe?typeof fe=="object"&&fe.title?fe.title:C.find(Ut=>Ut._id===fe)?.title||fe:"-",[C]),Kn=y.useCallback(fe=>fe.questions?.reduce((Me,Ut)=>Me+(Ut.points||0),0)||fe.totalPoints||0,[]);return n.createElement("div",{className:"space-y-4 sm:space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"SOS Management"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Manage SOS programs and their daily quizzes")),n.createElement("button",{onClick:e==="quizzes"?vn:_i,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},n.createElement(Qt,{className:"h-5 w-5"}),n.createElement("span",null,e==="quizzes"?"Create Quiz":"Create Program"))),n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement("div",{className:"border-b border-gray-200"},n.createElement("nav",{className:"flex -mb-px"},n.createElement("button",{onClick:()=>t("programs"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${e==="programs"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},n.createElement(Do,{className:"h-4 w-4 inline-block mr-2"}),"Programs (",k.totalCount||0,")"),n.createElement("button",{onClick:()=>t("quizzes"),className:`px-6 py-4 text-sm font-medium border-b-2 transition-colors ${e==="quizzes"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`},n.createElement(If,{className:"h-4 w-4 inline-block mr-2"}),"Quizzes (",r.totalCount||0,")")))),(e==="quizzes"?c:O)&&n.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("div",{className:"flex-1"},n.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading ",e==="quizzes"?"quizzes":"programs"),n.createElement("p",{className:"text-sm text-red-700 mt-0.5"},e==="quizzes"?c:O)),n.createElement("button",{onClick:e==="quizzes"?w:G,className:"shrink-0 text-red-600 hover:text-red-800"},"")),e==="programs"&&n.createElement(n.Fragment,null,n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},n.createElement("div",{className:"relative flex-1 max-w-md"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{type:"text",value:Ne,onChange:pc,placeholder:"Search programs...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),n.createElement("button",{onClick:()=>Ga(!Vn),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Pi?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),Pi&&n.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(A.search?1:0)+(A.type?1:0)+(A.isActive!==""?1:0)),n.createElement(Ln,{className:`h-4 w-4 transition-transform ${Vn?"rotate-180":""}`})),n.createElement("button",{onClick:jm,disabled:M,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},n.createElement(zn,{className:`h-4 w-4 ${M?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Refresh")),n.createElement("div",{className:"ml-auto text-sm text-gray-500"},k.totalCount," program",k.totalCount!==1?"s":""," total")),Vn&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Type"),n.createElement("select",{value:je,onChange:fe=>Jt(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Types"),n.createElement("option",{value:"GSOS"},"General SOS (GSOS)"),n.createElement("option",{value:"ISOS"},"Intensive SOS (ISOS)"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),n.createElement("select",{value:va,onChange:fe=>qn(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Status"),n.createElement("option",{value:"true"},"Active"),n.createElement("option",{value:"false"},"Inactive"))),n.createElement("div",{className:"flex items-end gap-2 sm:col-span-2"},n.createElement("button",{onClick:np,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),n.createElement("button",{onClick:lp,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),n.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Program"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Type"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Duration"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,M&&C.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:5,className:"px-6 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading programs..."))):C.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:5,className:"px-6 py-12 text-center"},n.createElement(Do,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No programs found"),n.createElement("button",{onClick:_i,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first program"))):C.map(fe=>n.createElement("tr",{key:fe._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"max-w-[300px]"},n.createElement("p",{className:"font-medium text-gray-900 truncate"},fe.title),fe.description&&n.createElement("p",{className:"text-xs text-gray-500 truncate mt-0.5"},fe.description))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${d3[fe.type]}`},fe.type==="GSOS"?"General":"Intensive")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-2 text-gray-600"},n.createElement(Rt,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm"},fe.durationDays," ",fe.durationDays===1?"day":"days"))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${fe.isActive?gs.active:gs.inactive}`},fe.isActive?"Active":"Inactive")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1"},n.createElement("button",{onClick:()=>Xr(fe),disabled:Ae,className:`p-2 rounded-lg transition-colors ${fe.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:fe.isActive?"Set Inactive":"Set Active"},fe.isActive?n.createElement(El,{className:"h-5 w-5"}):n.createElement(Un,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>gc(fe),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},n.createElement(Vt,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>mc(fe),disabled:Ht,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit program"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>ea(fe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},n.createElement(pt,{className:"h-4 w-4"}))))))))),k.totalPages>0&&n.createElement(ga,{currentPage:k.currentPage,totalPages:k.totalPages,totalItems:k.totalCount,itemsPerPage:k.limit,onPageChange:F,itemLabel:"programs"})),n.createElement("div",{className:"md:hidden space-y-4"},M&&C.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading programs...")):C.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Do,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No programs found"),n.createElement("button",{onClick:_i,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first program")):n.createElement(n.Fragment,null,C.map(fe=>n.createElement("div",{key:fe._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},n.createElement("div",{className:"flex items-start justify-between gap-3"},n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("div",{className:"flex items-center gap-2 flex-wrap mb-1"},n.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${d3[fe.type]}`},fe.type),n.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${fe.isActive?gs.active:gs.inactive}`},fe.isActive?"Active":"Inactive")),n.createElement("p",{className:"font-medium text-gray-900 truncate"},fe.title))),n.createElement("div",{className:"grid grid-cols-2 gap-2 text-center"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Duration"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},fe.durationDays," days")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Type"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},fe.type==="GSOS"?"General":"Intensive"))),n.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},n.createElement("button",{onClick:()=>Xr(fe),disabled:Ae,className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${fe.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},fe.isActive?n.createElement(n.Fragment,null,n.createElement(El,{className:"h-4 w-4"}),"Active"):n.createElement(n.Fragment,null,n.createElement(Un,{className:"h-4 w-4"}),"Inactive")),n.createElement("button",{onClick:()=>gc(fe),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},n.createElement(Vt,{className:"h-4 w-4"}),"Details"),n.createElement("button",{onClick:()=>mc(fe),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>ea(fe),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},n.createElement(pt,{className:"h-4 w-4"}))))),k.totalPages>0&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:k.currentPage,totalPages:k.totalPages,totalItems:k.totalCount,itemsPerPage:k.limit,onPageChange:F,itemLabel:"programs"}))))),e==="quizzes"&&n.createElement(n.Fragment,null,n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},n.createElement("div",{className:"relative flex-1 max-w-md"},n.createElement("select",{value:Ha,onChange:fe=>{$n(fe.target.value),b(fe.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Programs"),C.map(fe=>n.createElement("option",{key:fe._id,value:fe._id},fe.title," (",fe.durationDays," days)")))),n.createElement("button",{onClick:()=>ht(!He),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Il?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),Il&&n.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},(s.programId?1:0)+(s.isActive!==""?1:0)),n.createElement(Ln,{className:`h-4 w-4 transition-transform ${He?"rotate-180":""}`})),n.createElement("button",{onClick:Rm,disabled:o,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},n.createElement(zn,{className:`h-4 w-4 ${o?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Refresh")),n.createElement("div",{className:"ml-auto text-sm text-gray-500"},r.totalCount," quiz",r.totalCount!==1?"zes":""," total")),He&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),n.createElement("select",{value:yn,onChange:fe=>Bn(fe.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Status"),n.createElement("option",{value:"true"},"Active"),n.createElement("option",{value:"false"},"Inactive"))),n.createElement("div",{className:"flex items-end gap-2 sm:col-span-2 lg:col-span-3"},n.createElement("button",{onClick:js,className:"flex-1 sm:flex-none px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),n.createElement("button",{onClick:rp,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),n.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Quiz"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Program"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Day"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Questions"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Points"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,o&&a.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading quizzes..."))):a.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},n.createElement(If,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No quizzes found"),n.createElement("button",{onClick:vn,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first quiz"))):a.map(fe=>n.createElement("tr",{key:fe._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"max-w-[200px]"},n.createElement("p",{className:"font-medium text-gray-900 truncate"},fe.title),fe.description&&n.createElement("p",{className:"text-xs text-gray-500 truncate mt-0.5"},fe.description))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:"text-sm text-gray-700 truncate max-w-[150px] block"},Gn(fe.programId))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-1.5 text-gray-600"},n.createElement(Rt,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Day ",fe.dayNumber||"-"))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-1.5"},n.createElement(Uf,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-sm text-gray-700"},fe.questions?.length||fe.questionCount||0))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-1.5"},n.createElement(Lo,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"text-sm text-gray-700"},Kn(fe)))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${fe.isActive?gs.active:gs.inactive}`},fe.isActive?"Active":"Inactive")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1"},n.createElement("button",{onClick:()=>bn(fe),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},n.createElement(Vt,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>Hn(fe),disabled:we,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit quiz"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>de(fe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},n.createElement(pt,{className:"h-4 w-4"}))))))))),r.totalPages>0&&n.createElement(ga,{currentPage:r.currentPage,totalPages:r.totalPages,totalItems:r.totalCount,itemsPerPage:r.limit,onPageChange:S,itemLabel:"quizzes"})),n.createElement("div",{className:"md:hidden space-y-4"},o&&a.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading quizzes...")):a.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(If,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No quizzes found"),n.createElement("button",{onClick:vn,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first quiz")):n.createElement(n.Fragment,null,a.map(fe=>n.createElement("div",{key:fe._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},n.createElement("div",{className:"flex items-start justify-between gap-3"},n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("div",{className:"flex items-center gap-2 flex-wrap mb-1"},n.createElement("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700"},"Day ",fe.dayNumber||"-"),n.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${fe.isActive?gs.active:gs.inactive}`},fe.isActive?"Active":"Inactive")),n.createElement("p",{className:"font-medium text-gray-900 truncate"},fe.title),n.createElement("p",{className:"text-xs text-gray-500 mt-0.5 truncate"},Gn(fe.programId)))),n.createElement("div",{className:"grid grid-cols-2 gap-2 text-center"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Questions"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},fe.questions?.length||fe.questionCount||0)),n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("p",{className:"text-xs text-gray-500"},"Total Points"),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},Kn(fe)))),n.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},n.createElement("button",{onClick:()=>bn(fe),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},n.createElement(Vt,{className:"h-4 w-4"}),"Details"),n.createElement("button",{onClick:()=>Hn(fe),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>de(fe),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},n.createElement(pt,{className:"h-4 w-4"}))))),r.totalPages>0&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:r.currentPage,totalPages:r.totalPages,totalItems:r.totalCount,itemsPerPage:r.limit,onPageChange:S,itemLabel:"quizzes"}))))),n.createElement(oce,{isOpen:le,onClose:Ua,onSubmit:Qr,isLoading:Ae,serverError:pe,quizToEdit:Q,programs:C}),n.createElement(mce,{isOpen:H,onClose:xn,quiz:K,isLoading:we}),n.createElement(Va,{isOpen:B,onClose:Je,onConfirm:En,title:"Delete Quiz",message:`Are you sure you want to delete the quiz "${K?.title}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:Ae}),n.createElement(dce,{isOpen:Se,onClose:dc,onSubmit:fc,isLoading:Ae,serverError:pe,programToEdit:Le}),n.createElement(gce,{isOpen:ge,onClose:Lm,program:Ue,isLoading:Ht,onFetchStats:R}),n.createElement(Va,{isOpen:Pe,onClose:ba,onConfirm:Ul,title:"Delete Program",message:`Are you sure you want to delete the program "${Ue?.title}"? This will also affect all associated quizzes and user progress.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:Ae}))}const ps={BASE:"/web/challenges",GET_BY_ID:e=>`/web/challenges/${e}`,UPDATE:e=>`/web/challenges/${e}`,DELETE:e=>`/web/challenges/${e}`,TOGGLE_STATUS:e=>`/web/challenges/${e}/toggle-status`,STATS:e=>`/web/challenges/${e}/stats`,PARTICIPANTS:e=>`/web/challenges/${e}/participants`},hs={getAll:async(e={})=>{const{page:t=1,limit:a=10,sortBy:r="createdAt",sortOrder:s="desc",isActive:o="",search:c="",category:d="",difficulty:m=""}=e,p=new URLSearchParams;p.append("page",t.toString()),p.append("limit",a.toString()),p.append("sortBy",r),p.append("sortOrder",s),o!==""&&p.append("isActive",o),c&&p.append("search",c),d&&p.append("category",d),m&&p.append("difficulty",m);const f=`${ps.BASE}?${p.toString()}`;return console.log("[ChallengeService] Fetching challenges:",f),Ee(be.get(f))},getById:async e=>e?(console.log("[ChallengeService] Fetching challenge:",e),Ee(be.get(ps.GET_BY_ID(e)))):(console.error("[ChallengeService] getById: No ID provided"),{success:!1,error:"Challenge ID is required"}),create:async e=>(console.log("[ChallengeService] Creating challenge:",e.title),!e.tasks||e.tasks.length===0?(console.error("[ChallengeService] create: No tasks provided"),{success:!1,error:"At least one task is required"}):Ee(be.post(ps.BASE,e))),update:async(e,t)=>e?(console.log("[ChallengeService] Updating challenge:",e),Ee(be.put(ps.UPDATE(e),t))):(console.error("[ChallengeService] update: No ID provided"),{success:!1,error:"Challenge ID is required"}),delete:async e=>e?(console.log("[ChallengeService] Deleting challenge:",e),Ee(be.delete(ps.DELETE(e)))):(console.error("[ChallengeService] delete: No ID provided"),{success:!1,error:"Challenge ID is required"}),toggleStatus:async e=>e?(console.log("[ChallengeService] Toggling status for challenge:",e),Ee(be.patch(ps.TOGGLE_STATUS(e)))):(console.error("[ChallengeService] toggleStatus: No ID provided"),{success:!1,error:"Challenge ID is required"}),getStats:async e=>e?(console.log("[ChallengeService] Fetching stats for challenge:",e),Ee(be.get(ps.STATS(e)))):(console.error("[ChallengeService] getStats: No ID provided"),{success:!1,error:"Challenge ID is required"}),getParticipants:async(e,t={})=>{if(!e)return console.error("[ChallengeService] getParticipants: No ID provided"),{success:!1,error:"Challenge ID is required"};const{page:a=1,limit:r=10,status:s=""}=t,o=new URLSearchParams;o.append("page",a.toString()),o.append("limit",r.toString()),s&&o.append("status",s);const c=`${ps.PARTICIPANTS(e)}?${o.toString()}`;return console.log("[ChallengeService] Fetching participants:",c),Ee(be.get(c))},buildTask:e=>{const{title:t,description:a=""}=e;return{title:t,description:a}}};function hce(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:10}),[o,c]=y.useState({search:"",isActive:"",category:"",difficulty:"",sortBy:"createdAt",sortOrder:"desc",...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),h=y.useRef(null),b=y.useCallback(async(U=r.currentPage)=>{m(!0),f(null);try{const L={page:U,limit:r.limit,sortBy:o.sortBy,sortOrder:o.sortOrder,...o.search&&{search:o.search},...o.isActive!==""&&{isActive:o.isActive},...o.category&&{category:o.category},...o.difficulty&&{difficulty:o.difficulty}};console.log("[useChallenges] Fetching challenges with params:",L);const I=await hs.getAll(L);I.success?(a(I.data.challenges||[]),s({currentPage:I.data.pagination?.currentPage||1,totalPages:I.data.pagination?.totalPages||0,totalCount:I.data.pagination?.totalCount||0,limit:I.data.pagination?.limit||10}),console.log("[useChallenges] Fetched challenges:",I.data.challenges?.length)):(console.error("[useChallenges] Failed to fetch challenges:",I.message),f(I.message||"Failed to fetch challenges"),a([]))}catch(L){console.error("[useChallenges] Error fetching challenges:",L),f("Failed to fetch challenges"),a([])}finally{m(!1)}},[o,r.limit]),E=y.useCallback(async U=>{try{console.log("[useChallenges] Creating challenge:",U.title);const L=await hs.create(U);return L.success?(console.log("[useChallenges] Challenge created successfully"),await b(1),{success:!0,data:L.data}):(console.error("[useChallenges] Failed to create challenge:",L.message),{success:!1,error:L.message,validationErrors:L.error})}catch(L){return console.error("[useChallenges] Error creating challenge:",L),{success:!1,error:"Failed to create challenge"}}},[b]),N=y.useCallback(async U=>{try{console.log("[useChallenges] Fetching challenge by ID:",U);const L=await hs.getById(U);return L.success?{success:!0,data:L.data.challenge}:(console.error("[useChallenges] Failed to fetch challenge:",L.message),{success:!1,error:L.message})}catch(L){return console.error("[useChallenges] Error fetching challenge:",L),{success:!1,error:"Failed to fetch challenge details"}}},[]),S=y.useCallback(async U=>{try{console.log("[useChallenges] Fetching stats for challenge:",U);const L=await hs.getStats(U);return L.success?{success:!0,data:L.data}:(console.error("[useChallenges] Failed to fetch challenge stats:",L.message),{success:!1,error:L.message})}catch(L){return console.error("[useChallenges] Error fetching challenge stats:",L),{success:!1,error:"Failed to fetch challenge statistics"}}},[]),w=y.useCallback(async(U,L={})=>{try{console.log("[useChallenges] Fetching participants for challenge:",U);const I=await hs.getParticipants(U,L);return I.success?{success:!0,data:I.data}:(console.error("[useChallenges] Failed to fetch participants:",I.message),{success:!1,error:I.message})}catch(I){return console.error("[useChallenges] Error fetching participants:",I),{success:!1,error:"Failed to fetch challenge participants"}}},[]),C=y.useCallback(async(U,L)=>{try{console.log("[useChallenges] Updating challenge:",U);const I=await hs.update(U,L);return I.success?(console.log("[useChallenges] Challenge updated successfully"),a(ae=>ae.map(ne=>ne._id===U?{...ne,...I.data.challenge}:ne)),{success:!0,data:I.data}):(console.error("[useChallenges] Failed to update challenge:",I.message),{success:!1,error:I.message,validationErrors:I.error})}catch(I){return console.error("[useChallenges] Error updating challenge:",I),{success:!1,error:"Failed to update challenge"}}},[]),k=y.useCallback(async(U,L)=>{try{console.log("[useChallenges] Toggling status for challenge:",U);const I=await hs.toggleStatus(U);return I.success?(console.log("[useChallenges] Challenge status toggled successfully"),a(ae=>ae.map(ne=>ne._id===U?{...ne,isActive:!L}:ne)),{success:!0}):(console.error("[useChallenges] Failed to toggle challenge status:",I.message),{success:!1,error:I.message})}catch(I){return console.error("[useChallenges] Error toggling challenge status:",I),{success:!1,error:"Failed to update challenge status"}}},[]),A=y.useCallback(async U=>{try{console.log("[useChallenges] Deleting challenge:",U);const L=await hs.delete(U);return L.success?(console.log("[useChallenges] Challenge deleted successfully"),a(I=>I.filter(ae=>ae._id!==U)),s(I=>({...I,totalCount:I.totalCount-1,totalPages:Math.ceil((I.totalCount-1)/I.limit)})),{success:!0}):(console.error("[useChallenges] Failed to delete challenge:",L.message),{success:!1,error:L.message})}catch(L){return console.error("[useChallenges] Error deleting challenge:",L),{success:!1,error:"Failed to delete challenge"}}},[]),M=y.useCallback(U=>{h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{c(L=>({...L,search:U}))},300)},[]),O=y.useCallback(U=>{c(L=>({...L,...U}))},[]),D=y.useCallback(()=>{c({search:"",isActive:"",category:"",difficulty:"",sortBy:"createdAt",sortOrder:"desc",...e})},[e]),_=y.useCallback(U=>{b(U)},[b]),P=y.useCallback(U=>{s(L=>({...L,limit:U}))},[]),R=y.useCallback(()=>{f(null)},[]);return y.useEffect(()=>{b(1)},[o]),y.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]),{challenges:t,pagination:r,filters:o,isLoading:d,error:p,fetchChallenges:b,createChallenge:E,getChallengeById:N,getChallengeStats:S,getChallengeParticipants:w,updateChallenge:C,toggleChallengeStatus:k,deleteChallenge:A,searchChallenges:M,updateFilters:O,resetFilters:D,changePage:_,changeLimit:P,clearError:R}}const yce=[{value:"health",label:"Health"},{value:"fitness",label:"Fitness"},{value:"mindfulness",label:"Mindfulness"},{value:"productivity",label:"Productivity"},{value:"social",label:"Social"},{value:"creativity",label:"Creativity"},{value:"learning",label:"Learning"},{value:"wellness",label:"Wellness"},{value:"habit",label:"Habit"},{value:"other",label:"Other"}],vce=[{value:"easy",label:"Easy",description:"Suitable for beginners"},{value:"medium",label:"Medium",description:"Moderate effort required"},{value:"hard",label:"Hard",description:"Challenging for experienced users"}],f3=()=>({title:"",description:"",category:"",difficulty:"medium",tasks:[],durationDays:"",imageUrl:"",isActive:!1}),bce=()=>({title:"",description:""});function xce({isOpen:e,onClose:t,onSubmit:a,isLoading:r=!1,serverError:s=null,challengeToEdit:o=null}){const[c,d]=y.useState(f3()),[m,p]=y.useState({}),[f,h]=y.useState("basic"),b=!!o;y.useEffect(()=>{e&&(d(o?{title:o.title||"",description:o.description||"",category:o.category||"",difficulty:o.difficulty||"medium",tasks:o.tasks?.map(A=>({title:A.title||"",description:A.description||""}))||[],durationDays:o.durationDays?.toString()||"",imageUrl:o.imageUrl||"",isActive:o.isActive??!1}:f3()),p({}),h("basic"))},[e,o]);const E=A=>{const M={};if(A.title.trim()?A.title.length>200&&(M.title="Title must be less than 200 characters"):M.title="Title is required",A.description.trim()?A.description.length>2e3&&(M.description="Description must be less than 2000 characters"):M.description="Description is required",A.category||(M.category="Category is required"),A.durationDays){const O=parseInt(A.durationDays,10);isNaN(O)||O<1?M.durationDays="Duration must be at least 1 day":O>365&&(M.durationDays="Duration cannot exceed 365 days")}if(A.imageUrl&&!/^https?:\/\/.+/.test(A.imageUrl)&&(M.imageUrl="Please provide a valid image URL"),A.tasks.length===0)M.tasks="At least one task is required";else{const O=[];A.tasks.forEach((D,_)=>{const P={};D.title.trim()||(P.title="Task title is required"),Object.keys(P).length>0&&(O[_]=P)}),(O.length>0||Object.keys(O).some(D=>O[D]))&&(M.taskErrors=O)}return{isValid:Object.keys(M).length===0,errors:M}},N=(A,M)=>{d(O=>({...O,[A]:M})),m[A]&&p(O=>{const D={...O};return delete D[A],D})},S=()=>{d(A=>({...A,tasks:[...A.tasks,bce()]}))},w=A=>{d(M=>({...M,tasks:M.tasks.filter((O,D)=>D!==A)}))},C=(A,M,O)=>{d(D=>({...D,tasks:D.tasks.map((_,P)=>P!==A?_:{..._,[M]:O})}))},k=async A=>{A.preventDefault();const{isValid:M,errors:O}=E(c);if(!M){p(O),(O.tasks||O.taskErrors)&&h("tasks");return}const D={title:c.title.trim(),description:c.description.trim(),category:c.category,difficulty:c.difficulty,tasks:c.tasks.map((P,R)=>({title:P.title.trim(),description:P.description.trim(),order:R})),isActive:c.isActive};c.durationDays&&(D.durationDays=parseInt(c.durationDays,10)),c.imageUrl.trim()&&(D.imageUrl=c.imageUrl.trim()),console.log("[ChallengeForm] Submitting data:",D),(await a(D))?.success&&t()};return n.createElement(Zt,{isOpen:e,onClose:t,title:b?"Edit Challenge":"Create Challenge",size:"xl"},n.createElement("form",{onSubmit:k,className:"space-y-4"},n.createElement("div",{className:"flex border-b border-gray-200"},n.createElement("button",{type:"button",onClick:()=>h("basic"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${f==="basic"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700"}`},"Basic Info"),n.createElement("button",{type:"button",onClick:()=>h("tasks"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${f==="tasks"?"border-gray-800 text-gray-800":"border-transparent text-gray-500 hover:text-gray-700"}`},"Tasks (",c.tasks.length,")")),n.createElement("div",{className:"max-h-[60vh] overflow-y-auto pr-2"},f==="basic"?n.createElement("div",{className:"space-y-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Challenge Title ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:c.title,onChange:A=>N("title",A.target.value),placeholder:"e.g., 30-Day Fitness Challenge",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.title?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.title&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.title)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Description ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("textarea",{value:c.description,onChange:A=>N("description",A.target.value),placeholder:"Describe what participants will achieve through this challenge...",rows:4,disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none transition-colors ${m.description?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.description&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.description)),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Category ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{value:c.category,onChange:A=>N("category",A.target.value),disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.category?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`},n.createElement("option",{value:""},"Select a category"),yce.map(A=>n.createElement("option",{key:A.value,value:A.value},A.label))),m.category&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.category)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Difficulty"),n.createElement("select",{value:c.difficulty,onChange:A=>N("difficulty",A.target.value),disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors border-gray-300 ${r?"bg-gray-100":""}`},vce.map(A=>n.createElement("option",{key:A.value,value:A.value},A.label))))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Duration (Days)",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement("input",{type:"number",value:c.durationDays,onChange:A=>N("durationDays",A.target.value),placeholder:"e.g., 30",min:"1",max:"365",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.durationDays?"border-red-500":"border-gray-300"} ${r?"bg-gray-100":""}`}),m.durationDays&&n.createElement("p",{className:"text-red-600 text-sm mt-1"},m.durationDays),n.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Duration of the challenge in days. Leave empty for no time limit.")),n.createElement(xi,{label:"Challenge Image",value:c.imageUrl,onUpload:A=>N("imageUrl",A),disabled:r,error:m.imageUrl,type:"image",folder:"challenges",placeholder:"Drop image here or click to upload"}),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:c.isActive,onChange:A=>N("isActive",A.target.checked),disabled:r,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-0 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})),n.createElement("span",{className:"text-sm text-gray-700"},c.isActive?"Active (Visible to users)":"Inactive"))):n.createElement("div",{className:"space-y-4"},m.tasks&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg"},n.createElement("p",{className:"text-sm text-red-700"},m.tasks)),c.tasks.length===0?n.createElement("div",{className:"p-8 text-center border-2 border-dashed border-gray-200 rounded-lg"},n.createElement("p",{className:"text-gray-500 mb-3"},"No tasks added yet"),n.createElement("button",{type:"button",onClick:S,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},n.createElement(Qt,{className:"h-4 w-4"}),"Add Task")):n.createElement(n.Fragment,null,c.tasks.map((A,M)=>n.createElement("div",{key:M,className:"p-4 border border-gray-200 rounded-lg space-y-3"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(u0,{className:"h-4 w-4 text-gray-400"}),n.createElement("span",{className:"font-medium text-gray-700"},"Task ",M+1)),n.createElement("button",{type:"button",onClick:()=>w(M),className:"p-1 text-red-500 hover:bg-red-50 rounded"},n.createElement(pt,{className:"h-4 w-4"}))),n.createElement("div",null,n.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Title ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:A.title,onChange:O=>C(M,"title",O.target.value),placeholder:"e.g., Do 20 pushups",disabled:r,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none transition-colors ${m.taskErrors?.[M]?.title?"border-red-500":"border-gray-300"}`}),m.taskErrors?.[M]?.title&&n.createElement("p",{className:"text-red-600 text-xs mt-1"},m.taskErrors[M].title)),n.createElement("div",null,n.createElement("label",{className:"block text-xs font-medium text-gray-600 mb-1"},"Description",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement("textarea",{value:A.description,onChange:O=>C(M,"description",O.target.value),placeholder:"Additional details about this task...",rows:2,disabled:r,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none resize-none transition-colors"})))),n.createElement("button",{type:"button",onClick:S,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-gray-400 hover:text-gray-700 transition-colors flex items-center justify-center gap-2"},n.createElement(Qt,{className:"h-4 w-4"}),"Add Task")))),s&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-2"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("p",{className:"text-sm text-red-700"},s)),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:t,disabled:r,className:"flex-1 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:r,className:"flex-1 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium flex items-center justify-center gap-2 disabled:opacity-50"},r?n.createElement(n.Fragment,null,n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),n.createElement("span",null,b?"Updating...":"Creating...")):n.createElement("span",null,b?"Update Challenge":"Create Challenge")))))}const g3=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"-",Eb={easy:{color:"bg-green-100 text-green-700",label:"Easy"},medium:{color:"bg-amber-100 text-amber-700",label:"Medium"},hard:{color:"bg-red-100 text-red-700",label:"Hard"}},p3=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"-";function Ece({isOpen:e,onClose:t,challenge:a,isLoading:r=!1,onFetchStats:s}){const[o,c]=y.useState(null),[d,m]=y.useState(!1),[p,f]=y.useState(null);return y.useEffect(()=>{(async()=>{if(!(!e||!a?._id||!s)){m(!0),f(null);try{const b=await s(a._id);b.success?c(b.data.stats||b.data):f(b.error||"Failed to load statistics")}catch(b){console.error("[ChallengeDetailsModal] Error fetching stats:",b),f("Failed to load statistics")}finally{m(!1)}}})()},[e,a?._id,s]),y.useEffect(()=>{e||(c(null),f(null))},[e]),e?n.createElement("div",{className:"fixed inset-0 z-50 overflow-y-auto"},n.createElement("div",{className:"fixed inset-0 bg-black/50 transition-opacity",onClick:t}),n.createElement("div",{className:"relative min-h-full flex items-center justify-center p-4"},n.createElement("div",{className:"relative bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"},n.createElement("div",{className:"flex items-center justify-between p-6 border-b border-gray-200"},n.createElement("h2",{className:"text-xl font-semibold text-gray-900"},"Challenge Details"),n.createElement("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},n.createElement(Na,{className:"h-5 w-5"}))),n.createElement("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]"},r?n.createElement("div",{className:"flex flex-col items-center justify-center py-12"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading challenge details...")):a?n.createElement("div",{className:"space-y-6"},n.createElement("div",null,n.createElement("div",{className:"flex items-center gap-2 mb-2"},n.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${a.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},a.isActive?"Active":"Inactive"),a.category&&n.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"},g3(a.category)),a.difficulty&&n.createElement("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${Eb[a.difficulty]?.color||"bg-gray-100 text-gray-700"}`},Eb[a.difficulty]?.label||a.difficulty),a.durationDays&&n.createElement("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700"},a.durationDays," Days")),n.createElement("h3",{className:"text-xl font-semibold text-gray-900"},a.title)),a.description&&n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-1"},"Description"),n.createElement("p",{className:"text-gray-600 whitespace-pre-wrap"},a.description)),n.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4"},n.createElement("div",{className:"bg-blue-50 rounded-lg p-4 text-center"},n.createElement(tg,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-blue-700"},a.tasks?.length||0),n.createElement("p",{className:"text-xs text-blue-600"},"Tasks")),n.createElement("div",{className:"bg-purple-50 rounded-lg p-4 text-center"},n.createElement(Du,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),n.createElement("p",{className:"text-lg font-semibold text-purple-700"},g3(a.category)),n.createElement("p",{className:"text-xs text-purple-600"},"Category")),n.createElement("div",{className:"bg-amber-50 rounded-lg p-4 text-center"},n.createElement(ED,{className:"h-5 w-5 text-amber-600 mx-auto mb-1"}),n.createElement("p",{className:"text-lg font-semibold text-amber-700"},Eb[a.difficulty]?.label||"Medium"),n.createElement("p",{className:"text-xs text-amber-600"},"Difficulty")),n.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},n.createElement(Rt,{className:"h-5 w-5 text-gray-500 mx-auto mb-1"}),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},a.durationDays?`${a.durationDays}d`:"No Limit"),n.createElement("p",{className:"text-xs text-gray-500"},"Duration"))),a.tasks&&a.tasks.length>0&&n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2"},n.createElement(tg,{className:"h-4 w-4"}),"Tasks (",a.tasks.length,")"),n.createElement("div",{className:"space-y-2"},a.tasks.map((h,b)=>n.createElement("div",{key:b,className:"p-3 border border-gray-200 rounded-lg"},n.createElement("div",{className:"flex items-start gap-3"},n.createElement("span",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center text-xs font-medium text-gray-600"},b+1),n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900"},h.title),h.description&&n.createElement("p",{className:"text-sm text-gray-500 mt-1"},h.description))))))),n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center gap-2"},n.createElement(Dn,{className:"h-4 w-4"}),"Statistics"),d?n.createElement("div",{className:"flex items-center justify-center py-8 bg-gray-50 rounded-lg"},n.createElement(Fe,{className:"h-6 w-6 text-gray-400 animate-spin"}),n.createElement("span",{className:"ml-2 text-sm text-gray-500"},"Loading statistics...")):p?n.createElement("div",{className:"p-4 bg-red-50 rounded-lg text-sm text-red-600"},p):o?n.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},n.createElement("div",{className:"bg-blue-50 rounded-lg p-3 text-center"},n.createElement(sm,{className:"h-5 w-5 text-blue-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-blue-700"},o.totalParticipants||0),n.createElement("p",{className:"text-xs text-blue-600"},"Participants")),n.createElement("div",{className:"bg-amber-50 rounded-lg p-3 text-center"},n.createElement(oa,{className:"h-5 w-5 text-amber-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-amber-700"},o.activeParticipants||0),n.createElement("p",{className:"text-xs text-amber-600"},"Active")),n.createElement("div",{className:"bg-green-50 rounded-lg p-3 text-center"},n.createElement(gD,{className:"h-5 w-5 text-green-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-green-700"},o.completedParticipants||0),n.createElement("p",{className:"text-xs text-green-600"},"Completed")),n.createElement("div",{className:"bg-purple-50 rounded-lg p-3 text-center"},n.createElement(Lo,{className:"h-5 w-5 text-purple-600 mx-auto mb-1"}),n.createElement("p",{className:"text-2xl font-bold text-purple-700"},o.averageTasksCompleted||0),n.createElement("p",{className:"text-xs text-purple-600"},"Avg. Tasks Done"))):n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg text-sm text-gray-500 text-center"},"No statistics available")),a.imageUrl&&n.createElement("div",null,n.createElement("h4",{className:"text-sm font-medium text-gray-700 mb-2"},"Challenge Image"),n.createElement("div",{className:"relative rounded-lg overflow-hidden bg-gray-100 aspect-video"},n.createElement("img",{src:a.imageUrl,alt:a.title,className:"w-full h-full object-cover",onError:h=>{h.target.style.display="none",h.target.parentElement.innerHTML='<div class="flex items-center justify-center h-full text-gray-400 text-sm">Failed to load image</div>'}}))),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500"},n.createElement("span",null,"Created: ",p3(a.createdAt)),a.updatedAt&&a.updatedAt!==a.createdAt&&n.createElement("span",null,"Updated: ",p3(a.updatedAt)),a.createdBy?.name&&n.createElement("span",null,"By: ",a.createdBy.name)))):n.createElement("div",{className:"flex flex-col items-center justify-center py-12 text-gray-500"},n.createElement("p",null,"No challenge data available"))),n.createElement("div",{className:"p-4 border-t border-gray-200 bg-gray-50"},n.createElement("button",{onClick:t,className:"w-full px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},"Close"))))):null}const h3=e=>e?e.charAt(0).toUpperCase()+e.slice(1):"-",Nce=[{value:"health",label:"Health"},{value:"fitness",label:"Fitness"},{value:"mindfulness",label:"Mindfulness"},{value:"productivity",label:"Productivity"},{value:"social",label:"Social"},{value:"creativity",label:"Creativity"},{value:"learning",label:"Learning"},{value:"wellness",label:"Wellness"},{value:"habit",label:"Habit"},{value:"other",label:"Other"}],kf={easy:{color:"bg-green-100 text-green-700",label:"Easy"},medium:{color:"bg-amber-100 text-amber-700",label:"Medium"},hard:{color:"bg-red-100 text-red-700",label:"Hard"}},Df={active:"bg-green-100 text-green-700",inactive:"bg-gray-100 text-gray-600"};function wce(){const{challenges:e,pagination:t,filters:a,isLoading:r,error:s,fetchChallenges:o,createChallenge:c,getChallengeById:d,getChallengeStats:m,updateChallenge:p,toggleChallengeStatus:f,deleteChallenge:h,searchChallenges:b,updateFilters:E,resetFilters:N,changePage:S,clearError:w}=hce(),[C,k]=y.useState(!1),[A,M]=y.useState(!1),[O,D]=y.useState(!1),[_,P]=y.useState(null),[R,U]=y.useState(null),[L,I]=y.useState(!1),[ae,ne]=y.useState(!1),[ue,F]=y.useState(null),[G,le]=y.useState(!1),[te,H]=y.useState(a.search||""),[j,B]=y.useState(a.isActive||""),[X,K]=y.useState(a.category||""),[oe,Q]=y.useState(a.difficulty||""),V=y.useCallback(()=>{F(null),U(null),k(!0)},[]),we=y.useCallback(async ce=>{F(null),I(!0);try{const pe=await d(ce._id);pe.success?(U(pe.data),k(!0)):alert(pe.error||"Failed to load challenge details")}catch(pe){console.error("[Challenges] Failed to load challenge for edit:",pe),alert("An unexpected error occurred")}finally{I(!1)}},[d]),W=y.useCallback(()=>{k(!1),F(null),U(null)},[]),Se=y.useCallback(async ce=>{ne(!0),F(null);try{let pe;return R?pe=await p(R._id,ce):pe=await c(ce),pe.success?pe:(F(pe.error||"Failed to save challenge"),{success:!1})}catch(pe){return console.error("[Challenges] Form submission error:",pe),F("An unexpected error occurred"),{success:!1}}finally{ne(!1)}},[c,p,R]),Te=y.useCallback(async ce=>{P(ce),M(!0),I(!0);try{const pe=await d(ce._id);pe.success&&P(pe.data)}catch(pe){console.error("[Challenges] Failed to fetch details:",pe)}finally{I(!1)}},[d]),ge=y.useCallback(()=>{M(!1),P(null)},[]),$e=y.useCallback(async ce=>{ne(!0);try{const pe=await f(ce._id,ce.isActive);pe.success||alert(pe.error||"Failed to update challenge status")}catch(pe){console.error("[Challenges] Toggle status error:",pe),alert("An unexpected error occurred")}finally{ne(!1)}},[f]),Pe=y.useCallback(ce=>{P(ce),D(!0)},[]),ve=y.useCallback(()=>{D(!1),P(null)},[]),Ue=y.useCallback(async()=>{if(_){ne(!0);try{const ce=await h(_._id);ce.success?ve():alert(ce.error||"Failed to delete challenge")}catch(ce){console.error("[Challenges] Delete error:",ce),alert("An unexpected error occurred")}finally{ne(!1)}}},[_,h,ve]),xe=y.useCallback(ce=>{const pe=ce.target.value;H(pe),b(pe)},[b]),Le=y.useCallback(()=>{E({search:te,isActive:j,category:X,difficulty:oe}),le(!1)},[te,j,X,oe,E]),Et=y.useCallback(()=>{H(""),B(""),K(""),Q(""),N(),le(!1)},[N]),Ht=y.useCallback(()=>{o(t.currentPage)},[o,t.currentPage]),Tt=y.useMemo(()=>a.search||a.isActive!==""||a.category||a.difficulty,[a]),Ae=y.useMemo(()=>{let ce=0;return a.search&&ce++,a.isActive!==""&&ce++,a.category&&ce++,a.difficulty&&ce++,ce},[a]);return n.createElement("div",{className:"space-y-4 sm:space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900"},"Challenges"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Create and manage task-based challenges for users")),n.createElement("button",{onClick:V,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors font-medium"},n.createElement(Qt,{className:"h-5 w-5"}),n.createElement("span",null,"Create Challenge"))),s&&n.createElement("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3"},n.createElement(Mt,{className:"h-5 w-5 text-red-600 shrink-0 mt-0.5"}),n.createElement("div",{className:"flex-1"},n.createElement("p",{className:"text-sm font-medium text-red-800"},"Error loading challenges"),n.createElement("p",{className:"text-sm text-red-700 mt-0.5"},s)),n.createElement("button",{onClick:w,className:"shrink-0 text-red-600 hover:text-red-800"},"")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-4"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3"},n.createElement("div",{className:"relative flex-1 max-w-md"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{type:"text",value:te,onChange:xe,placeholder:"Search challenges...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"})),n.createElement("button",{onClick:()=>le(!G),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${Tt?"border-gray-800 bg-gray-50 text-gray-800":"border-gray-300 text-gray-700 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),Tt&&n.createElement("span",{className:"px-1.5 py-0.5 bg-gray-800 text-white text-xs rounded-full"},Ae),n.createElement(Ln,{className:`h-4 w-4 transition-transform ${G?"rotate-180":""}`})),n.createElement("button",{onClick:Ht,disabled:r,className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50"},n.createElement(zn,{className:`h-4 w-4 ${r?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Refresh")),n.createElement("div",{className:"ml-auto text-sm text-gray-500"},t.totalCount," challenge",t.totalCount!==1?"s":""," total")),G&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Category"),n.createElement("select",{value:X,onChange:ce=>K(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Categories"),Nce.map(ce=>n.createElement("option",{key:ce.value,value:ce.value},ce.label)))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Difficulty"),n.createElement("select",{value:oe,onChange:ce=>Q(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Difficulties"),n.createElement("option",{value:"easy"},"Easy"),n.createElement("option",{value:"medium"},"Medium"),n.createElement("option",{value:"hard"},"Hard"))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Status"),n.createElement("select",{value:j,onChange:ce=>B(ce.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"},n.createElement("option",{value:""},"All Status"),n.createElement("option",{value:"true"},"Active"),n.createElement("option",{value:"false"},"Inactive"))),n.createElement("div",{className:"flex items-end gap-2"},n.createElement("button",{onClick:Le,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Apply"),n.createElement("button",{onClick:Et,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Reset"))))),n.createElement("div",{className:"hidden md:block bg-white rounded-xl shadow-sm overflow-hidden"},n.createElement("div",{className:"overflow-x-auto"},n.createElement("table",{className:"w-full"},n.createElement("thead",{className:"bg-gray-50 border-b border-gray-200"},n.createElement("tr",null,n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Challenge"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Tasks"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Category"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Difficulty"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Duration"),n.createElement("th",{className:"text-left px-6 py-4 text-sm font-medium text-gray-600"},"Status"),n.createElement("th",{className:"text-right px-6 py-4 text-sm font-medium text-gray-600"},"Actions"))),n.createElement("tbody",null,r&&e.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading challenges..."))):e.length===0?n.createElement("tr",null,n.createElement("td",{colSpan:7,className:"px-6 py-12 text-center"},n.createElement(Do,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No challenges found"),n.createElement("button",{onClick:V,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first challenge"))):e.map(ce=>n.createElement("tr",{key:ce._id,className:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"max-w-[300px]"},n.createElement("p",{className:"font-medium text-gray-900 truncate"},ce.title),ce.description&&n.createElement("p",{className:"text-xs text-gray-500 truncate mt-0.5"},ce.description))),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-2 text-gray-600"},n.createElement(tg,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm"},ce.tasks?.length||ce.taskCount||0," tasks"))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-700"},n.createElement(Du,{className:"h-3 w-3"}),h3(ce.category))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${kf[ce.difficulty]?.color||"bg-gray-100 text-gray-700"}`},n.createElement(ED,{className:"h-3 w-3"}),kf[ce.difficulty]?.label||"Medium")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center gap-2 text-gray-600"},n.createElement(Rt,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm"},ce.durationDays?`${ce.durationDays} days`:"No limit"))),n.createElement("td",{className:"px-6 py-4"},n.createElement("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${ce.isActive?Df.active:Df.inactive}`},ce.isActive?"Active":"Inactive")),n.createElement("td",{className:"px-6 py-4"},n.createElement("div",{className:"flex items-center justify-end gap-1"},n.createElement("button",{onClick:()=>$e(ce),disabled:ae,className:`p-2 rounded-lg transition-colors ${ce.isActive?"text-green-600 hover:bg-green-50":"text-gray-400 hover:bg-gray-100"}`,title:ce.isActive?"Set Inactive":"Set Active"},ce.isActive?n.createElement(El,{className:"h-5 w-5"}):n.createElement(Un,{className:"h-5 w-5"})),n.createElement("button",{onClick:()=>Te(ce),className:"p-2 text-gray-800 hover:bg-gray-50 rounded-lg transition-colors",title:"View details"},n.createElement(Vt,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>we(ce),disabled:L,className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit challenge"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>Pe(ce),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete"},n.createElement(pt,{className:"h-4 w-4"}))))))))),t.totalPages>0&&n.createElement(ga,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:S,itemLabel:"challenges"})),n.createElement("div",{className:"md:hidden space-y-4"},r&&e.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Fe,{className:"h-8 w-8 text-gray-800 animate-spin mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading challenges...")):e.length===0?n.createElement("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center"},n.createElement(Do,{className:"h-12 w-12 text-gray-300 mx-auto"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"No challenges found"),n.createElement("button",{onClick:V,className:"mt-3 text-sm text-gray-800 hover:text-black font-medium"},"Create your first challenge")):n.createElement(n.Fragment,null,e.map(ce=>n.createElement("div",{key:ce._id,className:"bg-white rounded-xl shadow-sm p-4 space-y-3"},n.createElement("div",{className:"flex items-start justify-between gap-3"},n.createElement("div",{className:"min-w-0 flex-1"},n.createElement("div",{className:"flex items-center gap-2 flex-wrap mb-1"},n.createElement("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${ce.isActive?Df.active:Df.inactive}`},ce.isActive?"Active":"Inactive"),ce.category&&n.createElement("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-700"},h3(ce.category)),ce.difficulty&&n.createElement("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${kf[ce.difficulty]?.color||"bg-gray-100 text-gray-700"}`},kf[ce.difficulty]?.label||"Medium"),ce.durationDays&&n.createElement("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700"},ce.durationDays," days")),n.createElement("p",{className:"font-medium text-gray-900 truncate"},ce.title),ce.description&&n.createElement("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-2"},ce.description))),n.createElement("div",{className:"grid grid-cols-2 gap-2 text-center"},n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("div",{className:"flex items-center justify-center gap-1 text-gray-500"},n.createElement(tg,{className:"h-3 w-3"}),n.createElement("p",{className:"text-xs"},"Tasks")),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},ce.tasks?.length||ce.taskCount||0)),n.createElement("div",{className:"bg-gray-50 rounded-lg p-2"},n.createElement("div",{className:"flex items-center justify-center gap-1 text-gray-500"},n.createElement(Rt,{className:"h-3 w-3"}),n.createElement("p",{className:"text-xs"},"Duration")),n.createElement("p",{className:"font-semibold text-gray-900 text-sm"},ce.durationDays?`${ce.durationDays}d`:"No limit"))),n.createElement("div",{className:"flex items-center gap-2 pt-3 border-t border-gray-100"},n.createElement("button",{onClick:()=>$e(ce),disabled:ae,className:`flex items-center justify-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${ce.isActive?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},ce.isActive?n.createElement(n.Fragment,null,n.createElement(El,{className:"h-4 w-4"}),"Active"):n.createElement(n.Fragment,null,n.createElement(Un,{className:"h-4 w-4"}),"Inactive")),n.createElement("button",{onClick:()=>Te(ce),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors"},n.createElement(Vt,{className:"h-4 w-4"}),"Details"),n.createElement("button",{onClick:()=>we(ce),className:"p-2 text-amber-600 bg-amber-50 rounded-lg hover:bg-amber-100 transition-colors"},n.createElement(Fa,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>Pe(ce),className:"p-2 text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors"},n.createElement(pt,{className:"h-4 w-4"}))))),t.totalPages>0&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:t.currentPage,totalPages:t.totalPages,totalItems:t.totalCount,itemsPerPage:t.limit,onPageChange:S,itemLabel:"challenges"})))),n.createElement(xce,{isOpen:C,onClose:W,onSubmit:Se,isLoading:ae,serverError:ue,challengeToEdit:R}),n.createElement(Ece,{isOpen:A,onClose:ge,challenge:_,isLoading:L,onFetchStats:m}),n.createElement(Va,{isOpen:O,onClose:ve,onConfirm:Ue,title:"Delete Challenge",message:`Are you sure you want to delete the challenge "${_?.title}"? This will also affect all participant progress.`,confirmText:"Delete",cancelText:"Cancel",variant:"danger",isLoading:ae}))}const bo={BASE:"/web/polls",BY_EVENT:"/web/polls/event"},xo={create:async e=>{console.log("[PollService] Creating poll for event:",e.eventId);const t=await Ee(be.post(bo.BASE,e));return t.success?console.log("[PollService] Created poll:",t.data?._id):console.error("[PollService] Failed to create poll:",t.message),t},getByEventId:async e=>{console.log("[PollService] Fetching poll for event:",e);const t=await Ee(be.get(`${bo.BY_EVENT}/${e}`));return t.success?console.log("[PollService] Fetched poll:",t.data?._id):console.error("[PollService] Failed to fetch poll:",t.message),t},update:async(e,t)=>{console.log("[PollService] Updating poll:",e);const a=await Ee(be.put(`${bo.BASE}/${e}`,t));return a.success?console.log("[PollService] Updated poll successfully"):console.error("[PollService] Failed to update poll:",a.message),a},delete:async e=>{console.log("[PollService] Deleting poll:",e);const t=await Ee(be.delete(`${bo.BASE}/${e}`));return t.success?console.log("[PollService] Deleted poll successfully"):console.error("[PollService] Failed to delete poll:",t.message),t},getStats:async e=>{console.log("[PollService] Fetching stats for poll:",e);const t=await Ee(be.get(`${bo.BASE}/${e}/stats`));return t.success?console.log("[PollService] Fetched poll stats, total submissions:",t.data?.totalSubmissions):console.error("[PollService] Failed to fetch poll stats:",t.message),t},notifyUsers:async e=>{console.log("[PollService] Sending notification for poll:",e);const t=await Ee(be.post(`${bo.BASE}/${e}/notify`));return t.success?console.log("[PollService] Notification sent, success:",t.data?.successCount,"failed:",t.data?.failureCount):console.error("[PollService] Failed to send notification:",t.message),t}},y3=(e=null)=>({questions:e?.questions?.length>0?e.questions.map(t=>({questionText:t.questionText||"",options:t.options?.length>0?[...t.options]:["",""]})):[{questionText:"",options:["",""]}],isActive:e?.isActive??!0}),Sce=e=>{const t={};if(!e.questions||e.questions.length===0)return t.questions="At least one question is required",{isValid:!1,errors:t};const a=[];return e.questions.forEach((r,s)=>{const o={};r.questionText?.trim()?r.questionText.length>500&&(o.questionText="Question text must be 500 characters or less"):o.questionText="Question text is required";const c=r.options?.filter(m=>m?.trim())||[];c.length<2&&(o.options="At least 2 options are required"),new Set(c.map(m=>m.trim().toLowerCase())).size!==c.length&&(o.options="Options must be unique"),Object.keys(o).length>0&&(a[s]=o)}),a.some(r=>r)&&(t.questionErrors=a),{isValid:Object.keys(t).length===0,errors:t}};function v3({isOpen:e,onClose:t,onSubmit:a,poll:r=null,event:s=null,isLoading:o=!1,serverError:c=null}){const d=!!r,[m,p]=y.useState(y3(r)),[f,h]=y.useState({});y.useEffect(()=>{e&&(p(y3(r)),h({}),console.log("[PollForm] Form initialized:",{isEditMode:d,poll:r}))},[e,r]);const b=(O,D)=>{p(_=>({..._,questions:_.questions.map((P,R)=>R===O?{...P,questionText:D}:P)})),f.questionErrors?.[O]?.questionText&&h(_=>{const P={..._};return P.questionErrors?.[O]&&delete P.questionErrors[O].questionText,P})},E=(O,D,_)=>{p(P=>({...P,questions:P.questions.map((R,U)=>U===O?{...R,options:R.options.map((L,I)=>I===D?_:L)}:R)})),f.questionErrors?.[O]?.options&&h(P=>{const R={...P};return R.questionErrors?.[O]&&delete R.questionErrors[O].options,R})},N=O=>{p(D=>({...D,questions:D.questions.map((_,P)=>P===O?{..._,options:[..._.options,""]}:_)}))},S=(O,D)=>{p(_=>({..._,questions:_.questions.map((P,R)=>R===O?{...P,options:P.options.filter((U,L)=>L!==D)}:P)}))},w=()=>{p(O=>({...O,questions:[...O.questions,{questionText:"",options:["",""]}]}))},C=O=>{p(D=>({...D,questions:D.questions.filter((_,P)=>P!==O)}))},k=()=>{p(O=>({...O,isActive:!O.isActive}))},A=async O=>{O.preventDefault();const D=Sce(m);if(!D.isValid){h(D.errors),console.log("[PollForm] Validation failed:",D.errors);return}const _={questions:m.questions.map(P=>({questionText:P.questionText.trim(),options:P.options.filter(R=>R?.trim()).map(R=>R.trim())}))};!d&&s?_.eventId=s._id:d&&(_.isActive=m.isActive),console.log("[PollForm] Submitting:",_),await a(_)},M=()=>{o||t()};return n.createElement(Zt,{isOpen:e,onClose:M,title:d?"Edit Poll":"Create Poll",size:"2xl",closeOnOverlayClick:!o},n.createElement("form",{onSubmit:A,className:"space-y-6"},s&&n.createElement("div",{className:"p-3 bg-blue-50 border border-blue-200 text-blue-800 rounded-lg"},n.createElement("p",{className:"text-sm"},n.createElement("span",{className:"font-medium"},"Event:")," ",s.name)),c&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},c),f.questions&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},f.questions),n.createElement("div",{className:"space-y-4"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Questions"),n.createElement("span",{className:"text-sm text-gray-500"},m.questions.length," question(s)")),m.questions.map((O,D)=>n.createElement("div",{key:D,className:"p-4 bg-gray-50 rounded-lg border border-gray-200 space-y-4"},n.createElement("div",{className:"flex items-start gap-3"},n.createElement("div",{className:"flex items-center gap-2 text-gray-400 mt-2"},n.createElement(u0,{className:"h-4 w-4"}),n.createElement("span",{className:"font-medium text-sm text-gray-500"},"Q",D+1)),n.createElement("div",{className:"flex-1"},n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Question Text ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("input",{type:"text",value:O.questionText,onChange:_=>b(D,_.target.value),disabled:o,maxLength:500,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.questionErrors?.[D]?.questionText?"border-red-500":"border-gray-300"}`,placeholder:"Enter your question"}),f.questionErrors?.[D]?.questionText&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.questionErrors[D].questionText)),m.questions.length>1&&n.createElement("button",{type:"button",onClick:()=>C(D),disabled:o,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors mt-6",title:"Remove question"},n.createElement(pt,{className:"h-4 w-4"}))),n.createElement("div",{className:"ml-10 space-y-2"},n.createElement("label",{className:"block text-sm font-medium text-gray-700"},"Options ",n.createElement("span",{className:"text-red-500"},"*"),n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(min 2)")),f.questionErrors?.[D]?.options&&n.createElement("p",{className:"text-sm text-red-500"},f.questionErrors[D].options),O.options.map((_,P)=>n.createElement("div",{key:P,className:"flex items-center gap-2"},n.createElement("span",{className:"text-sm text-gray-400 w-6"},P+1,"."),n.createElement("input",{type:"text",value:_,onChange:R=>E(D,P,R.target.value),disabled:o,maxLength:200,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100",placeholder:`Option ${P+1}`}),O.options.length>2&&n.createElement("button",{type:"button",onClick:()=>S(D,P),disabled:o,className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Remove option"},n.createElement(pt,{className:"h-4 w-4"})))),n.createElement("button",{type:"button",onClick:()=>N(D),disabled:o||O.options.length>=10,className:"flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50"},n.createElement(Qt,{className:"h-3 w-3"}),"Add Option")))),n.createElement("button",{type:"button",onClick:w,disabled:o||m.questions.length>=20,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-gray-300 text-gray-600 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors disabled:opacity-50"},n.createElement(Qt,{className:"h-4 w-4"}),"Add Question")),d&&n.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900"},"Poll Status"),n.createElement("p",{className:"text-sm text-gray-500"},m.isActive?"Poll is accepting submissions":"Poll is closed for submissions")),n.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:m.isActive,onChange:k,disabled:o,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}))),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:M,disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},o&&n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),d?"Update Poll":"Create Poll"))))}function Cce(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric"}):"N/A"}function Ace(e){return e==="ONLINE"||e==="HYBRID"?Db:bE}function Tce(e){const t={TECHNOLOGY:"bg-blue-100 text-blue-700",EDUCATION:"bg-indigo-100 text-indigo-700",MEDICAL:"bg-green-100 text-green-700",COMEDY:"bg-yellow-100 text-yellow-700",ENTERTAINMENT:"bg-pink-100 text-pink-700",BUSINESS:"bg-gray-100 text-gray-700",SPORTS:"bg-orange-100 text-orange-700",ARTS:"bg-purple-100 text-purple-700",MUSIC:"bg-red-100 text-red-700",FOOD:"bg-amber-100 text-amber-700",LIFESTYLE:"bg-teal-100 text-teal-700",OTHER:"bg-slate-100 text-slate-700"};return t[e]||t.OTHER}function Oce({event:e,poll:t,isLoadingPoll:a=!1,isNotifying:r=!1,canEdit:s=!0,canDelete:o=!0,onCreatePoll:c,onEditPoll:d,onDeletePoll:m,onViewStats:p,onViewPoll:f,onNotifyUsers:h}){const b=!!t,E=Ace(e.mode);return n.createElement("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden flex flex-col"},n.createElement("div",{className:"relative h-36 bg-gradient-to-br from-gray-100 to-gray-200"},e.thumbnail?.imageUrl||e.imageUrls?.[0]?n.createElement("img",{src:e.thumbnail?.imageUrl||e.imageUrls?.[0],alt:e.name,className:"w-full h-full object-cover",onError:N=>{N.target.style.display="none"}}):n.createElement("div",{className:"w-full h-full flex items-center justify-center bg-linear-to-br from-gray-50 to-gray-100"},n.createElement(Rt,{className:"h-12 w-12 text-gray-300"})),n.createElement("div",{className:"absolute top-2 right-2"},a?n.createElement("span",{className:"px-2.5 py-1 text-xs font-medium bg-white/90 text-gray-600 rounded-full shadow-sm animate-pulse"},"Loading..."):b?n.createElement("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full shadow-sm ${t.isActive?"bg-green-500 text-white":"bg-gray-500 text-white"}`},t.isActive?"Poll Active":"Poll Closed"):n.createElement("span",{className:"px-2.5 py-1 text-xs font-semibold bg-yellow-500 text-white rounded-full shadow-sm"},"No Poll")),n.createElement("div",{className:"absolute top-2 left-2"},n.createElement("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full shadow-sm ${e.isLive?"bg-green-500 text-white":"bg-gray-500 text-white"}`},e.isLive?"Live":"Not Live"))),n.createElement("div",{className:"p-4 flex-1 flex flex-col"},n.createElement("div",{className:"mb-3"},n.createElement("h3",{className:"font-semibold text-gray-900 line-clamp-1 text-base",title:e.name},e.name),n.createElement("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap"},n.createElement("span",{className:`px-2 py-0.5 text-xs font-medium rounded-md ${Tce(e.category)}`},e.category),n.createElement("span",{className:"text-xs text-gray-500 flex items-center gap-1"},n.createElement(E,{className:"h-3 w-3"}),e.mode))),n.createElement("div",{className:"space-y-2 mb-4"},n.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},n.createElement(Rt,{className:"h-4 w-4 text-gray-400 shrink-0"}),n.createElement("span",null,Cce(e.startDate))),b&&n.createElement("div",{className:"flex items-center gap-2 text-sm text-gray-600"},n.createElement(_b,{className:"h-4 w-4 text-gray-400 shrink-0"}),n.createElement("span",null,t.questions?.length||0," question",t.questions?.length!==1?"s":""))),n.createElement("div",{className:"mt-auto pt-3 border-t border-gray-100"},b?n.createElement("div",{className:"space-y-2"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("button",{onClick:()=>f(e,t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"View Poll"},n.createElement(Vt,{className:"h-4 w-4"}),"View"),n.createElement("button",{onClick:()=>p(e,t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-blue-700 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors",title:"View Statistics"},n.createElement(Dn,{className:"h-4 w-4"}),"Stats")),(s||o)&&n.createElement("div",{className:"flex items-center gap-2"},s&&n.createElement("button",{onClick:()=>d(e,t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",title:"Edit Poll"},n.createElement(vD,{className:"h-4 w-4"}),"Edit"),o&&n.createElement("button",{onClick:()=>m(e,t),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",title:"Delete Poll"},n.createElement(pt,{className:"h-4 w-4"}),"Delete")),s&&n.createElement("button",{onClick:()=>h(e,t),disabled:r,className:"w-full flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-amber-700 bg-amber-50 hover:bg-amber-100 rounded-lg transition-colors border border-amber-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Send push notification to enrolled users"},n.createElement(Jf,{className:`h-4 w-4 ${r?"animate-pulse":""}`}),r?"Sending...":"Notify Users")):s&&n.createElement("button",{onClick:()=>c(e),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 rounded-lg transition-colors"},n.createElement(Qt,{className:"h-4 w-4"}),"Create Poll"))))}function b3(e){return e?new Date(e).toLocaleString("en-IN",{dateStyle:"medium",timeStyle:"short"}):"N/A"}function kce({isOpen:e,onClose:t,poll:a,event:r}){return a?n.createElement(Zt,{isOpen:e,onClose:t,title:"Poll Details",size:"2xl"},n.createElement("div",{className:"space-y-6"},r&&n.createElement("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200"},n.createElement("div",{className:"flex items-start gap-3"},n.createElement(Rt,{className:"h-5 w-5 text-blue-600 mt-0.5"}),n.createElement("div",null,n.createElement("p",{className:"font-medium text-blue-900"},r.name),n.createElement("p",{className:"text-sm text-blue-700 mt-1"},r.category,"  ",r.mode)))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},n.createElement(Ml,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Status")),n.createElement("span",{className:`inline-flex px-2 py-1 text-sm font-medium rounded-full ${a.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},a.isActive?"Active":"Closed")),n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},n.createElement(_b,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Questions")),n.createElement("p",{className:"text-lg font-bold text-gray-900"},a.questions?.length||0)),n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-1"},n.createElement(oa,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Created")),n.createElement("p",{className:"text-sm text-gray-900"},b3(a.createdAt)))),n.createElement("div",{className:"space-y-4"},n.createElement("h3",{className:"text-lg font-semibold text-gray-900"},"Questions & Options"),a.questions?.length===0?n.createElement("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-lg text-center"},n.createElement(_b,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.createElement("p",{className:"text-gray-600 font-medium"},"No questions"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"This poll has no questions configured.")):a.questions?.map((s,o)=>n.createElement("div",{key:o,className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm"},n.createElement("div",{className:"flex items-start gap-3 mb-3"},n.createElement("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-100 text-gray-600 font-semibold text-sm rounded-lg"},o+1),n.createElement("h4",{className:"font-medium text-gray-900 pt-1"},s.questionText)),n.createElement("div",{className:"ml-11 space-y-2"},n.createElement("p",{className:"text-xs text-gray-500 uppercase tracking-wide mb-2"},"Options (",s.options?.length||0,")"),s.options?.map((c,d)=>n.createElement("div",{key:d,className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg"},n.createElement("span",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center bg-white border border-gray-200 text-gray-500 text-xs font-medium rounded-full"},String.fromCharCode(65+d)),n.createElement("span",{className:"text-sm text-gray-700"},c))))))),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("p",{className:"text-xs text-gray-400"},"Poll ID: ",n.createElement("code",{className:"bg-gray-100 px-1 py-0.5 rounded"},a._id)),a.updatedAt&&a.updatedAt!==a.createdAt&&n.createElement("p",{className:"text-xs text-gray-400 mt-1"},"Last updated: ",b3(a.updatedAt))),n.createElement("div",{className:"flex justify-end pt-4 border-t border-gray-200"},n.createElement("button",{onClick:t,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Close")))):null}function Dce({percentage:e,color:t="blue"}){const a={blue:"bg-blue-500",green:"bg-green-500",purple:"bg-purple-500",orange:"bg-orange-500",pink:"bg-pink-500",cyan:"bg-cyan-500",indigo:"bg-indigo-500",amber:"bg-amber-500"};return n.createElement("div",{className:"w-full h-3 bg-gray-200 rounded-full overflow-hidden"},n.createElement("div",{className:`h-full ${a[t]||a.blue} rounded-full transition-all duration-500 ease-out`,style:{width:`${Math.min(100,e)}%`}}))}const _ce=e=>{const t=["blue","green","purple","orange","pink","cyan","indigo","amber"];return t[e%t.length]};function Pce({isOpen:e,onClose:t,poll:a,stats:r,isLoading:s=!1,error:o=null,onFetchStats:c}){return y.useEffect(()=>{e&&a&&c&&(console.log("[PollStatsModal] Fetching stats for poll:",a._id),c(a._id))},[e,a,c]),a?n.createElement(Zt,{isOpen:e,onClose:t,title:"Poll Statistics",size:"2xl"},n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",{className:"flex items-center justify-between mb-2"},n.createElement("h3",{className:"font-semibold text-gray-900"},"Poll Overview"),n.createElement("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},a.isActive?"Active":"Closed")),n.createElement("p",{className:"text-sm text-gray-600"},a.questions?.length||0," question(s)")),o&&n.createElement("div",{className:"p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg"},n.createElement("p",{className:"text-sm"},o)),s&&n.createElement("div",{className:"flex flex-col items-center justify-center py-12"},n.createElement(Fe,{className:"h-8 w-8 animate-spin text-gray-400"}),n.createElement("p",{className:"mt-2 text-sm text-gray-500"},"Loading statistics...")),!s&&r&&n.createElement(n.Fragment,null,n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4"},n.createElement("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"p-2 bg-blue-100 rounded-lg"},n.createElement(sm,{className:"h-5 w-5 text-blue-600"})),n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-blue-900"},r.totalSubmissions||0),n.createElement("p",{className:"text-sm text-blue-700"},"Total Submissions")))),n.createElement("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"p-2 bg-green-100 rounded-lg"},n.createElement(Ml,{className:"h-5 w-5 text-green-600"})),n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-green-900"},r.questions?.length||0),n.createElement("p",{className:"text-sm text-green-700"},"Questions")))),n.createElement("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"p-2 bg-purple-100 rounded-lg"},n.createElement(Dn,{className:"h-5 w-5 text-purple-600"})),n.createElement("div",null,n.createElement("p",{className:"text-2xl font-bold text-purple-900"},r.questions?.reduce((d,m)=>d+(m.options?.length||0),0)||0),n.createElement("p",{className:"text-sm text-purple-700"},"Total Options"))))),r.totalSubmissions===0&&n.createElement("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-lg text-center"},n.createElement(Dn,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.createElement("p",{className:"text-gray-600 font-medium"},"No submissions yet"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Statistics will appear once users start submitting their answers.")),r.totalSubmissions>0&&r.questions?.map((d,m)=>n.createElement("div",{key:m,className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm"},n.createElement("div",{className:"flex items-start gap-3 mb-4"},n.createElement("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-gray-100 text-gray-600 font-semibold text-sm rounded-lg"},m+1),n.createElement("h4",{className:"font-medium text-gray-900 pt-1"},d.questionText)),n.createElement("div",{className:"space-y-3 ml-11"},d.options?.map((p,f)=>n.createElement("div",{key:f,className:"space-y-1"},n.createElement("div",{className:"flex items-center justify-between"},n.createElement("span",{className:"text-sm text-gray-700"},p.optionText),n.createElement("div",{className:"flex items-center gap-2"},n.createElement("span",{className:"text-sm font-medium text-gray-900"},p.count||0),n.createElement("span",{className:"text-sm text-gray-500"},"(",(p.percentage||0).toFixed(1),"%)"))),n.createElement(Dce,{percentage:p.percentage||0,color:_ce(f)}))))))),!s&&!r&&!o&&n.createElement("div",{className:"p-6 bg-gray-50 border border-gray-200 rounded-lg text-center"},n.createElement(Dn,{className:"h-12 w-12 mx-auto text-gray-300 mb-3"}),n.createElement("p",{className:"text-gray-600 font-medium"},"No statistics available"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Statistics could not be loaded for this poll.")),n.createElement("div",{className:"flex justify-end pt-4 border-t border-gray-200"},n.createElement("button",{onClick:t,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"},"Close")))):null}function Mce(){const{hasRole:e}=Fn(),t=e(["SUPER_ADMIN","ADMIN"]),a=e(["SUPER_ADMIN","ADMIN"]),r=e(["SUPER_ADMIN","ADMIN"]),[s,o]=y.useState([]),[c,d]=y.useState({currentPage:1,totalPages:0,totalCount:0,limit:12}),[m,p]=y.useState(!1),[f,h]=y.useState(null),[b,E]=y.useState({}),[N,S]=y.useState({}),[w,C]=y.useState({}),[k,A]=y.useState(""),[M,O]=y.useState(!1),[D,_]=y.useState("all"),[P,R]=y.useState("grid"),[U,L]=y.useState(!1),[I,ae]=y.useState(!1),[ne,ue]=y.useState(!1),[F,G]=y.useState(!1),[le,te]=y.useState(!1),[H,j]=y.useState(null),[B,X]=y.useState(null),[K,oe]=y.useState(null),[Q,V]=y.useState(!1),[we,W]=y.useState(null),[Se,Te]=y.useState(!1),[ge,$e]=y.useState(null),[Pe,ve]=y.useState(null),Ue=y.useRef(null),xe=y.useCallback(async(Ne=1)=>{p(!0),h(null);try{const Oe={page:Ne,limit:c.limit,sortBy:"createdAt",sortOrder:"desc"};k.trim()&&(Oe.search=k.trim()),console.log("[Polls] Fetching events with params:",Oe);const je=await zr.getAll(Oe);if(je.success){o(je.data.events||[]),d({currentPage:je.data.pagination?.currentPage||1,totalPages:je.data.pagination?.totalPages||0,totalCount:je.data.pagination?.totalCount||0,limit:je.data.pagination?.limit||12});const Jt=(je.data.events||[]).map(va=>va._id);Le(Jt)}else h(je.message||"Failed to fetch events"),console.error("[Polls] Failed to fetch events:",je.message)}catch(Oe){h("An unexpected error occurred"),console.error("[Polls] Error fetching events:",Oe)}finally{p(!1)}},[k,c.limit]),Le=y.useCallback(async Ne=>{const Oe=Ne.map(async je=>{if(b[je]===void 0){S(Jt=>({...Jt,[je]:!0}));try{const Jt=await xo.getByEventId(je);Jt.success?E(va=>({...va,[je]:Jt.data})):E(va=>({...va,[je]:null}))}catch(Jt){console.error(`[Polls] Error fetching poll for event ${je}:`,Jt),E(va=>({...va,[je]:null}))}finally{S(Jt=>({...Jt,[je]:!1}))}}});await Promise.all(Oe)},[b]);y.useEffect(()=>{xe(1)},[]);const Et=y.useCallback(Ne=>{A(Ne),Ue.current&&clearTimeout(Ue.current),Ue.current=setTimeout(()=>{xe(1)},300)},[xe]),Ht=y.useCallback(Ne=>{xe(Ne),window.scrollTo({top:0,behavior:"smooth"})},[xe]),Tt=y.useCallback(()=>{E({}),xe(c.currentPage)},[xe,c.currentPage]),Ae=s.filter(Ne=>{if(D==="all")return!0;const Oe=b[Ne._id]!==null&&b[Ne._id]!==void 0;return D==="with-poll"?Oe:D==="without-poll"?!Oe:!0}),ce=y.useCallback(Ne=>{j(Ne),X(null),$e(null),L(!0),console.log("[Polls] Opening create modal for event:",Ne.name)},[]),pe=y.useCallback((Ne,Oe)=>{j(Ne),X(Oe),$e(null),ae(!0),console.log("[Polls] Opening edit modal for poll:",Oe._id)},[]),qe=y.useCallback((Ne,Oe)=>{j(Ne),X(Oe),ue(!0),console.log("[Polls] Opening details modal for poll:",Oe._id)},[]),He=y.useCallback((Ne,Oe)=>{j(Ne),X(Oe),oe(null),W(null),G(!0),console.log("[Polls] Opening stats modal for poll:",Oe._id)},[]),ht=y.useCallback(async Ne=>{V(!0),W(null);try{const Oe=await xo.getStats(Ne);Oe.success?oe(Oe.data):W(Oe.message||"Failed to fetch statistics")}catch(Oe){W("An unexpected error occurred"),console.error("[Polls] Error fetching stats:",Oe)}finally{V(!1)}},[]),Ha=y.useCallback((Ne,Oe)=>{j(Ne),X(Oe),te(!0),console.log("[Polls] Opening delete dialog for poll:",Oe._id)},[]),$n=y.useCallback(async(Ne,Oe)=>{if(Oe?._id){C(je=>({...je,[Oe._id]:!0})),ve(null),h(null);try{console.log("[Polls] Sending notification for poll:",Oe._id);const je=await xo.notifyUsers(Oe._id);if(je.success){const{successCount:Jt,failureCount:va,message:qn}=je.data||{};ve(qn||`Notification sent to ${Jt} user${Jt!==1?"s":""}${va>0?` (${va} failed)`:""}`),console.log("[Polls] Notification sent successfully")}else h(je.message||"Failed to send notification"),console.error("[Polls] Failed to send notification:",je.message)}catch(je){h("An unexpected error occurred while sending notification"),console.error("[Polls] Error sending notification:",je)}finally{C(je=>({...je,[Oe._id]:!1}))}}},[]),yn=y.useCallback(async Ne=>{Te(!0),$e(null);try{console.log("[Polls] Creating poll:",Ne);const Oe=await xo.create(Ne);Oe.success?(L(!1),E(je=>({...je,[Ne.eventId]:Oe.data})),console.log("[Polls] Poll created successfully")):($e(Oe.message||"Failed to create poll"),console.error("[Polls] Failed to create poll:",Oe.message))}catch(Oe){$e("An unexpected error occurred"),console.error("[Polls] Error creating poll:",Oe)}finally{Te(!1)}},[]),Bn=y.useCallback(async Ne=>{if(B){Te(!0),$e(null);try{console.log("[Polls] Updating poll:",B._id,Ne);const Oe=await xo.update(B._id,Ne);Oe.success?(ae(!1),H&&E(je=>({...je,[H._id]:Oe.data})),j(null),X(null),console.log("[Polls] Poll updated successfully")):($e(Oe.message||"Failed to update poll"),console.error("[Polls] Failed to update poll:",Oe.message))}catch(Oe){$e("An unexpected error occurred"),console.error("[Polls] Error updating poll:",Oe)}finally{Te(!1)}}},[B,H]),Vn=y.useCallback(async()=>{if(B){Te(!0);try{console.log("[Polls] Deleting poll:",B._id);const Ne=await xo.delete(B._id);Ne.success?(te(!1),H&&E(Oe=>({...Oe,[H._id]:null})),j(null),X(null),console.log("[Polls] Poll deleted successfully")):(h(Ne.message||"Failed to delete poll"),console.error("[Polls] Failed to delete poll:",Ne.message))}catch(Ne){h("An unexpected error occurred"),console.error("[Polls] Error deleting poll:",Ne)}finally{Te(!1)}}},[B,H]),Ga=y.useCallback(()=>h(null),[]);return n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Polls"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Create and manage polls for your events")),n.createElement("div",{className:"flex items-center gap-3"},n.createElement("button",{onClick:Tt,disabled:m,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",title:"Refresh events and polls"},n.createElement(zn,{className:`h-4 w-4 ${m?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Refresh")),n.createElement("div",{className:"flex items-center bg-white border border-gray-300 rounded-lg overflow-hidden"},n.createElement("button",{onClick:()=>R("grid"),className:`p-2 transition-colors ${P==="grid"?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50"}`,title:"Grid view"},n.createElement(yD,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>R("list"),className:`p-2 transition-colors ${P==="list"?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50"}`,title:"List view"},n.createElement(vE,{className:"h-4 w-4"}))))),f&&n.createElement("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg"},n.createElement(Mt,{className:"h-5 w-5 shrink-0"}),n.createElement("p",{className:"flex-1"},f),n.createElement("button",{onClick:Ga,className:"text-red-500 hover:text-red-700 font-medium"},"Dismiss")),Pe&&n.createElement("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg"},n.createElement(Jf,{className:"h-5 w-5 shrink-0"}),n.createElement("p",{className:"flex-1"},Pe),n.createElement("button",{onClick:()=>ve(null),className:"text-green-500 hover:text-green-700 font-medium"},"Dismiss")),n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},n.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},n.createElement("div",{className:"flex-1 relative"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{type:"text",value:k,onChange:Ne=>Et(Ne.target.value),placeholder:"Search events...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none"}),k&&n.createElement("button",{onClick:()=>{A(""),xe(1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600"},n.createElement(Na,{className:"h-4 w-4"}))),n.createElement("button",{onClick:()=>O(!M),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${M||D!=="all"?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"}`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",null,"Filters"),D!=="all"&&n.createElement("span",{className:"w-2 h-2 bg-white rounded-full"}))),M&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200"},n.createElement("div",{className:"flex flex-wrap items-center gap-3"},n.createElement("span",{className:"text-sm text-gray-500"},"Poll Status:"),n.createElement("div",{className:"flex gap-2"},[{value:"all",label:"All Events"},{value:"with-poll",label:"With Poll"},{value:"without-poll",label:"Without Poll"}].map(Ne=>n.createElement("button",{key:Ne.value,onClick:()=>_(Ne.value),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${D===Ne.value?"bg-gray-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`},Ne.label))),D!=="all"&&n.createElement("button",{onClick:()=>_("all"),className:"text-sm text-gray-500 hover:text-gray-700"},"Reset")))),m&&s.length===0?n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},[...Array(8)].map((Ne,Oe)=>n.createElement("div",{key:Oe,className:"bg-white rounded-xl border border-gray-200 overflow-hidden animate-pulse"},n.createElement("div",{className:"h-32 bg-gray-200"}),n.createElement("div",{className:"p-4 space-y-3"},n.createElement("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.createElement("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),n.createElement("div",{className:"h-8 bg-gray-200 rounded"}))))):Ae.length===0?n.createElement("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center"},n.createElement("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},n.createElement(za,{className:"h-8 w-8 text-gray-400"})),n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"No events found"),n.createElement("p",{className:"text-gray-500 max-w-md mx-auto"},k||D!=="all"?"Try adjusting your search or filter criteria.":"Create an event first to add polls.")):P==="grid"?n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},Ae.map(Ne=>n.createElement(Oce,{key:Ne._id,event:Ne,poll:b[Ne._id],isLoadingPoll:N[Ne._id],isNotifying:w[b[Ne._id]?._id],canEdit:a,canDelete:r,onCreatePoll:ce,onEditPoll:pe,onDeletePoll:Ha,onViewStats:He,onViewPoll:qe,onNotifyUsers:$n}))):n.createElement("div",{className:"space-y-3"},Ae.map(Ne=>n.createElement("div",{key:Ne._id,className:"bg-white rounded-xl border border-gray-200 p-4 flex items-center gap-4"},n.createElement("div",{className:"shrink-0 w-20 h-20 rounded-lg overflow-hidden bg-gray-100"},Ne.thumbnail?.imageUrl||Ne.imageUrls?.[0]?n.createElement("img",{src:Ne.thumbnail?.imageUrl||Ne.imageUrls?.[0],alt:Ne.name,className:"w-full h-full object-cover"}):n.createElement("div",{className:"w-full h-full flex items-center justify-center"},n.createElement("span",{className:"text-gray-300 text-2xl"},"E"))),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("h3",{className:"font-semibold text-gray-900 truncate"},Ne.name),n.createElement("p",{className:"text-sm text-gray-500"},Ne.category,"  ",Ne.mode),n.createElement("div",{className:"flex items-center gap-2 mt-1"},b[Ne._id]?n.createElement("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${b[Ne._id].isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},b[Ne._id].isActive?"Poll Active":"Poll Closed"):n.createElement("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700"},"No Poll"))),n.createElement("div",{className:"flex items-center gap-2"},b[Ne._id]?n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>He(Ne,b[Ne._id]),className:"px-3 py-1.5 text-sm text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors"},"Stats"),a&&n.createElement(n.Fragment,null,n.createElement("button",{onClick:()=>pe(Ne,b[Ne._id]),className:"px-3 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"},"Edit"),n.createElement("button",{onClick:()=>$n(Ne,b[Ne._id]),disabled:w[b[Ne._id]?._id],className:"flex items-center gap-1 px-3 py-1.5 text-sm text-amber-600 bg-amber-50 hover:bg-amber-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Send push notification to enrolled users"},n.createElement(Jf,{className:`h-4 w-4 ${w[b[Ne._id]?._id]?"animate-pulse":""}`}),w[b[Ne._id]?._id]?"Sending...":"Notify")),r&&n.createElement("button",{onClick:()=>Ha(Ne,b[Ne._id]),className:"px-3 py-1.5 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors"},"Delete")):t&&n.createElement("button",{onClick:()=>ce(Ne),className:"px-3 py-1.5 text-sm text-white bg-gray-800 hover:bg-gray-900 rounded-lg transition-colors"},"Create Poll"))))),c.totalPages>1&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:c.currentPage,totalPages:c.totalPages,totalItems:c.totalCount,itemsPerPage:c.limit,onPageChange:Ht,itemLabel:"events"})),n.createElement(v3,{isOpen:U,onClose:()=>{L(!1),j(null)},onSubmit:yn,poll:null,event:H,isLoading:Se,serverError:ge}),n.createElement(v3,{isOpen:I,onClose:()=>{ae(!1),j(null),X(null)},onSubmit:Bn,poll:B,event:H,isLoading:Se,serverError:ge}),n.createElement(kce,{isOpen:ne,onClose:()=>{ue(!1),j(null),X(null)},poll:B,event:H}),n.createElement(Pce,{isOpen:F,onClose:()=>{G(!1),j(null),X(null),oe(null)},poll:B,stats:K,isLoading:Q,error:we,onFetchStats:ht}),n.createElement(Va,{isOpen:le,onClose:()=>{te(!1),j(null),X(null)},onConfirm:Vn,title:"Delete Poll",message:`Are you sure you want to delete the poll for "${H?.name}"? This will also delete all associated submissions. This action cannot be undone.`,confirmText:"Delete Poll",cancelText:"Cancel",variant:"danger",isLoading:Se}))}const Mr={BASE:"/web/stories",STATS:"/web/stories/stats",TTL_OPTIONS:"/web/stories/ttl-options",REORDER:"/web/stories/reorder"},On={create:async e=>(console.log("[StoryService] Creating story"),Ee(be.post(Mr.BASE,e))),getAll:async(e={})=>{console.log("[StoryService] Fetching stories:",e);const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.includeExpired!==void 0&&t.append("includeExpired",e.includeExpired);const a=`${Mr.BASE}?${t.toString()}`;return Ee(be.get(a))},getById:async e=>(console.log("[StoryService] Fetching story:",e),Ee(be.get(`${Mr.BASE}/${e}`))),update:async(e,t)=>(console.log("[StoryService] Updating story:",e),Ee(be.put(`${Mr.BASE}/${e}`,t))),toggleActive:async e=>(console.log("[StoryService] Toggling story status:",e),Ee(be.patch(`${Mr.BASE}/${e}/toggle`))),delete:async(e,t=!1)=>{console.log("[StoryService] Deleting story:",e);const a=t?`${Mr.BASE}/${e}?deleteMedia=true`:`${Mr.BASE}/${e}`;return Ee(be.delete(a))},permanentDelete:async(e,t=!0)=>{console.log("[StoryService] Permanently deleting story:",e);const a=t?`${Mr.BASE}/${e}/permanent`:`${Mr.BASE}/${e}/permanent?deleteMedia=false`;return Ee(be.delete(a))},reorder:async e=>(console.log("[StoryService] Reordering stories"),Ee(be.put(Mr.REORDER,{order:e}))),getStats:async()=>(console.log("[StoryService] Fetching story stats"),Ee(be.get(Mr.STATS))),getTtlOptions:async()=>(console.log("[StoryService] Fetching TTL options"),Ee(be.get(Mr.TTL_OPTIONS)))},UR=[{value:"1_hour",label:"1 hour"},{value:"6_hours",label:"6 hours"},{value:"12_hours",label:"12 hours"},{value:"1_day",label:"1 day"},{value:"3_days",label:"3 days"},{value:"7_days",label:"7 days"},{value:"30_days",label:"30 days"},{value:"forever",label:"Forever"}],Rce=[{value:"image",label:"Image"},{value:"video",label:"Video"}],Lce=[{value:"createdAt",label:"Created Date"},{value:"displayOrder",label:"Display Order"},{value:"viewCount",label:"View Count"},{value:"expiresAt",label:"Expiry Date"}],x3={search:"",mediaType:"",isActive:"",includeExpired:!1,sortBy:"displayOrder",sortOrder:"asc"};function jce(e={}){const[t,a]=y.useState([]),[r,s]=y.useState({page:1,totalPages:0,total:0,limit:20}),[o,c]=y.useState({...x3,...e}),[d,m]=y.useState(!1),[p,f]=y.useState(null),[h,b]=y.useState(null),[E,N]=y.useState(!1),[S,w]=y.useState(UR),C=y.useRef(null),k=y.useCallback(async(H=r.page)=>{console.log("[useStoriesManagement] Fetching stories"),m(!0),f(null);try{const j={page:H,limit:r.limit,includeExpired:o.includeExpired},B=await On.getAll(j);if(B.success){let X=B.data.stories||[];if(o.mediaType&&(X=X.filter(K=>K.mediaType===o.mediaType)),o.isActive!==""){const K=o.isActive==="true";X=X.filter(oe=>oe.isActive===K)}if(o.search){const K=o.search.toLowerCase();X=X.filter(oe=>oe.title?.toLowerCase().includes(K)||oe.mediaType?.toLowerCase().includes(K))}X.sort((K,oe)=>{const Q=K[o.sortBy],V=oe[o.sortBy],we=o.sortOrder==="asc"?1:-1;return typeof Q=="string"?Q.localeCompare(V)*we:Q instanceof Date||o.sortBy.includes("At")?(new Date(Q)-new Date(V))*we:((Q||0)-(V||0))*we}),a(X),s(K=>({...K,...B.data.pagination}))}else f(B.message),a([])}catch(j){console.error("[useStoriesManagement] Error fetching stories:",j),f("Failed to fetch stories"),a([])}finally{m(!1)}},[o,r.limit,r.page]),A=y.useCallback(async()=>{console.log("[useStoriesManagement] Fetching stats"),N(!0);try{const H=await On.getStats();H.success&&b(H.data)}catch(H){console.error("[useStoriesManagement] Error fetching stats:",H)}finally{N(!1)}},[]),M=y.useCallback(async()=>{try{const H=await On.getTtlOptions();H.success&&H.data.options&&w(H.data.options)}catch(H){console.error("[useStoriesManagement] Error fetching TTL options:",H)}},[]),O=y.useCallback(async H=>{try{const j=await On.getById(H);return j.success?{success:!0,data:j.data}:{success:!1,error:j.message}}catch{return{success:!1,error:"Failed to fetch story details"}}},[]),D=y.useCallback(async H=>{console.log("[useStoriesManagement] Creating story"),m(!0),f(null);try{const j=await On.create(H);return j.success?(await k(1),await A(),{success:!0,data:j.data}):{success:!1,error:j.message,validationErrors:j.data?.errors}}catch{return{success:!1,error:"Failed to create story"}}finally{m(!1)}},[k,A]),_=y.useCallback(async(H,j)=>{console.log("[useStoriesManagement] Updating story:",H),m(!0),f(null);try{const B=await On.update(H,j);return B.success?(a(X=>X.map(K=>K._id===H?{...K,...B.data}:K)),{success:!0,data:B.data}):{success:!1,error:B.message,validationErrors:B.data?.errors}}catch{return{success:!1,error:"Failed to update story"}}finally{m(!1)}},[]),P=y.useCallback(async H=>{console.log("[useStoriesManagement] Toggling story status:",H);try{const j=await On.toggleActive(H);return j.success?(a(B=>B.map(X=>X._id===H?{...X,isActive:j.data.isActive}:X)),{success:!0,data:j.data}):{success:!1,error:j.message}}catch{return{success:!1,error:"Failed to toggle story status"}}},[]),R=y.useCallback(async(H,j=!1)=>{console.log("[useStoriesManagement] Deleting story:",H),m(!0),f(null);try{const B=await On.delete(H,j);return B.success?(a(X=>X.filter(K=>K._id!==H)),s(X=>({...X,total:X.total-1,totalPages:Math.ceil((X.total-1)/X.limit)})),await A(),{success:!0}):{success:!1,error:B.message}}catch{return{success:!1,error:"Failed to delete story"}}finally{m(!1)}},[A]),U=y.useCallback(async(H,j=!0)=>{console.log("[useStoriesManagement] Permanently deleting story:",H),m(!0),f(null);try{const B=await On.permanentDelete(H,j);return B.success?(a(X=>X.filter(K=>K._id!==H)),s(X=>({...X,total:X.total-1,totalPages:Math.ceil((X.total-1)/X.limit)})),await A(),{success:!0}):{success:!1,error:B.message}}catch{return{success:!1,error:"Failed to permanently delete story"}}finally{m(!1)}},[A]),L=y.useCallback(async H=>{console.log("[useStoriesManagement] Reordering stories");try{const j=await On.reorder(H);return j.success?(a(B=>{const X=new Map(H.map(K=>[K.storyId,K.displayOrder]));return[...B].map(K=>({...K,displayOrder:X.get(K._id)??K.displayOrder})).sort((K,oe)=>K.displayOrder-oe.displayOrder)}),{success:!0}):{success:!1,error:j.message}}catch{return{success:!1,error:"Failed to reorder stories"}}},[]),I=y.useCallback(H=>{c(j=>({...j,...H}))},[]),ae=y.useCallback(H=>{C.current&&clearTimeout(C.current),C.current=setTimeout(()=>{c(j=>({...j,search:H}))},300)},[]),ne=y.useCallback(()=>{c({...x3,...e})},[e]),ue=y.useCallback(H=>{k(H)},[k]),F=y.useCallback(H=>{s(j=>({...j,limit:H}))},[]),G=y.useCallback(()=>{c(H=>({...H,includeExpired:!H.includeExpired}))},[]),le=y.useCallback(()=>{f(null)},[]),te=y.useCallback(()=>{k(1),A()},[k,A]);return y.useEffect(()=>{k(1)},[o]),y.useEffect(()=>{A(),M()},[A,M]),y.useEffect(()=>()=>{C.current&&clearTimeout(C.current)},[]),{stories:t,pagination:r,filters:o,isLoading:d,error:p,stats:h,isLoadingStats:E,ttlOptions:S,fetchStories:k,fetchStats:A,getStoryById:O,createStory:D,updateStory:_,toggleStoryActive:P,deleteStory:R,permanentDeleteStory:U,reorderStories:L,updateFilters:I,updateSearch:ae,resetFilters:ne,toggleIncludeExpired:G,changePage:ue,changeLimit:F,clearError:le,refresh:te}}const E3=(e=null)=>({mediaUrl:e?.mediaUrl||"",mediaType:e?.mediaType||"image",title:e?.title||"",cloudinaryPublicId:e?.cloudinaryPublicId||"",ttl:e?.ttl||"1_day",displayOrder:e?.displayOrder??0,isActive:e?.isActive??!0}),zce=(e,t=!1)=>{const a={};if(e.mediaUrl?.trim()?/^https?:\/\/.+/.test(e.mediaUrl)||(a.mediaUrl="Invalid media URL"):a.mediaUrl="Media is required",e.mediaType?["image","video"].includes(e.mediaType)||(a.mediaType="Invalid media type"):a.mediaType="Media type is required",e.title&&e.title.length>500&&(a.title="Title must be 500 characters or less"),e.ttl||(a.ttl="Time to live is required"),e.displayOrder!==void 0&&e.displayOrder!==""){const r=parseInt(e.displayOrder,10);(isNaN(r)||r<0)&&(a.displayOrder="Display order must be a non-negative number")}return{isValid:Object.keys(a).length===0,errors:a}},Uce=e=>e&&/\.(mp4|webm|ogg|mov|avi)(\?.*)?$/i.test(e)?"video":"image",Ice=e=>{if(!e||!e.includes("cloudinary.com"))return"";const t=e.match(/\/upload\/(?:v\d+\/)?(.+?)(?:\.[^.]+)?$/);return t?t[1]:""};function N3({isOpen:e,onClose:t,onSubmit:a,story:r=null,ttlOptions:s=UR,isLoading:o=!1,serverError:c=null}){const d=!!r,[m,p]=y.useState(E3(r)),[f,h]=y.useState({});y.useEffect(()=>{e&&(p(E3(r)),h({}),console.log("[StoryForm] Form initialized:",{isEditMode:d,story:r?._id}))},[e,r]);const b=(C,k)=>{p(A=>({...A,[C]:k})),f[C]&&h(A=>{const M={...A};return delete M[C],M})},E=C=>{const k=Uce(C),A=Ice(C);p(M=>({...M,mediaUrl:C,mediaType:k,cloudinaryPublicId:A})),f.mediaUrl&&h(M=>{const O={...M};return delete O.mediaUrl,O})},N=()=>{p(C=>({...C,isActive:!C.isActive}))},S=async C=>{C.preventDefault();const k=zce(m,d);if(!k.isValid){h(k.errors),console.log("[StoryForm] Validation failed:",k.errors);return}const A={mediaUrl:m.mediaUrl.trim(),mediaType:m.mediaType,ttl:m.ttl,displayOrder:parseInt(m.displayOrder,10)||0};m.title?.trim()&&(A.title=m.title.trim()),m.cloudinaryPublicId&&(A.cloudinaryPublicId=m.cloudinaryPublicId),d&&(A.isActive=m.isActive),console.log("[StoryForm] Submitting:",{isEditMode:d,storyId:r?._id}),await a(A)},w=()=>{o||t()};return n.createElement(Zt,{isOpen:e,onClose:w,title:d?"Edit Story":"Create Story",size:"xl",closeOnOverlayClick:!o},n.createElement("form",{onSubmit:S,className:"space-y-6"},c&&n.createElement("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm"},c),n.createElement("div",null,n.createElement(xi,{label:"Media",required:!0,value:m.mediaUrl,onUpload:E,folder:"stories",type:"any",maxSize:50*1024*1024,placeholder:"Upload image or video for story",error:f.mediaUrl,disabled:o,showUrlInput:!0})),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Media Type ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("div",{className:"flex gap-3"},n.createElement("button",{type:"button",onClick:()=>b("mediaType","image"),disabled:o,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg border-2 transition-all ${m.mediaType==="image"?"border-gray-800 bg-gray-800 text-white":"border-gray-300 text-gray-600 hover:border-gray-400"} disabled:opacity-50`},n.createElement(Ni,{className:"h-5 w-5"}),n.createElement("span",{className:"font-medium"},"Image")),n.createElement("button",{type:"button",onClick:()=>b("mediaType","video"),disabled:o,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-lg border-2 transition-all ${m.mediaType==="video"?"border-gray-800 bg-gray-800 text-white":"border-gray-300 text-gray-600 hover:border-gray-400"} disabled:opacity-50`},n.createElement(vl,{className:"h-5 w-5"}),n.createElement("span",{className:"font-medium"},"Video"))),f.mediaType&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.mediaType)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},"Title / Caption",n.createElement("span",{className:"text-gray-400 font-normal ml-1"},"(optional)")),n.createElement("textarea",{value:m.title,onChange:C=>b("title",C.target.value),disabled:o,maxLength:500,rows:3,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none resize-none disabled:bg-gray-100 ${f.title?"border-red-500":"border-gray-300"}`,placeholder:"Add a caption for this story..."}),n.createElement("div",{className:"flex justify-between mt-1"},f.title?n.createElement("p",{className:"text-sm text-red-500"},f.title):n.createElement("span",null),n.createElement("span",{className:"text-xs text-gray-400"},m.title.length,"/500"))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},n.createElement(oa,{className:"inline h-4 w-4 mr-1"}),"Time to Live ",n.createElement("span",{className:"text-red-500"},"*")),n.createElement("select",{value:m.ttl,onChange:C=>b("ttl",C.target.value),disabled:o,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.ttl?"border-red-500":"border-gray-300"}`},s.map(C=>n.createElement("option",{key:C.value,value:C.value},C.label))),f.ttl&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.ttl)),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-1"},n.createElement(yE,{className:"inline h-4 w-4 mr-1"}),"Display Order"),n.createElement("input",{type:"number",value:m.displayOrder,onChange:C=>b("displayOrder",C.target.value),disabled:o,min:0,className:`w-full px-3 py-2 border rounded-lg focus:border-gray-800 outline-none disabled:bg-gray-100 ${f.displayOrder?"border-red-500":"border-gray-300"}`,placeholder:"0"}),f.displayOrder&&n.createElement("p",{className:"mt-1 text-sm text-red-500"},f.displayOrder),n.createElement("p",{className:"mt-1 text-xs text-gray-400"},"Lower numbers appear first"))),d&&n.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",null,n.createElement("p",{className:"font-medium text-gray-900"},"Story Status"),n.createElement("p",{className:"text-sm text-gray-500"},m.isActive?"Story is visible to users":"Story is hidden from users")),n.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:m.isActive,onChange:N,disabled:o,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"}))),n.createElement("div",{className:"flex gap-3 pt-4 border-t border-gray-200"},n.createElement("button",{type:"button",onClick:w,disabled:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50"},"Cancel"),n.createElement("button",{type:"submit",disabled:o,className:"flex-1 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors disabled:opacity-50 flex items-center justify-center gap-2"},o&&n.createElement(Fe,{className:"h-4 w-4 animate-spin"}),d?"Update Story":"Create Story"))))}function Fce(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function $ce(e){if(!e)return"N/A";const r=new Date(e)-new Date;if(r<0)return"Expired";const s=Math.floor(r/(1e3*60*60)),o=Math.floor(s/24);return o>0?`${o}d ${s%24}h left`:s>0?`${s}h left`:`${Math.floor(r/(1e3*60))}m left`}function Bce(e){return{"1_hour":"1 hour","6_hours":"6 hours","12_hours":"12 hours","1_day":"1 day","3_days":"3 days","7_days":"7 days","30_days":"30 days",forever:"Forever"}[e]||e}function Vce(e,t){return t==="forever"||!e?!1:new Date(e)<new Date}function qce({story:e,canEdit:t=!0,canDelete:a=!0,isToggling:r=!1,onView:s,onEdit:o,onDelete:c,onToggleActive:d,draggable:m=!1,dragHandleProps:p={}}){const f=Vce(e.expiresAt,e.ttl),h=e.mediaType==="video";return n.createElement("div",{className:`bg-white rounded-xl border shadow-sm hover:shadow-md transition-all overflow-hidden flex flex-col ${f?"border-orange-200 bg-orange-50/30":"border-gray-200"}`},n.createElement("div",{className:"relative h-48 sm:h-56 bg-gradient-to-br from-gray-100 to-gray-200"},h?n.createElement("div",{className:"w-full h-full relative"},n.createElement("video",{src:e.mediaUrl,className:"w-full h-full object-cover",muted:!0,playsInline:!0,preload:"metadata",onError:b=>{b.target.style.display="none",b.target.nextElementSibling?.classList.remove("hidden")}}),n.createElement("div",{className:"hidden w-full h-full flex items-center justify-center bg-gray-100"},n.createElement(vl,{className:"h-12 w-12 text-gray-300"})),n.createElement("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20"},n.createElement("div",{className:"w-14 h-14 rounded-full bg-white/90 flex items-center justify-center shadow-lg"},n.createElement(bD,{className:"h-6 w-6 text-gray-800 ml-1"})))):n.createElement(n.Fragment,null,n.createElement("img",{src:e.mediaUrl,alt:e.title||"Story",className:"w-full h-full object-cover",onError:b=>{b.target.style.display="none",b.target.nextElementSibling?.classList.remove("hidden")}}),n.createElement("div",{className:"hidden w-full h-full flex items-center justify-center bg-gray-100"},n.createElement(Ni,{className:"h-12 w-12 text-gray-300"}))),m&&n.createElement("div",{...p,className:"absolute top-2 left-2 p-1.5 bg-white/90 rounded-lg shadow-sm cursor-grab active:cursor-grabbing"},n.createElement(u0,{className:"h-4 w-4 text-gray-500"})),n.createElement("div",{className:"absolute top-2 right-2 flex flex-col gap-1"},n.createElement("span",{className:`px-2.5 py-1 text-xs font-semibold rounded-full shadow-sm ${e.isActive?"bg-green-500 text-white":"bg-gray-500 text-white"}`},e.isActive?"Active":"Inactive"),f&&n.createElement("span",{className:"px-2.5 py-1 text-xs font-semibold rounded-full shadow-sm bg-orange-500 text-white flex items-center gap-1"},n.createElement(m0,{className:"h-3 w-3"}),"Expired")),n.createElement("div",{className:"absolute bottom-2 left-2"},n.createElement("span",{className:"px-2.5 py-1 text-xs font-medium bg-black/60 text-white rounded-full flex items-center gap-1"},h?n.createElement(vl,{className:"h-3 w-3"}):n.createElement(Ni,{className:"h-3 w-3"}),e.mediaType)),n.createElement("div",{className:"absolute bottom-2 right-2"},n.createElement("span",{className:"px-2.5 py-1 text-xs font-medium bg-black/60 text-white rounded-full flex items-center gap-1"},n.createElement(Vt,{className:"h-3 w-3"}),e.viewCount||0))),n.createElement("div",{className:"p-4 flex-1 flex flex-col"},e.title&&n.createElement("h3",{className:"font-semibold text-gray-900 line-clamp-2 text-sm mb-2",title:e.title},e.title),n.createElement("div",{className:"space-y-1.5 mb-3 text-xs text-gray-500"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(oa,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"}),n.createElement("span",null,"TTL: ",Bce(e.ttl))),e.ttl!=="forever"&&e.expiresAt&&n.createElement("div",{className:"flex items-center gap-2"},n.createElement(oa,{className:"h-3.5 w-3.5 text-gray-400 shrink-0"}),n.createElement("span",{className:f?"text-orange-600 font-medium":""},f?"Expired":$ce(e.expiresAt))),n.createElement("div",{className:"flex items-center gap-2 text-gray-400"},n.createElement("span",null,"Created: ",Fce(e.createdAt))),n.createElement("div",{className:"flex items-center gap-2 text-gray-400"},n.createElement("span",null,"Order: #",e.displayOrder))),n.createElement("div",{className:"mt-auto pt-3 border-t border-gray-100 space-y-2"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement("button",{onClick:()=>s(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",title:"View Story"},n.createElement(Vt,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline"},"View")),t&&n.createElement("button",{onClick:()=>o(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200",title:"Edit Story"},n.createElement(vD,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline"},"Edit")),a&&n.createElement("button",{onClick:()=>c(e),className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 text-sm font-medium text-red-600 hover:bg-red-50 rounded-lg transition-colors border border-red-200",title:"Delete Story"},n.createElement(pt,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline"},"Delete"))),t&&n.createElement("button",{onClick:()=>d(e),disabled:r,className:`w-full flex items-center justify-center gap-2 px-3 py-2 text-sm font-medium rounded-lg transition-colors border disabled:opacity-50 ${e.isActive?"text-orange-600 bg-orange-50 hover:bg-orange-100 border-orange-200":"text-green-600 bg-green-50 hover:bg-green-100 border-green-200"}`,title:e.isActive?"Deactivate Story":"Activate Story"},e.isActive?n.createElement(n.Fragment,null,n.createElement(El,{className:"h-4 w-4"}),r?"Processing...":"Deactivate"):n.createElement(n.Fragment,null,n.createElement(Un,{className:"h-4 w-4"}),r?"Processing...":"Activate")))))}function w3(e){return e?new Date(e).toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}function Hce(e){if(!e)return"N/A";const r=new Date(e)-new Date;if(r<0)return"Expired";const s=Math.floor(r/(1e3*60*60)),o=Math.floor(s/24);if(o>0)return`${o} day${o>1?"s":""} ${s%24} hour${s%24!==1?"s":""} remaining`;if(s>0)return`${s} hour${s!==1?"s":""} remaining`;const c=Math.floor(r/(1e3*60));return`${c} minute${c!==1?"s":""} remaining`}function Gce(e){return{"1_hour":"1 hour","6_hours":"6 hours","12_hours":"12 hours","1_day":"1 day","3_days":"3 days","7_days":"7 days","30_days":"30 days",forever:"Forever"}[e]||e}function Kce(e,t){return t==="forever"||!e?!1:new Date(e)<new Date}function _f({label:e,value:t,icon:a,variant:r="default"}){const s={default:"bg-gray-50 border-gray-200 text-gray-600",success:"bg-green-50 border-green-200 text-green-600",warning:"bg-orange-50 border-orange-200 text-orange-600",danger:"bg-red-50 border-red-200 text-red-600",info:"bg-blue-50 border-blue-200 text-blue-600"};return n.createElement("div",{className:`p-3 rounded-lg border ${s[r]}`},n.createElement("div",{className:"flex items-center gap-2 mb-1"},n.createElement(a,{className:"h-4 w-4"}),n.createElement("span",{className:"text-xs font-medium uppercase tracking-wide"},e)),n.createElement("p",{className:"text-lg font-semibold text-gray-900"},t))}function Yce({isOpen:e,onClose:t,story:a}){if(!a)return null;const r=Kce(a.expiresAt,a.ttl),s=a.mediaType==="video";return n.createElement(Zt,{isOpen:e,onClose:t,title:"Story Details",size:"2xl"},n.createElement("div",{className:"space-y-6"},r&&n.createElement("div",{className:"p-3 bg-orange-50 border border-orange-200 text-orange-700 rounded-lg flex items-center gap-2"},n.createElement(m0,{className:"h-5 w-5 shrink-0"}),n.createElement("span",{className:"font-medium"},"This story has expired")),n.createElement("div",{className:"relative rounded-xl overflow-hidden bg-gray-100"},s?n.createElement("div",{className:"relative aspect-[9/16] sm:aspect-video max-h-96 mx-auto bg-black"},n.createElement("video",{src:a.mediaUrl,controls:!0,className:"w-full h-full object-contain",preload:"metadata"},"Your browser does not support the video tag.")):n.createElement("div",{className:"relative max-h-96 flex items-center justify-center bg-gray-900"},n.createElement("img",{src:a.mediaUrl,alt:a.title||"Story",className:"max-h-96 w-auto object-contain",onError:o=>{o.target.src="",o.target.alt="Failed to load image"}})),n.createElement("a",{href:a.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:"absolute top-2 right-2 p-2 bg-white/90 rounded-lg shadow-sm hover:bg-white transition-colors",title:"Open in new tab"},n.createElement(hE,{className:"h-4 w-4 text-gray-600"}))),a.title&&n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("p",{className:"text-sm font-medium text-gray-500 mb-1"},"Caption"),n.createElement("p",{className:"text-gray-900 whitespace-pre-wrap"},a.title)),n.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},n.createElement(_f,{label:"Status",value:a.isActive?"Active":"Inactive",icon:a.isActive?Ml:Ti,variant:a.isActive?"success":"default"}),n.createElement(_f,{label:"Views",value:a.viewCount||0,icon:Vt,variant:"info"}),n.createElement(_f,{label:"Type",value:a.mediaType,icon:s?vl:Ni,variant:"default"}),n.createElement(_f,{label:"Order",value:`#${a.displayOrder}`,icon:yE,variant:"default"})),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4"},n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},n.createElement(oa,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Time to Live")),n.createElement("p",{className:"text-gray-900 font-semibold"},Gce(a.ttl))),n.createElement("div",{className:`p-4 rounded-lg border ${r?"bg-orange-50 border-orange-200":"bg-gray-50 border-gray-200"}`},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},n.createElement(oa,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},r?"Expired":"Expires")),n.createElement("p",{className:`font-semibold ${r?"text-orange-700":"text-gray-900"}`},a.ttl==="forever"?"Never":r?w3(a.expiresAt):Hce(a.expiresAt))),n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},n.createElement(Rt,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Created")),n.createElement("p",{className:"text-gray-900 font-semibold"},w3(a.createdAt))),a.createdBy&&n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("div",{className:"flex items-center gap-2 text-gray-500 mb-2"},n.createElement(Ns,{className:"h-4 w-4"}),n.createElement("span",{className:"text-sm font-medium"},"Created By")),n.createElement("p",{className:"text-gray-900 font-semibold"},typeof a.createdBy=="object"?a.createdBy.name||a.createdBy.username:a.createdBy))),n.createElement("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200"},n.createElement("p",{className:"text-sm font-medium text-gray-500 mb-3"},"Technical Details"),n.createElement("div",{className:"space-y-2 text-sm"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1"},n.createElement("span",{className:"text-gray-500 shrink-0 sm:w-32"},"Story ID:"),n.createElement("code",{className:"text-gray-700 bg-gray-200 px-2 py-0.5 rounded text-xs break-all"},a._id)),a.cloudinaryPublicId&&n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1"},n.createElement("span",{className:"text-gray-500 shrink-0 sm:w-32"},"Public ID:"),n.createElement("code",{className:"text-gray-700 bg-gray-200 px-2 py-0.5 rounded text-xs break-all"},a.cloudinaryPublicId)),n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-1"},n.createElement("span",{className:"text-gray-500 shrink-0 sm:w-32"},"Media URL:"),n.createElement("a",{href:a.mediaUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-xs break-all"},a.mediaUrl)))),n.createElement("div",{className:"pt-4 border-t border-gray-200"},n.createElement("button",{onClick:t,className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Close"))))}function Qce({filters:e,onFilterChange:t,onSearchChange:a,onReset:r,includeExpired:s=!1,onToggleExpired:o,disabled:c=!1}){const[d,m]=y.useState(!1),p=e.search||e.mediaType||e.isActive!==""||s||e.sortBy!=="displayOrder"||e.sortOrder!=="asc",f=S=>{a(S.target.value)},h=S=>{t({mediaType:S===e.mediaType?"":S})},b=S=>{t({isActive:S===e.isActive?"":S})},E=(S,w)=>{t({[S]:w})},N=()=>{r(),m(!1)};return n.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4"},n.createElement("div",{className:"flex flex-col sm:flex-row gap-3"},n.createElement("div",{className:"flex-1 relative"},n.createElement(za,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),n.createElement("input",{type:"text",value:e.search,onChange:f,disabled:c,placeholder:"Search stories by title...",className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:opacity-50 disabled:bg-gray-100"}),e.search&&n.createElement("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600"},n.createElement(Na,{className:"h-4 w-4"}))),n.createElement("button",{onClick:()=>m(!d),disabled:c,className:`flex items-center justify-center gap-2 px-4 py-2.5 border rounded-lg transition-colors whitespace-nowrap ${d||p?"bg-gray-800 text-white border-gray-800":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"} disabled:opacity-50`},n.createElement(jn,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline"},"Filters"),p&&n.createElement("span",{className:"w-2 h-2 rounded-full bg-white"}))),d&&n.createElement("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-4"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Media Type"),n.createElement("div",{className:"flex flex-wrap gap-2"},Rce.map(S=>n.createElement("button",{key:S.value,onClick:()=>h(S.value),disabled:c,className:`flex items-center gap-1.5 px-3 py-1.5 text-sm rounded-lg transition-colors ${e.mediaType===S.value?"bg-gray-800 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} disabled:opacity-50`},S.value==="image"?n.createElement(Ni,{className:"h-3.5 w-3.5"}):n.createElement(vl,{className:"h-3.5 w-3.5"}),S.label)))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Status"),n.createElement("div",{className:"flex flex-wrap gap-2"},n.createElement("button",{onClick:()=>b("true"),disabled:c,className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${e.isActive==="true"?"bg-green-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} disabled:opacity-50`},"Active"),n.createElement("button",{onClick:()=>b("false"),disabled:c,className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${e.isActive==="false"?"bg-gray-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"} disabled:opacity-50`},"Inactive"))),n.createElement("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},n.createElement("div",{className:"flex items-center gap-2"},n.createElement(oa,{className:"h-4 w-4 text-gray-500"}),n.createElement("span",{className:"text-sm font-medium text-gray-700"},"Include Expired Stories")),n.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},n.createElement("input",{type:"checkbox",checked:s,onChange:o,disabled:c,className:"sr-only peer"}),n.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gray-800 peer-disabled:opacity-50"}))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3"},n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},n.createElement(DI,{className:"inline h-4 w-4 mr-1"}),"Sort By"),n.createElement("select",{value:e.sortBy,onChange:S=>E("sortBy",S.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:opacity-50"},Lce.map(S=>n.createElement("option",{key:S.value,value:S.value},S.label)))),n.createElement("div",null,n.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Order"),n.createElement("select",{value:e.sortOrder,onChange:S=>E("sortOrder",S.target.value),disabled:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-gray-800 outline-none disabled:opacity-50"},n.createElement("option",{value:"asc"},"Ascending"),n.createElement("option",{value:"desc"},"Descending")))),p&&n.createElement("button",{onClick:N,disabled:c,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 transition-colors disabled:opacity-50"},n.createElement(Na,{className:"h-4 w-4"}),"Reset all filters")))}function Nb({label:e,value:t,icon:a,color:r="gray",description:s}){const o={gray:"bg-gray-50 border-gray-200 text-gray-600",blue:"bg-blue-50 border-blue-200 text-blue-600",green:"bg-green-50 border-green-200 text-green-600",orange:"bg-orange-50 border-orange-200 text-orange-600",red:"bg-red-50 border-red-200 text-red-600",purple:"bg-purple-50 border-purple-200 text-purple-600"};return n.createElement("div",{className:`p-4 rounded-xl border ${o[r]}`},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:`p-2 rounded-lg ${o[r]}`},n.createElement(a,{className:"h-5 w-5"})),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500"},e),n.createElement("p",{className:"text-2xl font-bold text-gray-900"},t),s&&n.createElement("p",{className:"text-xs text-gray-500 mt-0.5"},s))))}function Xce({isOpen:e,onClose:t,stats:a,isLoading:r=!1}){return n.createElement(Zt,{isOpen:e,onClose:t,title:"Story Statistics",size:"xl"},r?n.createElement("div",{className:"flex flex-col items-center justify-center py-12"},n.createElement(Fe,{className:"h-8 w-8 text-gray-400 animate-spin mb-3"}),n.createElement("p",{className:"text-gray-500"},"Loading statistics...")):a?n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"p-4 bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl text-white"},n.createElement("div",{className:"flex items-center gap-3 mb-4"},n.createElement(Dn,{className:"h-6 w-6"}),n.createElement("h3",{className:"text-lg font-semibold"},"Overview")),n.createElement("div",{className:"grid grid-cols-2 gap-4"},n.createElement("div",null,n.createElement("p",{className:"text-gray-400 text-sm"},"Total Stories"),n.createElement("p",{className:"text-3xl font-bold"},a.totalStories||0)),n.createElement("div",null,n.createElement("p",{className:"text-gray-400 text-sm"},"Total Views"),n.createElement("p",{className:"text-3xl font-bold"},a.totalViews||0)))),n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},n.createElement(Nb,{label:"Active Stories",value:a.activeStories||0,icon:Ml,color:"green",description:"Currently visible to users"}),n.createElement(Nb,{label:"Inactive Stories",value:a.inactiveStories||0,icon:Ti,color:"gray",description:"Hidden from users"}),n.createElement(Nb,{label:"Expired Stories",value:a.expiredStories||0,icon:oa,color:"orange",description:"Past their TTL"})),n.createElement("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-xl"},n.createElement("div",{className:"flex items-center gap-3"},n.createElement("div",{className:"p-2 bg-purple-100 rounded-lg"},n.createElement(xD,{className:"h-5 w-5 text-purple-600"})),n.createElement("div",null,n.createElement("p",{className:"text-xs font-medium uppercase tracking-wide text-gray-500"},"Average Views per Story"),n.createElement("p",{className:"text-2xl font-bold text-gray-900"},a.averageViews?a.averageViews.toFixed(1):"0")))),n.createElement("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200"},n.createElement("h4",{className:"font-semibold text-gray-900 mb-3"},"Summary"),n.createElement("ul",{className:"space-y-2 text-sm text-gray-600"},n.createElement("li",{className:"flex items-center gap-2"},n.createElement("span",{className:"w-2 h-2 rounded-full bg-green-500"}),a.activeStories||0," stories are currently active and visible"),n.createElement("li",{className:"flex items-center gap-2"},n.createElement("span",{className:"w-2 h-2 rounded-full bg-orange-500"}),a.expiredStories||0," stories have expired based on their TTL"),n.createElement("li",{className:"flex items-center gap-2"},n.createElement("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),a.inactiveStories||0," stories are manually deactivated"),n.createElement("li",{className:"flex items-center gap-2"},n.createElement("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Stories have been viewed ",a.totalViews||0," times in total")))):n.createElement("div",{className:"flex flex-col items-center justify-center py-12"},n.createElement(Dn,{className:"h-12 w-12 text-gray-300 mb-3"}),n.createElement("p",{className:"text-gray-500"},"No statistics available")),n.createElement("div",{className:"pt-4 mt-6 border-t border-gray-200"},n.createElement("button",{onClick:t,className:"w-full px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},"Close")))}function Wce(){const{hasRole:e}=Fn(),t=e(["SUPER_ADMIN","ADMIN"]),a=e(["SUPER_ADMIN","ADMIN"]),r=e(["SUPER_ADMIN","ADMIN"]),{stories:s,pagination:o,filters:c,isLoading:d,error:m,stats:p,isLoadingStats:f,ttlOptions:h,createStory:b,updateStory:E,toggleStoryActive:N,deleteStory:S,updateFilters:w,updateSearch:C,resetFilters:k,toggleIncludeExpired:A,changePage:M,clearError:O,refresh:D}=jce(),[_,P]=y.useState("grid"),[R,U]=y.useState(!1),[L,I]=y.useState(!1),[ae,ne]=y.useState(!1),[ue,F]=y.useState(!1),[G,le]=y.useState(!1),[te,H]=y.useState(null),[j,B]=y.useState(!1),[X,K]=y.useState(!1),[oe,Q]=y.useState(null),[V,we]=y.useState({}),[W,Se]=y.useState(null),Te=y.useCallback(()=>{H(null),Q(null),U(!0),console.log("[Stories] Opening create modal")},[]),ge=y.useCallback(Ae=>{H(Ae),Q(null),I(!0),console.log("[Stories] Opening edit modal for story:",Ae._id)},[]),$e=y.useCallback(Ae=>{H(Ae),ne(!0),console.log("[Stories] Opening details modal for story:",Ae._id)},[]),Pe=y.useCallback(()=>{F(!0),console.log("[Stories] Opening stats modal")},[]),ve=y.useCallback(Ae=>{H(Ae),B(!1),le(!0),console.log("[Stories] Opening delete dialog for story:",Ae._id)},[]),Ue=y.useCallback(async Ae=>{we(ce=>({...ce,[Ae._id]:!0}));try{const ce=await N(Ae._id);ce.success&&(Se(`Story ${ce.data.isActive?"activated":"deactivated"} successfully`),setTimeout(()=>Se(null),3e3))}finally{we(ce=>({...ce,[Ae._id]:!1}))}},[N]),xe=y.useCallback(async Ae=>{K(!0),Q(null);try{console.log("[Stories] Creating story");const ce=await b(Ae);ce.success?(U(!1),Se("Story created successfully"),setTimeout(()=>Se(null),3e3),console.log("[Stories] Story created successfully")):(Q(ce.error||"Failed to create story"),console.error("[Stories] Failed to create story:",ce.error))}catch(ce){Q("An unexpected error occurred"),console.error("[Stories] Error creating story:",ce)}finally{K(!1)}},[b]),Le=y.useCallback(async Ae=>{if(te){K(!0),Q(null);try{console.log("[Stories] Updating story:",te._id);const ce=await E(te._id,Ae);ce.success?(I(!1),H(null),Se("Story updated successfully"),setTimeout(()=>Se(null),3e3),console.log("[Stories] Story updated successfully")):(Q(ce.error||"Failed to update story"),console.error("[Stories] Failed to update story:",ce.error))}catch(ce){Q("An unexpected error occurred"),console.error("[Stories] Error updating story:",ce)}finally{K(!1)}}},[te,E]),Et=y.useCallback(async()=>{if(te){K(!0);try{console.log("[Stories] Deleting story:",te._id);const Ae=await S(te._id,j);Ae.success?(le(!1),H(null),Se("Story deleted successfully"),setTimeout(()=>Se(null),3e3),console.log("[Stories] Story deleted successfully")):console.error("[Stories] Failed to delete story:",Ae.error)}catch(Ae){console.error("[Stories] Error deleting story:",Ae)}finally{K(!1)}}},[te,j,S]),Ht=y.useCallback(Ae=>{M(Ae),window.scrollTo({top:0,behavior:"smooth"})},[M]),Tt=y.useCallback(()=>{D(),console.log("[Stories] Refreshing stories")},[D]);return n.createElement("div",{className:"space-y-6"},n.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},n.createElement("div",null,n.createElement("h1",{className:"text-2xl font-bold text-gray-900"},"Stories"),n.createElement("p",{className:"text-sm text-gray-500 mt-1"},"Upload and manage stories visible to all users")),n.createElement("div",{className:"flex items-center gap-3 flex-wrap"},n.createElement("button",{onClick:Pe,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",title:"View statistics"},n.createElement(Dn,{className:"h-4 w-4"}),n.createElement("span",{className:"hidden sm:inline"},"Stats")),n.createElement("button",{onClick:Tt,disabled:d,className:"flex items-center gap-2 px-4 py-2 text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",title:"Refresh stories"},n.createElement(zn,{className:`h-4 w-4 ${d?"animate-spin":""}`}),n.createElement("span",{className:"hidden sm:inline"},"Refresh")),n.createElement("div",{className:"flex items-center bg-white border border-gray-300 rounded-lg overflow-hidden"},n.createElement("button",{onClick:()=>P("grid"),className:`p-2 transition-colors ${_==="grid"?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50"}`,title:"Grid view"},n.createElement(yD,{className:"h-4 w-4"})),n.createElement("button",{onClick:()=>P("list"),className:`p-2 transition-colors ${_==="list"?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50"}`,title:"List view"},n.createElement(vE,{className:"h-4 w-4"}))),t&&n.createElement("button",{onClick:Te,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},n.createElement(Qt,{className:"h-4 w-4"}),n.createElement("span",null,"New Story")))),m&&n.createElement("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 text-red-700 rounded-lg"},n.createElement(Mt,{className:"h-5 w-5 shrink-0"}),n.createElement("p",{className:"flex-1"},m),n.createElement("button",{onClick:O,className:"text-red-500 hover:text-red-700 font-medium"},"Dismiss")),W&&n.createElement("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 text-green-700 rounded-lg"},n.createElement(Ml,{className:"h-5 w-5 shrink-0"}),n.createElement("p",{className:"flex-1"},W),n.createElement("button",{onClick:()=>Se(null),className:"text-green-500 hover:text-green-700 font-medium"},"Dismiss")),n.createElement(Qce,{filters:c,onFilterChange:w,onSearchChange:C,onReset:k,includeExpired:c.includeExpired,onToggleExpired:A,disabled:d}),d&&s.length===0?n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},[...Array(8)].map((Ae,ce)=>n.createElement("div",{key:ce,className:"bg-white rounded-xl border border-gray-200 overflow-hidden animate-pulse"},n.createElement("div",{className:"h-48 bg-gray-200"}),n.createElement("div",{className:"p-4 space-y-3"},n.createElement("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),n.createElement("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),n.createElement("div",{className:"h-3 bg-gray-200 rounded w-2/3"}),n.createElement("div",{className:"h-8 bg-gray-200 rounded"}))))):s.length===0?n.createElement("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center"},n.createElement("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center"},n.createElement(Ni,{className:"h-8 w-8 text-gray-400"})),n.createElement("h3",{className:"text-lg font-medium text-gray-900 mb-2"},"No stories found"),n.createElement("p",{className:"text-gray-500 max-w-md mx-auto mb-6"},c.search||c.mediaType||c.isActive!==""||c.includeExpired?"Try adjusting your search or filter criteria.":"Create your first story to get started."),t&&!c.search&&n.createElement("button",{onClick:Te,className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-900 transition-colors"},n.createElement(Qt,{className:"h-4 w-4"}),"Create Story")):_==="grid"?n.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"},s.map(Ae=>n.createElement(qce,{key:Ae._id,story:Ae,canEdit:a,canDelete:r,isToggling:V[Ae._id],onView:$e,onEdit:ge,onDelete:ve,onToggleActive:Ue}))):n.createElement("div",{className:"space-y-3"},s.map(Ae=>n.createElement("div",{key:Ae._id,className:"bg-white rounded-xl border border-gray-200 p-4 flex flex-col sm:flex-row items-start sm:items-center gap-4"},n.createElement("div",{className:"shrink-0 w-full sm:w-24 h-32 sm:h-24 rounded-lg overflow-hidden bg-gray-100 relative"},Ae.mediaType==="video"?n.createElement("video",{src:Ae.mediaUrl,className:"w-full h-full object-cover",muted:!0,preload:"metadata"}):n.createElement("img",{src:Ae.mediaUrl,alt:Ae.title||"Story",className:"w-full h-full object-cover"}),n.createElement("span",{className:`absolute top-2 right-2 px-2 py-0.5 text-xs font-medium rounded-full ${Ae.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`},Ae.isActive?"Active":"Inactive")),n.createElement("div",{className:"flex-1 min-w-0"},n.createElement("h3",{className:"font-semibold text-gray-900 truncate"},Ae.title||"Untitled Story"),n.createElement("div",{className:"flex flex-wrap items-center gap-2 mt-1 text-sm text-gray-500"},n.createElement("span",{className:"capitalize"},Ae.mediaType),n.createElement("span",null,"TTL: ",Ae.ttl?.replace("_"," ")),n.createElement("span",null,Ae.viewCount||0," views"))),n.createElement("div",{className:"flex items-center gap-2 w-full sm:w-auto"},n.createElement("button",{onClick:()=>$e(Ae),className:"flex-1 sm:flex-none px-3 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"},"View"),a&&n.createElement("button",{onClick:()=>ge(Ae),className:"flex-1 sm:flex-none px-3 py-1.5 text-sm text-gray-600 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors"},"Edit"),r&&n.createElement("button",{onClick:()=>ve(Ae),className:"flex-1 sm:flex-none px-3 py-1.5 text-sm text-red-600 bg-red-50 hover:bg-red-100 rounded-lg transition-colors"},"Delete"))))),o.totalPages>1&&n.createElement("div",{className:"bg-white rounded-xl shadow-sm"},n.createElement(ga,{currentPage:o.page,totalPages:o.totalPages,totalItems:o.total,itemsPerPage:o.limit,onPageChange:Ht,itemLabel:"stories"})),n.createElement(N3,{isOpen:R,onClose:()=>{U(!1),Q(null)},onSubmit:xe,story:null,ttlOptions:h,isLoading:X,serverError:oe}),n.createElement(N3,{isOpen:L,onClose:()=>{I(!1),H(null),Q(null)},onSubmit:Le,story:te,ttlOptions:h,isLoading:X,serverError:oe}),n.createElement(Yce,{isOpen:ae,onClose:()=>{ne(!1),H(null)},story:te}),n.createElement(Xce,{isOpen:ue,onClose:()=>F(!1),stats:p,isLoading:f}),n.createElement(Va,{isOpen:G,onClose:()=>{le(!1),H(null),B(!1)},onConfirm:Et,title:"Delete Story",message:n.createElement("div",{className:"space-y-3"},n.createElement("p",null,"Are you sure you want to delete this story? This action cannot be undone."),n.createElement("label",{className:"flex items-center gap-2 text-sm"},n.createElement("input",{type:"checkbox",checked:j,onChange:Ae=>B(Ae.target.checked),className:"rounded border-gray-300"}),n.createElement("span",null,"Also delete media from cloud storage"))),confirmText:"Delete Story",cancelText:"Cancel",variant:"danger",isLoading:X}))}function Zce(){return n.createElement(b9,null,n.createElement(nU,null,n.createElement(Xj,null,n.createElement(ma,{path:"/login",element:n.createElement(sU,null,n.createElement(sF,null))}),n.createElement(ma,{element:n.createElement(lU,null,n.createElement(lF,null))},n.createElement(ma,{path:"/dashboard",element:n.createElement(qie,null)}),n.createElement(ma,{path:"/events",element:n.createElement(ioe,null)}),n.createElement(ma,{path:"/enrollments",element:n.createElement(ooe,null)}),n.createElement(ma,{path:"/coupons",element:n.createElement(coe,null)}),n.createElement(ma,{path:"/users",element:n.createElement(poe,null)}),n.createElement(ma,{path:"/admins",element:n.createElement(koe,null)}),n.createElement(ma,{path:"/payments",element:n.createElement(Doe,null)}),n.createElement(ma,{path:"/cash-tickets",element:n.createElement(Foe,null)}),n.createElement(ma,{path:"/vouchers",element:n.createElement(Goe,null)}),n.createElement(ma,{path:"/sessions",element:n.createElement(rce,null)}),n.createElement(ma,{path:"/quizes",element:n.createElement(pce,null)}),n.createElement(ma,{path:"/challenges",element:n.createElement(wce,null)}),n.createElement(ma,{path:"/polls",element:n.createElement(Mce,null)}),n.createElement(ma,{path:"/stories",element:n.createElement(Wce,null)})),n.createElement(ma,{path:"/",element:n.createElement(Xf,{to:"/dashboard",replace:!0})}),n.createElement(ma,{path:"*",element:n.createElement(Xf,{to:"/dashboard",replace:!0})}))))}aj.createRoot(document.getElementById("root")).render(n.createElement(y.StrictMode,null,n.createElement(Zce,null)));
